!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ractive=e()}(this,function(){"use strict";function t(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function e(t){return t&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];for(var r,s;s=n.shift();)for(r in s)s.hasOwnProperty(r)&&(t[r]=s[r]);return t}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function r(t){return"[object Array]"===Ta.call(t)}function s(t){return Sa.test(Ta.call(t))}function o(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function a(t){return!isNaN(parseFloat(t))&&isFinite(t)}function u(t){return t&&"[object Object]"===Ta.call(t)}function h(t){return"function"==typeof t}function c(t,e){return t.replace(/%s/g,function(){return e.shift()})}function l(t){if(!na)throw t;console.error(t)}function d(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];throw t=c(t,n),new Error(t)}function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=c(t,n),Ca(t,n)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=c(t,n),Ra[t]||(Ra[t]=!0,Ca(t,n))}function m(t,e,n){var i=v(t,e,n);return i?i[t][n]:null}function v(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function g(t){return function(){return t}}function y(t,e,n){var i;if("string"!=typeof e||!a(n))throw new Error("Bad arguments");if(i=+t.get(e)||0,!a(i))throw new Error("Cannot add to a non-numeric value");return t.set(e,i+n)}function w(t,e){return y(this,t,void 0===e?1:+e)}function b(t){this.event=t,this.method="on"+t,this.deprecate=Ua[t]}function k(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function _(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]==e)return!0;return!1}function x(t,e){var n;if(!r(t)||!r(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function E(t){return"string"==typeof t?[t]:void 0===t?[]:t}function A(t){return t[t.length-1]}function C(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function O(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function T(t){setTimeout(t,0)}function S(t,e){return function(){for(var n;n=t.shift();)n(e)}}function F(t,e,n,i){var r;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof qa)e.then(n,i);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{r=e.then}catch(s){return void i(s)}if("function"==typeof r){var o,a,u;a=function(e){o||(o=!0,F(t,e,n,i))},u=function(t){o||(o=!0,i(t))};try{r.call(e,a,u)}catch(s){if(!o)return i(s),void(o=!0)}}else n(e)}}function R(t){var e,n,i,r,s,o;for(e=t.split("."),(n=Ga[e.length])||(n=P(e.length)),s=[],i=function(t,n){return t?"*":e[n]},r=n.length;r--;)o=n[r].map(i).join("."),s.hasOwnProperty(o)||(s.push(o),s[o]=!0);return s}function P(t){var e,n,i,r,s,o="";if(!Ga[t]){for(i=[];o.length<t;)o+=1;for(e=parseInt(o,2),r=function(t){return"1"===t},s=0;e>=s;s+=1){for(n=s.toString(2);n.length<t;)n="0"+n;i[s]=Array.prototype.map.call(n,r)}Ga[t]=i}return Ga[t]}function j(t,e,n,i){var r=t[e];if(!r||!r.equalsOrStartsWith(i)&&r.equalsOrStartsWith(n))return t[e]=r?r.replace(n,i):i,!0}function N(t){var e=t.slice(2);return"i"===t[1]&&a(e)?+e:e}function V(t){return null==t?t:(za.hasOwnProperty(t)||(za[t]=new Ha(t)),za[t])}function L(t,e){var n,i,s,o=function(e,n){var i,s,o;i=t.viewmodel.wrapped[n.str],s=i?i.get():t.viewmodel.get(n);for(o in s)!s.hasOwnProperty(o)||"_ractive"===o&&r(s)||e.push(n.join(o));return e};for(n=e.split("."),s=[Ya];i=n.shift();)"*"===i?s=s.reduce(o,[]):s[0]===Ya?s[0]=V(i):s=s.map(D(i));return s}function D(t){return function(e){return e.join(t)}}function M(t){return t?t.replace(Wa,".$1"):""}function I(t,e,n){var i;return e=M(e),"~/"===e.substr(0,2)?(i=V(e.substring(2)),B(t,i.firstKey,n)):"."===e[0]?(i=U(Za(n),e),i&&B(t,i.firstKey,n)):i=q(t,V(e),n),i}function U(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return V(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),V(n.join("."))}return V(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function q(t,e,n,i){var r,s,o,a,u;if(e.isRoot)return e;for(s=e.firstKey;n;)if(r=n.context,n=n.parent,r&&(a=!0,o=t.viewmodel.get(r),o&&("object"==typeof o||"function"==typeof o)&&s in o))return r.join(e.str);return K(t,s)?e:t.parent&&!t.isolated&&(a=!0,n=t.component.parentFragment,s=V(s),u=q(t.parent,s,n,!0))?(t.viewmodel.map(s,{origin:t.parent.viewmodel,keypath:u}),e):i||a?void 0:(t.viewmodel.set(e,void 0),e)}function B(t,e){var n;!t.parent||t.isolated||K(t,e)||(e=V(e),(n=q(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function K(t,e){return""===e||e in t.data||e in t.viewmodel.computations||e in t.viewmodel.mappings}function Q(t){t.teardown()}function W(t){t.unbind()}function z(t){t.unrender()}function H(t){t.detach()}function $(t){t.detachNodes()}function G(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function Y(){for(var t,e,n;Xa.viewmodels.length;)e=Xa.viewmodels.pop(),n=e.applyChanges(),n&&nu.fire(e.ractive,n);for(Z(),t=0;t<Xa.views.length;t+=1)Xa.views[t].update();for(Xa.views.length=0,t=0;t<Xa.tasks.length;t+=1)Xa.tasks[t]();return Xa.tasks.length=0,Xa.viewmodels.length?Y():void 0}function Z(){var t,e,n,i;for(t=eu.length;t--;)e=eu[t],e.keypath?eu.splice(t,1):(n=I(e.root,e.ref,e.parentFragment))&&((i||(i=[])).push({item:e,keypath:n}),eu.splice(t,1));i&&i.forEach(J)}function J(t){t.item.resolve(t.keypath)}function X(t,e,n){var i,r,s,o,a,u,h,c,d,f,p,m,v,g;if(i=new $a(function(t){r=t}),"object"==typeof t){n=e||{},u=n.easing,h=n.duration,a=[],c=n.step,d=n.complete,(c||d)&&(p={},n.step=null,n.complete=null,f=function(t){return function(e,n){p[t]=n}});for(s in t)t.hasOwnProperty(s)&&((c||d)&&(m=f(s),n={easing:u,duration:h},c&&(n.step=m)),n.complete=d?m:Fa,a.push(te(this,s,t[s],n)));return g={easing:u,duration:h},c&&(g.step=function(t){c(t,p)}),d&&i.then(function(t){d(t,p)}).then(null,l),g.complete=r,v=te(this,null,null,g),a.push(v),i.stop=function(){for(var t;t=a.pop();)t.stop();v&&v.stop()},i}return n=n||{},n.complete&&i.then(n.complete).then(null,l),n.complete=r,o=te(this,t,e,n),i.stop=function(){o.stop()},i}function te(t,e,n,i){var r,s,a,u;return e&&(e=V(M(e))),null!==e&&(u=t.viewmodel.get(e)),su.abort(e,t),o(u,n)?(i.complete&&i.complete(i.to),au):(i.easing&&(r="function"==typeof i.easing?i.easing:t.easing[i.easing],"function"!=typeof r&&(r=null)),s=void 0===i.duration?400:i.duration,a=new ou({keypath:e,from:u,to:n,root:t,duration:s,easing:r,interpolator:i.interpolator,step:i.step,complete:i.complete}),su.add(a),t._animations.push(a),a)}function ee(){return this.detached?this.detached:(this.el&&C(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),uu.fire(this),this.detached)}function ne(t){return this.el?this.fragment.find(t):null}function ie(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function re(t){var e,n;for(e=[t],n=ie(t);n;)e.push(n),n=ie(n);return e}function se(t,e,n,i){var r=[];return xa(r,{selector:{value:e},live:{value:n},_isComponentQuery:{value:i},_test:{value:hu}}),n?(xa(r,{cancel:{value:cu},_root:{value:t},_sort:{value:fu},_makeDirty:{value:pu},_remove:{value:mu},_dirty:{value:!1,writable:!0}}),r):r}function oe(t,e){var n,i;return this.el?(e=e||{},n=this._liveQueries,(i=n[t])?e&&e.live?i:i.slice():(i=se(this,t,!!e.live,!1),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAll(t,i),i)):[]}function ae(t,e){var n,i;return e=e||{},n=this._liveComponentQueries,(i=n[t])?e&&e.live?i:i.slice():(i=se(this,t,!!e.live,!0),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAllComponents(t,i),i)}function ue(t){return this.fragment.findComponent(t)}function he(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function ce(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function le(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,context:t.data,keypath:"",_noArg:!0};var i=V(e).wildcardMatches();de(t,i,n.event,n.args,!0)}}function de(t,e,n,i){var r,s,o=void 0===arguments[4]?!1:arguments[4],a=!0;for(vu.enqueue(t,n),s=e.length;s>=0;s--)r=t._subs[e[s]],r&&(a=fe(t,r,n,i)&&a);if(vu.dequeue(t),t.parent&&a){if(o&&t.component){var u=t.component.name+"."+e[e.length-1];e=V(u).wildcardMatches(),n&&(n.component=t)}de(t.parent,e,n,i)}}function fe(t,e,n,i){var r=null,s=!1;n&&!n._noArg&&(i=[n].concat(i)),e=e.slice();for(var o=0,a=e.length;a>o;o+=1)e[o].apply(t,i)===!1&&(s=!0);return n&&!n._noArg&&s&&(r=n.original)&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),!s}function pe(t){var e={args:Array.prototype.slice.call(arguments,1)};le(this,t,e)}function me(t){var e;return t=V(M(t)),e=this.viewmodel.get(t,gu),void 0===e&&this.parent&&!this.isolated&&I(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function ve(e,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,ge(this)}function ge(t){yu.fire(t),t.findAllComponents("*").forEach(function(t){ge(t.instance)})}function ye(t,e,n){var i,s;return t=V(M(t)),i=this.viewmodel.get(t),r(i)&&r(e)?(s=tu.start(this,!0),this.viewmodel.merge(t,i,e,n),tu.end(),s):this.set(t,e,n&&n.complete)}function we(t,e){var n,i;return n=L(t,e.str),i={},n.forEach(function(e){i[e.str]=t.get(e.str)}),i}function be(t,e,n,i){var r,s,o;return e=V(M(e)),i=i||Fu,Su.test(e.str)?(r=new bu(t,e,n,i),t.viewmodel.patternObservers.push(r),s=!0):r=new wu(t,e,n,i),r.init(i.init),t.viewmodel.register(e,r,s?"patternObservers":"observers"),r.ready=!0,{cancel:function(){var n;o||(s?(n=t.viewmodel.patternObservers.indexOf(r),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,r,"patternObservers")):t.viewmodel.unregister(e,r,"observers"),o=!0)}}}function ke(t,e,n){var i,r,s,o;if(u(t)){n=e,r=t,i=[];for(t in r)r.hasOwnProperty(t)&&(e=r[t],i.push(this.observe(t,e,n)));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",be(this,t,e,n);if(s=t.split(" "),1===s.length)return be(this,t,e,n);for(i=[],o=s.length;o--;)t=s[o],t&&i.push(be(this,t,e,n));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}function _e(t,e,n){var i=this.observe(t,function(){e.apply(this,arguments),i.cancel()},{init:!1,defer:n&&n.defer});return i}function xe(t,e){var n,i=this;if(t)n=t.split(" ").map(Ru).filter(Pu),n.forEach(function(t){var n,r;(n=i._subs[t])&&(e?(r=n.indexOf(e),-1!==r&&n.splice(r,1)):i._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Ee(t,e){var n,i,r,s=this;if("object"==typeof t){n=[];for(i in t)t.hasOwnProperty(i)&&n.push(this.on(i,t[i]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return r=t.split(" ").map(Ru).filter(Pu),r.forEach(function(t){(s._subs[t]||(s._subs[t]=[])).push(e)}),{cancel:function(){return s.off(t,e)}}}function Ae(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function Ce(t,e,n){var i,r,s,o,a,u,h=[];if(i=Oe(t,e,n),!i)return null;for(r=t.length,a=i.length-2-i[1],s=Math.min(r,i[0]),o=s+i[1],u=0;s>u;u+=1)h.push(u);for(;o>u;u+=1)h.push(-1);for(;r>u;u+=1)h.push(u+a);return h}function Oe(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t.length+Math.max(n[0],-t.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:null;case"push":return[t.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}}function Te(e,n){var i,r,s,o=this;if(s=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),i=tu.start(this,!0),tu.scheduleTask(function(){return Qu.fire(o)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var a=e.__ractive_instances__;a&&a.length&&Se(a),e.innerHTML=""}return this.constructor.css&&Ku.add(this.constructor),e&&((r=e.__ractive_instances__)?r.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),tu.end(),this.transitionsEnabled=s,i.then(function(){return Wu.fire(o)}).then(null,l),i}function Se(t){try{t.splice(0,t.length).forEach(function(t){return t.teardown()})}catch(e){}}function Fe(t,e,n){var i,r,s,o,a,u,h=function(t){var n,i;t.value=e,t.updating||(i=t.ractive,n=t.keypath,t.updating=!0,tu.start(i),i.viewmodel.mark(n),tu.end(),t.updating=!1)};if(i=t.obj,r=t.prop,n&&!n.configurable){if("length"===r)return;throw new Error('Cannot use magic mode with property "'+r+'" - object is not configurable')}n&&(s=n.get,o=n.set),a=s||function(){return e},u=function(t){o&&o(t),e=s?s():t,u._ractiveWrappers.forEach(h)},u._ractiveWrappers=[t],Object.defineProperty(i,r,{get:a,set:u,enumerable:!0,configurable:!0})}function Re(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function Pe(t,e){var n,i,r;return i='[data-ractive-css="'+e+'"]',r=function(t){var e,n,r,s,o,a,u,h=[];for(e=[];n=lh.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(s=e.map(Ne),u=e.length;u--;)a=s.slice(),r=e[u],a[u]=r.base+i+r.modifiers||"",o=s.slice(),o[u]=i+" "+o[u],h.push(a.join(" "),o.join(" "));return h.join(", ")},n=fh.test(t)?t.replace(fh,i):t.replace(ch,"").replace(hh,function(t,e){var n,i;return dh.test(e)?t:(n=e.split(",").map(je),i=n.map(r).join(", ")+" ",t.replace(e,i))})}function je(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function Ne(t){return t.str}function Ve(t,e,n){return t?e.noCssTransform?t:Pe(t,n):void 0}function Le(t,e){return"function"==typeof e&&/_super/.test(t)}function De(t,e,n){var i=n.data||{},r=Me(t.prototype.data);if("object"!=typeof i&&"function"!=typeof i)throw new TypeError('data option must be an object or a function, "'+i+'" is not valid');return Ie(r,i)}function Me(t){if("function"!=typeof t||!Object.keys(t).length)return t;var e={};return Ue(t,e),Ie(t,e)}function Ie(t,e){return"function"==typeof e?Ke(e,t):"function"==typeof t?Be(e,t):qe(e,t)}function Ue(t,e,n){for(var i in t)!(e._mappings&&e._mappings[i]&&e._mappings[i].updatable)&&n&&i in e||(e[i]=t[i])}function qe(t,e){return t=t||{},e?(Ue(e,t,!0),t):t}function Be(t,e){return function(n){var i;if(t){i=[];for(var r in t)n&&r in n||i.push(r)}return n=e.call(this,n)||n,i&&i.length&&(n=n||{},i.forEach(function(e){n[e]=t[e]})),n}}function Ke(t,e){var n;return n="function"!=typeof e?function(t){qe(t,e)}:function(t){return e=mh(e,function(){},!0),e.call(this,t)||t},mh(t,n)}function Qe(t){var e=ka(yh);return e.parse=function(e,n){return We(e,n||t)},e}function We(t,e){if(!parse)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return parse(t,e||this.options)}function ze(t,e){var n;if(!ea){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(He(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return n.innerHTML}function He(t){return t&&"#"===t.charAt(0)}function $e(t){return!("string"==typeof t)}function Ge(t){return t.defaults&&(t=t.defaults),gh.reduce(function(e,n){return e[n]=t[n],e},{ractive:t})}function Ye(t){var e,n=t._config.template;if(n&&n.fn)return e=Ze(t,n.fn),e!==n.result?(n.result=e,e=Xe(e,t)):void 0}function Ze(t,e){var n=Je(wh.getParseOptions(t));return e.call(t,t.data,n)}function Je(t){var e=ka(wh);return e.parse=function(e,n){return wh.parse(e,n||t)},e}function Xe(t,e){if("string"==typeof t)"#"===t[0]&&(t=wh.fromId(t)),t=parse(t,wh.getParseOptions(e));else if(t.v!==aa)throw new Error("Mismatched template version (expected "+aa+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return t}function tn(t,e,n){if(e)for(var i in e)(n||!t.hasOwnProperty(i))&&(t[i]=e[i])}function en(t,e,n){if(!/_super/.test(n))return n;var i=function(){var t,r=nn(i._parent,e),s="_super"in this,o=this._super;return this._super=r,t=n.apply(this,arguments),s?this._super=o:delete this._super,t};return i._parent=t,i._method=n,i}function nn(t,e){var n,i;return e in t?(n=t[e],i="function"==typeof n?n:function(){return n}):i=Fa,i}function rn(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function sn(t,e,n){if(e in t){if(n in t)throw new Error(rn(e,n,!0));f(rn(e,n)),t[n]=t[e]}}function on(t){sn(t,"beforeInit","onconstruct"),sn(t,"init","onrender"),sn(t,"complete","oncomplete"),sn(t,"eventDefinitions","events"),r(t.adaptors)&&sn(t,"adaptors","adapt")}function an(t,e,n,i){on(i);for(var r in i)if(Ch[r]){var s=i[r];"function"==typeof s&&(s=en(e.prototype,r,s)),n[r]=s}ah.forEach(function(r){r[t](e,n,i)}),uh[t](e,n,i),vh[t](e,n,i),bh[t](e,n,i),ph[t](e,n,i),un(e.prototype,n,i)}function un(t,e,n){for(var i in n)if(!Ah[i]&&n.hasOwnProperty(i)){var r=n[i];"function"==typeof r&&(r=en(t,i,r)),e[i]=r}}function hn(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function cn(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function ln(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();n&&t.appendChild(n)}),t)}function dn(t){var e,n,i,r;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(i=this.items[e],i.find&&(r=i.find(t)))return r;return null}}function fn(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAll&&r.findAll(t,e);return e}function pn(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAllComponents&&r.findAllComponents(t,e);return e}function mn(t){var e,n,i,r;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(i=this.items[n],i.findComponent&&(r=i.findComponent(t)))return r;return null}}function vn(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function gn(){return this.items&&this.items[0]?this.items[0].firstNode():null}function yn(t){var e;return(e=t.matchPattern(hc))?{t:Qh,v:e}:null}function wn(t){var e;return(e=uc(t))?lc.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=yn(t))?e.v:(e=t.matchPattern(cc))?e:void 0}function bn(t){var e,n,i;return t.allowWhitespace(),(e=wn(t))?(i={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(i.value=n.v,i):null):null):null}function kn(t,e,n,i){return i=i||0,t.map(function(t){var r,s,o;return t.text?t.text:t.fragments?t.fragments.map(function(t){return kn(t.items,e,n,i)}).join(""):(r=n+"-"+i++,o=t.keypath&&(s=t.root.viewmodel.wrapped[t.keypath.str])?s.value:t.getValue(),e[r]=o,"${"+r+"}")}).join("")}function _n(){var t,e,n,i;return this.dirtyArgs&&(e=kn(this.items,t={},this.root._guid),n=bc("["+e+"]",t),i=n?n.value:[this.toString()],this.argsList=i,this.dirtyArgs=!1),this.argsList}function xn(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function En(){var t,e,n,i;return this.dirtyValue&&(e=kn(this.items,t={},this.root._guid),n=bc(e,t),i=n?n.value:this.toString(),this.value=i,this.dirtyValue=!1),this.value}function An(t){return t.replace(vc,function(t,e){var n;return n="#"!==e[0]?pc[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(Cn(n)):t})}function Cn(t){return t?10===t?32:128>t?t:159>=t?mc[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function On(t){return t.replace(wc,"&amp;").replace(gc,"&lt;").replace(yc,"&gt;")}function Tn(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Sn(){return this.value}function Fn(t,e){for(var n,i=0;i<e.prop.length;i++)if(void 0!==(n=t[e.prop[i]]))return n}function Rn(t,e){var n,i,r,s,o,a={},u=!1;for(e||(a.refs=n={});t;){if((o=t.owner)&&(i=o.indexRefs)){if(e&&(r=o.getIndexRef(e)))return a.ref={fragment:t,ref:r},a;if(!e)for(s in i)r=i[s],n[r.n]||(u=!0,n[r.n]={fragment:t,ref:r})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(a.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return u?a:void 0}function Pn(t,e,n){var i;return"@"===e.charAt(0)?new Ec(t,e,n):(i=Rn(t.parentFragment,e))?new Cc(t,i,n):new xc(t,e,n)}function jn(t,e){var n,i;if(Tc[t])return Tc[t];for(i=[];e--;)i[e]="_"+e;return n=new Function(i.join(","),"return("+t+")"),Tc[t]=n,n}function Nn(t){return t.call()}function Vn(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var i,r;return i=e[n],void 0===i?"undefined":i.isSpecial?(r=i.value,"number"==typeof r?r:'"'+r+'"'):i.str})}function Ln(t){return V("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Dn(t){return void 0!==t&&"@"!==t[0]}function Mn(t,e){var n,i,r;if(t.__ractive_nowrap)return t;if(i="__ractive_"+e._guid,n=t[i])return n;if(/this/.test(t.toString())){_a(t,i,{value:Sc.call(t,e),configurable:!0});for(r in t)t.hasOwnProperty(r)&&(t[i][r]=t[r]);return e._boundFunctions.push({fn:t,prop:i}),t[i]}return _a(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function In(t){return t.value}function Un(t){return void 0!=t}function qn(t){t.forceResolution()}function Bn(t,e){var n,i,r,s=function(e){t.resolve(e)},o=function(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))};i=e.parentFragment,r=e.template,t.root=i.root,t.parentFragment=i,t.pElement=i.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(n=r.r)&&(t.resolver=Pn(t,n,s)),e.template.x&&(t.resolver=new Oc(t,i,e.template.x,o)),e.template.rx&&(t.resolver=new Rc(t,e.template.rx,o)),t.template.n!==$h||t.hasOwnProperty("value")||t.setValue(void 0)}function Kn(t){var e,n,i;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(i=this.twowayBinding)&&i.rebound()))}function Qn(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function Wn(){this.parentFragment.bubble()}function zn(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function Hn(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].find(t))return i;return null}function $n(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAll(t,e)}function Gn(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAllComponents(t,e)}function Yn(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].findComponent(t))return i;return null}function Zn(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Jn(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Xn(t){var e,n,i,r,s,o,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Gh){if(this.shuffling=!0,tu.scheduleTask(function(){return u.shuffling=!1}),e=this.parentFragment,s=[],t.forEach(function(t,e){var i,r,o,a,h;return t===e?void(s[t]=u.fragments[e]):(i=u.fragments[e],void 0===n&&(n=e),-1===t?(u.fragmentsToUnrender.push(i),void i.unbind()):(r=t-e,o=u.keypath.join(e),a=u.keypath.join(t),i.index=t,(h=i.registeredIndexRefs)&&h.forEach(ti),i.rebind(o,a),void(s[t]=i)))}),r=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===r)return;n=this.length}for(this.length=this.fragments.length=r,this.rendered&&tu.addView(this),o={template:this.template.f,root:this.root,owner:this},i=n;r>i;i+=1)a=s[i],a||this.fragmentsToCreate.push(i),this.fragments[i]=a}}function ti(t){t.rebind("","")}function ei(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function ni(t){var e,n,i=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=i.keypath.join(t),n.index=t,e=new qd(n),i.fragmentsToRender.push(i.fragments[t]=e)}),this.fragmentsToCreate.length=0):ri(this,t)&&(this.bubble(),this.rendered&&tu.addView(this)),this.value=t,this.updating=!1)}function ii(t,e,n){if(e===Gh&&t.indexRefs&&t.indexRefs[0]){var i=t.indexRefs[0];(n&&"i"===i.t||!n&&"k"===i.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),i.t=n?"k":"i"}t.currentSubtype=e}function ri(t,e){var n={template:t.template.f,root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.subtype)switch(t.subtype){case Hh:return hi(t,e,!1,n);case $h:return hi(t,e,!0,n);case Yh:return ui(t,n);case Zh:return ai(t,e,n);case Gh:if(u(e))return ii(t,t.subtype,!0),oi(t,e,n)}return t.ordered=!!s(e),t.ordered?(ii(t,Gh,!1),si(t,e,n)):u(e)||"function"==typeof e?t.template.i?(ii(t,Gh,!0),oi(t,e,n)):(ii(t,Yh,!1),ui(t,n)):(ii(t,Hh,!1),hi(t,e,!1,n))}function si(t,e,n){var i,r,s;if(r=e.length,r===t.length)return!1;if(r<t.length)t.fragmentsToUnrender=t.fragments.splice(r,t.length-r),t.fragmentsToUnrender.forEach(W);else if(r>t.length)for(i=t.length;r>i;i+=1)n.context=t.keypath.join(i),n.index=i,s=new qd(n),t.fragmentsToRender.push(t.fragments[i]=s);return t.length=r,!0}function oi(t,e,n){var i,r,s,o,a,u;for(s=t.hasKey||(t.hasKey={}),r=t.fragments.length;r--;)o=t.fragments[r],o.key in e||(a=!0,o.unbind(),t.fragmentsToUnrender.push(o),t.fragments.splice(r,1),s[o.key]=!1);for(r=t.fragments.length;r--;)o=t.fragments[r],o.index!==r&&(o.index=r,(u=o.registeredIndexRefs)&&u.forEach(di));r=t.fragments.length;for(i in e)s[i]||(a=!0,n.context=t.keypath.join(i),n.key=i,n.index=r++,o=new qd(n),t.fragmentsToRender.push(o),t.fragments.push(o),s[i]=!0);return t.length=t.fragments.length,a}function ai(t,e,n){return e?ui(t,n):ci(t)}function ui(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new qd(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function hi(t,e,n,i){var r,o,a,h,c;if(o=s(e)&&0===e.length,a=!1,!s(e)&&u(e)){a=!0;for(c in e){a=!1;break}}return r=n?o||a||!e:e&&!o&&!a,r?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(W),!0):void 0:(i.index=0,h=new qd(i),t.fragmentsToRender.push(t.fragments[0]=h),t.length=1,!0):ci(t)}function ci(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(li),t.fragmentsToUnrender.forEach(W),t.length=t.fragmentsToRender.length=0,!0):void 0}function li(t){return t.rendered}function di(t){t.rebind("","")}function fi(t){var e,n,i;for(e="",n=0,i=this.length,n=0;i>n;n+=1)e+=this.fragments[n].toString(t);return e}function pi(){var t=this;this.fragments.forEach(W),this.fragmentsToRender.forEach(function(e){return C(t.fragments,e)}),this.fragmentsToRender=[],Tn.call(this),this.length=0,this.unbound=!0}function mi(t){this.fragments.forEach(t?vi:gi),this.renderedFragments=[],this.rendered=!1}function vi(t){t.unrender(!0)}function gi(t){t.unrender(!1)}function yi(){var t,e,n,i,r,s,o;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(r=this.parentFragment.getNode()),o=this.fragments.length,s=0;o>s;s+=1)t=this.fragments[s],e=n.indexOf(t,s),e!==s?(this.docFrag.appendChild(t.detach()),-1!==e&&n.splice(e,1),n.splice(s,0,t)):this.docFrag.childNodes.length&&(i=t.firstNode(),r.insertBefore(this.docFrag,i));this.rendered&&this.docFrag.childNodes.length&&(i=this.parentFragment.findNextNode(this),r.insertBefore(this.docFrag,i)),this.renderedFragments=this.fragments.slice()}function wi(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function bi(t){var e,n,i,r;for(n=this.nodes.length,e=0;n>e;e+=1)if(i=this.nodes[e],1===i.nodeType){if(fa(i,t))return i;if(r=i.querySelector(t))return r}return null}function ki(t,e){var n,i,r,s,o,a;for(i=this.nodes.length,n=0;i>n;n+=1)if(r=this.nodes[n],1===r.nodeType&&(fa(r,t)&&e.push(r),s=r.querySelectorAll(t)))for(o=s.length,a=0;o>a;a+=1)e.push(s[a])}function _i(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xi(t){return Mc[t]||(Mc[t]=da(t))}function Ei(t){var e,n,i;t&&"select"===t.name&&t.binding&&(e=O(t.node.options).filter(Ai),t.getAttribute("multiple")?i=e.map(function(t){return t.value}):(n=e[0])&&(i=n.value),void 0!==i&&t.binding.setValue(i),t.bubble())}function Ai(t){return t.selected}function Ci(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Ic(this.value,this.parentFragment.getNode(),this.docFrag),Ei(this.pElement),this.rendered=!0,this.docFrag}function Oi(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&tu.addView(this))}function Ti(){return void 0!=this.value?An(""+this.value):""}function Si(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Fi(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=Ic(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Ei(this.pElement)}}function Ri(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0
}function Pi(){return null}function ji(){return this.node}function Ni(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function Vi(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();o(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&tu.addView(this))}function Li(t){var e=t.fragment.items;if(1===e.length)return e[0].type===Nh?e[0]:void 0}function Di(t){return this.type=Uh,this.element=t.element,this.root=t.root,tl(this,t.name),this.isBoolean=dc.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new qd({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=Li(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Mi(t,e){this.fragment&&this.fragment.rebind(t,e)}function Ii(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==ra.html||(e=el[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Ui(){var t=this,e=t.name,n=t.namespacePrefix,i=t.value,r=t.interpolator,s=t.fragment;return"value"===e&&("select"===this.element.name||"textarea"===this.element.name)||"value"===e&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===e&&"input"===this.element.name&&r?"name={{"+(r.keypath.str||r.ref)+"}}":this.isBoolean?i?e:"":(s&&(i=s.toString()),n&&(e=n+":"+e),i?e+'="'+qi(i)+'"':e)}function qi(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Bi(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Ki(){var t,e,n,i,r=this.value;if(!this.locked)for(this.node._ractive.value=r,t=this.node.options,i=t.length;i--;)if(e=t[i],n=e._ractive?e._ractive.value:e.value,n==r){e.selected=!0;break}}function Qi(){var t,e,n,i,s=this.value;for(r(s)||(s=[s]),t=this.node.options,e=t.length;e--;)n=t[e],i=n._ractive?n._ractive.value:n.value,n.selected=_(s,i)}function Wi(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function zi(){var t,e,n,i,r=this.node;if(t=r.checked,r.value=this.element.getAttribute("value"),r.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!r.checked&&this.element.binding&&(n=this.element.binding.siblings,i=n.length)){for(;i--;){if(e=n[i],!e.element.node)return;if(e.element.node.checked)return tu.addViewmodel(e.root.viewmodel),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function Hi(){var t,e,n=this,i=n.element,s=n.node,o=n.value,a=i.binding;if(t=i.getAttribute("value"),r(o)){for(e=o.length;e--;)if(t==o[e])return void(a.isChecked=s.checked=!0);a.isChecked=s.checked=!1}else a.isChecked=s.checked=o==t}function $i(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.className=e}function Gi(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Yi(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function Zi(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Ji(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Xi(){this.locked||(this.node[this.propertyName]=this.value)}function tr(){var t=this,e=t.node,n=t.namespace,i=t.name,r=t.value,s=t.fragment;n?e.setAttributeNS(n,i,(s||r).toString()):this.isBoolean?r?e.setAttribute(i,""):e.removeAttribute(i):e.setAttribute(i,(s||r).toString())}function er(){var t,e,n=this,i=n.name,r=n.element,s=n.node;"id"===i?e=Gi:"value"===i?"select"===r.name&&"value"===i?e=r.getAttribute("multiple")?Qi:Ki:"textarea"===r.name?e=Ji:null!=r.getAttribute("contenteditable")?e=Zi:"input"===r.name&&(t=r.getAttribute("type"),e="file"===t?Fa:"radio"===t&&r.binding&&"name"===r.binding.name?zi:Ji):this.isTwoway&&"name"===i?"radio"===s.type?e=Wi:"checkbox"===s.type&&(e=Hi):"style"===i&&s.style.setAttribute?e=Yi:"class"!==i||s.namespaceURI&&s.namespaceURI!==ra.html?this.useProperty&&(e=Xi):e=$i,e||(e=tr),this.update=e,this.update()}function nr(t,e){var n=e?"svg":"div";return il.innerHTML="<"+n+" "+t+"></"+n+">",O(il.childNodes[0].attributes)}function ir(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function rr(t){for(;t=t.parent;)if("form"===t.name)return t}function sr(){this._ractive.binding.handleChange()}function or(t,e,n){var i=t+e+n;return ll[i]||(ll[i]=[])}function ar(t){return t.isChecked}function ur(t){return t.element.getAttribute("value")}function hr(){var t;sr.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function cr(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&sr.call(e),t._timeout=void 0},t.element.lazy)}function lr(t){var e,n,i,r,s,o=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||o.contenteditable&&dr(o.contenteditable))&&dr(o.value)?n=cl:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(i=dr(o.name),r=dr(o.checked),i&&r&&f("A radio input can have two-way binding on its name attribute, or its checked attribute - not both"),i?n="radio"===e?fl:pl:r&&(n="radio"===e?dl:ml)):"file"===e&&dr(o.value)?n=yl:dr(o.value)&&(n="number"===e||"range"===e?wl:ul)):"select"===t.name&&dr(o.value)?n=t.getAttribute("multiple")?gl:vl:"textarea"===t.name&&dr(o.value)&&(n=ul),n&&(s=new n(t))&&s.keypath?s:void 0}function dr(t){return t&&t.isBindable}function fr(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function pr(t){le(this.root,this.getAction(),{event:t})}function mr(){return this.action.toString().trim()}function vr(t,e,n){var i,r,s,o=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,-1!==e.indexOf("*")&&((this.root.debug?d:f)('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(r=n.a.r,this.method=n.m,this.keypaths=[],this.fn=jn(n.a.s,r.length),this.parentFragment=t.parentFragment,s=this.root,this.refResolvers=[],r.forEach(function(t,e){var n=void 0;(n=bl.exec(t))?o.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:o.refResolvers.push(Pn(o,t,function(t){return o.resolve(e,t)}))}),this.fire=gr):(i=n.n||n,"string"!=typeof i&&(i=new qd({template:i,root:this.root,owner:this})),this.action=i,n.d?(this.dynamicParams=new qd({template:n.d,root:this.root,owner:this.element}),this.fire=wr):n.a&&(this.params=n.a,this.fire=yr))}function gr(t){var e,n,i;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var i,r,s;if(void 0===n)return void 0;if(n.eventObject){if(i=t,r=n.refinements.length)for(s=0;r>s;s+=1)i=i[n.refinements[s]]}else i=e.viewmodel.get(n);return i}),vu.enqueue(e,t),i=this.fn.apply(null,n),e[this.method].apply(e,i),vu.dequeue(e)}function yr(t){le(this.root,this.getAction(),{event:t,args:this.params})}function wr(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),le(this.root,this.getAction(),{event:t,args:e})}function br(t){var e,n,i,r={};e=this._ractive,n=e.events[t.type],(i=Rn(n.element.parentFragment))&&(r=Rn.resolve(i)),n.fire({node:this,original:t,index:r,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function kr(){var t,e=this.name;if(!this.invalid){if(t=m("events",this.root,e))this.custom=t(this.node,_r(e));else{if(!("on"+e in this.node||window&&"on"+e in window))return void(_l[e]||p(Va(e,"event")));this.node.addEventListener(e,br,!1)}this.hasListener=!0}}function _r(t){return kl[t]||(kl[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),kl[t]}function xr(t,e){var n,i=function(n){n&&n.rebind(t,e)};return this.method?(n=this.element.parentFragment,void this.refResolvers.forEach(i)):("string"!=typeof this.action&&i(this.action),void(this.dynamicParams&&i(this.dynamicParams)))}function Er(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Ar(t,e){this.keypaths[t]=e}function Cr(){return this.method?void this.refResolvers.forEach(W):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Or(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,br,!1),this.hasListener=!1}function Tr(){var t=this;this.dirty||(this.dirty=!0,tu.scheduleTask(function(){Sr(t),t.dirty=!1})),this.parentFragment.bubble()}function Sr(t){var e,n,i,r,s;e=t.node,e&&(r=O(e.options),n=t.getAttribute("value"),i=t.getAttribute("multiple"),void 0!==n?(r.forEach(function(t){var e,r;e=t._ractive?t._ractive.value:t.value,r=i?Fr(n,e):n==e,r&&(s=!0),t.selected=r}),s||(r[0]&&(r[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function Fr(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function Rr(t,e){t.select=jr(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function Pr(t){t.select&&C(t.select.options,t)}function jr(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function Nr(t){var e,n,i,r,s,o,a;this.type=Dh,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=i=e.root,this.index=t.index,this.key=t.key,this.name=Xc(n.e),"option"===this.name&&Rr(this,n),"select"===this.name&&(this.options=[],this.bubble=Tr),"form"===this.name&&(this.formBindings=[]),a=Jc(this,n),this.attributes=rl(this,n.a),this.conditionalAttributes=ol(this,n.m),n.f&&(this.fragment=new qd({template:n.f,root:i,owner:this,pElement:this})),o=i.twoway,a.twoway===!1?o=!1:a.twoway===!0&&(o=!0),this.twoway=o,this.lazy=a.lazy,o&&(r=lr(this,n.a))&&(this.binding=r,s=this.root._twowayBindings[r.keypath.str]||(this.root._twowayBindings[r.keypath.str]=[]),s.push(r)),n.v&&(this.eventHandlers=El(this,n.v)),n.o&&(this.decorator=new Al(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function Vr(t,e){var n,i,r,s,o=function(n){n.rebind(t,e)};if(this.attributes&&this.attributes.forEach(o),this.conditionalAttributes&&this.conditionalAttributes.forEach(o),this.eventHandlers&&this.eventHandlers.forEach(o),this.decorator&&o(this.decorator),this.fragment&&o(this.fragment),r=this.liveQueries)for(s=this.root,n=r.length;n--;)r[n]._makeDirty();this.node&&(i=this.node._ractive)&&j(i,"keypath",t,e)}function Lr(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),i=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==i&&t.node.setAttribute("height",i),t.node.removeEventListener("load",e,!1)},!1)}function Dr(t){t.node.addEventListener("reset",Ir,!1)}function Mr(t){t.node.removeEventListener("reset",Ir,!1)}function Ir(){var t=this._ractive.proxy;tu.start(),t.formBindings.forEach(Ur),tu.end()}function Ur(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function qr(t,e,n){var i,r,s;this.element=t,this.root=i=t.root,this.isIntro=n,r=e.n||e,("string"==typeof r||(s=new qd({template:r,root:i,owner:t}),r=s.toString(),s.unbind(),""!==r))&&(this.name=r,e.a?this.params=e.a:e.d&&(s=new qd({template:e.d,root:i,owner:t}),this.params=s.getArgsList(),s.unbind()),this._fn=m("transitions",i,r),this._fn||p(Va(r,"transition")))}function Br(t){return t}function Kr(){Xl.hidden=document[Gl]}function Qr(){Xl.hidden=!0}function Wr(){Xl.hidden=!1}function zr(){var t,e,n,i=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(r){n||(!r&&i.isIntro&&Hr(t,e),t._ractive.transition=null,i._manager.remove(i),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Hr(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function $r(){var t,e,n,i=this,r=this.root;return t=Gr(this),e=this.node=da(this.name,t),r.constructor.css&&this.parentFragment.getNode()===r.el&&this.node.setAttribute("data-ractive-css",r.constructor._guid),_a(this.node,"_ractive",{value:{proxy:this,keypath:Za(this.parentFragment),events:ka(null),root:r}}),this.attributes.forEach(function(t){return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=od,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Fa):"style"===this.name?(this.bubble=sd,this.bubble(),this.fragment.unrender=Fa):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Fa:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&Yr(this),"img"===this.name?Lr(this):"form"===this.name?Dr(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&tu.scheduleTask(function(){i.decorator.torndown||i.decorator.init()},!0),r.transitionsEnabled&&this.intro&&(n=new rd(this,this.intro,!0),tu.registerTransition(n),tu.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&tu.scheduleTask(function(){return i.node.focus()},!0),Zr(this),this.node}function Gr(t){var e,n,i;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?ra.svg:(i=t.parent)?"foreignObject"===i.name?ra.html:i.node.namespaceURI:t.root.el.namespaceURI}function Yr(t){var e,n,i;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&r(n)){for(i=n.length;i--;)if(e==n[i]){t.node.selected=!0;break}}else t.node.selected=e==n}function Zr(t){var e,n,i,r,s;e=t.root;do for(n=e._liveQueries,i=n.length;i--;)r=n[i],s=n["_"+r],s._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(s);while(e=e.parent)}function Jr(t){var e,n,i;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&r(n))for(i=n.length;i--;)if(n[i]==e)return!0}function Xr(t){var e,n,i,r;return e=t.attributes,n=e.type,i=e.value,r=e.name,n&&"radio"===n.value&&i&&r.interpolator&&i.value===r.interpolator.value?!0:void 0}function ts(t){var e=t.toString();return e?" "+e:""}function es(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(W),"option"===this.name&&Pr(this),this.attributes.forEach(W),this.conditionalAttributes.forEach(W)}function ns(t){var e,n,i;(i=this.transition)&&i.complete(),"option"===this.name?this.detach():t&&tu.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(z),this.decorator&&tu.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(i=new rd(this,this.outro,!1),tu.registerTransition(i),tu.scheduleTask(function(){return i.start()})),this.liveQueries&&is(this),"form"===this.name&&Mr(this)}function is(t){var e,n,i;for(i=t.liveQueries.length;i--;)e=t.liveQueries[i],n=e.selector,e._remove(t.node)}function rs(t,e){var n=cd.exec(e)[0];return null===t||n.length<t.length?n:t}function ss(t,e){var n;if(n=os(t,e))return n;if(n=wh.fromId(e,{noThrow:!0})){n=ld(n);var i=wh.parse(n,wh.getParseOptions(t));return t.partials[e]=i.t}}function os(t,e){var n=v("partials",t,e);if(n){var i=n.partials[e],r=void 0;if("function"==typeof i&&(r=i.bind(n),r.isOwner=n.partials.hasOwnProperty(e),i=r(n.data,wh)),!i&&""!==i)return void f(Na,e,"partial","partial");if(!wh.isParsed(i)){var s=wh.parse(i,wh.getParseOptions(n));s.p&&f("Partials ({{>%s}}) cannot contain nested inline partials",e);var o=r?n:as(n,e);o.partials[e]=i=s.t}return r&&(i._fn=r),i.v?i.t:i}}function as(t,e){return t.partials.hasOwnProperty(e)?t:us(t.constructor,e)}function us(t,e){return t?t.partials.hasOwnProperty(e)?t:us(t._Parent,e):void 0}function hs(t,e){var n,i=v("components",t,e);if(i&&(n=i.components[e],!n._Parent)){var r=n.bind(i);if(r.isOwner=i.components.hasOwnProperty(e),n=r(i.data),!n)return void(t.debug&&f(Na,e,"component","component"));"string"==typeof n&&(n=hs(t,n)),n._fn=r,i.components[e]=n}return n}function cs(){var t=this.instance.fragment.detach();return pd.fire(this.instance),t}function ls(t){return this.instance.fragment.find(t)}function ds(t,e){return this.instance.fragment.findAll(t,e)}function fs(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function ps(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function ms(){return this.parentFragment.findNextNode(this)}function vs(){return this.rendered?this.instance.fragment.firstNode():null}function gs(t,e){var n,i,r,s,o=this.ractive;for(n=o.adapt.length,i=0;n>i;i+=1)if(r=o.adapt[i],r.filter(e,t,o))return s=this.wrapped[t]=r.wrap(o,e,t,ws(t)),s.value=e,e;return e}function ys(t,e){var n,i={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(i[e+n]=t[n]);return i}function ws(t){var e;return md[t]||(e=t?t+".":"",md[t]=function(n,i){var r;return"string"==typeof n?(r={},r[e+n]=i,r):"object"==typeof n?e?ys(n,t):n:void 0}),md[t]}function bs(t){var e,n,i=[Ya];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)-1===t.indexOf(n)&&k(i,n),n=n.parent;return i}function ks(t,e,n){var i;xs(t,e),n||(i=e.wildcardMatches(),i.forEach(function(n){_s(t,n,e)}))}function _s(t,e,n){var i,r,s;e=e.str||e,i=t.depsMap.patternObservers,r=i&&i[e],r&&r.forEach(function(e){s=n.join(e.lastKey),xs(t,s),_s(t,e,s)})}function xs(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function Es(){var t,e,n,i=this,r=function(e){var n,i;s.noCascade.hasOwnProperty(e.str)||((i=s.deps.computed[e.str])&&i.forEach(function(e){var n=e.key;e.viewmodel===s?(s.clearCache(n.str),e.invalidate(),t.push(n),r(n)):e.viewmodel.mark(n)}),(n=s.depsMap.computed[e.str])&&n.forEach(r))},s=this,o={};return t=this.changes,t.length?(t.slice().forEach(r),e=bs(t),e.forEach(function(e){var n;-1===t.indexOf(e)&&(n=s.deps.computed[e.str])&&(i.changes.push(e),n.forEach(function(t){t.viewmodel.mark(t.key)}))}),this.changes=[],this.patternObservers.length&&(e.forEach(function(t){return ks(i,t,!0)}),t.forEach(function(t){return ks(i,t)})),this.deps.observers&&(e.forEach(function(t){return As(i,null,t,"observers")}),Os(this,t,"observers")),this.deps["default"]&&(n=[],e.forEach(function(t){return As(i,n,t,"default")}),n.length&&Cs(this,n,t),Os(this,t,"default")),t.forEach(function(t){o[t.str]=i.get(t)}),this.implicitChanges={},this.noCascade={},o):void 0}function As(t,e,n,i){var r,s;(r=Ts(t,n,i))&&(s=t.get(n),r.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(s)}))}function Cs(t,e,n){e.forEach(function(e){for(var i=!1,r=0,s=n.length,o=[];s>r;){var a=n[r];if(a===e.keypath){i=!0;break}a.slice(0,e.keypath.length)===e.keypath&&o.push(a),r++}i&&e.setValue(t.get(e.keypath)),o.length&&e.refineValue(o)})}function Os(t,e,n){var i=function(t){t.forEach(r),t.forEach(s)},r=function(e){var i=Ts(t,e,n);i&&a.push({keypath:e,deps:i})},s=function(e){var r;(r=t.depsMap[n][e.str])&&i(r)},o=function(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})},a=[];i(e),a.forEach(o)}function Ts(t,e,n){var i=t.deps[n];return i?i[e.str]:null}function Ss(){this.captureGroups.push([])}function Fs(t,e){var n,i;if(e||(i=this.wrapped[t])&&i.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function Rs(t){var e="var __ractive=this;return("+t.replace(vd,function(t,e){return'__ractive.get("'+e+'")'})+")";return new Function(e)}function Ps(t,e){var n=e.firstKey;return!(n in t.ractive.data||n in t.computations||n in t.mappings)}function js(t,e){return e=gd(e),this.computations[t.str]=new wd(this.ractive,t,e)}function Ns(t,e){var n,i,r,s,o,a=this.ractive,u=this.cache,h=t.str;return e=e||kd,e.capture&&(o=A(this.captureGroups))&&(~o.indexOf(t)||o.push(t)),(n=this.mappings[t.firstKey])?n.get(t,e):t.isSpecial?t.value:(void 0===u[h]?((r=this.computations[h])&&!r.bypass?(i=r.get(),this.adapt(h,i)):(s=this.wrapped[h])?i=s.value:t.isRoot?(this.adapt("",a.data),i=a.data):i=Vs(this,t),u[h]=i):i=u[h],!e.noUnwrap&&(s=this.wrapped[h])&&(i=s.get()),i===bd?void 0:i)}function Vs(t,e){var n,i,r,s;return n=t.get(e.parent),(s=t.wrapped[e.parent.str])&&(n=s.get()),null!==n&&void 0!==n?((i=t.cacheMap[e.parent.str])?-1===i.indexOf(e.str)&&i.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(r=n[e.lastKey],t.adapt(e.str,r,!1),t.cache[e.str]=r,r):t.cache[e.str]=bd):void 0}function Ls(){var t,e,n=[];for(t in this.ractive.computed)e=this.compute(V(t),this.ractive.computed[t]),n.push(e),t in this.mappings&&d("Cannot map to a computed property ('%s')",t);n.forEach(Ds)}function Ds(t){t.init()}function Ms(t,e){this.keypath=t,this.viewmodel=e}function Is(t,e){this.localKey=t,this.keypath=e.keypath,this.origin=e.origin,e.force&&(this.force=e.force),this.deps=[],this.unresolved=[],this.trackData=e.trackData,this.resolved=!1}function Us(t,e){var n=this.mappings[t.str]=new Is(t,e);return n.initViewmodel(this),n}function qs(t,e){var n,i=t.str;tu.addViewmodel(this),e&&(e.implicit&&(this.implicitChanges[i]=!0),e.noCascade&&(this.noCascade[i]=!0)),(n=this.computations[i])&&n.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var r=e?e.keepExistingWrapper:!1;this.clearCache(i,r)}function Bs(t,e,n,i){var r,s,o,a;if(this.mark(t),i&&i.compare){o=Qs(i.compare);try{r=e.map(o),s=n.map(o)}catch(u){if(this.debug)throw u;f("Merge operation: comparison failed. Falling back to identity checking"),r=e,s=n}}else r=e,s=n;a=_d(r,s),this.smartUpdate(t,n,a,e.length!==n.length)}function Ks(t){return JSON.stringify(t)}function Qs(t){if(t===!0)return Ks;if("string"==typeof t)return xd[t]||(xd[t]=function(e){return e[t]}),xd[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Ws(t,e){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,s):(i=this.deps[s]||(this.deps[s]={}),r=i[t.str]||(i[t.str]=[]),r.push(e),t.isRoot||zs(this,t,s)))}function zs(t,e,n){for(var i,r,s;!e.isRoot;)i=t.depsMap[n]||(t.depsMap[n]={}),r=i[e.parent.str]||(i[e.parent.str]=[]),s=e.str,void 0===r["_"+s]&&(r["_"+s]=0,r.push(e)),r["_"+s]+=1,e=e.parent}function Hs(){return this.captureGroups.pop()}function $s(t,e){var n,i,r,s,a=void 0===arguments[2]?{}:arguments[2];if(!a.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(i=this.computations[t.str]){if(i.setting)return;i.set(e),e=i.get()}o(this.cache[t.str],e)||(r=this.wrapped[t.str],r&&r.reset&&(s=r.reset(e)!==!1,s&&(e=r.get())),i||s||Gs(this,t,e),a.silent?this.clearCache(t.str):this.mark(t))}function Gs(t,e,n){var i,r,s,o;s=function(){i.set?i.set(e.lastKey,n):(r=i.get(),o())},o=function(){r||(r=nh(e.lastKey),t.set(e.parent,r,{silent:!0})),r[e.lastKey]=n},i=t.wrapped[e.parent.str],i?s():(r=t.get(e.parent),(i=t.wrapped[e.parent.str])?s():o())}function Ys(t,e,n){var i,r,s,o=this;if(r=n.length,n.forEach(function(e,n){-1===e&&o.mark(t.join(n),Ad)}),this.set(t,e,{silent:!0}),(i=this.deps["default"][t.str])&&i.filter(Zs).forEach(function(t){return t.shuffle(n,e)}),r!==e.length){for(this.mark(t.join("length"),Ed),s=r;s<e.length;s+=1)this.mark(t.join(s));for(s=e.length;r>s;s+=1)this.mark(t.join(s),Ad)}}function Zs(t){return"function"==typeof t.shuffle}function Js(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Xs(t,e){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,s);if(i=this.deps[s][t.str],r=i.indexOf(e),-1===r)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(r,1),t.isRoot||to(this,t,s)}}function to(t,e,n){for(var i,r;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str],r["_"+e.str]-=1,r["_"+e.str]||(C(r,e),r["_"+e.str]=void 0),e=e.parent}function eo(t){this.hook=new b(t),this.inProcess={},this.queue={}}function no(t,e){return t[e._guid]||(t[e._guid]=[])}function io(t,e){var n=no(t.queue,e);for(t.hook.fire(e);n.length;)io(t,n.shift());delete t.queue[e._guid]}function ro(e){var n,i=void 0===arguments[1]?{}:arguments[1],r=void 0===arguments[2]?{}:arguments[2];if(so(e,r),Od.fire(kh.getConstructTarget(e,i),i),kh.init(e.constructor,e,i),e.magic&&!ia)throw new Error("Getters and setters (magic mode) are not supported in this browser");Td.fire(e),Sd.begin(e),e.viewmodel=new Cd(e,r.mappings),e.viewmodel.init(),e.template&&(e.fragment=new qd({template:e.template,root:e,owner:e})),Sd.end(e),(n=t(e.el))&&e.render(n,e.append)}function so(t,e){t._guid="r-"+Fd++,t._subs=ka(null),t._config={},t._twowayBindings=ka(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function oo(t,e,n){this.parameters=t,this.parentFragment=t.component.parentFragment,this.key=e,this.fragment=new qd({template:n,root:t.component.root,owner:this}),this.parameters.addData(this.key.str,this.fragment.getValue())}function ao(t,e){return e.parameters?ia&&"legacy"!==e.parameters?ho(t,e):uo(t):t.data}function uo(t){var e,n=t.mappings;for(e in n){var i=n[e];i.trackData=!0,i.updatable||t.addData(e,i.getValue())}return t.data}function ho(t,e){var n=co(t,e);return new n(t)}function co(t,e){var n=e._parameters;return(!n.Constructor||t.newKeys.length)&&(n.Constructor=lo(t,n.defined)),n.Constructor}function lo(t,e){var n,i,r=function(t){this._mappings=t.mappings,this._data=t.data||{}};return n=t.keys.reduce(function(t,e){return t[e]={get:function(){var t=this._mappings[e];return t?t.getValue():this._data[e]},set:function(t){var n=this._mappings[e];n?(tu.start(),n.setValue(t),tu.end()):this._data[e]=t},enumerable:!0},t},e),xa(i={toJSON:fo},n),i.constructor=r,r.prototype=i,r}function fo(){var t,e={};for(t in this)-1===jd.indexOf(t)&&(e[t]=this[t]);return e}function po(t,e,n){var i,r,s;this.parameters=t,this.key=e,this.resolved=this.ready=!1,i=t.component,r=this.resolve.bind(this),n.r?this.resolver=Pn(i,n.r,r):n.x?this.resolver=new Oc(i,i.parentFragment,n.x,r):n.rx&&(this.resolver=new Rc(i,n.rx,r)),this.resolved||(this.resolver&&h(this.resolver.forceResolution)&&(s=this.resolver.forceResolution.bind(this.resolver)),t.addMapping(e,void 0,s)),this.ready=!0}function mo(t,e,n){var i,r,s;return n?(e.parameters&&(s=vo(e)),i=new go(t,n,s),r=ao(i,e),{data:r,mappings:i.mappings}):{data:{}}}function vo(t){return t._parameters?t._parameters.defined||(t._parameters.defined={}):t._parameters={defined:{}},t._parameters.defined}function go(t,e,n){var i=this;this.component=t,this.parentViewmodel=t.root.viewmodel,this.data={},this.mappings=ka(null),this.newKeys=[],this.keys=Object.keys(e),this.keys.forEach(function(t){n&&!n[t]&&i.newKeys.push(t),i.add(V(t),e[t])})}function yo(t){return 1===t.length&&t[0].t===Nh}function wo(t,e){var n;for(n in e)e.hasOwnProperty(n)&&bo(t.instance,t.root,n,e[n])}function bo(t,e,n,i){"string"!=typeof i&&f("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),le(e,i,{event:t,args:n}),!1})}function ko(t,e){var n,i,r;if(!e)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,i=n.root,this.root=i,this.type=qh,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],r=mo(this,e.prototype,t.template.a),Pd(this,e,r,t.template.f,t.template.p),wo(this,t.template.v),(t.template.t1||t.template.t2||t.template.o)&&f('The "intro", "outro" and "decorator" directives have no effect on components'),Nd(this)}function _o(t,e){var n,i=function(n){n.rebind(t,e)};this.resolvers.forEach(i);for(var r in this.yielders)this.yielders[r][0]&&i(this.yielders[r][0]);(n=this.root._liveComponentQueries["_"+this.name])&&n._makeDirty()}function xo(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function Eo(){return this.instance.fragment.toString()}function Ao(){var t=this.instance;this.resolvers.forEach(W),Co(this),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&C(t.el.__ractive_instances__,t),Vd.fire(t)}function Co(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function Oo(t){this.shouldDestroy=t,this.instance.unrender()}function To(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.items=t.template.map(function(n,i){return So({parentFragment:e,pElement:t.pElement,template:n,index:i})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function So(t){if("string"==typeof t.template)return new _c(t);switch(t.template.t){case Bh:return new Id(t);case Nh:return new jc(t);case Lh:return new Vc(t);case Vh:return new Uc(t);case Dh:var e=void 0;return(e=hs(t.parentFragment.root,t.template.e))?new Dd(t,e):new ud(t);case Mh:return new fd(t);case Ih:return new Md(t);case Kh:return new Ud(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Fo(t,e){j(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function Ro(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function Po(t){return this.items?this.items.map(t?No:jo).join(""):""}function jo(t){return t.toString()}function No(t){return t.toString(!0)}function Vo(){this.bound&&(this.items.forEach(Lo),this.bound=!1)}function Lo(t){t.unbind&&t.unbind()}function Do(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function Mo(t){var e,n,i,r,s;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&(this.data=t):this.data=t,i=kh.reset(this),r=i.length;r--;)if(Kd.indexOf(i[r])>-1){s=!0;break}if(s){var o=void 0;this.viewmodel.mark(Ya),(o=this.component)&&(o.shouldDestroy=!0),this.unrender(),o&&(o.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new qd({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)
}else e=tu.start(this,!0),this.viewmodel.mark(Ya),tu.end();return Qd.fire(this,t),e}function Io(t){var e,n;bh.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new qd({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function Uo(t,e){var n,i,r=this;if(i=tu.start(this,!0),u(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],t=V(M(t)),this.viewmodel.set(t,e))}else t=V(M(t)),Hd.test(t.str)?L(this,t.str).forEach(function(t){r.viewmodel.set(t,e)}):this.viewmodel.set(t,e);return tu.end(),i}function qo(t,e){return y(this,t,void 0===e?-1:-e)}function Bo(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&C(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():$a.resolve(),Zd.fire(this),this._boundFunctions.forEach(Ko),t}function Ko(t){delete t.fn[t.prop]}function Qo(t){if("string"!=typeof t)throw new TypeError(ja);return this.set(t,!this.get(t))}function Wo(){return this.fragment.toString(!0)}function zo(){var t,e,n=this;if(!this.fragment.rendered)return f("ractive.unrender() was called on a Ractive instance that was not rendered"),$a.resolve();for(t=tu.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&t.then(function(){Ku.remove(n.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),C(this.el.__ractive_instances__,this),Jd.fire(this),tu.end(),t}function Ho(t){var e;return t=V(t)||Ya,e=tu.start(this,!0),this.viewmodel.mark(t),tu.end(),tf.fire(this,t),e}function $o(t,e){var n,i,r;if("string"!=typeof t||e){r=[];for(i in this._twowayBindings)(!t||V(i).equalsOrStartsWith(t))&&r.push.apply(r,this._twowayBindings[i])}else r=this._twowayBindings[t];return n=Go(this,r),this.set(n)}function Go(t,e){var n={},i=[];return e.forEach(function(t){var e,r;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(i[t.keypath.str]||t.changed()||(i.push(t.keypath),i[t.keypath.str]=t));e=t.attribute.value,r=t.getValue(),x(e,r)||o(e,r)||(n[t.keypath.str]=r)}}),i.length&&i.forEach(function(t){var e,r,s;e=i[t.str],r=e.attribute.value,s=e.getValue(),x(r,s)||(n[t.str]=s)}),n}function Yo(t){for(var e={};t;)Zo(t,e),Xo(t,e),t=t._Parent!==rf?t._Parent:!1;return e}function Zo(t,e){ah.forEach(function(n){Jo(n.useDefaults?t.prototype:t,e,n.name)})}function Jo(t,e,n){var i,r=Object.keys(t[n]);r.length&&((i=e[n])||(i=e[n]={}),r.filter(function(t){return!(t in i)}).forEach(function(e){return i[e]=t[n][e]}))}function Xo(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var i=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof i&&e[n]._method){var r=void 0,s=i._method;s&&(i=i._method),r=mh(e[n]._method,i),s&&(r._method=r),e[n]=r}}else e[n]=i._method?i._method:i}})}function ta(t){var e,n,i=void 0===arguments[1]?{}:arguments[1];return i.prototype instanceof rf&&(i=Yo(i)),e=function(t){Rd(this,t)},n=ka(t.prototype),n.constructor=e,xa(e,{_guid:{value:nf++},defaults:{value:n},extend:{value:Bd,writable:!0,configurable:!0},_Parent:{value:t}}),kh.extend(t,n,i),e.prototype=n,e}var ea,na,ia,ra,sa,oa,aa=3,ua={el:void 0,append:!1,template:{v:aa,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1,debug:!1},ha=ua,ca={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};ea="object"==typeof document,na="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),ia=!0}catch(la){ia=!1}ra={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sa="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),oa=["o","ms","moz","webkit"];var da,fa,pa,ma,va,ga,ya,wa,ba;if(da=sa?function(t,e){return e&&e!==ra.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==ra.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},ea){for(pa=da("div"),ma=["matches","matchesSelector"],ba=function(t){return function(e,n){return e[t](n)}},ya=ma.length;ya--&&!fa;)if(va=ma[ya],pa[va])fa=ba(va);else for(wa=oa.length;wa--;)if(ga=oa[ya]+va.substr(0,1).toUpperCase()+va.substring(1),pa[ga]){fa=ba(ga);break}fa||(fa=function(t,e){var n,i,r;for(i=t.parentNode,i||(pa.innerHTML="",i=pa,t=t.cloneNode(),pa.appendChild(t)),n=i.querySelectorAll(e),r=n.length;r--;)if(n[r]===t)return!0;return!1})}else fa=null;var ka,_a,xa;try{Object.defineProperty({},"test",{value:0}),ea&&Object.defineProperty(document.createElement("div"),"test",{value:0}),_a=Object.defineProperty}catch(Ea){_a=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Ea){throw Ea}ea&&Object.defineProperties(da("div"),{test:{value:0}}),xa=Object.defineProperties}catch(Ea){xa=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&_a(t,n,e[n])}}try{Object.create(null),ka=Object.create}catch(Ea){ka=function(){var t=function(){};return function(e,n){var i;return null===e?{}:(t.prototype=e,i=new t,n&&Object.defineProperties(i,n),i)}}()}var Aa,Ca,Oa=Object.prototype.hasOwnProperty,Ta=Object.prototype.toString,Sa=/^\[object (?:Array|FileList)\]$/,Fa=function(){},Ra={};na?(Ca=function(t,e){console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},Aa=function(){console.log.apply(console,arguments)}):Ca=Aa=Fa;var Pa,ja="Bad arguments",Na='A function was specified for "%s" %s, but no %s was returned',Va=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},La=function(t,e,n,i){if(t===e)return g(e);if(i){var r=m("interpolators",n,i);if(r)return r(t,e)||g(e);p(Va(i,"interpolator"))}return Da.number(t,e)||Da.array(t,e)||Da.object(t,e)||g(e)},Da={number:function(t,e){var n;return a(t)&&a(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,i,s,o;if(!r(t)||!r(e))return null;for(n=[],i=[],o=s=Math.min(t.length,e.length);o--;)i[o]=La(t[o],e[o]);for(o=s;o<t.length;o+=1)n[o]=t[o];for(o=s;o<e.length;o+=1)n[o]=e[o];return function(t){for(var e=s;e--;)n[e]=i[e](t);return n}},object:function(t,e){var n,i,r,s,o;if(!u(t)||!u(e))return null;n=[],s={},r={};for(o in t)Oa.call(t,o)&&(Oa.call(e,o)?(n.push(o),r[o]=La(t[o],e[o])):s[o]=t[o]);for(o in e)Oa.call(e,o)&&!Oa.call(t,o)&&(s[o]=e[o]);return i=n.length,function(t){for(var e,o=i;o--;)e=n[o],s[e]=r[e](t);return s}}};"undefined"==typeof window?Pa=null:(!function(t,e,n){var i,r;if(!n.requestAnimationFrame){for(i=0;i<t.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[t[i]+"RequestAnimationFrame"];n.requestAnimationFrame||(r=n.setTimeout,n.requestAnimationFrame=function(t){var n,i,s;return n=Date.now(),i=Math.max(0,16-(n-e)),s=r(function(){t(n+i)},i),e=n+i,s})}}(oa,0,window),Pa=window.requestAnimationFrame);var Ma,Ia=Pa;Ma="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Ua={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};b.prototype.fire=function(t,e){var n=function(n){return t[n]?(e?t[n](e):t[n](),!0):void 0};n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?f(this.deprecate.message):f('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var qa,Ba={},Ka={},Qa={};"function"==typeof Promise?qa=Promise:(qa=function(t){var e,n,i,r,s,o,a=[],u=[],h=Ba;i=function(t){return function(i){h===Ba&&(e=i,h=t,n=S(h===Ka?a:u,e),T(n))}},r=i(Ka),s=i(Qa);try{t(r,s)}catch(c){s(c)}return o={then:function(t,e){var i=new qa(function(r,s){var o=function(t,e,n){e.push("function"==typeof t?function(e){var n;try{n=t(e),F(i,n,r,s)}catch(o){s(o)}}:n)};o(t,a,r),o(e,u,s),h!==Ba&&T(n)});return i}},o["catch"]=function(t){return this.then(null,t)},o},qa.all=function(t){return new qa(function(e,n){var i,r,s,o=[];if(!t.length)return void e(o);for(s=function(r){t[r].then(function(t){o[r]=t,--i||e(o)},n)},i=r=t.length;r--;)s(r)})},qa.resolve=function(t){return new qa(function(e){e(t)})},qa.reject=function(t){return new qa(function(e,n){n(t)})});var Wa,za,Ha,$a=qa,Ga={};Wa=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,za={},Ha=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=N(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.parent=""===t?null:V(e.join(".")),this.isRoot=!t},Ha.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return V(this.isRoot?String(t):this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:V(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=R(this.str))}};var Ya=V(""),Za=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Ya},Ja=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};Ja.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,G(this)},decrementTotal:function(){this.totalChildren-=1,G(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;C(e,t),G(this)},init:function(){this.ready=!0,G(this)},detachNodes:function(){this.decoratorQueue.forEach(Q),this.detachQueue.forEach(H),this.children.forEach($)}};var Xa,tu,eu=[],nu=new b("change");tu={start:function(t,e){var n,i;return e&&(n=new $a(function(t){return i=t})),Xa={previousBatch:Xa,transitionManager:new Ja(i,Xa&&Xa.transitionManager),views:[],tasks:[],viewmodels:[],instance:t},t&&Xa.viewmodels.push(t.viewmodel),n},end:function(){Y(),Xa.transitionManager.init(),!Xa.previousBatch&&Xa.instance&&(Xa.instance.viewmodel.changes=[]),Xa=Xa.previousBatch},addViewmodel:function(t){return Xa?-1===Xa.viewmodels.indexOf(t)?(Xa.viewmodels.push(t),!0):!1:(t.applyChanges(),!1)},registerTransition:function(t){t._manager=Xa.transitionManager,Xa.transitionManager.add(t)},registerDecorator:function(t){Xa.transitionManager.addDecorator(t)},addView:function(t){Xa.views.push(t)},addUnresolved:function(t){eu.push(t)},removeUnresolved:function(t){C(eu,t)},detachWhenReady:function(t){Xa.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(Xa){for(n=Xa;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var iu=[],ru={tick:function(){var t,e,n;for(n=Ma(),tu.start(),t=0;t<iu.length;t+=1)e=iu[t],e.tick(n)||iu.splice(t--,1);tu.end(),iu.length?Ia(ru.tick):ru.running=!1},add:function(t){iu.push(t),ru.running||(ru.running=!0,Ia(ru.tick))},abort:function(t,e){for(var n,i=iu.length;i--;)n=iu[i],n.root===e&&n.keypath===t&&n.stop()}},su=ru,ou=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=La(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};ou.prototype={tick:function(){var t,e,n,i,r,s;return s=this.keypath,this.running?(i=Date.now(),t=i-this.startTime,t>=this.duration?(null!==s&&(tu.start(this.root),this.root.viewmodel.set(s,this.to),tu.end()),this.step&&this.step(1,this.to),this.complete(this.to),r=this.root._animations.indexOf(this),-1===r&&f("Animation was not found"),this.root._animations.splice(r,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,null!==s&&(n=this.interpolator(e),tu.start(this.root),this.root.viewmodel.set(s,n),tu.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&f("Animation was not found"),this.root._animations.splice(t,1)}};var au={stop:Fa},uu=new b("detach"),hu=function(t,e){var n;return n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?fa(t.node,this.selector):null,n?(this.push(t.node||t.instance),e||this._makeDirty(),!0):void 0},cu=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},lu=function(t,e){var n,i,r,s,o,a,u,h,c,l;for(n=re(t.component||t._ractive.proxy),i=re(e.component||e._ractive.proxy),r=A(n),s=A(i);r&&r===s;)n.pop(),i.pop(),o=r,r=A(n),s=A(i);if(r=r.component||r,s=s.component||s,c=r.parentFragment,l=s.parentFragment,c===l)return a=c.items.indexOf(r),u=l.items.indexOf(s),a-u||n.length-i.length;if(h=o.fragments)return a=h.indexOf(c),u=h.indexOf(l),a-u||n.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},du=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):lu(t,e)},fu=function(){this.sort(this._isComponentQuery?lu:du),this._dirty=!1},pu=function(){var t=this;this._dirty||(this._dirty=!0,tu.scheduleTask(function(){t._sort()}))},mu=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},vu={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},gu={capture:!0,noUnwrap:!0},yu=new b("insert"),wu=function(t,e,n,i){this.root=t,this.keypath=e,this.callback=n,this.defer=i.defer,this.context=i&&i.context?i.context:t};wu.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;o(t,this.value)||(this.value=t,this.defer&&this.ready?tu.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var bu,ku=/\*/,_u=Array.prototype.slice;bu=function(t,e,n,i){this.root=t,this.callback=n,this.defer=i.defer,this.keypath=e,this.regex=new RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=i&&i.context?i.context:t},bu.prototype={init:function(t){var e,n;if(e=we(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(V(n));else this.values=e},update:function(t){var e,n=this;if(ku.test(t.str)){e=we(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(V(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void tu.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,i,r;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,o(n,this.values[e])&&this.ready||(i=_u.call(this.regex.exec(e),1),r=[n,this.values[e],e].concat(i),this.values[e]=n,this.callback.apply(this.context,r)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return e.reallyUpdate(t)}}),this.proxies[t.str]}};var xu,Eu,Au,Cu,Ou,Tu,Su=/\*/,Fu={},Ru=function(t){return t.trim()},Pu=function(t){return""!==t},ju=Array.prototype,Nu=function(t){return function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;n>s;s++)i[s-1]=arguments[s];var o,a,u,h,c=[];if(e=V(M(e)),o=this.viewmodel.get(e),a=o.length,!r(o))throw new Error("Called ractive."+t+"('"+e+"'), but '"+e+"' does not refer to an array");return c=Ce(o,t,i),h=ju[t].apply(o,i),u=tu.start(this,!0).then(function(){return h}),c?this.viewmodel.smartUpdate(e,o,c):this.viewmodel.mark(e),tu.end(),u}},Vu=Nu("pop"),Lu=Nu("push"),Du="/* Ractive.js component styles */\n",Mu={},Iu=[];ea?(Au=document.createElement("style"),Au.type="text/css",Cu=document.getElementsByTagName("head")[0],Tu=!1,Ou=Au.styleSheet,Eu=function(){var t;Iu.length?(t=Du+Iu.join(" "),Ou?Ou.cssText=t:Au.innerHTML=t,Tu||(Cu.appendChild(Au),Tu=!0)):Tu&&(Cu.removeChild(Au),Tu=!1)},xu={add:function(t){t.css&&(Mu[t._guid]||(Mu[t._guid]=0,Iu.push(t.css),Eu()),Mu[t._guid]+=1)},remove:function(t){t.css&&(Mu[t._guid]-=1,Mu[t._guid]||(C(Iu,t.css),tu.scheduleTask(Eu)))}}):xu=null;var Uu,qu,Bu,Ku=xu,Qu=new b("render"),Wu=new b("complete"),zu=function(t,e,n,i){var r=t.root,s=t.keypath;return"sort"===n||"reverse"===n?void r.viewmodel.set(s,e):void r.viewmodel.smartUpdate(s,e,i)},Hu=[],$u=["pop","push","reverse","shift","sort","splice","unshift"];$u.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];var r,s,o,a;for(r=Ce(this,t,n),s=Array.prototype[t].apply(this,arguments),tu.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)o=this._ractive.wrappers[a],tu.addViewmodel(o.root.viewmodel),zu(o,this,t,r);return tu.end(),this._ractive.setting=!1,s};_a(Hu,t,{value:e})}),Uu={},Uu.__proto__?(qu=function(t){t.__proto__=Hu},Bu=function(t){t.__proto__=Array.prototype}):(qu=function(t){var e,n;for(e=$u.length;e--;)n=$u[e],_a(t,n,{value:Hu[n],configurable:!0})},Bu=function(t){var e;for(e=$u.length;e--;)delete t[$u[e]]}),qu.unpatch=Bu;var Gu,Yu,Zu,Ju=qu;Gu={filter:function(t){return r(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new Yu(t,e,n)}},Yu=function(t,e,n){this.root=t,this.value=e,this.keypath=V(n),e._ractive||(_a(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Ju(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},Yu.prototype={get:function(){return this.value},teardown:function(){var t,e,n,i,r;if(t=this.value,e=t._ractive,n=e.wrappers,i=e.instances,e.setting)return!1;if(r=n.indexOf(this),-1===r)throw new Error(Zu);if(n.splice(r,1),n.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(r=i.indexOf(this.root),-1===r)throw new Error(Zu);i.splice(r,1)}}else delete t._ractive,Ju.unpatch(this.value)}},Zu="Something went wrong in a rather interesting way";var Xu,th,eh=/^\s*[0-9]+\s*$/,nh=function(t){return eh.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Xu={filter:function(t,e,n){var i,s;return e?(e=V(e),(i=n.viewmodel.wrapped[e.parent.str])&&!i.magic?!1:(s=n.viewmodel.get(e.parent),r(s)&&/^[0-9]+$/.test(e.lastKey)?!1:s&&("object"==typeof s||"function"==typeof s))):!1},wrap:function(t,e,n){return new th(t,e,n)}},th=function(t,e,n){var i,r,s;return n=V(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,i=n.parent,this.obj=i.isRoot?t.data:t.viewmodel.get(i),r=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),r&&r.set&&(s=r.set._ractiveWrappers)?void(-1===s.indexOf(this)&&s.push(this)):void Fe(this,e,r)},th.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,tu.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=nh(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,i,r;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(i=e._ractiveWrappers,r=i.indexOf(this),-1!==r&&i.splice(r,1),i.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(Ea){Xu=!1}var ih,rh;Xu&&(ih={filter:function(t,e,n){return Xu.filter(t,e,n)&&Gu.filter(t)},wrap:function(t,e,n){return new rh(t,e,n)}},rh=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=Xu.wrap(t,e,n),this.arrayWrapper=Gu.wrap(t,e,n)},rh.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var sh,oh,ah,uh={extend:function(t,e,n){e.adapt=Re(e.adapt,E(n.adapt))},init:function(t,e,n){var i,r,s=function(t){return"string"==typeof t&&(t=m("adaptors",e,t),t||d(Va(t,"adaptor"))),t};if(i=e.adapt.map(s),r=E(n.adapt).map(s),e.adapt=Re(i,r),e.magic){if(!ia)throw new Error("Getters and setters (magic mode) are not supported in this browser");e.modifyArrays&&e.adapt.push(ih),e.adapt.push(Xu)}e.modifyArrays&&e.adapt.push(Gu)}},hh=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,ch=/\/\*.*?\*\//g,lh=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,dh=/^@media/,fh=/\[data-ractive-css="[a-z0-9-]+"]/g,ph={name:"css",extend:function(t,e,n){var i,r=e.constructor._guid;(i=Ve(n.css,n,r)||Ve(t.css,t,r))&&(e.constructor.css=i)},init:function(){}},mh=function(t,e,n){return n||Le(t,e)?function(){var n,i="_super"in this,r=this._super;return this._super=e,n=t.apply(this,arguments),i&&(this._super=r),n}:t},vh={name:"data",extend:function(t,e,n){e.data=De(t,e,n)},init:function(t,e,n){var i=n.data,r=De(t,e,n);return"function"==typeof r&&(r=r.call(e,i)||i),e.data=r||{}},reset:function(t){var e=this.init(t.constructor,t,t);return e?(t.data=e,!0):void 0}},gh=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],yh={parse:We,fromId:ze,isHashedId:He,isParsed:$e,getParseOptions:Ge,createHelper:Qe},wh=yh,bh={name:"template",extend:function(t,e,n){var i;"template"in n&&(i=n.template,e.template="function"==typeof i?i:Xe(i,e))},init:function(t,e,n){var i,r;i="template"in n?n.template:t.prototype.template,"function"==typeof i&&(r=i,i=Ze(e,r),e._config.template={fn:r,result:i}),i=Xe(i,e),e.template=i.t,i.p&&tn(e.partials,i.p)},reset:function(t){var e,n=Ye(t);return n?(e=Xe(n,t),t.template=e.t,tn(t.partials,e.p,!0),!0):void 0}};sh=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],oh=function(t,e){this.name=t,this.useDefaults=e},oh.prototype={constructor:oh,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,e,n)},configure:function(t,e,n){var i,r=this.name,s=n[r];i=ka(t[r]);for(var o in s)i[o]=s[o];e[r]=i},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var i=e[t];i._fn&&(i._fn.isOwner?e[t]=i._fn:delete e[t],n=!0)}),n}},ah=sh.map(function(t){return new oh(t,"computed"===t)});var kh,_h,xh,Eh,Ah,Ch;Eh={adapt:uh,css:ph,data:vh,template:bh},xh=Object.keys(ha),Ch=hn(xh.filter(function(t){return!Eh[t]})),Ah=hn(xh.concat(ah.map(function(t){return t.name}))),_h=[].concat(xh.filter(function(t){return!ah[t]&&!Eh[t]}),ah,Eh.data,Eh.template,Eh.css),kh={extend:function(t,e,n){return an("extend",t,e,n)},init:function(t,e,n){return an("init",t,e,n)},reset:function(t){return _h.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:_h,getConstructTarget:function(t,e){return e.onconstruct?{onconstruct:en(t,"onconstruct",e.onconstruct).bind(t),fire:t.fire.bind(t)}:t}};var Oh,Th,Sh=/^\s+/;Th=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},Th.prototype=Error.prototype,Oh=function(t,e){var n,i,r=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=r+t.length+1;return r=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(i=this.read());)n.push(i);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},Oh.prototype={read:function(t){var e,n,i,r;for(t||(t=this.converters),e=this.pos,i=t.length,n=0;i>n;n+=1)if(this.pos=e,r=t[n](this))return r;return null},getLinePos:function(t){for(var e,n=0,i=0;t>=this.lineEnds[n];)i=this.lineEnds[n],n+=1;return e=t-i,[n+1,e+1,t]},error:function(t){var e,n,i,r,s,o;throw e=this.getLinePos(this.pos),n=e[0],i=e[1],r=this.lines[e[0]-1],s=r+"\n"+new Array(e[1]).join(" ")+"^----",o=new Th(t+" at line "+n+" character "+i+":\n"+s),o.line=e[0],o.character=e[1],o.shortMessage=t,o},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(Sh)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Oh.extend=function(t){var e,n,i=this;e=function(t,e){Oh.call(this,t,e)},e.prototype=ka(i.prototype);for(n in t)Oa.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=Oh.extend,e};var Fh,Rh,Ph,jh=1,Nh=2,Vh=3,Lh=4,Dh=7,Mh=8,Ih=9,Uh=13,qh=15,Bh=16,Kh=18,Qh=20,Wh=21,zh=30,Hh=50,$h=51,Gh=52,Yh=53,Zh=54;Fh=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Rh=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Ph=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Jh,Xh,tc,ec,nc,ic,rc,sc=function(t){return function(e){var n,i,r,s;for(n=e.pos,i='"',r=!1;!r;)s=e.matchPattern(Fh)||e.matchPattern(Rh)||e.matchString(t),s?i+='"'===s?'\\"':"\\'"===s?"'":s:(s=e.matchPattern(Ph),s?i+="\\u"+("000"+s.charCodeAt(1).toString(16)).slice(-4):r=!0);return i+='"',JSON.parse(i)}},oc=sc('"'),ac=sc("'"),uc=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=ac(t),t.matchString('"')?{t:Wh,v:n}:(t.pos=e,null)):t.matchString("'")?(n=oc(t),t.matchString("'")?{t:Wh,v:n}:(t.pos=e,null)):null},hc=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,cc=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,lc=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;Xh={"true":!0,"false":!1,undefined:void 0,"null":null},tc=new RegExp("^(?:"+Object.keys(Xh).join("|")+")"),ec=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,nc=/\$\{([^\}]+)\}/g,ic=/^\$\{([^\}]+)\}/,rc=/^\s*$/,Jh=Oh.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&rc.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(ic),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(tc))?{v:Xh[e]}:void 0},function(t){var e;return(e=t.matchPattern(ec))?{v:+e}:void 0},function(t){var e,n=uc(t);return n&&(e=t.values)?{v:n.v.replace(nc,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=bn(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var dc,fc,pc,mc,vc,gc,yc,wc,bc=function(t,e){var n=new Jh(t,{values:e});return n.result};dc=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,fc=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,pc={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},mc=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],vc=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(pc).join("|")+"));?","g"),gc=/</g,yc=/>/g,wc=/&/g;
var kc=function(){return e(this.node)},_c=function(t){this.type=jh,this.text=t.template};_c.prototype={detach:kc,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?On(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var xc=function(t,e,n){var i;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,i=I(t.root,e,t.parentFragment),void 0!=i?this.resolve(i):tu.addUnresolved(this)};xc.prototype={resolve:function(t){this.keypath&&!t&&tu.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(V(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||tu.removeUnresolved(this)}};var Ec=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},Ac={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Ec.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,i=Ac[e];if(!i)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(V("@"+i.prefix+Fn(this.cached,i)));if(-1!==i.prop.indexOf("index")||-1!==i.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Gh&&void 0!==(t=Fn(n,i)))return this.cached=n,n.registerIndexRef(this),this.callback(V("@"+i.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=Fn(n,i)))return this.callback(V("@"+i.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Cc=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};Cc.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(V("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}},Rn.resolve=function(t){var e,n,i={};for(e in t.refs)n=t.refs[e],i[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return i};var Oc,Tc={},Sc=Function.prototype.bind;Oc=function(t,e,n,i){var r,s=this;r=t.root,this.root=r,this.parentFragment=e,this.callback=i,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return Pn(s,t,function(t){s.resolve(e,t)})}),this.ready=!0,this.bubble()},Oc.prototype={bubble:function(){this.ready&&(this.uniqueString=Vn(this.str,this.keypaths),this.keypath=Ln(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,i,r,s=this;i=this.keypath,t=this.root.viewmodel.computations[i.str],t?this.root.viewmodel.mark(i):(r=jn(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){return void 0}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=s.root.viewmodel.get(t,{noUnwrap:!0});return"function"==typeof e&&(e=Mn(e,s.root)),e}}),n={deps:this.keypaths.filter(Dn),get:function(){var t=e.map(Nn);return r.apply(null,t)}},t=this.root.viewmodel.compute(i,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Fc=function(t,e,n){var i=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===zh?this.refResolver=Pn(this,t.n,function(t){i.resolve(t)}):new Oc(e,n,t,function(t){i.resolve(t)})};Fc.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Rc=function(t,e,n){var i,r,s,o,a=this;this.parentFragment=o=t.parentFragment,this.root=i=t.root,this.mustache=t,this.ref=r=e.r,this.callback=n,this.unresolved=[],(s=I(i,r,o))?this.base=s:this.baseResolver=new xc(this,r,function(t){a.base=t,a.baseResolver=null,a.bubble()}),this.members=e.m.map(function(t){return new Fc(t,a,o)}),this.ready=!0,this.bubble()};Rc.prototype={getKeypath:function(){var t=this.members.map(In);return!t.every(Un)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(W)},rebind:function(t,e){var n;this.members.forEach(function(i){i.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=V(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(qn),this.bubble()}};var Pc={getValue:Sn,init:Bn,resolve:Kn,rebind:Qn},jc=function(t){this.type=Nh,Pc.init(this,t)};jc.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:Pc.resolve,rebind:Pc.rebind,detach:kc,unbind:Tn,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(t){t&&e(this.node)},getValue:Pc.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),o(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&tu.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=void 0!=this.value?""+this.value:"";return t?On(e):e}};var Nc=function(t,e){Pc.rebind.call(this,t,e)},Vc=function(t){this.type=Lh,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===$h,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,Pc.init(this,t)};Vc.prototype={bubble:Wn,detach:zn,find:Hn,findAll:$n,findAllComponents:Gn,findComponent:Yn,findNextNode:Zn,firstNode:Jn,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];if(n.n===t)return n}},getValue:Pc.getValue,shuffle:Xn,rebind:Nc,render:ei,resolve:Pc.resolve,setValue:ni,toString:fi,unbind:pi,unrender:mi,update:yi};var Lc,Dc,Mc={};try{da("table").innerHTML="foo"}catch(Ea){Lc=!0,Dc={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Ic=function(t,e,n){var i,r,s,o,a,u=[];if(null!=t&&""!==t){for(Lc&&(r=Dc[e.tagName])?(i=xi("DIV"),i.innerHTML=r[0]+t+r[1],i=i.querySelector(".x"),"SELECT"===i.tagName&&(s=i.options[i.selectedIndex])):e.namespaceURI===ra.svg?(i=xi("DIV"),i.innerHTML='<svg class="x">'+t+"</svg>",i=i.querySelector(".x")):(i=xi(e.tagName),i.innerHTML=t,"SELECT"===i.tagName&&(s=i.options[i.selectedIndex]));o=i.firstChild;)u.push(o),n.appendChild(o);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==s&&(u[a].selected=!1)}return u},Uc=function(t){this.type=Vh,Pc.init(this,t)};Uc.prototype={detach:wi,find:bi,findAll:ki,firstNode:_i,getValue:Pc.getValue,rebind:Pc.rebind,render:Ci,resolve:Pc.resolve,setValue:Oi,toString:Ti,unbind:Tn,unrender:Si,update:Fi};var qc,Bc,Kc,Qc,Wc=function(){this.parentFragment.bubble()},zc=function(t){return this.node?fa(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Hc=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},$c=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Gc=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Yc=/^true|on|yes|1$/i,Zc=/^[0-9]+$/,Jc=function(t,e){var n,i,r;return r=e.a||{},i={},n=r.twoway,void 0!==n&&(i.twoway=0===n||Yc.test(n)),n=r.lazy,void 0!==n&&(i.lazy=0!==n&&Zc.test(n)?parseInt(n):0===n||Yc.test(n)),i};qc="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Bc="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Kc=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},Qc=Kc(qc.concat(Bc));var Xc=function(t){var e=t.toLowerCase();return Qc[e]||e},tl=function(t,e){var n,i;if(n=e.indexOf(":"),-1===n||(i=e.substr(0,n),"xmlns"===i))t.name=t.element.namespace!==ra.html?Xc(e):e;else if(e=e.substring(n+1),t.name=Xc(e),t.namespace=ra[i.toLowerCase()],t.namespacePrefix=i,!t.namespace)throw'Unknown namespace ("'+i+'")'},el={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},nl=function(t){this.init(t)};nl.prototype={bubble:Vi,init:Di,rebind:Mi,render:Ii,toString:Ui,unbind:Bi,update:er};var il,rl=function(t,e){var n,i,r=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(i=new nl({element:t,name:n,value:e[n],root:t.root}),r[n]=i,"value"!==n&&r.push(i));return(i=r.value)&&r.push(i),r};"undefined"!=typeof document&&(il=da("div"));var sl=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new qd({root:t.root,owner:this,template:[e]})};sl.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===ra.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment.toString(),e=nr(t,this.isSvg),this.attributes.filter(function(t){return ir(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment.toString()}};var ol=function(t,e){return e?e.map(function(e){return new sl(t,e)}):[]},al=function(t){var e,n,i,r;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return f("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name),!1}else e.resolver.forceResolution(),n=e.keypath;this.attribute.isTwoway=!0,this.keypath=n,i=this.root.viewmodel.get(n),void 0===i&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(n,i)),(r=rr(t))&&(this.resetValue=i,r.formBindings.push(this))};al.prototype={handleChange:function(){var t=this;tu.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),tu.scheduleTask(function(){return t.attribute.locked=!1}),tu.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(C(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},al.extend=function(t){var e,i=this;return e=function(t){al.call(this,t),this.init&&this.init()},e.prototype=ka(i.prototype),n(e.prototype,t),e.extend=al.extend,e};var ul,hl=al,cl=hl.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var t=this.element.node;t.addEventListener("change",sr,!1),this.root.lazy||(t.addEventListener("input",sr,!1),t.attachEvent&&t.addEventListener("keyup",sr,!1))},unrender:function(){var t=this.element.node;t.removeEventListener("change",sr,!1),t.removeEventListener("input",sr,!1),t.removeEventListener("keyup",sr,!1)},getValue:function(){return this.element.node.innerHTML}}),ll={},dl=hl.extend({name:"checked",init:function(){this.siblings=or(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",sr,!1),t.attachEvent&&t.addEventListener("click",sr,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",sr,!1),t.removeEventListener("click",sr,!1)},handleChange:function(){tu.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),tu.end()},getValue:function(){return this.element.node.checked},unbind:function(){C(this.siblings,this)}}),fl=hl.extend({name:"name",init:function(){this.siblings=or(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",sr,!1),t.attachEvent&&t.addEventListener("click",sr,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",sr,!1),t.removeEventListener("click",sr,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&hl.prototype.handleChange.call(this)},rebound:function(t,e){var n;hl.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){C(this.siblings,this)}}),pl=hl.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=or(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){C(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),this.isChecked=r(t)?_(t,e):t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",sr,!1),n.attachEvent&&n.addEventListener("click",sr,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",sr,!1),t.removeEventListener("click",sr,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,hl.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ar).map(ur)}}),ml=hl.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",sr,!1),t.attachEvent&&t.addEventListener("click",sr,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",sr,!1),t.removeEventListener("click",sr,!1)},getValue:function(){return this.element.node.checked}}),vl=hl.extend({getInitialValue:function(){var t,e,n,i,r=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=r.length,t)){for(;e--;)if(r[e].getAttribute("selected")){n=r[e].getAttribute("value"),i=!0;break}if(!i)for(;++e<t;)if(!r[e].getAttribute("disabled")){n=r[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",sr,!1)},unrender:function(){this.element.node.removeEventListener("change",sr,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,i,r;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(i=t[e],t[e].selected)return r=i._ractive?i._ractive.value:i.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,tu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),gl=vl.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",sr,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",sr,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,i,r,s;for(t=[],e=this.element.node.options,i=e.length,n=0;i>n;n+=1)r=e[n],r.selected&&(s=r._ractive?r._ractive.value:r.value,t.push(s));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&x(n,e)||vl.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,tu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),yl=hl.extend({render:function(){this.element.node.addEventListener("change",sr,!1)},unrender:function(){this.element.node.removeEventListener("change",sr,!1)},getValue:function(){return this.element.node.files}});ul=hl.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:a(this.element.lazy)?(t=!1,n=+this.element.lazy):a(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?cr:sr,e.addEventListener("change",sr,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",hr,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",sr,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",hr,!1)}});var wl=ul.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),bl=/^event(?:\.(.+))?/,kl={},_l={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},xl=function(t,e,n){this.init(t,e,n)};xl.prototype={bubble:fr,fire:pr,getAction:mr,init:vr,listen:kr,rebind:xr,render:Er,resolve:Ar,unbind:Cr,unrender:Or};var El=function(t,e){var n,i,r,s,o=[];for(i in e)if(e.hasOwnProperty(i))for(r=i.split("-"),n=r.length;n--;)s=new xl(t,r[n],e[i]),o.push(s);return o},Al=function(t,e){var n,i,r,s=this;this.element=t,this.root=n=t.root,i=e.n||e,("string"==typeof i||(r=new qd({template:i,root:n,owner:t}),i=r.toString(),r.unbind(),""!==i))&&(e.a?this.params=e.a:e.d&&(this.fragment=new qd({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,s.params=this.getArgsList(),s.ready&&s.update()}),this.fn=m("decorators",n,i),this.fn||f(Va(i,"decorator")))};Al.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var Cl,Ol,Tl,Sl=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};ea?(Ol={},Tl=da("div").style,Cl=function(t){var e,n,i;if(t=Sl(t),!Ol[t])if(void 0!==Tl[t])Ol[t]=t;else for(i=t.charAt(0).toUpperCase()+t.substring(1),e=oa.length;e--;)if(n=oa[e],void 0!==Tl[n+i]){Ol[t]=n+i;break}return Ol[t]}):Cl=null;var Fl,Rl,Pl=Cl;ea?(Rl=window.getComputedStyle||legacy.getComputedStyle,Fl=function(t){var e,n,i,s,o;if(e=Rl(this.node),"string"==typeof t)return o=e[Pl(t)],"0px"===o&&(o=0),o;if(!r(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},i=t.length;i--;)s=t[i],o=e[Pl(s)],"0px"===o&&(o=0),n[s]=o;return n}):Fl=null;var jl=function(t,e){var n;if("string"==typeof t)this.node.style[Pl(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Pl(n)]=t[n]);return this},Nl=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(p(Va(t.easing,"easing")),e=Br)):e="function"==typeof t.easing?t.easing:Br,this.easing=e,this.start=Ma(),this.end=this.start+this.duration,this.running=!0,su.add(this)};Nl.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Vl,Ll,Dl,Ml,Il,Ul,ql,Bl,Kl=new RegExp("^-(?:"+oa.join("|")+")-"),Ql=function(t){return t.replace(Kl,"")},Wl=new RegExp("^(?:"+oa.join("|")+")([A-Z])"),zl=function(t){var e;return t?(Wl.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Hl={},$l={};ea?(Ll=da("div").style,function(){void 0!==Ll.transition?(Dl="transition",Ml="transitionend",Il=!0):void 0!==Ll.webkitTransition?(Dl="webkitTransition",Ml="webkitTransitionEnd",Il=!0):Il=!1}(),Dl&&(Ul=Dl+"Duration",ql=Dl+"Property",Bl=Dl+"TimingFunction"),Vl=function(t,e,n,i,r){setTimeout(function(){var s,o,a,u,h;u=function(){o&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),r())},s=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[ql]=i.map(Pl).map(zl).join(","),t.node.style[Bl]=zl(n.easing||"linear"),t.node.style[Ul]=n.duration/1e3+"s",h=function(e){var n;n=i.indexOf(Sl(Ql(e.propertyName))),-1!==n&&i.splice(n,1),i.length||(t.node.removeEventListener(Ml,h,!1),a=!0,u())},t.node.addEventListener(Ml,h,!1),setTimeout(function(){for(var r,c,l,d,p,m=i.length,v=[];m--;)d=i[m],r=s+d,Il&&!$l[r]&&(t.node.style[Pl(d)]=e[d],Hl[r]||(c=t.getStyle(d),Hl[r]=t.getStyle(d)!=e[d],$l[r]=!Hl[r],$l[r]&&(t.node.style[Pl(d)]=c))),(!Il||$l[r])&&(void 0===c&&(c=t.getStyle(d)),l=i.indexOf(d),-1===l?f("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!"):i.splice(l,1),p=/[^\d]*$/.exec(e[d])[0],v.push({name:Pl(d),interpolator:La(parseFloat(c),parseFloat(e[d])),suffix:p}));v.length?new Nl({root:t.root,duration:n.duration,easing:Sl(n.easing||""),step:function(e){var n,i;for(i=v.length;i--;)n=v[i],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){o=!0,u()}}):o=!0,i.length||(t.node.removeEventListener(Ml,h,!1),a=!0,u())},0)},n.delay||0)}):Vl=null;var Gl,Yl,Zl,Jl,Xl;if("undefined"!=typeof document){if(Gl="hidden",Xl={},Gl in document)Zl="";else for(Jl=oa.length;Jl--;)Yl=oa[Jl],Gl=Yl+"Hidden",Gl in document&&(Zl=Yl);void 0!==Zl?(document.addEventListener(Zl+"visibilitychange",Kr),Kr()):("onfocusout"in document?(document.addEventListener("focusout",Qr),document.addEventListener("focusin",Wr)):(window.addEventListener("pagehide",Qr),window.addEventListener("blur",Qr),window.addEventListener("pageshow",Wr),window.addEventListener("focus",Wr)),Xl.hidden=!1)}var td,ed,nd;ea?(ed=window.getComputedStyle||legacy.getComputedStyle,td=function(t,e,n){var i,r=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(Xl.hidden)return this.setStyle(t,e),nd||(nd=$a.resolve());"string"==typeof t?(i={},i[t]=e):(i=t,n=e),n||(f('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var s=new $a(function(t){var e,s,o,a,u,h,c;if(!n.duration)return r.setStyle(i),void t();for(e=Object.keys(i),s=[],o=ed(r.node),u={},h=e.length;h--;)c=e[h],a=o[Pl(c)],"0px"===a&&(a=0),a!=i[c]&&(s.push(c),r.node.style[Pl(c)]=a);return s.length?void Vl(r,i,n,s,t):void t()});return s}):td=null;var id=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),i({},t,e)},rd=function(t,e,n){this.init(t,e,n)};rd.prototype={init:qr,start:zr,getStyle:Fl,setStyle:jl,animateStyle:td,processParams:id};var sd,od;sd=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},od=function(){this.node.type&&"text/javascript"!==this.node.type||f("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var ad=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(ts).join("")+this.conditionalAttributes.map(ts).join(""),"option"===this.name&&Jr(this)&&(t+=" selected"),"input"===this.name&&Xr(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=On(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),fc.test(this.template.e)||(t+="</"+this.template.e+">"),t)},ud=function(t){this.init(t)};ud.prototype={bubble:Wc,detach:Ri,find:zc,findAll:Hc,findAllComponents:$c,findComponent:Gc,findNextNode:Pi,firstNode:ji,getAttribute:Ni,init:Nr,rebind:Vr,render:$r,toString:ad,unbind:es,unrender:ns};var hd=/^\s*$/,cd=/^\s*/,ld=function(t){var e,n,i,r;return e=t.split("\n"),n=e[0],void 0!==n&&hd.test(n)&&e.shift(),i=A(e),void 0!==i&&hd.test(i)&&e.pop(),r=e.reduce(rs,null),r&&(t=e.map(function(t){return t.replace(r,"")}).join("\n")),t},dd=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},fd=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=Mh,this.index=t.index,this.name=t.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Pc.init(this,t),!this.keypath&&(n=ss(this.root,this.name))&&(Tn.call(this),this.isNamed=!0,this.setTemplate(n))};fd.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||Qn.call(this,t,e),this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Pc.resolve,setValue:function(t){var e;(void 0===t||t!==this.value)&&(void 0!==t&&(e=ss(this.root,""+t)),!e&&this.name&&(e=ss(this.root,this.name))&&(Tn.call(this),this.isNamed=!0),e||(this.root.debug?d:p)('Could not find template for partial "%s"',this.name),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&tu.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new qd({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,i,r;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===jh?(i=n.text.split("\n").pop(),(r=/^\s+$/.exec(i))?dd(e,r[0]):e):e},unbind:function(){this.isNamed||Tn.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var pd=new b("detach"),md={},vd=/\$\{([^\}]+)\}/g,gd=function(t){return"function"==typeof t?{get:t}:"string"==typeof t?{get:Rs(t)}:("object"==typeof t&&"string"==typeof t.get&&(t={get:Rs(t.get),set:t.set}),t)},yd=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};yd.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var wd=function(t,e,n){var i=this;this.ractive=t,this.viewmodel=t.viewmodel,this.key=e,this.getter=n.get,this.setter=n.set,this.hardDeps=n.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(e){return t.viewmodel.register(e,i,"computed")}),this._dirty=this._firstRun=!0};wd.prototype={constructor:wd,init:function(){var t;this.bypass=!0,t=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==t&&this.set(t)},invalidate:function(){this._dirty=!0},get:function(){var t,e,n,i=this,r=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(t=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(e){var n,s,a;if(!r)for(a=e.length;a--;)if(n=e[a],s=t.viewmodel.get(n),!o(s,i.depValues[n.str]))return i.depValues[n.str]=s,void(r=!0)}),r){t.viewmodel.capture();try{this.value=this.getter.call(t)}catch(s){t.debug&&(f('Failed to compute "%s"',this.key.str),Aa(s.stack||s)),this.value=void 0
}e=t.viewmodel.release(),n=this.updateDependencies(e),n&&[this.hardDeps,this.softDeps].forEach(function(e){e.forEach(function(e){i.depValues[e.str]=t.viewmodel.get(e)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,t)},updateDependencies:function(t){var e,n,i,r,s;for(n=this.softDeps,e=n.length;e--;)i=n[e],-1===t.indexOf(i)&&(r=!0,this.viewmodel.unregister(i,this,"computed"));for(e=t.length;e--;)i=t[e],-1!==n.indexOf(i)||this.hardDeps&&-1!==this.hardDeps.indexOf(i)||(r=!0,Ps(this.viewmodel,i)&&!this.unresolvedDeps[i.str]?(s=new yd(this,i.str),t.splice(e,1),this.unresolvedDeps[i.str]=s,tu.addUnresolved(s)):this.viewmodel.register(i,this,"computed"));return r&&(this.softDeps=t.slice()),r}};var bd={FAILED_LOOKUP:!0},kd={};Ms.prototype.setValue=function(t){this.viewmodel.set(this.keypath,t,{noMapping:!0})},Is.prototype={ensureKeypath:function(){if(!this.keypath&&(h(this.force)&&this.force(),!this.keypath))throw new Error('Mapping "'+this.localKey.str+'" on component "'+this.local.ractive.component.name+'" does not have a keypath. This is usually caused by an ambiguous complex reference, which can usually be fixed by scoping your references.')},get:function(t,e){return this.resolved?this.origin.get(this.map(t),e):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.ensureKeypath(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new Ms(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);t.origin.register(n,e.dep,e.group),h(e.dep.setValue)?e.dep.setValue(t.origin.get(n)):t.local.mark(e.dep.key)}),this.origin.mark(this.keypath)))},setValue:function(t){this.ensureKeypath(),this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(t,e,n){for(var i=this.deps,r=i.length;r--;)if(i[r].dep===e){i.splice(r,1);break}this.origin.unregister(this.map(t),e,n)}};var _d=function(t,e){var n,i,r,s;return n={},i=0,r=t.map(function(t,r){var o,a,u;a=i,u=e.length;do{if(o=e.indexOf(t,a),-1===o)return s=!0,-1;a=o+1}while(n[o]&&u>a);return o===i&&(i+=1),o!==r&&(s=!0),n[o]=!0,o})},xd={},Ed={implicit:!0},Ad={noCascade:!0},Cd=function(t,e){var n,i;this.ractive=t,this.mappings=e||ka(null);for(n in e)e[n].initViewmodel(this);if(t.data&&t.parameters!==!0)for(n in t.data)(i=this.mappings[n])&&void 0===i.getValue()&&i.setValue(t.data[n]);this.cache={},this.cacheMap=ka(null),this.deps={computed:ka(null),"default":ka(null)},this.depsMap={computed:ka(null),"default":ka(null)},this.patternObservers=[],this.specials=ka(null),this.wrapped=ka(null),this.computations=ka(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={}};Cd.prototype={adapt:gs,applyChanges:Es,capture:Ss,clearCache:Fs,compute:js,get:Ns,init:Ls,map:Us,mark:qs,merge:Bs,register:Ws,release:Hs,set:$s,smartUpdate:Ys,teardown:Js,unregister:Xs},eo.prototype={constructor:eo,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?no(this.queue,e).push(t):io(this,t),delete this.inProcess[t._guid]}};var Od=new b("construct"),Td=new b("config"),Sd=new eo("init"),Fd=0,Rd=ro,Pd=function(t,e,i,r,s){var o,a,u,h,c,l={};for(a=t.parentFragment,u=t.root,s=s||{},n(l,s||{}),s.content=r||[],l[""]=s.content,e.defaults.el&&f("The <%s/> component has a default `el` property; it has been disregarded",t.name),h=a;h;){if(h.owner.type===Bh){c=h.owner.container;break}h=h.parent}return o=ka(e.prototype),Rd(o,{el:null,append:!0,data:i.data,partials:s,magic:u.magic||e.defaults.magic,modifyArrays:u.modifyArrays,adapt:u.adapt},{parent:u,component:t,container:c,mappings:i.mappings,inlinePartials:l}),o};oo.prototype={bubble:function(){this.dirty||(this.dirty=!0,tu.addView(this))},update:function(){var t=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key.str,this.fragment.getValue()),t.mark(this.key),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var jd=["_data","_mappings"];po.prototype={resolve:function(t){this.resolved=!0,this.ready?this.readyResolve(t):this.notReadyResolve(t)},notReadyResolve:function(t){if(t.isSpecial)this.parameters.addData(this.key.str,t.value);else{var e=this.parameters.addMapping(this.key,t);void 0===e.getValue()&&(e.updatable=!0)}},readyResolve:function(t){var e=this.parameters.component.instance.viewmodel;t.isSpecial?(this.parameters.addData(this.key.str,t.value),e.mark(this.key)):e.reversedMappings&&e.reversedMappings[this.key.str]?e.reversedMappings[this.key.str].rebind(t):e.mappings[this.key.str].resolve(t)}},go.prototype={add:function(t,e){if("string"==typeof e){var n=bc(e);this.addData(t.str,n?n.value:e)}else if(0===e)this.addData(t.str);else{var i=void 0;i=yo(e)?new po(this,t,e[0]).resolver:new oo(this,t,e),this.component.resolvers.push(i)}},addData:function(t,e){this.data[t]=e},addMapping:function(t,e,n){return this.mappings[t.str]=new Is(t,{origin:this.parentViewmodel,keypath:e,force:n})}};var Nd=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Vd=new b("teardown"),Ld=function(t,e){this.init(t,e)};Ld.prototype={detach:cs,find:ls,findAll:ds,findAllComponents:fs,findComponent:ps,findNextNode:ms,firstNode:vs,init:ko,rebind:_o,render:xo,toString:Eo,unbind:Ao,unrender:Oo};var Dd=Ld,Md=function(t){this.type=Ih,this.value=t.template.c};Md.prototype={detach:kc,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var Id=function(t){var e,n;this.type=Bh,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var i=this.name=t.template.n||"";this.fragment=new qd({owner:this,root:e.parent,template:e._inlinePartials[i]||[],pElement:this.containerFragment.pElement}),r(n.yielders[i])?n.yielders[i].push(this):n.yielders[i]=[this],tu.scheduleTask(function(){if(n.yielders[i].length>1)throw new Error("A component template can only have one {{yield"+(i?" "+i:"")+"}} declaration at a time")})};Id.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),C(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment.toString()}};var Ud=function(t){this.declaration=t.template.a};Ud.prototype={init:Fa,render:Fa,unrender:Fa,teardown:Fa,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var qd=function(t){this.init(t)};qd.prototype={bubble:cn,detach:ln,find:dn,findAll:fn,findAllComponents:pn,findComponent:mn,findNextNode:vn,firstNode:gn,getArgsList:_n,getNode:xn,getValue:En,init:To,rebind:Fo,registerIndexRef:function(t){var e=this.registeredIndexRefs;-1===e.indexOf(t)&&e.push(t)},render:Ro,toString:Po,unbind:Vo,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:Do};var Bd,Kd=["template","partials","components","decorators","events"],Qd=new b("reset"),Wd=function(t,e){var n,i=function(e,n,s){s&&s.partials[t]||e.forEach(function(e){e.type===Mh&&e.getPartialName()===t&&n.push(e),e.fragment&&i(e.fragment.items,n,s),r(e.fragments)?i(e.fragments,n,s):r(e.items)?i(e.items,n,s):e.type===qh&&e.instance&&i(e.instance.fragment.items,n,e.instance),e.type===Dh&&(r(e.attributes)&&i(e.attributes,n,s),r(e.conditionalAttributes)&&i(e.conditionalAttributes,n,s))})},s=[];return i(this.fragment.items,s),this.partials[t]=e,n=tu.start(this,!0),s.forEach(function(e){e.value=void 0,e.setValue(t)}),tu.end(),n},zd=Nu("reverse"),Hd=/\*/,$d=Nu("shift"),Gd=Nu("sort"),Yd=Nu("splice"),Zd=new b("teardown"),Jd=new b("unrender"),Xd=Nu("unshift"),tf=new b("update"),ef={add:w,animate:X,detach:ee,find:ne,findAll:oe,findAllComponents:ae,findComponent:ue,findContainer:he,findParent:ce,fire:pe,get:me,insert:ve,merge:ye,observe:ke,observeOnce:_e,off:xe,on:Ee,once:Ae,pop:Vu,push:Lu,render:Te,reset:Mo,resetPartial:Wd,resetTemplate:Io,reverse:zd,set:Uo,shift:$d,sort:Gd,splice:Yd,subtract:qo,teardown:Bo,toggle:Qo,toHTML:Wo,toHtml:Wo,unrender:zo,unshift:Xd,update:Ho,updateModel:$o},nf=1;Bd=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(ta,this):ta(this)};var rf,sf,of=Bd,af=function(t){var e,n,i={};return t&&(e=t._ractive)?(i.ractive=e.root,i.keypath=e.keypath.str,i.index={},(n=Rn(e.proxy.parentFragment))&&(i.index=Rn.resolve(n)),i):i};rf=function(t){Rd(this,t)},sf={extend:{value:of},getNodeInfo:{value:af},parse:{value:parse},Promise:{value:$a},svg:{value:sa},magic:{value:ia},VERSION:{value:"0.7.0-edge"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ca},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Da},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},xa(rf,sf),rf.prototype=n(ef,ha),rf.prototype.constructor=rf,rf.defaults=rf.prototype;var uf="function";if(typeof Date.now!==uf||typeof String.prototype.trim!==uf||typeof Object.keys!==uf||typeof Array.prototype.indexOf!==uf||typeof Array.prototype.forEach!==uf||typeof Array.prototype.map!==uf||typeof Array.prototype.filter!==uf||"undefined"!=typeof window&&typeof window.addEventListener!==uf)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return rf});
//# sourceMappingURL=ractive.runtime.min.js.map