/*
	ractive.runtime.min.js v0.6.1
	2014-12-11 - commit 209b5456 

	http://ractivejs.org
	http://twitter.com/RactiveJS

	Released under the MIT License.
*/

!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports&&"function"==typeof require?module.exports=b():a.Ractive=b()}("undefined"!=typeof window?window:this,function(){"use strict";function a(a,d){var e,f,g;return f='[data-ractive-css="'+d+'"]',g=function(a){var b,d,e,g,h,i,j,k=[];for(b=[];d=oh.exec(a);)b.push({str:d[0],base:d[1],modifiers:d[2]});for(g=b.map(c),j=b.length;j--;)i=g.slice(),e=b[j],i[j]=e.base+f+e.modifiers||"",h=g.slice(),h[j]=f+" "+h[j],k.push(i.join(" "),h.join(" "));return k.join(", ")},e=qh.test(a)?a.replace(qh,f):a.replace(nh,"").replace(mh,function(a,c){var d,e;return ph.test(c)?a:(d=c.split(",").map(b),e=d.map(g).join(", ")+" ",a.replace(c,e))})}function b(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function c(a){return a.str}function d(a,b,c){var d,f=b.constructor._guid;(d=e(c.css,c,f)||e(a.css,a,f))&&(b.constructor.css=d)}function e(a,b,c){return a?b.noCssTransform?a:rh(a,c):void 0}function f(a,b){return"function"==typeof b&&/_super/.test(a)}function g(a,b,c){var d=c.data||{},e=k(a.prototype.data);if("object"!=typeof d&&"function"!=typeof d)throw new TypeError('data option must be an object or a function, "'+d+'" is not valid');return l(e,d)}function h(a,b,c){b.data=g(a,b,c)}function i(a,b,c){var d=c.data,e=g(a,b,c);return"function"==typeof e&&(e=e.call(b,d)||d),b.data=e||{}}function j(a){var b=this.init(a.constructor,a,a);return b?(a.data=b,!0):void 0}function k(a){if("function"!=typeof a||!Object.keys(a).length)return a;var b={};return m(a,b),l(a,b)}function l(a,b){return"function"==typeof b?p(b,a):"function"==typeof a?o(b,a):n(b,a)}function m(a,b,c){for(var d in a)!(b._mappings&&b._mappings[d]&&b._mappings[d].updatable)&&c&&d in b||(b[d]=a[d])}function n(a,b){return a=a||{},b?(m(b,a,!0),a):a}function o(a,b){return function(c){var d;if(a){d=[];for(var e in a)c&&e in c||d.push(e)}return c=b.call(this,c)||c,d&&d.length&&(c=c||{},d.forEach(function(b){c[b]=a[b]})),c}}function p(a,b){var c;return c="function"!=typeof b?function(a){n(a,b)}:function(a){return b=uh(b,function(){},!0),b.call(this,a)||a},uh(a,c)}function q(a,b){var c=a.map(b);return a.forEach(function(a,b){c[a]=c[b]}),c}function r(a){var b=Dh(Gh);return b.parse=function(b,c){return s(b,c||a)},b}function s(a,b){if(!parse__default)throw new Error(xh.missingParser);return parse__default(a,b||this.options)}function t(a,b){var c;if(!zh){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if(u(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.innerHTML}function u(a){return a&&"#"===a.charAt(0)}function v(a){return!("string"==typeof a)}function w(a){return a.defaults&&(a=a.defaults),Fh.reduce(function(b,c){return b[c]=a[c],b},{ractive:a})}function x(a){var b,c=a._config.template;if(c&&c.fn)return b=y(a,c.fn),b!==c.result?(c.result=b,b=z(b,a)):void 0}function y(a,b){var c=Hh.createHelper(Hh.getParseOptions(a));return b.call(a,a.data,c)}function z(a,b){if("string"==typeof a)"#"===a[0]&&(a=Hh.fromId(a)),a=parse__default(a,Hh.getParseOptions(b));else if(2!==a.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return a}function A(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function B(a,b){this.name=a,this.useDefaults=b}function C(a,b){var c;return b.test(a)?b.getValue(a):!a.isolated&&(c=a.parent)?C(c,b):void 0}function D(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=E(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function E(a,b){var c;return b in a?!function(){var d=a[b];c="function"==typeof d?d:function(){return d}}():c=Sh,c}function F(a,b,c){if(b in a){if(c in a)throw new Error(G(b,c,!0));lh(G(b,c)),a[c]=a[b]}}function G(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function H(a){F(a,"eventDefinitions","events")}function I(a){fh(a.adaptors)&&F(a,"adaptors","adapt")}function J(a){F(a,"beforeInit","onconstruct"),F(a,"init","onrender"),F(a,"complete","oncomplete"),H(a),I(a)}function K(a,b,c,d,e){Kh[b][a](c,d,e)}function L(a){return a in bh&&!(a in Mh.parseOptions)&&!(a in Kh)}function M(a,b,c,d){Uh(d),K(a,"data",b,c,d),Mh.parseOptions.forEach(function(a){a in d&&(c[a]=d[a])});for(var e in d)if(L(e)){var f=d[e];c[e]="function"==typeof f?Th(b.prototype,e,f):f}Mh.registries.forEach(function(e){e[a](b,c,d)}),K(a,"template",b,c,d),K(a,"css",b,c,d),N(b.prototype,c,d)}function N(a,b,c){for(var d in c)if(!(d in Nh)&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=Th(a,d,e)),b[d]=e}}function O(a){return function(){return a}}function P(a){var b=xh[a.message]||a.message||"";return Q(b,a.args)}function Q(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function R(a){this.event=a,this.method="on"+a,this.deprecate=ei[a]}function S(a){setTimeout(a,0)}function T(a,b){return function(){for(var c;c=a.shift();)c(b)}}function U(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof fi)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,U(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function V(a){return(a||"").replace(mi,".$1")}function W(a,b){var c;if("."===b)return a;if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),c.join(".")}return a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,"")}function X(a,b,c){return b=ni(b),"~/"===b.substr(0,2)?(b=b.substring(2),Z(a,_(b),c),b):"."===b[0]?(b=pi(oi(c),b),b&&Z(a,_(b),c),b):Y(a,b,c)}function Y(a,b,c,d){var e,f,g,h,i;for(f=_(b);c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e+"."+b;return $(a,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,i=Y(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function Z(a,b){var c;!a.parent||a.isolated||$(a,b)||(c=Y(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c})}function $(a,b){return b in a.data||b in a.viewmodel.computations||b in a.viewmodel.mappings}function _(a){var b=a.indexOf(".");return~b?a.slice(0,b):a}function ab(a){a.teardown()}function bb(a){a.detach()}function cb(a){a.detachNodes()}function db(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function eb(){for(var a,b,c;si.viewmodels.length;)b=si.viewmodels.pop(),c=b.applyChanges(),c&&wi.fire(b.ractive,c);for(fb(),a=0;a<si.views.length;a+=1)si.views[a].update();for(si.views.length=0,a=0;a<si.tasks.length;a+=1)si.tasks[a]();return si.tasks.length=0,si.viewmodels.length?eb():void 0}function fb(){var a,b,c,d;for(a=vi.length;a--;)b=vi[a],b.keypath&&vi.splice(a,1),(c=qi(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),vi.splice(a,1));d&&d.forEach(gb)}function gb(a){a.item.resolve(a.keypath)}function hb(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,zi.start(d),d.viewmodel.mark(c),zi.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function ib(a,b,c){var d;if("string"!=typeof b||!ih(c))throw new Error("Bad arguments");if(d=+a.get(b)||0,!ih(d))throw new Error("Cannot add to a non-numeric value");return a.set(b,d+c)}function jb(a,b){return Mi(this,a,void 0===b?1:+b)}function kb(a){return ni(a).replace(ej,"")}function lb(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;if(d=new li(function(a){e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(n={},c.step=null,c.complete=null,m=function(a){return function(b,c){n[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(o=m(f),c={easing:i,duration:j},k&&(c.step=o)),c.complete=l?o:gj,h.push(mb(this,f,a[f],c)));return q={easing:i,duration:j},k&&(q.step=function(a){k(a,n)}),l&&d.then(function(a){l(a,n)}).then(null,function(a){di.consoleError({debug:r.debug,err:a})}),q.complete=e,p=mb(this,null,null,q),h.push(p),d.stop=function(){for(var a;a=h.pop();)a.stop();p&&p.stop()},d}return c=c||{},c.complete&&d.then(c.complete).then(null,function(a){di.consoleError({debug:r.debug,err:a})}),c.complete=e,g=mb(this,a,b,c),d.stop=function(){g.stop()},d}function mb(a,b,c,d){var e,f,g,h;return b&&(b=fj(b)),null!==b&&(h=a.viewmodel.get(b)),Ui.abort(b,a),dj(h,c)?(d.complete&&d.complete(d.to),hj):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new cj({keypath:b,from:h,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),Ui.add(g),a._animations.push(g),g)}function nb(){return this.detached?this.detached:(this.el&&hi(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),jj.fire(this),this.detached)}function ob(a){return this.el?this.fragment.find(a):null}function pb(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function qb(a){var b,c;for(b=[a],c=pb(a);c;)b.push(c),c=pb(c);return b}function rb(a,b,c,d){var e=[];return Li(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:nj}}),c?(Li(e,{cancel:{value:oj},_root:{value:a},_sort:{value:rj},_makeDirty:{value:sj},_remove:{value:tj},_dirty:{value:!1,writable:!0}}),e):e}function sb(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=uj(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function tb(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=uj(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function ub(a){return this.fragment.findComponent(a)}function vb(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function wb(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function xb(a){var b,c,d,e,f,g;for(b=a.split("."),(c=Cj[b.length])||(c=yb(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function yb(a){var b,c,d,e,f,g="";if(!Cj[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}Cj[a]=d}return Cj[a]}function zb(a,b,c){if(void 0===c&&(c={}),b){c.event?c.event.name=b:c.event={name:b,context:a.data,keypath:"",_noArg:!0};var d=Dj(b);Ab(a,d,c.event,c.args,!0)}}function Ab(a,b,c,d,e){void 0===e&&(e=!1);var f,g,h=!0;for(Bj.enqueue(a,c),g=b.length;g>=0;g--)f=a._subs[b[g]],f&&(h=Bb(a,f,c,d)&&h);if(Bj.dequeue(a),a.parent&&h){if(e&&a.component){var i=a.component.name+"."+b[b.length-1];b=Dj(i),c&&(c.component=a)}Ab(a.parent,b,c,d)}}function Bb(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function Cb(a){var b={args:Array.prototype.slice.call(arguments,1)};Ej(this,a,b)}function Db(a){var b;return a=fj(a),b=this.viewmodel.get(a,Gj),void 0===b&&this.parent&&!this.isolated&&qi(this,a,this.fragment)&&(b=this.viewmodel.get(a)),b}function Eb(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function Fb(a,b){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(a=Ij(a),b=Ij(b)||null,!a)throw new Error("You must specify a valid target to insert into");a.insertBefore(this.detach(),b),this.el=a,(a.__ractive_instances__||(a.__ractive_instances__=[])).push(this),this.detached=null,Gb(this)}function Gb(a){Jj.fire(a),a.findAllComponents("*").forEach(function(a){Gb(a.instance)})}function Hb(a,b,c){var d,e,f=this;return a=fj(a),d=this.viewmodel.get(a),fh(d)&&fh(b)?(e=zi.start(this,!0),this.viewmodel.merge(a,d,b,c),zi.end(),c&&c.complete&&(di.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.merge"}}),e.then(c.complete).then(null,function(a){di.consoleError({debug:f.debug,err:a})})),e):this.set(a,b,c&&c.complete)}function Ib(a,b){function c(b,c){var d,e,f;d=a.viewmodel.wrapped[c]?a.viewmodel.wrapped[c].get():a.get(c);for(e in d)!d.hasOwnProperty(e)||"_ractive"===e&&fh(d)||(f=c?c+"."+e:e,b.push(f));return b}function d(a){return function(b){return b?b+"."+a:a}}var e,f,g;for(e=b.split("."),g=[""];f=e.shift();)"*"===f?g=g.reduce(c,[]):""===g[0]?g[0]=f:g=g.map(d(f));return g}function Jb(a,b){var c,d;return c=Pj(a,b),d={},c.forEach(function(b){d[b]=a.get(b)}),d}function Kb(a,b,c,d){var e,f,g;return b=fj(b),d=d||_j,$j.test(b)?(e=new Zj(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new Oj(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0,{cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}}}function Lb(a,b,c){var d,e,f,g;if(hh(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",ak(this,a,b,c);if(f=a.split(" "),1===f.length)return ak(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(ak(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function Mb(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function Nb(a,b){var c,d=this;if(a)c=a.split(" ").map(dk).filter(ek),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function Ob(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(dk).filter(ek),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function Pb(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function Qb(a,b,c){var d,e,f,g,h,i,j=[];if(d=Rb(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j}function Rb(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}function Sb(a,b){var c,d,e,f=this;if(e=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),c=zi.start(this,!0),zi.scheduleTask(function(){return vk.fire(f)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(a=Ij(a)||this.el,b=Ij(b)||this.anchor,this.el=a,this.anchor=b,!this.append&&a){var g=a.__ractive_instances__;g&&g.length&&Tb(g),a.innerHTML=""}return this.constructor.css&&uk.add(this.constructor),a&&((d=a.__ractive_instances__)?d.push(this):a.__ractive_instances__=[this],b?a.insertBefore(this.fragment.render(),b):a.appendChild(this.fragment.render())),zi.end(),this.transitionsEnabled=e,c.then(function(){return wk.fire(f)}).then(null,function(a){di.consoleError({debug:f.debug,err:a})}),c}function Tb(a){try{a.splice(0,a.length).forEach(function(a){return a.teardown()})}catch(b){}}function Ub(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function Vb(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function Wb(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function Xb(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function Yb(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function Zb(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function $b(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function _b(){return this.items&&this.items[0]?this.items[0].firstNode():null}function ac(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function bc(a){var b,c,d,e;return b=a.pos,d=Yk(a),null===d?null:(c=[d],a.matchString(",")?(e=bc(a),e?c.concat(e):(a.pos=b,null)):c)}function cc(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=a.readExpression(),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=cc(a),null===f&&a.error(Ik.expectedExpression),f.forEach(b)),d)}function dc(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(Vk.name))return{t:Hk.REFINEMENT,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(Ik.expectedExpression),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:Hk.REFINEMENT,x:d}):null}function ec(a){return JSON.stringify(String(a))}function fc(a,b){var c,d;if(a.t===Hk.REFERENCE&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(hh(d))fc(d,b);else for(c=d.length;c--;)fc(d[c],b);a.x&&fc(a.x,b),a.r&&fc(a.r,b),a.v&&fc(a.v,b)}function gc(a,b,c){var d=function(b){return gc(a,b,c)};switch(b.t){case Hk.BOOLEAN_LITERAL:case Hk.GLOBAL:case Hk.NUMBER_LITERAL:return b.v;case Hk.STRING_LITERAL:return ec(b.v);case Hk.ARRAY_LITERAL:return"["+(b.m?b.m.map(d).join(","):"")+"]";case Hk.OBJECT_LITERAL:return"{"+(b.m?b.m.map(d).join(","):"")+"}";case Hk.KEY_VALUE_PAIR:return b.k+":"+gc(a,b.v,c);case Hk.PREFIX_OPERATOR:return("typeof"===b.s?"typeof ":b.s)+gc(a,b.o,c);case Hk.INFIX_OPERATOR:return gc(a,b.o[0],c)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+gc(a,b.o[1],c);case Hk.INVOCATION:return gc(a,b.x,c)+"("+(b.o?b.o.map(d).join(","):"")+")";case Hk.BRACKETED:return"("+gc(a,b.x,c)+")";case Hk.MEMBER:return gc(a,b.x,c)+gc(a,b.r,c);case Hk.REFINEMENT:return b.n?"."+b.n:"["+gc(a,b.x,c)+"]";case Hk.CONDITIONAL:return gc(a,b.o[0],c)+"?"+gc(a,b.o[1],c)+":"+gc(a,b.o[2],c);case Hk.REFERENCE:return"_"+c.indexOf(b.n);default:a.error("Expected legal JavaScript")}}function hc(a){var b,c,d;return a.allowWhitespace(),(b=Xk(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function ic(a){var b=this;return void 0===a&&(a=Bl),function(){var c,d,e,f,g,h,i;return c=a.args,g=c?"argsList":"value",h=c?"dirtyArgs":"dirtyValue",b[h]&&(e=jc(b.items,d={},b.root._guid),f=Al(c?"["+e+"]":e,d),i=f?f.value:c?[b.toString()]:b.toString(),b[g]=i,b[h]=!1),b[g]}()}function jc(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return jc(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=(f=a.root.viewmodel.wrapped[a.keypath])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function kc(a){return a.replace(Fl,"&amp;").replace(Dl,"&lt;").replace(El,"&gt;")}function lc(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a}function mc(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function nc(){return this.value}function oc(a,b){return a&&b&&a.substr(0,b.length+1)===b+"."}function pc(a,b,c){return a===b?void 0!==c?c:null:Nl(a,b)?null===c?c:a.replace(b+".",c+"."):void 0}function qc(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function rc(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function sc(a,b,c){var d;return"@"===b.charAt(0)?new Tl(a,b,c):(d=Wl(a.parentFragment,b))?new Vl(a,d,c):new Ql(a,b,c)}function tc(a){var b=a.slice(2);return"i"===a[1]&&ih(b)?+b:b}function uc(a,b){var c,d;if($l[a])return $l[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),$l[a]=c,c}function vc(a){return a.call()}function wc(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return d=b[c],void 0===d?"undefined":"@"===d[0]?(e=d.slice(1),ih(e)?e:'"'+e+'"'):d})}function xc(a){return"${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}"}function yc(a){return void 0!==a&&"@"!==a[0]}function zc(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){Ji(a,d,{value:am.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return Ji(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function Ac(a){return a.value}function Bc(a){return void 0!=a}function Cc(a){a.unbind()}function Dc(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!==c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.key=b.key,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=Yl(a,e,c)),b.template.x&&(a.resolver=new bm(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new fm(a,b.template.rx,d)),a.template.n!==Hk.SECTION_UNLESS||a.hasOwnProperty("value")||a.setValue(void 0)}function Ec(a){var b,c,d;return a&&"@"===a[0]?(this.keypath=a,void this.setValue(Zl(a))):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function Fc(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function Gc(){this.parentFragment.bubble()}function Hc(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)}function Ic(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function Jc(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function Kc(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function Lc(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function Mc(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function Nc(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function Oc(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Hk.SECTION_EACH){if(this.shuffling=!0,zi.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath+"."+b,h=i.keypath+"."+a,d.index=a,(j=d.registeredIndexRefs)&&j.forEach(Pc),d.rebind(g,h),void(f[a]=d)))}),e=this.root.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&zi.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function Pc(a){a.rebind("","")}function Qc(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function Rc(a){return xm.test(ym.call(a))}function Sc(a){var b,c,d=this;this.updating||(this.updating=!0,(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=bd(d.keypath,a),c.index=a,b=new qs(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):Uc(this,a)&&(this.bubble(),this.rendered&&zi.addView(this)),this.value=a,this.updating=!1)}function Tc(a,b,c){if(b===Hk.SECTION_EACH&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function Uc(a,b){var c={template:a.template.f,root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.subtype)switch(a.subtype){case Hk.SECTION_IF:return Zc(a,b,!1,c);case Hk.SECTION_UNLESS:return Zc(a,b,!0,c);case Hk.SECTION_WITH:return Yc(a,c);case Hk.SECTION_IF_WITH:return Xc(a,b,c);case Hk.SECTION_EACH:if(hh(b))return Tc(a,a.subtype,!0),Wc(a,b,c)}return a.ordered=!!zm(b),a.ordered?(Tc(a,Hk.SECTION_EACH,!1),Vc(a,b,c)):hh(b)||"function"==typeof b?a.template.i?(Tc(a,Hk.SECTION_EACH,!0),Wc(a,b,c)):(Tc(a,Hk.SECTION_WITH,!1),Yc(a,c)):(Tc(a,Hk.SECTION_IF,!1),Zc(a,b,!1,c))}function Vc(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(_c);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=bd(a.keypath,d),c.index=d,f=new qs(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function Wc(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(cd));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=bd(a.keypath,d),c.key=d,c.index=e++,g=new qs(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function Xc(a,b,c){return b?Yc(a,c):$c(a)}function Yc(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new qs(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function Zc(a,b,c,d){var e,f,g,h,i;if(f=zm(b)&&0===b.length,g=!1,!zm(b)&&hh(b)){g=!0;for(i in b){g=!1;break}}return e=c?f||g||!b:b&&!f&&!g,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(_c),!0):void 0:(d.index=0,h=new qs(d),a.fragmentsToRender.push(a.fragments[0]=h),a.length=1,!0):$c(a)}function $c(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(ad),a.fragmentsToUnrender.forEach(_c),a.length=a.fragmentsToRender.length=0,!0):void 0}function _c(a){a.unbind()}function ad(a){return a.rendered}function bd(a,b){return(a?a+".":"")+b}function cd(a){a.rebind("","")}function dd(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function ed(){var a=this;this.fragments.forEach(fd),this.fragmentsToRender.forEach(function(b){return hi(a.fragments,b)}),this.fragmentsToRender=[],Ll.call(this),this.length=0,this.unbound=!0}function fd(a){a.unbind()}function gd(a){this.fragments.forEach(a?hd:id),this.renderedFragments=[],this.rendered=!1}function hd(a){a.unrender(!0)}function id(a){a.unrender(!1)}function jd(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function kd(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function ld(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(mj(d,a))return d;if(e=d.querySelector(a))return e}return null}function md(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(mj(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function nd(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function od(a){return Nm[a]||(Nm[a]=Hi(a))}function pd(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function qd(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=Sm(a.node.options).filter(rd),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function rd(a){return a.selected}function sd(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Rm(this.value,this.parentFragment.getNode(),this.docFrag),Tm(this.pElement),this.rendered=!0,this.docFrag}function td(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&zi.addView(this))
}function ud(a){return a.replace(Qm,function(a,b){var c;return c="#"!==b[0]?Om[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(vd(c)):a})}function vd(a){return a?10===a?32:128>a?a:159>=a?Pm[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function wd(){return void 0!=this.value?Wm(""+this.value):""}function xd(a){this.rendered&&a&&(this.nodes.forEach(Hl),this.rendered=!1)}function yd(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=Rm(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Tm(this.pElement)}}function zd(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function Ad(){return null}function Bd(){return this.node}function Cd(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function Dd(){var a=this.fragment.getValue();dj(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&zi.addView(this))}function Ed(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Hk.INTERPOLATOR?b[0]:void 0}function Fd(a){return this.type=Hk.ATTRIBUTE,this.element=a.element,this.root=a.root,vn(this,a.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new qs({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=wn(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,yn(this,a),void(this.ready=!0)):void(this.value=un.test(this.name)?!0:a.value||"")}function Gd(a,b){this.fragment&&this.fragment.rebind(a,b)}function Hd(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==Fi.html||(b=Bn[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(un.test(b)||"value"===b)&&(this.useProperty=!0),"value"===b&&(this.useProperty=!0,a._ractive.value=this.value)),this.rendered=!0,this.update()}function Id(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;return"value"===b&&("select"===this.element.name||"textarea"===this.element.name)||"value"===b&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===b&&"input"===this.element.name&&e?"name={{"+(e.keypath||e.ref)+"}}":un.test(b)?d?b:"":(f&&(d=f.toString()),c&&(b=c+":"+b),d?b+'="'+Jd(d)+'"':b)}function Jd(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Kd(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Ld(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function Md(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function Nd(){var a,b,c,d,e=this.value;for(fh(e)||(e=[e]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=Gn(e,d)}function Od(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function Pd(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return zi.addViewmodel(b.root.viewmodel),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function Qd(){var a,b,c=this,d=c.element,e=c.node,f=c.value;if(a=d.getAttribute("value"),fh(f)){for(b=f.length;b--;)if(a==f[b])return void(e.checked=!0);e.checked=!1}else e.checked=f==a}function Rd(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b}function Sd(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function Td(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function Ud(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function Vd(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function Wd(){this.locked||(this.node[this.propertyName]=this.value)}function Xd(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):un.test(d)?e?b.setAttribute(d,""):b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function Yd(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=Mn:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?Hn:Fn:"textarea"===e.name?b=Pn:null!=e.getAttribute("contenteditable")?b=On:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?Sh:"radio"===a&&e.binding&&"name"===e.binding.name?Jn:Pn):this.twoway&&"name"===d?"radio"===f.type?b=In:"checkbox"===f.type&&(b=Kn):"style"===d&&f.style.setAttribute?b=Nn:"class"!==d||f.namespaceURI&&f.namespaceURI!==Fi.html?this.useProperty&&(b=Qn):b=Ln,b||(b=Rn),this.update=b,this.update()}function Zd(a,b){var c=b?"svg":"div";return Un.innerHTML="<"+c+" "+a+"></"+c+">",Sm(Un.childNodes[0].attributes)}function $d(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function _d(a){for(;a=a.parent;)if("form"===a.name)return a}function ae(){this._ractive.binding.handleChange()}function be(a,b,c){var d=a+b+c;return ho[d]||(ho[d]=[])}function ce(a){return a.isChecked}function de(a){return a.element.getAttribute("value")}function ee(){var a;eo.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function fe(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&eo.call(b),a._timeout=void 0},a.element.lazy)}function ge(a){var b,c,d,e,f=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||f.contenteditable&&he(f.contenteditable))&&he(f.value)?c=go:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=he(f.name),e=he(f.checked),d&&e&&di.error({message:"badRadioInputBinding"}),d?c="radio"===b?mo:oo:e&&(c="radio"===b?ko:qo)):"file"===b&&he(f.value)?c=xo:he(f.value)&&(c="number"===b||"range"===b?Bo:Ao)):"select"===a.name&&he(f.value)?c=a.getAttribute("multiple")?vo:so:"textarea"===a.name&&he(f.value)&&(c=Ao),c?new c(a):void 0}function he(a){return a&&a.isBindable}function ie(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function je(a){Ej(this.root,this.getAction(),{event:a})}function ke(){return this.action.toString().trim()}function le(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&(di.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:a.tagName,event:b}}),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=_l(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c;(c=Ho.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(Yl(g,a,function(a){return g.resolve(b,a)}))}),this.fire=me):(d=c.n||c,"string"!=typeof d&&(d=new qs({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new qs({template:c.d,root:this.root,owner:this.element}),this.fire=oe):c.a&&(this.params=c.a,this.fire=ne))}function me(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),Bj.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),Bj.dequeue(b)}function ne(a){Ej(this.root,this.getAction(),{event:a,args:this.params})}function oe(a){var b=this.dynamicParams.getValue(Go);"string"==typeof b&&(b=b.substr(1,b.length-2)),Ej(this.root,this.getAction(),{event:a,args:b})}function pe(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=Wl(c.element.parentFragment))&&(e=Wl.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath,context:b.root.get(b.keypath)})}function qe(){var a,b=this.name;if(!this.invalid){if(a=Xh.registries.events.find(this.root,b))this.custom=a(this.node,re(b));else{if(!("on"+b in this.node||window&&"on"+b in window))return void(Lo[b]||di.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:b}}));this.node.addEventListener(b,Jo,!1)}this.hasListener=!0}}function re(a){return Ko[a]||(Ko[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath,b.context=c.root.get(c.keypath),c.events[a].fire(b)}),Ko[a]}function se(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function te(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function ue(a,b){this.keypaths[a]=b}function ve(){return this.method?void this.refResolvers.forEach(we):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function we(a){a.unbind()}function xe(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,Jo,!1),this.hasListener=!1}function ye(a){var b,c,d,e,f;b=a.node,b&&(e=Sm(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?ze(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function ze(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function Ae(){var a=this;this.dirty||(this.dirty=!0,zi.scheduleTask(function(){_o(a),a.dirty=!1})),this.parentFragment.bubble()}function Be(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function Ce(a,b){a.select=bp(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function De(a){var b,c,d,e,f,g;this.type=Hk.ELEMENT,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=on(c.e),"option"===this.name&&cp(this,c),"select"===this.name&&(this.options=[],this.bubble=ap),"form"===this.name&&(this.formBindings=[]),rn(this,c.a||{}),this.attributes=Wn(this,c.a),this.conditionalAttributes=Zn(this,c.m),c.f&&(this.fragment=new qs({template:c.f,root:d,owner:this,pElement:this})),g=d.twoway,this.twoway===!1?g=!1:this.twoway===!0&&(g=!0),g&&(e=Co(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath]||(this.root._twowayBindings[e.keypath]=[]),f.push(e)),c.v&&(this.eventHandlers=Wo(this,c.v)),c.o&&(this.decorator=new $o(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function Ee(a,b){return a===b||Nl(a,b)}function Fe(a,b,c,d){var e=a[b];if(e&&!ep(e,d)&&ep(e,c))return a[b]=Ol(e,c,d),!0}function Ge(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&fp(e,"keypath",a,b)}function He(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function Ie(){var a=this._ractive.proxy;zi.start(),a.formBindings.forEach(Je),zi.end()}function Je(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function Ke(a){a.node.addEventListener("reset",ip,!1)}function Le(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new qs({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new qs({template:b.d,root:d,owner:a}),this.params=f.getValue(kp),f.unbind()),this._fn=Xh.registries.transitions.find(d,e),this._fn||di.error({debug:d.debug,message:"missingPlugin",args:{plugin:"transition",name:e}}))}function Me(a){return a}function Ne(){Mp.hidden=document[Ip]}function Oe(){Mp.hidden=!0}function Pe(){Mp.hidden=!1}function Qe(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&Re(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Re(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function Se(){var a,b,c=this,d=this.root;return a=Te(this),b=this.node=Hi(this.name,a),d.constructor.css&&this.parentFragment.getNode()===d.el&&this.node.setAttribute("data-ractive-css",d.constructor._guid),Ji(this.node,"_ractive",{value:{proxy:this,keypath:oi(this.parentFragment),events:Dh(null),root:d}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=Zp,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Sh):"style"===this.name?(this.bubble=Yp,this.bubble(),this.fragment.unrender=Sh):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Sh:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&Ue(this),"img"===this.name?hp(this):"form"===this.name?jp(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&zi.scheduleTask(function(){c.decorator.torndown||c.decorator.init()},!0),d.transitionsEnabled&&this.intro&&!function(){var a=new $p(c,c.intro,!0);zi.registerTransition(a),zi.scheduleTask(function(){return a.start()},!0),c.transition=a}(),this.node.autofocus&&zi.scheduleTask(function(){return c.node.focus()},!0),Ve(this),this.node}function Te(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?Fi.svg:(d=a.parent)?"foreignObject"===d.name?Fi.html:d.node.namespaceURI:a.root.el.namespaceURI}function Ue(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&fh(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function Ve(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function We(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&fh(c))for(d=c.length;d--;)if(c[d]==b)return!0}function Xe(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function Ye(a){var b=a.toString();return b?" "+b:""}function Ze(a){a.select&&hi(a.select.options,a)}function $e(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(_e),"option"===this.name&&dq(this),this.attributes.forEach(_e),this.conditionalAttributes.forEach(_e)}function _e(a){a.unbind()}function af(a){a.node.removeEventListener("reset",ip,!1)}function bf(a){var b,c,d=this;this.transition&&this.transition.complete(),"option"===this.name?this.detach():a&&zi.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.unrender()}),this.decorator&&zi.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&!function(){var a=new $p(d,d.outro,!1);zi.registerTransition(a),zi.scheduleTask(function(){return a.start()})}(),this.liveQueries&&cf(this),"form"===this.name&&fq(this)}function cf(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function df(a,b){var c=kq.exec(b)[0];return null===a||c.length<a.length?c:a}function ef(a,b){var c;if(c=ff(a,b))return c;if(c=Hh.fromId(b,{noThrow:!0})){c=lq(c);var d=Hh.parse(c,Hh.getParseOptions(a));return a.partials[b]=d.t}}function ff(a,b){var c=Xh.registries.partials,d=c.findInstance(a,b);if(d){var e,f=d.partials[b];if("function"==typeof f&&(e=f.bind(d),e.isOwner=d.partials.hasOwnProperty(b),f=e(d.data,Hh)),!f&&""!==f)return void di.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:b}});if(!Hh.isParsed(f)){var g=Hh.parse(f,Hh.getParseOptions(d));g.p&&di.warn({debug:a.debug,message:"noNestedPartials",args:{rname:b}});var h=e?d:c.findOwner(d,b);h.partials[b]=f=g.t}return e&&(f._fn=e),f.v?f.t:f}}function gf(a,b){var c,d=Xh.registries.components.findInstance(a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(d.data),!c)return void di.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:b}});"string"==typeof c&&(c=gf(a,c)),c._fn=e,d.components[b]=c}return c}function hf(){var a=this.instance.fragment.detach();return rq.fire(this.instance),a}function jf(a){return this.instance.fragment.find(a)}function kf(a,b){return this.instance.fragment.findAll(a,b)}function lf(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function mf(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function nf(){return this.parentFragment.findNextNode(this)}function of(){return this.rendered?this.instance.fragment.firstNode():null}function pf(a){this.hook=new gi(a),this.inProcess={},this.queue={}}function qf(a,b){return a[b._guid]||(a[b._guid]=[])}function rf(a,b){var c=qf(a.queue,b);for(a.hook.fire(b);c.length;)rf(a,c.shift());delete a.queue[b._guid]}function sf(a,b){var c,d,e,f,g=this.ractive;for(c=g.adapt.length,d=0;c>d;d+=1){if(e=g.adapt[d],"string"==typeof e){var h=Xh.registries.adaptors.find(g,e);if(!h)return di.critical({debug:g.debug,message:"missingPlugin",args:{plugin:"adaptor",name:e}});e=g.adapt[d]=h}if(e.filter(b,a,g))return f=this.wrapped[a]=e.wrap(g,b,a,uf(a)),f.value=b,b}return g.magic?Qq.filter(b,a,g)?this.wrapped[a]=Qq.wrap(g,b,a):Di.filter(b,a,g)&&(this.wrapped[a]=Di.wrap(g,b,a)):g.modifyArrays&&Pq.filter(b,a,g)&&(this.wrapped[a]=Pq.wrap(g,b,a)),b}function tf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function uf(a){var b;return Rq[a]||(b=a?a+".":"",Rq[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?tf(c,a):c:void 0}),Rq[a]}function vf(a){var b,c,d,e,f=[""];for(b=a.length;b--;)for(c=a[b],d=c.split(".");d.length>1;)d.pop(),e=d.join("."),-1===f.indexOf(e)&&f.push(e);return f}function wf(a){var b,c,d,e;return b=a.split("."),c=xf(b.length),d=function(a,c){return a?"*":b[c]},e=c.map(function(a){return a.map(d).join(".")})}function xf(a){var b,c,d,e,f,g="";if(!Uq[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}Uq[a]=d}return Uq[a]}function yf(a,b,c){var d;Af(a,b),c||(d=Vq(b),d.forEach(function(c){zf(a,c,b)}))}function zf(a,b,c){var d,e,f;d=a.depsMap.patternObservers,d&&(e=d[b])&&e.forEach(function(b){var d=Wq.exec(b)[0];f=c?c+"."+d:d,Af(a,f),zf(a,b,f)})}function Af(a,b){a.patternObservers.forEach(function(a){a.regex.test(b)&&a.update(b)})}function Bf(){function a(c){var d,f;e.noCascade.hasOwnProperty(c)||((f=e.deps.computed[c])&&f.forEach(function(c){c.viewmodel===e?(e.clearCache(c.key),c.invalidate(),b.push(c.key),a(c.key)):c.viewmodel.mark(c.key)}),(d=e.depsMap.computed[c])&&d.forEach(a))}var b,c,d=this,e=this,f={};return b=this.changes,b.length?(b.slice().forEach(a),c=Tq(b),c.forEach(function(a){var c;-1===b.indexOf(a)&&(c=e.deps.computed[a])&&(d.changes.push(a),c.forEach(function(a){a.viewmodel.mark(a.key)}))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(a){return Xq(d,a,!0)}),b.forEach(function(a){return Xq(d,a)})),this.deps.observers&&(c.forEach(function(a){return Cf(d,null,a,"observers")}),Ef(this,b,"observers")),this.deps["default"]&&!function(){var a=[];c.forEach(function(b){return Cf(d,a,b,"default")}),a.length&&Df(d,a,b),Ef(d,b,"default")}(),b.forEach(function(a){f[a]=d.get(a)}),this.implicitChanges={},this.noCascade={},f):void 0}function Cf(a,b,c,d){var e,f;(e=Ff(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function Df(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function Ef(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=Ff(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function Ff(a,b,c){var d=a.deps[c];return d?d[b]:null}function Gf(){this.captureGroups.push([])}function Hf(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function If(a){var b="var __ractive=this;return("+a.replace(_q,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(b)}function Jf(a,b){var c=b.split(".")[0];return!(c in a.ractive.data||c in a.computations||c in a.mappings)}function Kf(a,b){return b=ar(b),this.computations[a]=new fr(this.ractive,a,b)}function Lf(a,b){var c=this;return void 0===b&&(b=ir),function(){var d,e,f,g,h,i=c.ractive,j=c.cache;return b.capture&&(h=c.captureGroups[c.captureGroups.length-1])&&(~h.indexOf(a)||h.push(a)),(d=c.mappings[a.split(".")[0]])?d.get(a,b):"@"===a[0]?Zl(a):(void 0===j[a]?((f=c.computations[a])&&!f.bypass?(e=f.get(),c.adapt(a,e)):(g=c.wrapped[a])?e=g.value:a?e=Mf(c,a):(c.adapt("",i.data),e=i.data),j[a]=e):e=j[a],!b.noUnwrap&&(g=c.wrapped[a])&&(e=g.get()),e===hr?void 0:e)}()}function Mf(a,b){var c,d,e,f,g,h,i;return c=b.split("."),d=c.pop(),e=c.join("."),f=a.get(e),(i=a.wrapped[e])&&(f=i.get()),null!==f&&void 0!==f?((g=a.cacheMap[e])?-1===g.indexOf(b)&&g.push(b):a.cacheMap[e]=[b],"object"!=typeof f||d in f?(h=f[d],a.adapt(b,h,!1),a.cache[b]=h,h):a.cache[b]=hr):void 0}function Nf(a){var b=xh[a.message]||a.message||"";return Of(b,a.args)}function Of(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function Pf(){var a,b,c=[];for(a in this.ractive.computed)b=this.compute(a,this.ractive.computed[a]),c.push(b),a in this.mappings&&nr.critical({message:"Cannot map to a computed property ('"+a+"')"});c.forEach(Qf)}function Qf(a){a.init()}function Rf(a,b){this.keypath=a,this.viewmodel=b}function Sf(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.trackData=b.trackData,this.resolved=!1}function Tf(a,b){var c=new qr(a,b);return c.initViewmodel(this),c}function Uf(a,b){var c;zi.addViewmodel(this),b&&(b.implicit&&(this.implicitChanges[a]=!0),b.noCascade&&(this.noCascade[a]=!0)),(c=this.computations[a])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var d=b?b.dontTeardownWrapper:!1;this.clearCache(a,d)}function Vf(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=Xf(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){if(this.debug)throw i;lh("Merge operation: comparison failed. Falling back to identity checking"),e=b,f=c}}else e=b,f=c;h=tr(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function Wf(a){return JSON.stringify(a)}function Xf(a){if(a===!0)return Wf;if("string"==typeof a)return ur[a]||(ur[a]=function(b){return b[a]}),ur[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Yf(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.register(a,b,c);e=this.deps[c]||(this.deps[c]={}),f=e[a]||(e[a]=[]),f.push(b),a&&Zf(this,a,c)}}function Zf(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c]||(a.depsMap[c]={}),g=f[e]||(f[e]=[]),void 0===g[b]&&(g[b]=0,g.push(b)),g[b]+=1,b=e}function $f(){return this.captureGroups.pop()}function _f(a,b,c){void 0===c&&(c={});var d,e,f,g;if(!c.noMapping&&(d=this.mappings[a.split(".")[0]]))return d.set(a,b);if(e=this.computations[a]){if(e.setting)return;e.set(b),b=e.get()}dj(this.cache[a],b)||(f=this.wrapped[a],f&&f.reset&&(g=f.reset(b)!==!1,g&&(b=f.get())),e||g||ag(this,a,b),c.silent?this.clearCache(a):this.mark(a))}function ag(a,b,c){var d,e,f,g,h,i,j;i=function(){g.set?g.set(e,c):(h=g.get(),j())},j=function(){h||(h=Bi(e),a.set(f,h,{silent:!0})),h[e]=c},d=b.split("."),e=d.pop(),f=d.join("."),g=a.wrapped[f],g?i():(h=a.get(f),(g=a.wrapped[f])?i():j())}function bg(a,b,c){var d,e,f=this;if(e=c.length,c.forEach(function(b,c){-1===b&&f.mark(a+"."+c,Ar)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a])&&d.filter(cg).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){this.mark(a+".length",zr);for(var g=e;g<b.length;g+=1)this.mark(a+"."+g);for(var g=b.length;e>g;g+=1)this.mark(a+"."+g,Ar)}}function cg(a){return"function"==typeof a.shuffle}function dg(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function eg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.unregister(a,b,c);if(e=this.deps[c][a],f=e.indexOf(b),-1===f)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");e.splice(f,1),a&&fg(this,a,c)}}function fg(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c],g=f[e],g[b]-=1,g[b]||(hi(g,b),g[b]=void 0),b=e}function gg(a){return"string"==typeof a&&(a=[a]),a}function hg(a,b,c){void 0===b&&(b={}),void 0===c&&(c={});var d;ig(a,c),Ir.fire(Xh.getConstructTarget(a,b),b),Xh.init(a.constructor,a,b),Jr.fire(a),Kr.begin(a),a.viewmodel=new Hr(a,c.mappings),a.viewmodel.init(),a.template&&(a.fragment=new qs({template:a.template,root:a,owner:a})),Kr.end(a),(d=Ij(a.el))&&a.render(d,a.append)}function ig(a,b){a._guid=Aq(),a._subs=Dh(null),a._config={},a._twowayBindings=Dh(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function jg(a,b,c){this.parameters=a,this.parentFragment=a.component.parentFragment,this.key=b,this.fragment=new qs({template:c,root:a.component.root,owner:this}),this.parameters.addData(this.key,this.fragment.getValue())}function kg(a,b){return b.parameters?Ei&&"legacy"!==b.parameters?mg(a,b):lg(a):a.data}function lg(a){var b,c=a.mappings;for(b in c){var d=c[b];d.trackData=!0,d.updatable||a.addData(b,d.getValue())}return a.data}function mg(a,b){var c=ng(a,b);return new c(a)}function ng(a,b){var c=b._parameters;return(!c.Constructor||a.newKeys.length)&&(c.Constructor=og(a,c.defined)),c.Constructor}function og(a,b){function c(a){this._mappings=a.mappings,this._data=a.data||{}}var d,e;return d=a.keys.reduce(function(a,b){return a[b]={get:function(){var a=this._mappings[b];return a?a.getValue():this._data[b]},set:function(a){var c=this._mappings[b];c?(zi.start(),c.setValue(a),zi.end()):this._data[b]=a},enumerable:!0},a},b),Li(e={},d),e.constructor=c,c.prototype=e,c}function pg(a,b,c){var d,e;this.parameters=a,this.key=b,this.resolved=this.ready=!1,d=a.component,e=this.resolve.bind(this),c.r?this.resolver=Yl(d,c.r,e):c.x?this.resolver=new bm(d,d.parentFragment,c.x,e):c.rx&&(this.resolver=new fm(d,c.rx,e)),this.resolved||a.addMapping(b),this.ready=!0}function qg(a,b,c){var d,e,f;return c?(b.parameters&&(f=rg(b)),d=new sg(a,c,f),e=Or(d,b),{data:e,mappings:d.mappings}):{data:{}}}function rg(a){return a._parameters?a._parameters.defined||(a._parameters.defined={}):a._parameters={defined:{}},a._parameters.defined}function sg(a,b,c){var d=this;this.component=a,this.parentViewmodel=a.root.viewmodel,this.data={},this.mappings=Dh(null),this.newKeys=[],this.keys=Object.keys(b),this.keys.forEach(function(a){c&&!c[a]&&d.newKeys.push(a),d.add(a,b[a])})}function tg(a){return 1===a.length&&a[0].t===Hk.INTERPOLATOR}function ug(a,b){var c;for(c in b)b.hasOwnProperty(c)&&vg(a.instance,a.root,c,b[c])}function vg(a,b,c,d){"string"!=typeof d&&di.error({debug:b.debug,message:"noComponentEventArguments"}),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),Ej(b,d,{event:a,args:c}),!1})}function wg(a,b){var c,d,e;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=Hk.COMPONENT,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],e=Qr(this,b.prototype,a.template.a),Mr(this,b,e,a.template.f,a.template.p),Rr(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&lr('The "intro", "outro" and "decorator" directives have no effect on components'),Sr(this)}function xg(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function yg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function zg(){return this.instance.fragment.toString()}function Ag(){var a=this.instance;this.resolvers.forEach(Bg),Cg(this),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&hi(a.el.__ractive_instances__,a),Xr.fire(a)}function Bg(a){a.unbind()}function Cg(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function Dg(a){this.shouldDestroy=a,this.instance.unrender()}function Eg(a){if("string"==typeof a.template)return new Kl(a);switch(a.template.t){case Hk.INTERPOLATOR:return"yield"===a.template.r?new ds(a):new lm(a);case Hk.SECTION:return new Im(a);case Hk.TRIPLE:return new dn(a);case Hk.ELEMENT:var b;return(b=qq(a.parentFragment.root,a.template.e))?new _r(a,b):new iq(a);case Hk.PARTIAL:return new pq(a);case Hk.COMMENT:return new bs(a);case Hk.DOCTYPE:return new fs(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Fg(a){var b,c=this;this.owner=a.owner,b=this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],"string"==typeof a.template?a.template=[a.template]:a.template||(a.template=[]),this.items=a.template.map(function(b,d){return gs({parentFragment:c,pElement:a.pElement,template:b,index:d})
}).filter(function(a){return null!==a}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Gg(a,b){fp(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function Hg(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function Ig(a){return this.items?this.items.map(function(b){return b.toString(a)}).join(""):""}function Jg(){this.bound&&(this.items.forEach(Kg),this.bound=!1)}function Kg(a){a.unbind&&a.unbind()}function Lg(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function Mg(a,b){var c,d,e,f,g,h=this;if("function"!=typeof a||b?a=a||{}:(b=a,a={}),"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((d=this.viewmodel.wrapped[""])&&d.reset?d.reset(a)===!1&&(this.data=a):this.data=a,e=Xh.reset(this),f=e.length;f--;)if(rs.indexOf(e[f])>-1){g=!0;break}if(g){var i;this.viewmodel.mark(""),(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new qs({template:this.template,root:this,owner:this})),c=this.render(this.el,this.anchor)}else c=zi.start(this,!0),this.viewmodel.mark(""),zi.end();return ss.fire(this,a),b&&(di.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.reset"}}),c.then(b).then(null,function(a){di.consoleError({debug:h.debug,err:a})})),c}function Ng(a){var b,c;Xh.template.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new qs({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function Og(a,b,c){var d,e,f=this;if(e=zi.start(this,!0),hh(a)){d=a,c=b;for(a in d)d.hasOwnProperty(a)&&(b=d[a],a=fj(a),this.viewmodel.set(a,b))}else a=fj(a),xs.test(a)?Pj(this,a).forEach(function(a){f.viewmodel.set(a,b)}):this.viewmodel.set(a,b);return zi.end(),c&&(di.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.set"}}),e.then(c.bind(this)).then(null,function(a){di.consoleError({debug:f.debug,err:a})})),e}function Pg(a,b){return Mi(this,a,void 0===b?-1:-b)}function Qg(a){var b,c=this;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&hi(this.el.__ractive_instances__,this),this.shouldDestroy=!0,b=this.fragment.rendered?this.unrender():li.resolve(),Ds.fire(this),a&&(di.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),b.then(a.bind(this)).then(null,function(a){di.consoleError({debug:c.debug,err:a})})),this._boundFunctions.forEach(Rg),b}function Rg(a){delete a.fn[a.prop]}function Sg(a,b){var c;return"string"!=typeof a&&di.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:a}}),c=this.get(a),this.set(a,!c,b)}function Tg(){return this.fragment.toString(!0)}function Ug(){var a,b,c=this;if(!this.fragment.rendered)return di.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"}),li.resolve();for(a=zi.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&a.then(function(){uk.remove(c.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),hi(this.el.__ractive_instances__,this),Hs.fire(this),zi.end(),a}function Vg(a,b){var c,d=this;return"function"==typeof a?(b=a,a=""):a=a||"",c=zi.start(this,!0),this.viewmodel.mark(a),zi.end(),Ks.fire(this,a),b&&(di.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),c.then(b.bind(this)).then(null,function(a){di.consoleError({debug:d.debug,err:a})})),c}function Wg(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||ep(d,a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=Xg(this,e),this.set(c)}function Xg(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath]||a.changed()||(d.push(a.keypath),d[a.keypath]=a));b=a.attribute.value,e=a.getValue(),to(b,e)||dj(b,e)||(c[a.keypath]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a],e=b.attribute.value,f=b.getValue(),to(e,f)||(c[a]=f)}),c}function Yg(a){if(!(a.prototype instanceof Ts))return a;for(var b={};a;)Xh.registries.forEach(function(c){Zg(c.useDefaults?a.prototype:a,b,c.name)}),Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e,f=d._method;f&&(d=d._method),e=uh(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}}),a=a._Parent!==Ts?a._Parent:!1;return b}function Zg(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function $g(a){void 0===a&&(a={});var b,c,d,e=this;return a=Os(a),b=function(a,b){Lr(this,a,b)},c=Dh(e.prototype),c.constructor=b,d={_guid:{value:Ps++},defaults:{value:c},extend:{value:$g,writable:!0,configurable:!0},_Parent:{value:e}},Li(b,d),Xh.extend(e,c,a),Hr.extend(e,c),b.prototype=c,b}var _g,ah={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,noCssTransform:!1,debug:!1},bh=ah,ch={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}},dh=Object.prototype.hasOwnProperty,eh=Object.prototype.toString,fh=function(a){return"[object Array]"===eh.call(a)},gh=Object.prototype.toString,hh=function(a){return a&&"[object Object]"===gh.call(a)},ih=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},jh={};_g="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(a,b){if(!b){if(jh[a])return;jh[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:function(){};var kh,lh=_g,mh=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,nh=/\/\*.*?\*\//g,oh=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,ph=/^@media/,qh=/\[data-ractive-css="[a-z0-9-]+"]/g,rh=a,sh={name:"css",extend:d,init:function(){}},th=sh,uh=function(a,b,c){return c||f(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},vh={name:"data",extend:h,init:i,reset:j},wh=vh,xh={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',usePromise:"{method} now returns a Promise, use {method}(...).then(callback) instead.",noTwowayExpressions:"Two-way binding does not work with expressions. Encountered ( {expression} ) on element {element}.",computedCannotMapTo:'Computed property "{key}" cannot be mapped to "{other}" because {reason}.',notUsed:'prevents forgetting trailing "," in cut and paste of previous line :)'},yh="object"==typeof document,zh=yh;try{Object.create(null),kh=Object.create}catch(Ah){kh=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var Bh,Ch,Dh=kh,Eh=q;Bh=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],Ch=Eh(Bh,function(a){return a});var Fh=Ch,Gh={parse:s,fromId:t,isHashedId:u,isParsed:v,getParseOptions:w,createHelper:r},Hh=Gh,Ih={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:z(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=y(b,e),b._config.template={fn:e,result:d}),d=z(d,b),b.template=d.t,d.p&&A(b.partials,d.p)},reset:function(a){var b,c=x(a);return c?(b=z(c,a),a.template=b.t,A(a.partials,b.p,!0),!0):void 0}},Jh=Ih;B.prototype={constructor:B,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,b,c)},configure:function(a,b,c){var d,e=this.name,f=c[e];d=Dh(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c},findOwner:function(a,b){return a[this.name].hasOwnProperty(b)?a:this.findConstructor(a.constructor,b)},findConstructor:function(a,b){return a?a[this.name].hasOwnProperty(b)?a:this.findConstructor(a._Parent,b):void 0},find:function(a,b){var c=this;return C(a,{test:function(a){return b in a[c.name]},getValue:function(a){return a[c.name][b]}})},findInstance:function(a,b){var c=this;return C(a,{test:function(a){return b in a[c.name]},getValue:function(a){return a}})}};var Kh,Lh,Mh,Nh,Oh=B,Ph=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],Qh=Eh(Ph,function(a){return new Oh(a,"computed"===a)}),Rh=Qh,Sh=function(){},Th=D,Uh=J;Kh={data:wh,template:Jh,css:th},Lh=Object.keys(bh).filter(function(a){return!Rh[a]&&!Kh[a]&&!Fh[a]}),Mh=[].concat(Kh.data,Fh,Lh,Rh,Kh.template,Kh.css);for(var Vh in Kh)Mh[Vh]=Kh[Vh];Mh.keys=Object.keys(bh).concat(Rh.map(function(a){return a.name})).concat(["css"]),Nh=Mh.keys.reduce(function(a,b){return a[b]=!0,a},{}),Mh.parseOptions=Fh,Mh.registries=Rh,Mh.extend=function(a,b,c){M("extend",a,b,c)},Mh.init=function(a,b,c){M("init",a,b,c)},Mh.reset=function(a){return Mh.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},Mh.getConstructTarget=function(a,b){return b.onconstruct?{onconstruct:Th(a,"onconstruct",b.onconstruct).bind(a),fire:a.fire.bind(a)}:a};var Wh,Xh=Mh,Yh=function(a,b,c,d){if(a===b)return O(b);if(d){var e=Xh.registries.interpolators.find(c,d);if(e)return e(a,b)||O(b);lh('Missing "'+d+'" interpolator. You may need to download a plugin from [TODO]')}return _h.number(a,b)||_h.array(a,b)||_h.object(a,b)||O(b)},Zh=Yh,$h={number:function(a,b){var c;return ih(a)&&ih(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,e,f;if(!fh(a)||!fh(b))return null;for(c=[],d=[],f=e=Math.min(a.length,b.length);f--;)d[f]=Zh(a[f],b[f]);for(f=e;f<a.length;f+=1)c[f]=a[f];for(f=e;f<b.length;f+=1)c[f]=b[f];return function(a){for(var b=e;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!hh(a)||!hh(b))return null;c=[],f={},e={};for(g in a)dh.call(a,g)&&(dh.call(b,g)?(c.push(g),e[g]=Zh(a[g],b[g])):f[g]=a[g]);for(g in b)dh.call(b,g)&&!dh.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},_h=$h;Wh="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");var ai=Wh,bi="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply,ci={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(P(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(P(a));this.thrower(b)},logger:lh,thrower:function(a){throw a},consoleError:function(a){bi?console.error(a.err):this.thrower(a.err)}},di=ci,ei={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};R.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&di.warnAlways({debug:a.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate}),b?a.fire(this.event,b):a.fire(this.event)};var fi,gi=R,hi=function(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)},ii={},ji={},ki={};"function"==typeof Promise?fi=Promise:(fi=function(a){var b,c,d,e,f,g,h=[],i=[],j=ii;d=function(a){return function(d){j===ii&&(b=d,j=a,c=T(j===ji?h:i,b),S(c))}},e=d(ji),f=d(ki);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new fi(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),U(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==ii&&S(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},fi.all=function(a){return new fi(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},fi.resolve=function(a){return new fi(function(b){b(a)})},fi.reject=function(a){return new fi(function(b,c){c(a)})});var li=fi,mi=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,ni=V,oi=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return""},pi=W,qi=X,ri=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};ri.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,db(this)},decrementTotal:function(){this.totalChildren-=1,db(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;hi(b,a),db(this)},init:function(){this.ready=!0,db(this)},detachNodes:function(){this.decoratorQueue.forEach(ab),this.detachQueue.forEach(bb),this.children.forEach(cb)}};var si,ti,ui=ri,vi=[],wi=new gi("change");ti={start:function(a,b){var c,d;return b&&(c=new li(function(a){return d=a})),si={previousBatch:si,transitionManager:new ui(d,si&&si.transitionManager),views:[],tasks:[],viewmodels:[],instance:a},a&&si.viewmodels.push(a.viewmodel),c},end:function(){eb(),si.transitionManager.init(),!si.previousBatch&&si.instance&&(si.instance.viewmodel.changes=[]),si=si.previousBatch},addViewmodel:function(a){return si?-1===si.viewmodels.indexOf(a)?(si.viewmodels.push(a),!0):!1:(a.applyChanges(),!1)},registerTransition:function(a){a._manager=si.transitionManager,si.transitionManager.add(a)},registerDecorator:function(a){si.transitionManager.addDecorator(a)},addView:function(a){si.views.push(a)},addUnresolved:function(a){vi.push(a)},removeUnresolved:function(a){hi(vi,a)},detachWhenReady:function(a){si.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(si){for(c=si;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var xi,yi,zi=ti,Ai=/^\s*[0-9]+\s*$/,Bi=function(a){return Ai.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),xi={filter:function(a,b,c){var d,e,f,g,h;return b?(d=b.split("."),e=d.pop(),f=d.join("."),(g=c.viewmodel.wrapped[f])&&!g.magic?!1:(h=c.get(f),fh(h)&&/^[0-9]+$/.test(e)?!1:h&&("object"==typeof h||"function"==typeof h))):!1},wrap:function(a,b,c){return new yi(a,b,c)}},yi=function(a,b,c){var d,e,f,g;return this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,d=c.split("."),this.prop=d.pop(),e=d.join("."),this.obj=e?a.get(e):a.data,f=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),f&&f.set&&(g=f.set._ractiveWrappers)?void(-1===g.indexOf(this)&&g.push(this)):void hb(this,b,f)},yi.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,zi.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{dontTeardownWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Bi(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(Ah){xi=!1}var Ci,Di=xi,Ei=!!Di,Fi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ci=ai?function(a,b){return b&&b!==Fi.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==Fi.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)};var Gi,Hi=Ci;try{Object.defineProperty({},"test",{value:0}),zh&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Gi=Object.defineProperty}catch(Ah){Gi=function(a,b,c){a[b]=c.value}}var Ii,Ji=Gi;try{try{Object.defineProperties({},{test:{value:0}})}catch(Ah){throw Ah}zh&&Object.defineProperties(Hi("div"),{test:{value:0}}),Ii=Object.defineProperties}catch(Ah){Ii=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Ji(a,c,b[c])}}var Ki,Li=Ii,Mi=ib,Ni=jb,Oi=["o","ms","moz","webkit"];"undefined"==typeof window?Ki=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(Oi,0,window),Ki=window.requestAnimationFrame);var Pi,Qi=Ki;Pi="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Ri=Pi,Si=[],Ti={tick:function(){var a,b,c;for(c=Ri(),zi.start(),a=0;a<Si.length;a+=1)b=Si[a],b.tick(c)||Si.splice(a--,1);zi.end(),Si.length?Qi(Ti.tick):Ti.running=!1},add:function(a){Si.push(a),Ti.running||(Ti.running=!0,Qi(Ti.tick))},abort:function(a,b){for(var c,d=Si.length;d--;)c=Si[d],c.root===b&&c.keypath===a&&c.stop()}},Ui=Ti,Vi=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=Zh(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};Vi.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(zi.start(this.root),this.root.viewmodel.set(f,this.to),zi.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&lh("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),zi.start(this.root),this.root.viewmodel.set(f,c),zi.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&lh("Animation was not found"),this.root._animations.splice(a,1)}};var Wi,Xi,Yi,Zi,$i,_i,aj,bj,cj=Vi,dj=function(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b},ej=/^\.+/,fj=kb,gj=function(){},hj={stop:gj},ij=lb,jj=new gi("detach"),kj=nb,lj=ob;if(zh){for(Xi=Hi("div"),Yi=["matches","matchesSelector"],bj=function(a){return function(b,c){return b[a](c)}},_i=Yi.length;_i--&&!Wi;)if(Zi=Yi[_i],Xi[Zi])Wi=bj(Zi);else for(aj=Oi.length;aj--;)if($i=Oi[_i]+Zi.substr(0,1).toUpperCase()+Zi.substring(1),Xi[$i]){Wi=bj($i);break}Wi||(Wi=function(a,b){var c,d,e;for(d=a.parentNode,d||(Xi.innerHTML="",d=Xi,a=a.cloneNode(),Xi.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else Wi=null;var mj=Wi,nj=function(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?mj(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0},oj=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},pj=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=qb(a.component||a._ractive.proxy),d=qb(b.component||b._ractive.proxy),e=c[c.length-1],f=d[d.length-1];e&&e===f;)c.pop(),d.pop(),g=e,e=c[c.length-1],f=d[d.length-1];if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},qj=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):pj(a,b)},rj=function(){this.sort(this._isComponentQuery?pj:qj),this._dirty=!1},sj=function(){var a=this;this._dirty||(this._dirty=!0,zi.scheduleTask(function(){a._sort()}))},tj=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},uj=rb,vj=sb,wj=tb,xj=ub,yj=vb,zj=wb,Aj={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},Bj=Aj,Cj={},Dj=xb,Ej=zb,Fj=Cb,Gj={capture:!0,noUnwrap:!0},Hj=Db,Ij=Eb,Jj=new gi("insert"),Kj=Fb,Lj=Hb,Mj=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};Mj.prototype={init:function(a){this.value=this.root.get(this.keypath),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;dj(a,this.value)||(this.value=a,this.defer&&this.ready?zi.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}};var Nj,Oj=Mj,Pj=Ib,Qj=Jb,Rj=/\*/,Sj=Array.prototype.slice;Nj=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},Nj.prototype={init:function(a){var b,c;if(b=Qj(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(c);else this.values=b},update:function(a){var b,c=this;if(Rj.test(a)){b=Qj(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(a)}else if(!this.root.viewmodel.implicitChanges[a])return this.defer&&this.ready?void zi.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d;return b=this.root.viewmodel.get(a),this.updating?void(this.values[a]=b):(this.updating=!0,dj(b,this.values[a])&&this.ready||(c=Sj.call(this.regex.exec(a),1),d=[b,this.values[a],a].concat(c),this.values[a]=b,this.callback.apply(this.context,d)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a]||(this.proxies[a]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a]}};var Tj,Uj,Vj,Wj,Xj,Yj,Zj=Nj,$j=/\*/,_j={},ak=Kb,bk=Lb,ck=Mb,dk=function(a){return a.trim()},ek=function(a){return""!==a},fk=Nb,gk=Ob,hk=Pb,ik=Qb,jk=Array.prototype.slice,kk=Array.prototype,lk=function(a){return function(b){var c,d,e,f,g=jk.call(arguments,1),h=[];if(c=this.get(b),d=c.length,!fh(c))throw new Error("Called ractive."+a+"('"+b+"'), but '"+b+"' does not refer to an array");return h=ik(c,a,g),f=kk[a].apply(c,g),e=zi.start(this,!0).then(function(){return f}),h?this.viewmodel.smartUpdate(b,c,h):this.viewmodel.mark(b),zi.end(),e}},mk=lk("pop"),nk=lk("push"),ok="/* Ractive.js component styles */\n",pk={},qk=[];zh?(Vj=document.createElement("style"),Vj.type="text/css",Wj=document.getElementsByTagName("head")[0],Yj=!1,Xj=Vj.styleSheet,Uj=function(){var a;qk.length?(a=ok+qk.join(" "),Xj?Xj.cssText=a:Vj.innerHTML=a,Yj||(Wj.appendChild(Vj),Yj=!0)):Yj&&(Wj.removeChild(Vj),Yj=!1)},Tj={add:function(a){a.css&&(pk[a._guid]||(pk[a._guid]=0,qk.push(a.css),Uj()),pk[a._guid]+=1)},remove:function(a){a.css&&(pk[a._guid]-=1,pk[a._guid]||(hi(qk,a.css),zi.scheduleTask(Uj)))}}):Tj=null;var rk,sk,tk,uk=Tj,vk=new gi("render"),wk=new gi("complete"),xk=Sb,yk=Ub,zk=Vb,Ak=Wb,Bk=Xb,Ck=Yb,Dk=Zb,Ek=$b,Fk=_b,Gk=ac,Hk={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,YIELDER:16,INLINE_PARTIAL:17,DOCTYPE:18,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53,SECTION_IF_WITH:54,SECTION_PARTIAL:55},Ik={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},Jk=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Kk=function(a){var b;return(b=a.matchPattern(Jk))?{t:Hk.NUMBER_LITERAL,v:b}:null},Lk=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:Hk.BOOLEAN_LITERAL,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:Hk.BOOLEAN_LITERAL,v:"false"}):null};rk=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,sk=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,tk=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Mk,Nk,Ok,Pk,Qk,Rk=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(rk)||b.matchPattern(sk)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(tk),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},Sk=Rk('"'),Tk=Rk("'"),Uk=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=Tk(a),a.matchString('"')?{t:Hk.STRING_LITERAL,v:c}:(a.pos=b,null)):a.matchString("'")?(c=Sk(a),a.matchString("'")?{t:Hk.STRING_LITERAL,v:c}:(a.pos=b,null)):null},Vk={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/,relaxedName:/^[a-zA-Z_$][-a-zA-Z_$0-9]*/},Wk=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Xk=function(a){var b;return(b=Uk(a))?Wk.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=Kk(a))?b.v:(b=a.matchPattern(Vk.name))?b:void 0},Yk=function(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=Xk(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=a.readExpression(),null===d?(a.pos=b,null):{t:Hk.KEY_VALUE_PAIR,k:c,v:d}):(a.pos=b,null))},Zk=bc,$k=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=Zk(a),a.allowWhitespace(),a.matchString("}")?{t:Hk.OBJECT_LITERAL,m:c}:(a.pos=b,null)):(a.pos=b,null)},_k=cc,al=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=_k(a),a.matchString("]")?{t:Hk.ARRAY_LITERAL,m:c}:(a.pos=b,null)):(a.pos=b,null)},bl=function(a){var b=Kk(a)||Lk(a)||Uk(a)||$k(a)||al(a);return b};Mk=/^\.[a-zA-Z_$0-9]+/,Ok=function(a){var b=a.matchPattern(Nk);return b?"."+b:null},Nk=/^\[(0|[1-9][0-9]*)\]/,Pk=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,Qk=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var cl,dl,el=function(a){var b,c,d,e,f,g,h,i;if(b=a.pos,a.matchString("~/"))c="~/";else for(c="";a.matchString("../");)c+="../";if(c||(e=a.matchString("./")||a.matchString(".")||""),i=a.relaxedNames?Vk.relaxedName:Vk.name,d=a.matchPattern(/^@(?:keypath|index|key)/)||a.matchPattern(i)||"",!a.relaxedNames&&!e&&!c&&Qk.test(d))return a.pos=b,null;if(!c&&!e&&!a.relaxedNames&&Pk.test(d))return{t:Hk.GLOBAL,v:d};if(f=(c||e)+d,!f)return null;for(;g=a.matchPattern(Mk)||Ok(a);)f+=g;return a.matchString("(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:Hk.REFERENCE,n:f.replace(/^this\./,"./").replace(/^this$/,".")}},fl=function(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=a.readExpression(),c||a.error(Ik.expectedExpression),a.allowWhitespace(),a.matchString(")")||a.error(Ik.expectedParen),{t:Hk.BRACKETED,x:c}):null},gl=function(a){return bl(a)||el(a)||fl(a)},hl=dc,il=function(a){var b,c,d,e;if(c=gl(a),!c)return null;for(;c;)if(b=a.pos,d=hl(a))c={t:Hk.MEMBER,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=_k(a),a.allowWhitespace(),a.matchString(")")||a.error(Ik.expectedParen),c={t:Hk.INVOCATION,x:c},e&&(c.o=e)}return c};dl=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=c.readExpression(),d||c.error(Ik.expectedExpression),{s:a,o:d,t:Hk.PREFIX_OPERATOR}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=il,a=0,b=d.length;b>a;a+=1)c=dl(d[a],e),e=c;cl=e}();var jl,kl,ll=cl;kl=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:Hk.INFIX_OPERATOR,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=ll,a=0,b=d.length;b>a;a+=1)c=kl(d[a],e),e=c;jl=e}();var ml,nl,ol=jl,pl=function(a){var b,c,d,e;return(c=ol(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(Ik.expectedExpression),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=a.readExpression(),e||a.error(Ik.expectedExpression),{t:Hk.CONDITIONAL,o:[c,d,e]}):(a.pos=b,c)):null
},ql=function(a){var b,c=[];return fc(a,c),b={r:c,s:gc(this,a,c)}},rl=/^\s+/;nl=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},nl.prototype=Error.prototype,ml=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},ml.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return pl(this)},flattenExpression:ql,getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b,c,d,e,f,g;throw b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=e+"\n"+new Array(b[1]).join(" ")+"^----",g=new nl(a+" at line "+c+" character "+d+":\n"+f),g.line=b[0],g.character=b[1],g.shortMessage=a,g},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(rl)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},ml.extend=function(a){var b,c,d=this;b=function(a,b){ml.call(this,a,b)},b.prototype=Dh(d.prototype);for(c in a)dh.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=ml.extend,b};var sl,tl,ul,vl,wl,xl,yl,zl=ml;tl={"true":!0,"false":!1,undefined:void 0,"null":null},ul=new RegExp("^(?:"+Object.keys(tl).join("|")+")"),vl=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,wl=/\$\{([^\}]+)\}/g,xl=/^\$\{([^\}]+)\}/,yl=/^\s*$/,sl=zl.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&yl.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(xl),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(ul))?{v:tl[b]}:void 0},function(a){var b;return(b=a.matchPattern(vl))?{v:+b}:void 0},function(a){var b,c=Uk(a);return c&&(b=a.values)?{v:c.v.replace(wl,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=hc(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var Al=function(a,b){var c=new sl(a,{values:b});return c.result},Bl={},Cl=ic,Dl=/</g,El=/>/g,Fl=/&/g,Gl=kc,Hl=lc,Il=function(){return Hl(this.node)},Jl=function(a){this.type=Hk.TEXT,this.text=a.template};Jl.prototype={detach:Il,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?Gl(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var Kl=Jl,Ll=mc,Ml=nc,Nl=oc,Ol=pc,Pl=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=qi(a.root,b,a.parentFragment),void 0!==d?this.resolve(d):zi.addUnresolved(this)};Pl.prototype={resolve:function(a){this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(this.ref)},rebind:function(a,b){var c;void 0!==this.keypath&&(c=Ol(this.keypath,a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||zi.removeUnresolved(this)}};var Ql=Pl,Rl=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},Sl={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Rl.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=Sl[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback("@"+d.prefix+qc(this.cached,d));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===Hk.SECTION_EACH&&void 0!==(a=qc(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback("@"+d.prefix+a);c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=qc(c,d)))return this.callback("@"+d.prefix+a);c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Tl=Rl,Ul=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};Ul.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback("@"+a)},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Vl=Ul,Wl=rc;rc.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var Xl,Yl=sc,Zl=tc,$l={},_l=uc,am=Function.prototype.bind;Xl=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return Yl(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},Xl.prototype={bubble:function(){this.ready&&(this.uniqueString=wc(this.str,this.keypaths),this.keypath=xc(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e=this;a=this.root.viewmodel.computations[this.keypath],a?this.root.viewmodel.mark(this.keypath):(d=_l(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:"@"===a[0]?(b=Zl(a),function(){return b}):function(){var b=e.root.viewmodel.get(a,{noUnwrap:!0});return"function"==typeof b&&(b=zc(b,e.root)),b}}),c={deps:this.keypaths.filter(yc),get:function(){var a=b.map(vc);return d.apply(null,a)}},a=this.root.viewmodel.compute(this.keypath,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var bm=Xl,cm=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===Hk.REFERENCE?this.refResolver=Yl(this,a.n,function(a){d.resolve(a)}):new bm(b,c,a,function(a){d.resolve(a)})};cm.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var dm=cm,em=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=qi(d,e,g))?this.base=f:this.baseResolver=new Ql(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new dm(a,h,g)}),this.ready=!0,this.bubble()};em.prototype={getKeypath:function(){var a=this.members.map(Ac);return!a.every(Bc)||this.baseResolver?null:this.base+"."+a.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Cc)},rebind:function(a,b){var c;this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(function(a){return a.forceResolution()}),this.bubble()}};var fm=em,gm=Dc,hm=Ec,im=Fc,jm={getValue:Ml,init:gm,resolve:hm,rebind:im},km=function(a){this.type=Hk.INTERPOLATOR,jm.init(this,a)};km.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:jm.resolve,rebind:jm.rebind,detach:Il,unbind:Ll,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&Hl(this.node)},getValue:jm.getValue,setValue:function(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),dj(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&zi.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";return a?Gl(b):b}};var lm=km,mm=Gc,nm=Hc,om=Ic,pm=Jc,qm=Kc,rm=Lc,sm=Mc,tm=Nc,um=Oc,vm=function(a,b){jm.rebind.call(this,a,b)},wm=Qc,xm=/^\[object (?:Array|FileList)\]$/,ym=Object.prototype.toString,zm=Rc,Am=Sc,Bm=dd,Cm=ed,Dm=gd,Em=jd,Fm=function(a){this.type=Hk.SECTION,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===Hk.SECTION_UNLESS,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}})),this.renderedFragments=[],this.length=0,jm.init(this,a)};Fm.prototype={bubble:mm,detach:nm,find:om,findAll:pm,findAllComponents:qm,findComponent:rm,findNextNode:sm,firstNode:tm,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:jm.getValue,shuffle:um,rebind:vm,render:wm,resolve:jm.resolve,setValue:Am,toString:Bm,unbind:Cm,unrender:Dm,update:Em};var Gm,Hm,Im=Fm,Jm=kd,Km=ld,Lm=md,Mm=nd,Nm={};try{Hi("table").innerHTML="foo"}catch(Ah){Gm=!0,Hm={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Om,Pm,Qm,Rm=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(Gm&&(e=Hm[b.tagName])?(d=od("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===Fi.svg?(d=od("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=od(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},Sm=pd,Tm=qd,Um=sd,Vm=td;Om={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Pm=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Qm=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(Om).join("|")+"));?","g");var Wm=ud,Xm=wd,Ym=xd,Zm=yd,$m=function(a){this.type=Hk.TRIPLE,jm.init(this,a)};$m.prototype={detach:Jm,find:Km,findAll:Lm,firstNode:Mm,getValue:jm.getValue,rebind:jm.rebind,render:Um,resolve:jm.resolve,setValue:Vm,toString:Xm,unbind:Ll,unrender:Ym,update:Zm};var _m,an,bn,cn,dn=$m,en=function(){this.parentFragment.bubble()},fn=zd,gn=function(a){return this.node?mj(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},hn=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},jn=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},kn=function(a){return this.fragment?this.fragment.findComponent(a):void 0},ln=Ad,mn=Bd,nn=Cd;_m="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),an="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),bn=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},cn=bn(_m.concat(an));var on=function(a){var b=a.toLowerCase();return cn[b]||b},pn=/^true|on|yes|1$/i,qn=/^[0-9]+$/,rn=function(a,b){var c;c=b.twoway,void 0!==c&&(a.twoway=0===c||pn.test(c),delete b.twoway),c=b.lazy,void 0!==c&&(a.lazy=0!==c&&qn.test(c)?parseInt(c):0===c||pn.test(c),delete b.lazy)},sn=Dd,tn=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,un=tn,vn=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==Fi.html?on(b):b;else if(b=b.substring(c+1),a.name=on(b),a.namespace=Fi[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},wn=Ed,xn={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},yn=function(a,b){var c;!a.pNode||a.namespace||b.pNode.namespaceURI&&b.pNode.namespaceURI!==Fi.html||(c=xn[a.name]||a.name,void 0!==b.pNode[c]&&(a.propertyName=c),(un.test(c)||"value"===c)&&(a.useProperty=!0))},zn=Fd,An=Gd,Bn={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Cn=Hd,Dn=Id,En=Kd,Fn=Ld,Gn=Md,Hn=Nd,In=Od,Jn=Pd,Kn=Qd,Ln=Rd,Mn=Sd,Nn=Td,On=Ud,Pn=Vd,Qn=Wd,Rn=Xd,Sn=Yd,Tn=function(a){this.init(a)};Tn.prototype={bubble:sn,init:zn,rebind:An,render:Cn,toString:Dn,unbind:En,update:Sn};var Un,Vn=Tn,Wn=function(a,b){var c,d,e=[];for(c in b)b.hasOwnProperty(c)&&(d=new Vn({element:a,name:c,value:b[c],root:a.root}),e.push(e[c]=d));return e};"undefined"!=typeof document&&(Un=Hi("div"));var Xn=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new qs({root:a.root,owner:this,template:[b]})};Xn.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===Fi.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=Zd(a,this.isSvg),this.attributes.filter(function(a){return $d(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var Yn=Xn,Zn=function(a,b){return b?b.map(function(b){return new Yn(a,b)}):[]},$n=Array.prototype.slice,_n=function(a){for(var b,c,d=$n.call(arguments,1);c=d.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a},ao=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c[c.length-1])return di.error({debug:this.root.debug,message:"noTwowayExpressions",args:{expression:c.slice(2,-1).replace("-","."),element:a.tagName}}),!1}else b.resolver.forceResolution(),c=b.keypath;this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=_d(a))&&(this.resetValue=d,e.formBindings.push(this))};ao.prototype={handleChange:function(){var a=this;zi.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),zi.scheduleTask(function(){return a.attribute.locked=!1}),zi.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(hi(this.root._twowayBindings[b],this),this.keypath=c,a=this.root._twowayBindings[c]||(this.root._twowayBindings[c]=[]),a.push(this))},unbind:function(){}},ao.extend=function(a){var b,c=this;return b=function(a){ao.call(this,a),this.init&&this.init()},b.prototype=Dh(c.prototype),_n(b.prototype,a),b.extend=ao.extend,b};var bo,co=ao,eo=ae,fo=co.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",eo,!1),this.root.lazy||(a.addEventListener("input",eo,!1),a.attachEvent&&a.addEventListener("keyup",eo,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",eo,!1),a.removeEventListener("input",eo,!1),a.removeEventListener("keyup",eo,!1)},getValue:function(){return this.element.node.innerHTML}}),go=fo,ho={},io=be,jo=co.extend({name:"checked",init:function(){this.siblings=io(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",eo,!1),a.attachEvent&&a.addEventListener("click",eo,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",eo,!1),a.removeEventListener("click",eo,!1)},handleChange:function(){zi.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),zi.end()},getValue:function(){return this.element.node.checked},unbind:function(){hi(this.siblings,this)}}),ko=jo,lo=co.extend({name:"name",init:function(){this.siblings=io(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",eo,!1),a.attachEvent&&a.addEventListener("click",eo,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",eo,!1),a.removeEventListener("click",eo,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&co.prototype.handleChange.call(this)},rebound:function(a,b){var c;co.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath+"}}")},unbind:function(){hi(this.siblings,this)}}),mo=lo,no=co.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.attribute.twoway=!0,this.siblings=io(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){hi(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=fh(a)?Gn(a,b):a==b,c.name="{{"+this.keypath+"}}",c.checked=this.isChecked,c.addEventListener("change",eo,!1),c.attachEvent&&c.addEventListener("click",eo,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",eo,!1),a.removeEventListener("click",eo,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,co.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ce).map(de)}}),oo=no,po=co.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",eo,!1),a.attachEvent&&a.addEventListener("click",eo,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",eo,!1),a.removeEventListener("click",eo,!1)},getValue:function(){return this.element.node.checked}}),qo=po,ro=co.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",eo,!1)},unrender:function(){this.element.node.removeEventListener("change",eo,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,zi.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),so=ro,to=function(a,b){var c;if(!fh(a)||!fh(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0},uo=so.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",eo,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",eo,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&to(c,b)||so.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,zi.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),vo=uo,wo=co.extend({render:function(){this.element.node.addEventListener("change",eo,!1)},unrender:function(){this.element.node.removeEventListener("change",eo,!1)},getValue:function(){return this.element.node.files}}),xo=wo,yo=Object.prototype.toString,zo=function(a){return"number"==typeof a||"object"==typeof a&&"[object Number]"===yo.call(a)};bo=co.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:zo(this.element.lazy)&&(a=!1,c=this.element.lazy),b.addEventListener("change",eo,!1),a||(b.addEventListener("input",c?fe:eo,!1),b.attachEvent&&b.addEventListener("keyup",c?fe:eo,!1)),b.addEventListener("blur",ee,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",eo,!1),a.removeEventListener("input",eo,!1),a.removeEventListener("keyup",eo,!1),a.removeEventListener("blur",ee,!1)}});var Ao=bo,Bo=Ao.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),Co=ge,Do=ie,Eo=je,Fo=ke,Go={args:!0},Ho=/^event(?:\.(.+))?/,Io=le,Jo=pe,Ko={},Lo={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Mo=qe,No=se,Oo=te,Po=ue,Qo=ve,Ro=xe,So=function(a,b,c){this.init(a,b,c)};So.prototype={bubble:Do,fire:Eo,getAction:Fo,init:Io,listen:Mo,rebind:No,render:Oo,resolve:Po,unbind:Qo,unrender:Ro};var To,Uo,Vo=So,Wo=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new Vo(a,e[c],b[d]),g.push(f);return g};To={args:!0},Uo=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new qs({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new qs({template:b.d,root:c,owner:a}),this.params=this.fragment.getValue(To),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getValue(To),f.ready&&f.update()}),this.fn=Xh.registries.decorators.find(c,d),this.fn||di.error({debug:c.debug,message:"missingPlugin",args:{plugin:"decorator",name:d}}))},Uo.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var Xo,Yo,Zo,$o=Uo,_o=ye,ap=Ae,bp=Be,cp=Ce,dp=De,ep=Ee,fp=Fe,gp=Ge,hp=He,ip=Ie,jp=Ke,kp={},lp=Le,mp=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};zh?(Yo={},Zo=Hi("div").style,Xo=function(a){var b,c,d;if(a=mp(a),!Yo[a])if(void 0!==Zo[a])Yo[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=Oi.length;b--;)if(c=Oi[b],void 0!==Zo[c+d]){Yo[a]=c+d;break}return Yo[a]}):Xo=null;var np,op,pp=Xo;zh?(op=window.getComputedStyle||legacy__default.getComputedStyle,np=function(a){var b,c,d,e,f;if(b=op(this.node),"string"==typeof a)return f=b[pp(a)],"0px"===f&&(f=0),f;if(!fh(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)e=a[d],f=b[pp(e)],"0px"===f&&(f=0),c[e]=f;return c}):np=null;var qp=np,rp=function(a,b){var c;if("string"==typeof a)this.node.style[pp(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[pp(c)]=a[c]);return this},sp=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(lh('Missing easing function ("'+a.easing+'"). You may need to download a plugin from [TODO]'),b=Me)):b="function"==typeof a.easing?a.easing:Me,this.easing=b,this.start=Ri(),this.end=this.start+this.duration,this.running=!0,Ui.add(this)};sp.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var tp,up,vp,wp,xp,yp,zp,Ap,Bp=sp,Cp=new RegExp("^-(?:"+Oi.join("|")+")-"),Dp=function(a){return a.replace(Cp,"")},Ep=new RegExp("^(?:"+Oi.join("|")+")([A-Z])"),Fp=function(a){var b;return a?(Ep.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},Gp={},Hp={};zh?(up=Hi("div").style,function(){void 0!==up.transition?(vp="transition",wp="transitionend",xp=!0):void 0!==up.webkitTransition?(vp="webkitTransition",wp="webkitTransitionEnd",xp=!0):xp=!1}(),vp&&(yp=vp+"Duration",zp=vp+"Property",Ap=vp+"TimingFunction"),tp=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[zp]=d.map(pp).map(Fp).join(","),a.node.style[Ap]=Fp(c.easing||"linear"),a.node.style[yp]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(mp(Dp(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(wp,j,!1),h=!0,i())
},a.node.addEventListener(wp,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,p=[];o--;)m=d[o],e=f+m,xp&&!Hp[e]&&(a.node.style[pp(m)]=b[m],Gp[e]||(k=a.getStyle(m),Gp[e]=a.getStyle(m)!=b[m],Hp[e]=!Gp[e],Hp[e]&&(a.node.style[pp(m)]=k))),(!xp||Hp[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?lh("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],p.push({name:pp(m),interpolator:Zh(parseFloat(k),parseFloat(b[m])),suffix:n}));p.length?new Bp({root:a.root,duration:c.duration,easing:mp(c.easing||""),step:function(b){var c,d;for(d=p.length;d--;)c=p[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(wp,j,!1),h=!0,i())},0)},c.delay||0)}):tp=null;var Ip,Jp,Kp,Lp,Mp,Np=tp;if("undefined"!=typeof document){if(Ip="hidden",Mp={},Ip in document)Kp="";else for(Lp=Oi.length;Lp--;)Jp=Oi[Lp],Ip=Jp+"Hidden",Ip in document&&(Kp=Jp);void 0!==Kp?(document.addEventListener(Kp+"visibilitychange",Ne),Ne()):("onfocusout"in document?(document.addEventListener("focusout",Oe),document.addEventListener("focusin",Pe)):(window.addEventListener("pagehide",Oe),window.addEventListener("blur",Oe),window.addEventListener("pageshow",Pe),window.addEventListener("focus",Pe)),Mp.hidden=!1)}var Op,Pp,Qp,Rp=Mp;zh?(Pp=window.getComputedStyle||legacy__default.getComputedStyle,Op=function(a,b,c,d){var e,f=this;if(Rp.hidden)return this.setStyle(a,b),Qp||(Qp=li.resolve());"string"==typeof a?(e={},e[a]=b):(e=a,d=c,c=b),c||(lh('The "'+this.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),c=this,d=this.complete);var g=new li(function(a){var b,d,g,h,i,j,k;if(!c.duration)return f.setStyle(e),void a();for(b=Object.keys(e),d=[],g=Pp(f.node),i={},j=b.length;j--;)k=b[j],h=g[pp(k)],"0px"===h&&(h=0),h!=e[k]&&(d.push(k),f.node.style[pp(k)]=h);return d.length?void Np(f,e,c,d,a):void a()});return d&&(di.warn({debug:!0,message:"usePromise",args:{method:"t.animateStyle"}}),g.then(d).then(null,function(a){di.consoleError({debug:!0,err:a})})),g}):Op=null;var Sp=Op,Tp=Array.prototype.slice,Up=function(a){var b=Tp.call(arguments,1);return b.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a},Vp=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),Up({},a,b)},Wp=Qe,Xp=function(a,b,c){this.init(a,b,c)};Xp.prototype={init:lp,start:Wp,getStyle:qp,setStyle:rp,animateStyle:Sp,processParams:Vp};var Yp,Zp,$p=Xp;Yp=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},Zp=function(){this.node.type&&"text/javascript"!==this.node.type||lh("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var _p=Se,aq=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,bq=aq,cq=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(Ye).join("")+this.conditionalAttributes.map(Ye).join(""),"option"===this.name&&We(this)&&(a+=" selected"),"input"===this.name&&Xe(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=Gl(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),bq.test(this.template.e)||(a+="</"+this.template.e+">"),a)},dq=Ze,eq=$e,fq=af,gq=bf,hq=function(a){this.init(a)};hq.prototype={bubble:en,detach:fn,find:gn,findAll:hn,findAllComponents:jn,findComponent:kn,findNextNode:ln,firstNode:mn,getAttribute:nn,init:dp,rebind:gp,render:_p,toString:cq,unbind:eq,unrender:gq};var iq=hq,jq=/^\s*$/,kq=/^\s*/,lq=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&jq.test(c)&&b.shift(),d=b[b.length-1],void 0!==d&&jq.test(d)&&b.pop(),e=b.reduce(df,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},mq=ef,nq=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},oq=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=Hk.PARTIAL,this.index=a.index,this.name=a.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,jm.init(this,a),!this.keypath&&(c=mq(this.root,this.name))&&(Ll.call(this),this.isNamed=!0,this.setTemplate(c))};oq.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||im.call(this,a,b),this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:jm.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=mq(this.root,""+a)),!b&&this.name&&(b=mq(this.root,this.name))&&(Ll.call(this),this.isNamed=!0),b||di.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}}),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&zi.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new qs({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Hk.TEXT?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?nq(b,e[0]):b):b},unbind:function(){this.isNamed||Ll.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var pq=oq,qq=gf,rq=new gi("detach"),sq=hf,tq=jf,uq=kf,vq=lf,wq=mf,xq=nf,yq=of,zq=0,Aq=function(){return"r-"+zq++};pf.prototype={constructor:pf,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?qf(this.queue,b).push(a):rf(this,a),delete this.inProcess[a._guid]}};var Bq,Cq,Dq,Eq=pf,Fq=function(a,b,c,d){var e=a.root,f=a.keypath;return"sort"===c||"reverse"===c?void e.viewmodel.set(f,b):void e.viewmodel.smartUpdate(f,b,d)},Gq=Array.prototype.slice,Hq=[],Iq=["pop","push","reverse","shift","sort","splice","unshift"];Iq.forEach(function(a){var b=function(){var b,c,d,e,f=Gq.call(arguments);for(b=ik(this,a,f),c=Array.prototype[a].apply(this,arguments),zi.start(),this._ractive.setting=!0,e=this._ractive.wrappers.length;e--;)d=this._ractive.wrappers[e],zi.addViewmodel(d.root.viewmodel),Fq(d,this,a,b);return zi.end(),this._ractive.setting=!1,c};Ji(Hq,a,{value:b})}),Bq={},Bq.__proto__?(Cq=function(a){a.__proto__=Hq},Dq=function(a){a.__proto__=Array.prototype}):(Cq=function(a){var b,c;for(b=Iq.length;b--;)c=Iq[b],Ji(a,c,{value:Hq[c],configurable:!0})},Dq=function(a){var b;for(b=Iq.length;b--;)delete a[Iq[b]]}),Cq.unpatch=Dq;var Jq,Kq,Lq,Mq=Cq;Jq={filter:function(a){return fh(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new Kq(a,b,c)}},Kq=function(a,b,c){this.root=a,this.value=b,this.keypath=c,b._ractive||(Ji(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Mq(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},Kq.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(Lq);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(Lq);d.splice(e,1)}}else delete a._ractive,Mq.unpatch(this.value)}},Lq="Something went wrong in a rather interesting way";var Nq,Oq,Pq=Jq;Di&&(Nq={filter:function(a,b,c){return Di.filter(a,b,c)&&Pq.filter(a)},wrap:function(a,b,c){return new Oq(a,b,c)}},Oq=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=Di.wrap(a,b,c),this.arrayWrapper=Pq.wrap(a,b,c)},Oq.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var Qq=Nq,Rq={},Sq=sf,Tq=vf,Uq={},Vq=wf,Wq=/[^\.]+$/,Xq=yf,Yq=Bf,Zq=Gf,$q=Hf,_q=/\$\{([^\}]+)\}/g,ar=function(a){return"function"==typeof a?{get:a}:"string"==typeof a?{get:If(a)}:("object"==typeof a&&"string"==typeof a.get&&(a={get:If(a.get),set:a.set}),a)},br=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};br.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a]=null,this.viewmodel.register(a,this.computation,"computed")}};var cr=br,dr=function(a,b,c){var d=this;this.ractive=a,this.viewmodel=a.viewmodel,this.key=b,this.getter=c.get,this.setter=c.set,this.hardDeps=c.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(b){return a.viewmodel.register(b,d,"computed")}),this._dirty=this._firstRun=!0};dr.prototype={constructor:dr,init:function(){var a;this.bypass=!0,a=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key),this.bypass=!1,this.setter&&void 0!==a&&this.set(a)},invalidate:function(){this._dirty=!0},get:function(){var a,b,c,d=this,e=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(a=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?e=!0:[this.hardDeps,this.softDeps].forEach(function(b){var c,f,g;if(!e)for(g=b.length;g--;)if(c=b[g],f=a.viewmodel.get(c),!dj(f,d.depValues[c]))return d.depValues[c]=f,void(e=!0)}),e){a.viewmodel.capture();try{this.value=this.getter.call(a)}catch(f){di.warn({debug:a.debug,message:"failedComputation",args:{key:this.key,err:f.message||f}}),this.value=void 0}b=a.viewmodel.release(),c=this.updateDependencies(b),c&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){d.depValues[b]=a.viewmodel.get(b)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,Jf(this.viewmodel,d)&&!this.unresolvedDeps[d]?(f=new cr(this,d),a.splice(b,1),this.unresolvedDeps[d]=f,zi.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var er,fr=dr,gr=Kf,hr={FAILED_LOOKUP:!0},ir={},jr=Lf,kr={};er=bi?function(a,b){if(!b){if(kr[a])return;kr[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:function(){};var lr=er,mr={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(Nf(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(Nf(a));this.thrower(b)},logger:lr,thrower:function(a){throw a}},nr=mr,or=Pf,pr=Rf;Rf.prototype.setValue=function(a){this.viewmodel.set(this.keypath,a,{noMapping:!0})};var qr=Sf;Sf.prototype={get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.deps=[],this.local.mappings[this.localKey]=this,this.setup()},map:function(a){return a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){if(!this.resolved)throw new Error("Something very odd happened. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new pr(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);a.origin.register(c,b.dep,b.group),b.dep.setValue(a.origin.get(c))}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(a,b,c){for(var d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}};var rr=Tf,sr=Uf,tr=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},ur={},vr=Vf,wr=Yf,xr=$f,yr=_f,zr={implicit:!0},Ar={noCascade:!0},Br=bg,Cr=dg,Dr=eg,Er={lookup:function(a,b){var c,d=a.adapt;if(!d||!d.length)return d;if(b&&Object.keys(b).length&&(c=d.length))for(;c--;){var e=d[c];"string"==typeof e&&(d[c]=b[e]||e)}return d},combine:function(a,b){return a=gg(a),b=gg(b),a&&a.length?b&&b.length?(a.forEach(function(a){-1===b.indexOf(a)&&b.push(a)}),b):a.slice():b}},Fr=Er,Gr=function(a,b){var c=this;return void 0===b&&(b=Dh(null)),function(){var d,e;c.ractive=a,Gr.extend(a.constructor,a),c.mappings=b;for(d in b)b[d].initViewmodel(c);if(a.data&&a.parameters!==!0)for(d in a.data)(e=c.mappings[d])&&void 0===e.getValue()&&e.setValue(a.data[d]);c.cache={},c.cacheMap=Dh(null),c.deps={computed:Dh(null),"default":Dh(null)},c.depsMap={computed:Dh(null),"default":Dh(null)},c.patternObservers=[],c.specials=Dh(null),c.wrapped=Dh(null),c.computations=Dh(null),c.captureGroups=[],c.unresolvedImplicitDependencies=[],c.changes=[],c.implicitChanges={},c.noCascade={}}()};Gr.extend=function(a,b){if(b.magic&&!Ei)throw new Error("Getters and setters (magic mode) are not supported in this browser");b.adapt=Fr.combine(a.prototype.adapt,b.adapt)||[],b.adapt=Fr.lookup(b,b.adaptors)},Gr.prototype={adapt:Sq,applyChanges:Yq,capture:Zq,clearCache:$q,compute:gr,get:jr,init:or,map:rr,mark:sr,merge:vr,register:wr,release:xr,set:yr,smartUpdate:Br,teardown:Cr,unregister:Dr};var Hr=Gr,Ir=new gi("construct"),Jr=new gi("config"),Kr=new Eq("init"),Lr=hg,Mr=function(a,b,c,d,e){var f,g,h,i,j,k={};for(g=a.parentFragment,h=a.root,e=e||{},_n(k,e||{}),e.content=d||[],k[""]=e.content,b.defaults.el&&di.warn({debug:h.debug,message:"defaultElSpecified",args:{name:a.name}}),i=g;i;){if(i.owner.type===Hk.YIELDER){j=i.owner.container;break}i=i.parent}return f=Dh(b.prototype),Lr(f,{el:null,append:!0,data:c.data,partials:e,magic:h.magic||b.defaults.magic,modifyArrays:h.modifyArrays,adapt:h.adapt},{parent:h,component:a,container:j,mappings:c.mappings,inlinePartials:k}),f},Nr=jg;jg.prototype={bubble:function(){this.dirty||(this.dirty=!0,zi.addView(this))},update:function(){var a=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key,this.fragment.getValue()),a.mark(this.key),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var Or=kg,Pr=pg;pg.prototype={resolve:function(a){this.resolved=!0,this.specialRef="@"===a[0],this.ready?this.readyResolve(a):this.notReadyResolve(a)},notReadyResolve:function(a){if(this.specialRef)this.parameters.addData(this.key,Zl(a));else{var b=this.parameters.addMapping(this.key,a);void 0===b.getValue()&&(b.updatable=!0)}},readyResolve:function(a){var b=this.parameters.component.instance.viewmodel;this.specialRef?(this.parameters.addData(this.key,Zl(a)),b.mark(this.key)):b.reversedMappings&&b.reversedMappings[this.key]?b.reversedMappings[this.key].rebind(a):b.mappings[this.key].resolve(a)}};var Qr=qg;sg.prototype={add:function(a,b){if("string"==typeof b){var c=Al(b);this.addData(a,c?c.value:b)}else if(0===b)this.addData(a);else{var d;d=tg(b)?new Pr(this,a,b[0]).resolver:new Nr(this,a,b),this.component.resolvers.push(d)}},addData:function(a,b){this.data[a]=b},addMapping:function(a,b){var c=this.parentViewmodel.mappings[b];return this.mappings[a]=new qr(a,{origin:c?c.origin:this.parentViewmodel,keypath:c?c.keypath:b})}};var Rr=ug,Sr=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},Tr=wg,Ur=xg,Vr=yg,Wr=zg,Xr=new gi("teardown"),Yr=Ag,Zr=Dg,$r=function(a,b){this.init(a,b)};$r.prototype={detach:sq,find:tq,findAll:uq,findAllComponents:vq,findComponent:wq,findNextNode:xq,firstNode:yq,init:Tr,rebind:Ur,render:Vr,toString:Wr,unbind:Yr,unrender:Zr};var _r=$r,as=function(a){this.type=Hk.COMMENT,this.value=a.template.c};as.prototype={detach:Il,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var bs=as,cs=function(a){var b,c;this.type=Hk.YIELDER,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.yn||"";this.fragment=new qs({owner:this,root:b.parent,template:b._inlinePartials[d]||[],pElement:this.containerFragment.pElement}),fh(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],zi.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};cs.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),hi(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var ds=cs,es=function(a){this.declaration=a.template.a};es.prototype={init:Sh,render:Sh,unrender:Sh,teardown:Sh,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var fs=es,gs=Eg,hs=Fg,is=Gg,js=Hg,ks=Ig,ls=Jg,ms=Lg,ns=function(a){this.init(a)};ns.prototype={bubble:yk,detach:zk,find:Ak,findAll:Bk,findAllComponents:Ck,findComponent:Dk,findNextNode:Ek,firstNode:Fk,getNode:Gk,getValue:Cl,init:hs,rebind:is,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:js,toString:ks,unbind:ls,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:ms};var os,ps,qs=ns,rs=["template","partials","components","decorators","events"],ss=new gi("reset"),ts=Mg,us=function(a,b,c){function d(b,c,e){e&&e.partials[a]||b.forEach(function(b){b.type===Hk.PARTIAL&&b.getPartialName()===a&&c.push(b),b.fragment&&d(b.fragment.items,c,e),fh(b.fragments)?d(b.fragments,c,e):fh(b.items)?d(b.items,c,e):b.type===Hk.COMPONENT&&b.instance&&d(b.instance.fragment.items,c,b.instance),b.type===Hk.ELEMENT&&(fh(b.attributes)&&d(b.attributes,c,e),fh(b.conditionalAttributes)&&d(b.conditionalAttributes,c,e))})}var e,f=this,g=[];return d(this.fragment.items,g),this.partials[a]=b,e=zi.start(this,!0),g.forEach(function(b){b.value=void 0,b.setValue(a)}),zi.end(),c&&(di.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.resetPartial"}}),e.then(c.bind(this)).then(null,function(a){di.consoleError({debug:f.debug,err:a})})),e},vs=Ng,ws=lk("reverse"),xs=/\*/,ys=Og,zs=lk("shift"),As=lk("sort"),Bs=lk("splice"),Cs=Pg,Ds=new gi("teardown"),Es=Qg,Fs=Sg,Gs=Tg,Hs=new gi("unrender"),Is=Ug,Js=lk("unshift"),Ks=new gi("update"),Ls=Vg,Ms=Wg,Ns={add:Ni,animate:ij,detach:kj,find:lj,findAll:vj,findAllComponents:wj,findComponent:xj,findContainer:yj,findParent:zj,fire:Fj,get:Hj,insert:Kj,merge:Lj,observe:bk,observeOnce:ck,off:fk,on:gk,once:hk,pop:mk,push:nk,render:xk,reset:ts,resetPartial:us,resetTemplate:vs,reverse:ws,set:ys,shift:zs,sort:As,splice:Bs,subtract:Cs,teardown:Es,toggle:Fs,toHTML:Gs,toHtml:Gs,unrender:Is,unshift:Js,update:Ls,updateModel:Ms},Os=Yg,Ps=1,Qs=$g,Rs=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath,d.index={},(c=Wl(b.proxy.parentFragment))&&(d.index=Wl.resolve(c)),d):d};os=function(a){Lr(this,a)},ps={extend:{value:Qs},getNodeInfo:{value:Rs},parse:{value:parse__default},Promise:{value:li},svg:{value:ai},magic:{value:Ei},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ch},events:{writable:!0,value:{}},interpolators:{writable:!0,value:_h},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},Li(os,ps),os.prototype=_n(Ns,bh),os.prototype.constructor=os,os.defaults=os.prototype;var Ss="function";if(typeof Date.now!==Ss||typeof String.prototype.trim!==Ss||typeof Object.keys!==Ss||typeof Array.prototype.indexOf!==Ss||typeof Array.prototype.forEach!==Ss||typeof Array.prototype.map!==Ss||typeof Array.prototype.filter!==Ss||"undefined"!=typeof window&&typeof window.addEventListener!==Ss)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Ts=os;return Ts});