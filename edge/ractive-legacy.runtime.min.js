/*
	ractive-legacy.runtime.min.js v0.6.1
	2014-12-14 - commit 75556a58 

	http://ractivejs.org
	http://twitter.com/RactiveJS

	Released under the MIT License.
*/

!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports&&"function"==typeof require?module.exports=b():a.Ractive=b()}("undefined"!=typeof window?window:this,function(){"use strict";function a(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function b(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a}function c(a){for(var b,c,d=yh.call(arguments,1);c=d.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a}function d(a){var b=yh.call(arguments,1);return b.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a}function e(a){return"[object Array]"===Ch.call(a)}function f(a){return Dh.test(Ch.call(a))}function g(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function h(a){return"number"==typeof a||"object"==typeof a&&"[object Number]"===Ch.call(a)}function i(a){return!isNaN(parseFloat(a))&&isFinite(a)}function j(a){return a&&"[object Object]"===Ch.call(a)}function k(a,b,c){var d=l(a,b,c);return d?d[a][c]:null}function l(a,b,c){for(;b;){if(c in b[a])return b;if(b.isolated)return null;b=b.parent}}function m(a){return function(){return a}}function n(a,b,c){var d;if("string"!=typeof b||!i(c))throw new Error("Bad arguments");if(d=+a.get(b)||0,!i(d))throw new Error("Cannot add to a non-numeric value");return a.set(b,d+c)}function o(a,b){return Mh(this,a,void 0===b?1:+b)}function p(a){var b=Rh[a.message]||a.message||"";return q(b,a.args)}function q(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function r(a){this.event=a,this.method="on"+a,this.deprecate=Uh[a]}function s(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function t(a,b){var c;if(!e(a)||!e(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function u(a){return"string"==typeof a?[a]:void 0===a?[]:a}function v(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)}function w(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function x(a){setTimeout(a,0)}function y(a,b){return function(){for(var c;c=a.shift();)c(b)}}function z(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof Vh)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,z(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function A(a,b,c,d){var e=a[b];if(e&&!C(e,d)&&C(e,c))return a[b]=F(e,c,d),!0}function B(a){var b=a.slice(2);return"i"===a[1]&&i(b)?+b:b}function C(a,b){return a===b||H(a,b)}function D(a,b){function c(b,c){var d,f,g;d=a.viewmodel.wrapped[c]?a.viewmodel.wrapped[c].get():a.get(c);for(f in d)!d.hasOwnProperty(f)||"_ractive"===f&&e(d)||(g=c?c+"."+f:f,b.push(g));return b}var d,f,g;for(d=b.split("."),g=[""];f=d.shift();)"*"===f?g=g.reduce(c,[]):""===g[0]?g[0]=f:g=g.map(E(f));return g}function E(a){return function(b){return b?b+"."+a:a}}function F(a,b,c){return a===b?void 0!==c?c:null:H(a,b)?null===c?c:a.replace(b+".",c+"."):void 0}function G(a){return a?a.replace(_h,".$1"):""}function H(a,b){return a&&b&&a.substr(0,b.length+1)===b+"."}function I(a,b,c){return b=G(b),"~/"===b.substr(0,2)?(b=b.substring(2),L(a,N(b),c),b):"."===b[0]?(b=J(ai(c),b),b&&L(a,N(b),c),b):K(a,b,c)}function J(a,b){var c;if("."===b)return a;if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),c.join(".")}return a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,"")}function K(a,b,c,d){var e,f,g,h,i;for(f=N(b);c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e+"."+b;return M(a,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,i=K(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function L(a,b){var c;!a.parent||a.isolated||M(a,b)||(c=K(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c})}function M(a,b){return b in a.data||b in a.viewmodel.computations||b in a.viewmodel.mappings}function N(a){var b=a.indexOf(".");return~b?a.slice(0,b):a}function O(a){a.teardown()}function P(a){a.unbind()}function Q(a){a.unrender()}function R(a){a.detach()}function S(a){a.detachNodes()}function T(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function U(){for(var a,b,c;di.viewmodels.length;)b=di.viewmodels.pop(),c=b.applyChanges(),c&&hi.fire(b.ractive,c);for(V(),a=0;a<di.views.length;a+=1)di.views[a].update();for(di.views.length=0,a=0;a<di.tasks.length;a+=1)di.tasks[a]();return di.tasks.length=0,di.viewmodels.length?U():void 0}function V(){var a,b,c,d;for(a=gi.length;a--;)b=gi[a],b.keypath&&gi.splice(a,1),(c=bi(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),gi.splice(a,1));d&&d.forEach(W)}function W(a){a.item.resolve(a.keypath)}function X(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;if(d=new $h(function(a){e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(n={},c.step=null,c.complete=null,m=function(a){return function(b,c){n[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(o=m(f),c={easing:i,duration:j},k&&(c.step=o)),c.complete=l?o:Eh,h.push(Y(this,f,a[f],c)));return q={easing:i,duration:j},k&&(q.step=function(a){k(a,n)}),l&&d.then(function(a){l(a,n)}).then(null,function(a){Th.consoleError({debug:r.debug,err:a})}),q.complete=e,p=Y(this,null,null,q),h.push(p),d.stop=function(){for(var a;a=h.pop();)a.stop();p&&p.stop()},d}return c=c||{},c.complete&&d.then(c.complete).then(null,function(a){Th.consoleError({debug:r.debug,err:a})}),c.complete=e,g=Y(this,a,b,c),d.stop=function(){g.stop()},d}function Y(a,b,c,d){var e,f,h,i;return b&&(b=G(b)),null!==b&&(i=a.viewmodel.get(b)),li.abort(b,a),g(i,c)?(d.complete&&d.complete(d.to),oi):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,h=new ni({keypath:b,from:i,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),li.add(h),a._animations.push(h),h)}function Z(){return this.detached?this.detached:(this.el&&v(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),qi.fire(this),this.detached)}function $(a){return this.el?this.fragment.find(a):null}function _(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function ab(a){var b,c;for(b=[a],c=_(a);c;)b.push(c),c=_(c);return b}function bb(a,b,c,d){var e=[];return wh(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:ti}}),c?(wh(e,{cancel:{value:ui},_root:{value:a},_sort:{value:xi},_makeDirty:{value:yi},_remove:{value:zi},_dirty:{value:!1,writable:!0}}),e):e}function cb(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=Ai(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function db(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=Ai(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function eb(a){return this.fragment.findComponent(a)}function fb(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function gb(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function hb(a){var b,c,d,e,f,g;for(b=a.split("."),(c=Ii[b.length])||(c=ib(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function ib(a){var b,c,d,e,f,g="";if(!Ii[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}Ii[a]=d}return Ii[a]}function jb(a,b,c){if(void 0===c&&(c={}),b){c.event?c.event.name=b:c.event={name:b,context:a.data,keypath:"",_noArg:!0};var d=Ji(b);kb(a,d,c.event,c.args,!0)}}function kb(a,b,c,d,e){void 0===e&&(e=!1);var f,g,h=!0;for(Hi.enqueue(a,c),g=b.length;g>=0;g--)f=a._subs[b[g]],f&&(h=lb(a,f,c,d)&&h);if(Hi.dequeue(a),a.parent&&h){if(e&&a.component){var i=a.component.name+"."+b[b.length-1];b=Ji(i),c&&(c.component=a)}kb(a.parent,b,c,d)}}function lb(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function mb(a){var b={args:Array.prototype.slice.call(arguments,1)};Ki(this,a,b)}function nb(a){var b;return a=G(a),b=this.viewmodel.get(a,Mi),void 0===b&&this.parent&&!this.isolated&&bi(this,a,this.fragment)&&(b=this.viewmodel.get(a)),b}function ob(b,c){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(b=a(b),c=a(c)||null,!b)throw new Error("You must specify a valid target to insert into");b.insertBefore(this.detach(),c),this.el=b,(b.__ractive_instances__||(b.__ractive_instances__=[])).push(this),this.detached=null,pb(this)}function pb(a){Oi.fire(a),a.findAllComponents("*").forEach(function(a){pb(a.instance)})}function qb(a,b,c){var d,f,g=this;return a=G(a),d=this.viewmodel.get(a),e(d)&&e(b)?(f=ii.start(this,!0),this.viewmodel.merge(a,d,b,c),ii.end(),c&&c.complete&&(Th.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.merge"}}),f.then(c.complete).then(null,function(a){Th.consoleError({debug:g.debug,err:a})})),f):this.set(a,b,c&&c.complete)}function rb(a,b){var c,d;return c=D(a,b),d={},c.forEach(function(b){d[b]=a.get(b)}),d}function sb(a,b,c,d){var e,f,g;return b=G(b),d=d||dj,cj.test(b)?(e=new bj(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new Ti(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0,{cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}}}function tb(a,b,c){var d,e,f,g;if(j(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",ej(this,a,b,c);if(f=a.split(" "),1===f.length)return ej(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(ej(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function ub(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function vb(a,b){var c,d=this;if(a)c=a.split(" ").map(hj).filter(ij),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function wb(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(hj).filter(ij),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function xb(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function yb(a,b,c){var d,e,f,g,h,i,j=[];if(d=zb(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j}function zb(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}function Ab(b,c){var d,e,f,g=this;if(f=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),d=ii.start(this,!0),ii.scheduleTask(function(){return zj.fire(g)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(b=a(b)||this.el,c=a(c)||this.anchor,this.el=b,this.anchor=c,!this.append&&b){var h=b.__ractive_instances__;h&&h.length&&Bb(h),b.innerHTML=""}return this.constructor.css&&yj.add(this.constructor),b&&((e=b.__ractive_instances__)?e.push(this):b.__ractive_instances__=[this],c?b.insertBefore(this.fragment.render(),c):b.appendChild(this.fragment.render())),ii.end(),this.transitionsEnabled=f,d.then(function(){return Aj.fire(g)}).then(null,function(a){Th.consoleError({debug:g.debug,err:a})}),d}function Bb(a){try{a.splice(0,a.length).forEach(function(a){return a.teardown()})}catch(b){}}function Cb(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,ii.start(d),d.viewmodel.mark(c),ii.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function Db(a,b){for(var c=a.slice(),d=b.length;d--;)~c.indexOf(b[d])||c.push(b[d]);return c}function Eb(a,b){var c,d,e;return d='[data-ractive-css="'+b+'"]',e=function(a){var b,c,e,f,g,h,i,j=[];for(b=[];c=$j.exec(a);)b.push({str:c[0],base:c[1],modifiers:c[2]});for(f=b.map(Gb),i=b.length;i--;)h=f.slice(),e=b[i],h[i]=e.base+d+e.modifiers||"",g=f.slice(),g[i]=d+" "+g[i],j.push(h.join(" "),g.join(" "));return j.join(", ")},c=ak.test(a)?a.replace(ak,d):a.replace(Zj,"").replace(Yj,function(a,b){var c,d;return _j.test(b)?a:(c=b.split(",").map(Fb),d=c.map(e).join(", ")+" ",a.replace(b,d))})}function Fb(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function Gb(a){return a.str}function Hb(a,b,c){return a?b.noCssTransform?a:bk(a,c):void 0}function Ib(a,b){return"function"==typeof b&&/_super/.test(a)}function Jb(a,b,c){var d=c.data||{},e=Kb(a.prototype.data);if("object"!=typeof d&&"function"!=typeof d)throw new TypeError('data option must be an object or a function, "'+d+'" is not valid');return Lb(e,d)}function Kb(a){if("function"!=typeof a||!Object.keys(a).length)return a;var b={};return Mb(a,b),Lb(a,b)}function Lb(a,b){return"function"==typeof b?Pb(b,a):"function"==typeof a?Ob(b,a):Nb(b,a)}function Mb(a,b,c){for(var d in a)!(b._mappings&&b._mappings[d]&&b._mappings[d].updatable)&&c&&d in b||(b[d]=a[d])}function Nb(a,b){return a=a||{},b?(Mb(b,a,!0),a):a}function Ob(a,b){return function(c){var d;if(a){d=[];for(var e in a)c&&e in c||d.push(e)}return c=b.call(this,c)||c,d&&d.length&&(c=c||{},d.forEach(function(b){c[b]=a[b]})),c}}function Pb(a,b){var c;return c="function"!=typeof b?function(a){Nb(a,b)}:function(a){return b=ek(b,function(){},!0),b.call(this,a)||a},ek(a,c)}function Qb(a){var b=uh(ik);return b.parse=function(b,c){return Rb(b,c||a)},b}function Rb(a,b){if(!parse__default)throw new Error(Rh.missingParser);return parse__default(a,b||this.options)}function Sb(a,b){var c;if(!$g){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if(Tb(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.innerHTML}function Tb(a){return a&&"#"===a.charAt(0)}function Ub(a){return!("string"==typeof a)}function Vb(a){return a.defaults&&(a=a.defaults),hk.reduce(function(b,c){return b[c]=a[c],b},{ractive:a})}function Wb(a){var b,c=a._config.template;if(c&&c.fn)return b=Xb(a,c.fn),b!==c.result?(c.result=b,b=Zb(b,a)):void 0}function Xb(a,b){var c=Yb(jk.getParseOptions(a));return b.call(a,a.data,c)}function Yb(a){var b=uh(jk);return b.parse=function(b,c){return jk.parse(b,c||a)},b}function Zb(a,b){if("string"==typeof a)"#"===a[0]&&(a=jk.fromId(a)),a=parse__default(a,jk.getParseOptions(b));else if(2!==a.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return a}function $b(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function _b(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=ac(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function ac(a,b){var c;return b in a?!function(){var d=a[b];c="function"==typeof d?d:function(){return d}}():c=Eh,c}function bc(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function cc(a,b,c){if(b in a){if(c in a)throw new Error(bc(b,c,!0));Hh(bc(b,c)),a[c]=a[b]}}function dc(a){cc(a,"beforeInit","onconstruct"),cc(a,"init","onrender"),cc(a,"complete","oncomplete"),cc(a,"eventDefinitions","events"),e(a.adaptors)&&cc(a,"adaptors","adapt")}function ec(a,b,c,d){uk(d);for(var e in d)if(rk[e]){var f=d[e];"function"==typeof f&&(f=tk(b.prototype,e,f)),c[e]=f}sk.forEach(function(e){e[a](b,c,d)}),Xj[a](b,c,d),gk[a](b,c,d),lk[a](b,c,d),dk[a](b,c,d),fc(b.prototype,c,d)}function fc(a,b,c){for(var d in c)if(!qk[d]&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=tk(a,d,e)),b[d]=e}}function gc(a){var b={};return a.forEach(function(a){return b[a]=!0}),b}function hc(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function ic(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function jc(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function kc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function lc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function mc(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function nc(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function oc(){return this.items&&this.items[0]?this.items[0].firstNode():null}function pc(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function qc(a){var b,c,d,e;return b=a.pos,d=Dl(a),null===d?null:(c=[d],a.matchString(",")?(e=qc(a),e?c.concat(e):(a.pos=b,null)):c)}function rc(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=a.readExpression(),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=rc(a),null===f&&a.error(ll),f.forEach(b)),d)}function sc(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(zl))return{t:_k,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(ll),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:_k,x:d}):null}function tc(a){return JSON.stringify(String(a))}function uc(a,b){var c,d;if(a.t===$k&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(j(d))uc(d,b);else for(c=d.length;c--;)uc(d[c],b);a.x&&uc(a.x,b),a.r&&uc(a.r,b),a.v&&uc(a.v,b)}function vc(a,b,c){var d=function(b){return vc(a,b,c)};switch(b.t){case Xk:case Yk:case Tk:return b.v;case Uk:return tc(b.v);case Vk:return"["+(b.m?b.m.map(d).join(","):"")+"]";case Wk:return"{"+(b.m?b.m.map(d).join(","):"")+"}";case Zk:return b.k+":"+vc(a,b.v,c);case bl:return("typeof"===b.s?"typeof ":b.s)+vc(a,b.o,c);case el:return vc(a,b.o[0],c)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+vc(a,b.o[1],c);case fl:return vc(a,b.x,c)+"("+(b.o?b.o.map(d).join(","):"")+")";case cl:return"("+vc(a,b.x,c)+")";case al:return vc(a,b.x,c)+vc(a,b.r,c);case _k:return b.n?"."+b.n:"["+vc(a,b.x,c)+"]";case dl:return vc(a,b.o[0],c)+"?"+vc(a,b.o[1],c)+":"+vc(a,b.o[2],c);case $k:return"_"+c.indexOf(b.n);default:a.error("Expected legal JavaScript")}}function wc(a){var b,c,d;return a.allowWhitespace(),(b=Cl(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function xc(a){var b=this;return void 0===a&&(a=om),function(){var c,d,e,f,g,h,i;return c=a.args,g=c?"argsList":"value",h=c?"dirtyArgs":"dirtyValue",b[h]&&(e=yc(b.items,d={},b.root._guid),f=nm(c?"["+e+"]":e,d),i=f?f.value:c?[b.toString()]:b.toString(),b[g]=i,b[h]=!1),b[g]}()}function yc(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return yc(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=(f=a.root.viewmodel.wrapped[a.keypath])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function zc(a){return a.replace(jm,function(a,b){var c;return c="#"!==b[0]?hm[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(Ac(c)):a})}function Ac(a){return a?10===a?32:128>a?a:159>=a?im[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function Bc(a){return a.replace(mm,"&amp;").replace(km,"&lt;").replace(lm,"&gt;")}function Cc(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Dc(){return this.value}function Ec(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function Fc(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function Gc(a,b,c){var d;return"@"===b.charAt(0)?new zm(a,b,c):(d=Cm(a.parentFragment,b))?new Bm(a,d,c):new wm(a,b,c)}function Hc(a,b){var c,d;if(Fm[a])return Fm[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),Fm[a]=c,c}function Ic(a){return a.call()}function Jc(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return d=b[c],void 0===d?"undefined":"@"===d[0]?(e=d.slice(1),i(e)?e:'"'+e+'"'):d})}function Kc(a){return"${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}"}function Lc(a){return void 0!==a&&"@"!==a[0]}function Mc(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){vh(a,d,{value:Hm.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return vh(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function Nc(a){return a.value}function Oc(a){return void 0!=a}function Pc(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!==c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.key=b.key,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=Em(a,e,c)),b.template.x&&(a.resolver=new Im(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new Mm(a,b.template.rx,d)),a.template.n!==hl||a.hasOwnProperty("value")||a.setValue(void 0)}function Qc(a){var b,c,d;return a&&"@"===a[0]?(this.keypath=a,void this.setValue(B(a))):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function Rc(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function Sc(){this.parentFragment.bubble()}function Tc(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)}function Uc(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function Vc(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function Wc(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function Xc(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function Yc(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function Zc(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function $c(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===il){if(this.shuffling=!0,ii.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath+"."+b,h=i.keypath+"."+a,d.index=a,(j=d.registeredIndexRefs)&&j.forEach(_c),d.rebind(g,h),void(f[a]=d)))}),e=this.root.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&ii.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function _c(a){a.rebind("","")}function ad(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function bd(a){var b,c,d=this;this.updating||(this.updating=!0,(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=ld(d.keypath,a),c.index=a,b=new Xr(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):dd(this,a)&&(this.bubble(),this.rendered&&ii.addView(this)),this.value=a,this.updating=!1)}function cd(a,b,c){if(b===il&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function dd(a,b){var c={template:a.template.f,root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.subtype)switch(a.subtype){case gl:return id(a,b,!1,c);case hl:return id(a,b,!0,c);case jl:return hd(a,c);case kl:return gd(a,b,c);case il:if(j(b))return cd(a,a.subtype,!0),fd(a,b,c)}return a.ordered=!!f(b),a.ordered?(cd(a,il,!1),ed(a,b,c)):j(b)||"function"==typeof b?a.template.i?(cd(a,il,!0),fd(a,b,c)):(cd(a,jl,!1),hd(a,c)):(cd(a,gl,!1),id(a,b,!1,c))}function ed(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(P);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=ld(a.keypath,d),c.index=d,f=new Xr(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function fd(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(md));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=ld(a.keypath,d),c.key=d,c.index=e++,g=new Xr(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function gd(a,b,c){return b?hd(a,c):jd(a)}function hd(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new Xr(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function id(a,b,c,d){var e,g,h,i,k;if(g=f(b)&&0===b.length,h=!1,!f(b)&&j(b)){h=!0;for(k in b){h=!1;break}}return e=c?g||h||!b:b&&!g&&!h,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(P),!0):void 0:(d.index=0,i=new Xr(d),a.fragmentsToRender.push(a.fragments[0]=i),a.length=1,!0):jd(a)}function jd(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(kd),a.fragmentsToUnrender.forEach(P),a.length=a.fragmentsToRender.length=0,!0):void 0}function kd(a){return a.rendered}function ld(a,b){return(a?a+".":"")+b}function md(a){a.rebind("","")}function nd(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function od(){var a=this;this.fragments.forEach(P),this.fragmentsToRender.forEach(function(b){return v(a.fragments,b)}),this.fragmentsToRender=[],tm.call(this),this.length=0,this.unbound=!0}function pd(a){this.fragments.forEach(a?qd:rd),this.renderedFragments=[],this.rendered=!1}function qd(a){a.unrender(!0)}function rd(a){a.unrender(!1)}function sd(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function td(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function ud(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(jh(d,a))return d;if(e=d.querySelector(a))return e}return null}function vd(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(jh(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function wd(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xd(a){return qn[a]||(qn[a]=ih(a))}function yd(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=w(a.node.options).filter(zd),a.getAttribute("multiple")?d=b.map(function(a){return a.value
}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function zd(a){return a.selected}function Ad(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=rn(this.value,this.parentFragment.getNode(),this.docFrag),sn(this.pElement),this.rendered=!0,this.docFrag}function Bd(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&ii.addView(this))}function Cd(){return void 0!=this.value?zc(""+this.value):""}function Dd(a){this.rendered&&a&&(this.nodes.forEach(b),this.rendered=!1)}function Ed(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=rn(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),sn(this.pElement)}}function Fd(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function Gd(){return null}function Hd(){return this.node}function Id(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function Jd(){var a=this.fragment.getValue();g(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&ii.addView(this))}function Kd(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Jk?b[0]:void 0}function Ld(a){return this.type=Pk,this.element=a.element,this.root=a.root,Sn(this,a.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new Xr({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=Tn(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,Vn(this,a),void(this.ready=!0)):void(this.value=fm.test(this.name)?!0:a.value||"")}function Md(a,b){this.fragment&&this.fragment.rebind(a,b)}function Nd(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==bh.html||(b=Yn[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(fm.test(b)||"value"===b)&&(this.useProperty=!0),"value"===b&&(this.useProperty=!0,a._ractive.value=this.value)),this.rendered=!0,this.update()}function Od(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;return"value"===b&&("select"===this.element.name||"textarea"===this.element.name)||"value"===b&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===b&&"input"===this.element.name&&e?"name={{"+(e.keypath||e.ref)+"}}":fm.test(b)?d?b:"":(f&&(d=f.toString()),c&&(b=c+":"+b),d?b+'="'+Pd(d)+'"':b)}function Pd(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Qd(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Rd(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function Sd(){var a,b,c,d,f=this.value;for(e(f)||(f=[f]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=s(f,d)}function Td(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function Ud(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return ii.addViewmodel(b.root.viewmodel),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function Vd(){var a,b,c=this,d=c.element,f=c.node,g=c.value;if(a=d.getAttribute("value"),e(g)){for(b=g.length;b--;)if(a==g[b])return void(f.checked=!0);f.checked=!1}else f.checked=g==a}function Wd(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b}function Xd(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function Yd(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function Zd(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function $d(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function _d(){this.locked||(this.node[this.propertyName]=this.value)}function ae(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):fm.test(d)?e?b.setAttribute(d,""):b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function be(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=ho:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?bo:ao:"textarea"===e.name?b=ko:null!=e.getAttribute("contenteditable")?b=jo:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?Eh:"radio"===a&&e.binding&&"name"===e.binding.name?eo:ko):this.twoway&&"name"===d?"radio"===f.type?b=co:"checkbox"===f.type&&(b=fo):"style"===d&&f.style.setAttribute?b=io:"class"!==d||f.namespaceURI&&f.namespaceURI!==bh.html?this.useProperty&&(b=lo):b=go,b||(b=mo),this.update=b,this.update()}function ce(a,b){var c=b?"svg":"div";return po.innerHTML="<"+c+" "+a+"></"+c+">",w(po.childNodes[0].attributes)}function de(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function ee(a){for(;a=a.parent;)if("form"===a.name)return a}function fe(){this._ractive.binding.handleChange()}function ge(a,b,c){var d=a+b+c;return Bo[d]||(Bo[d]=[])}function he(a){return a.isChecked}function ie(a){return a.element.getAttribute("value")}function je(){var a;yo.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function ke(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&yo.call(b),a._timeout=void 0},a.element.lazy)}function le(a){var b,c,d,e,f=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||f.contenteditable&&me(f.contenteditable))&&me(f.value)?c=Ao:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=me(f.name),e=me(f.checked),d&&e&&Th.error({message:"badRadioInputBinding"}),d?c="radio"===b?Go:Io:e&&(c="radio"===b?Eo:Ko)):"file"===b&&me(f.value)?c=Qo:me(f.value)&&(c="number"===b||"range"===b?So:Ro)):"select"===a.name&&me(f.value)?c=a.getAttribute("multiple")?Oo:Mo:"textarea"===a.name&&me(f.value)&&(c=Ro),c?new c(a):void 0}function me(a){return a&&a.isBindable}function ne(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function oe(a){Ki(this.root,this.getAction(),{event:a})}function pe(){return this.action.toString().trim()}function qe(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&(Th.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:a.tagName,event:b}}),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=Gm(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c;(c=Yo.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(Em(g,a,function(a){return g.resolve(b,a)}))}),this.fire=re):(d=c.n||c,"string"!=typeof d&&(d=new Xr({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new Xr({template:c.d,root:this.root,owner:this.element}),this.fire=te):c.a&&(this.params=c.a,this.fire=se))}function re(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),Hi.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),Hi.dequeue(b)}function se(a){Ki(this.root,this.getAction(),{event:a,args:this.params})}function te(a){var b=this.dynamicParams.getValue(Xo);"string"==typeof b&&(b=b.substr(1,b.length-2)),Ki(this.root,this.getAction(),{event:a,args:b})}function ue(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=Cm(c.element.parentFragment))&&(e=Cm.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath,context:b.root.get(b.keypath)})}function ve(){var a,b=this.name;if(!this.invalid){if(a=k("events",this.root,b))this.custom=a(this.node,we(b));else{if(!("on"+b in this.node||window&&"on"+b in window))return void(ap[b]||Th.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:b}}));this.node.addEventListener(b,$o,!1)}this.hasListener=!0}}function we(a){return _o[a]||(_o[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath,b.context=c.root.get(c.keypath),c.events[a].fire(b)}),_o[a]}function xe(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function ye(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function ze(a,b){this.keypaths[a]=b}function Ae(){return this.method?void this.refResolvers.forEach(P):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Be(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,$o,!1),this.hasListener=!1}function Ce(){var a=this;this.dirty||(this.dirty=!0,ii.scheduleTask(function(){De(a),a.dirty=!1})),this.parentFragment.bubble()}function De(a){var b,c,d,e,f;b=a.node,b&&(e=w(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?Ee(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function Ee(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function Fe(a,b){a.select=He(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function Ge(a){a.select&&v(a.select.options,a)}function He(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function Ie(a){var b,c,d,e,f,g;this.type=Mk,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=Rn(c.e),"option"===this.name&&Fe(this,c),"select"===this.name&&(this.options=[],this.bubble=Ce),"form"===this.name&&(this.formBindings=[]),Pn(this,c.a||{}),this.attributes=ro(this,c.a),this.conditionalAttributes=uo(this,c.m),c.f&&(this.fragment=new Xr({template:c.f,root:d,owner:this,pElement:this})),g=d.twoway,this.twoway===!1?g=!1:this.twoway===!0&&(g=!0),g&&(e=To(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath]||(this.root._twowayBindings[e.keypath]=[]),f.push(e)),c.v&&(this.eventHandlers=lp(this,c.v)),c.o&&(this.decorator=new pp(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function Je(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&A(e,"keypath",a,b)}function Ke(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function Le(a){a.node.addEventListener("reset",Ne,!1)}function Me(a){a.node.removeEventListener("reset",Ne,!1)}function Ne(){var a=this._ractive.proxy;ii.start(),a.formBindings.forEach(Oe),ii.end()}function Oe(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function Pe(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new Xr({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new Xr({template:b.d,root:d,owner:a}),this.params=f.getValue(sp),f.unbind()),this._fn=k("transitions",d,e),this._fn||Th.error({debug:d.debug,message:"missingPlugin",args:{plugin:"transition",name:e}}))}function Qe(a){return a}function Re(){Up.hidden=document[Qp]}function Se(){Up.hidden=!0}function Te(){Up.hidden=!1}function Ue(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&Ve(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Ve(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function We(){var a,b,c=this,d=this.root;return a=Xe(this),b=this.node=ih(this.name,a),d.constructor.css&&this.parentFragment.getNode()===d.el&&this.node.setAttribute("data-ractive-css",d.constructor._guid),vh(this.node,"_ractive",{value:{proxy:this,keypath:ai(this.parentFragment),events:uh(null),root:d}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=dq,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Eh):"style"===this.name?(this.bubble=cq,this.bubble(),this.fragment.unrender=Eh):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Eh:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&Ye(this),"img"===this.name?Ke(this):"form"===this.name?Le(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&ii.scheduleTask(function(){c.decorator.torndown||c.decorator.init()},!0),d.transitionsEnabled&&this.intro&&!function(){var a=new eq(c,c.intro,!0);ii.registerTransition(a),ii.scheduleTask(function(){return a.start()},!0),c.transition=a}(),this.node.autofocus&&ii.scheduleTask(function(){return c.node.focus()},!0),Ze(this),this.node}function Xe(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?bh.svg:(d=a.parent)?"foreignObject"===d.name?bh.html:d.node.namespaceURI:a.root.el.namespaceURI}function Ye(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&e(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function Ze(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function $e(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&e(c))for(d=c.length;d--;)if(c[d]==b)return!0}function _e(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function af(a){var b=a.toString();return b?" "+b:""}function bf(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(P),"option"===this.name&&Ge(this),this.attributes.forEach(P),this.conditionalAttributes.forEach(P)}function cf(a){var b,c,d=this;this.transition&&this.transition.complete(),"option"===this.name?this.detach():a&&ii.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(Q),this.decorator&&ii.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&!function(){var a=new eq(d,d.outro,!1);ii.registerTransition(a),ii.scheduleTask(function(){return a.start()})}(),this.liveQueries&&df(this),"form"===this.name&&Me(this)}function df(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function ef(a,b){var c=mq.exec(b)[0];return null===a||c.length<a.length?c:a}function ff(a,b){var c;if(c=gf(a,b))return c;if(c=jk.fromId(b,{noThrow:!0})){c=nq(c);var d=jk.parse(c,jk.getParseOptions(a));return a.partials[b]=d.t}}function gf(a,b){var c=l("partials",a,b);if(c){var d,e=c.partials[b];if("function"==typeof e&&(d=e.bind(c),d.isOwner=c.partials.hasOwnProperty(b),e=d(c.data,jk)),!e&&""!==e)return void Th.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:b}});if(!jk.isParsed(e)){var f=jk.parse(e,jk.getParseOptions(c));f.p&&Th.warn({debug:a.debug,message:"noNestedPartials",args:{rname:b}});var g=d?c:hf(c,b);g.partials[b]=e=f.t}return d&&(e._fn=d),e.v?e.t:e}}function hf(a,b){return a.partials.hasOwnProperty(b)?a:jf(a.constructor,b)}function jf(a,b){return a?a.partials.hasOwnProperty(b)?a:jf(a._Parent,b):void 0}function kf(a,b){var c,d=l("components",a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(d.data),!c)return void Th.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:b}});"string"==typeof c&&(c=kf(a,c)),c._fn=e,d.components[b]=c}return c}function lf(){var a=this.instance.fragment.detach();return tq.fire(this.instance),a}function mf(a){return this.instance.fragment.find(a)}function nf(a,b){return this.instance.fragment.findAll(a,b)}function of(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function pf(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function qf(){return this.parentFragment.findNextNode(this)}function rf(){return this.rendered?this.instance.fragment.firstNode():null}function sf(a,b){var c,d,e,f,g=this.ractive;for(c=g.adapt.length,d=0;c>d;d+=1)if(e=g.adapt[d],e.filter(b,a,g))return f=this.wrapped[a]=e.wrap(g,b,a,uf(a)),f.value=b,b;return b}function tf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function uf(a){var b;return Bq[a]||(b=a?a+".":"",Bq[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?tf(c,a):c:void 0}),Bq[a]}function vf(a){var b,c,d,e,f=[""];for(b=a.length;b--;)for(c=a[b],d=c.split(".");d.length>1;)d.pop(),e=d.join("."),-1===f.indexOf(e)&&f.push(e);return f}function wf(a){var b,c,d,e;return b=a.split("."),c=xf(b.length),d=function(a,c){return a?"*":b[c]},e=c.map(function(a){return a.map(d).join(".")})}function xf(a){var b,c,d,e,f,g="";if(!Eq[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}Eq[a]=d}return Eq[a]}function yf(a,b,c){var d;Af(a,b),c||(d=Fq(b),d.forEach(function(c){zf(a,c,b)}))}function zf(a,b,c){var d,e,f;d=a.depsMap.patternObservers,d&&(e=d[b])&&e.forEach(function(b){var d=Gq.exec(b)[0];f=c?c+"."+d:d,Af(a,f),zf(a,b,f)})}function Af(a,b){a.patternObservers.forEach(function(a){a.regex.test(b)&&a.update(b)})}function Bf(){function a(c){var d,f;e.noCascade.hasOwnProperty(c)||((f=e.deps.computed[c])&&f.forEach(function(c){c.viewmodel===e?(e.clearCache(c.key),c.invalidate(),b.push(c.key),a(c.key)):c.viewmodel.mark(c.key)}),(d=e.depsMap.computed[c])&&d.forEach(a))}var b,c,d=this,e=this,f={};return b=this.changes,b.length?(b.slice().forEach(a),c=Dq(b),c.forEach(function(a){var c;-1===b.indexOf(a)&&(c=e.deps.computed[a])&&(d.changes.push(a),c.forEach(function(a){a.viewmodel.mark(a.key)}))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(a){return Hq(d,a,!0)}),b.forEach(function(a){return Hq(d,a)})),this.deps.observers&&(c.forEach(function(a){return Cf(d,null,a,"observers")}),Ef(this,b,"observers")),this.deps["default"]&&!function(){var a=[];c.forEach(function(b){return Cf(d,a,b,"default")}),a.length&&Df(d,a,b),Ef(d,b,"default")}(),b.forEach(function(a){f[a]=d.get(a)}),this.implicitChanges={},this.noCascade={},f):void 0}function Cf(a,b,c,d){var e,f;(e=Ff(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function Df(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function Ef(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=Ff(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function Ff(a,b,c){var d=a.deps[c];return d?d[b]:null}function Gf(){this.captureGroups.push([])}function Hf(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function If(a){var b="var __ractive=this;return("+a.replace(Lq,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(b)}function Jf(a,b){var c=b.split(".")[0];return!(c in a.ractive.data||c in a.computations||c in a.mappings)}function Kf(a,b){return b=Mq(b),this.computations[a]=new Qq(this.ractive,a,b)}function Lf(a,b){var c=this;return void 0===b&&(b=Tq),function(){var d,e,f,g,h,i=c.ractive,j=c.cache;return b.capture&&(h=c.captureGroups[c.captureGroups.length-1])&&(~h.indexOf(a)||h.push(a)),(d=c.mappings[a.split(".")[0]])?d.get(a,b):"@"===a[0]?B(a):(void 0===j[a]?((f=c.computations[a])&&!f.bypass?(e=f.get(),c.adapt(a,e)):(g=c.wrapped[a])?e=g.value:a?e=Mf(c,a):(c.adapt("",i.data),e=i.data),j[a]=e):e=j[a],!b.noUnwrap&&(g=c.wrapped[a])&&(e=g.get()),e===Sq?void 0:e)}()}function Mf(a,b){var c,d,e,f,g,h,i;return c=b.split("."),d=c.pop(),e=c.join("."),f=a.get(e),(i=a.wrapped[e])&&(f=i.get()),null!==f&&void 0!==f?((g=a.cacheMap[e])?-1===g.indexOf(b)&&g.push(b):a.cacheMap[e]=[b],"object"!=typeof f||d in f?(h=f[d],a.adapt(b,h,!1),a.cache[b]=h,h):a.cache[b]=Sq):void 0}function Nf(){var a,b,c=[];for(a in this.ractive.computed)b=this.compute(a,this.ractive.computed[a]),c.push(b),a in this.mappings&&Th.critical({message:"Cannot map to a computed property ('"+a+"')"});c.forEach(Of)}function Of(a){a.init()}function Pf(a,b){this.keypath=a,this.viewmodel=b}function Qf(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.trackData=b.trackData,this.resolved=!1}function Rf(a,b){var c=new Xq(a,b);return c.initViewmodel(this),c}function Sf(a,b){var c;ii.addViewmodel(this),b&&(b.implicit&&(this.implicitChanges[a]=!0),b.noCascade&&(this.noCascade[a]=!0)),(c=this.computations[a])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var d=b?b.dontTeardownWrapper:!1;this.clearCache(a,d)}function Tf(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=Vf(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){if(this.debug)throw i;Hh("Merge operation: comparison failed. Falling back to identity checking"),e=b,f=c}}else e=b,f=c;h=$q(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function Uf(a){return JSON.stringify(a)}function Vf(a){if(a===!0)return Uf;if("string"==typeof a)return _q[a]||(_q[a]=function(b){return b[a]}),_q[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Wf(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.register(a,b,c);e=this.deps[c]||(this.deps[c]={}),f=e[a]||(e[a]=[]),f.push(b),a&&Xf(this,a,c)}}function Xf(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c]||(a.depsMap[c]={}),g=f[e]||(f[e]=[]),void 0===g[b]&&(g[b]=0,g.push(b)),g[b]+=1,b=e}function Yf(){return this.captureGroups.pop()}function Zf(a,b,c){void 0===c&&(c={});var d,e,f,h;if(!c.noMapping&&(d=this.mappings[a.split(".")[0]]))return d.set(a,b);if(e=this.computations[a]){if(e.setting)return;e.set(b),b=e.get()}g(this.cache[a],b)||(f=this.wrapped[a],f&&f.reset&&(h=f.reset(b)!==!1,h&&(b=f.get())),e||h||$f(this,a,b),c.silent?this.clearCache(a):this.mark(a))}function $f(a,b,c){var d,e,f,g,h,i,j;i=function(){g.set?g.set(e,c):(h=g.get(),j())},j=function(){h||(h=Oj(e),a.set(f,h,{silent:!0})),h[e]=c},d=b.split("."),e=d.pop(),f=d.join("."),g=a.wrapped[f],g?i():(h=a.get(f),(g=a.wrapped[f])?i():j())}function _f(a,b,c){var d,e,f=this;if(e=c.length,c.forEach(function(b,c){-1===b&&f.mark(a+"."+c,fr)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a])&&d.filter(ag).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){this.mark(a+".length",er);for(var g=e;g<b.length;g+=1)this.mark(a+"."+g);for(var g=b.length;e>g;g+=1)this.mark(a+"."+g,fr)}}function ag(a){return"function"==typeof a.shuffle}function bg(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function cg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.unregister(a,b,c);if(e=this.deps[c][a],f=e.indexOf(b),-1===f)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");e.splice(f,1),a&&dg(this,a,c)}}function dg(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c],g=f[e],g[b]-=1,g[b]||(v(g,b),g[b]=void 0),b=e}function eg(a){this.hook=new Wh(a),this.inProcess={},this.queue={}}function fg(a,b){return a[b._guid]||(a[b._guid]=[])}function gg(a,b){var c=fg(a.queue,b);for(a.hook.fire(b);c.length;)gg(a,c.shift());delete a.queue[b._guid]}function hg(b,c,d){void 0===c&&(c={}),void 0===d&&(d={});var e;if(ig(b,d),mr.fire(yk.getConstructTarget(b,c),c),yk.init(b.constructor,b,c),b.magic&&!ah)throw new Error("Getters and setters (magic mode) are not supported in this browser");nr.fire(b),or.begin(b),b.viewmodel=new kr(b,d.mappings),b.viewmodel.init(),b.template&&(b.fragment=new Xr({template:b.template,root:b,owner:b})),or.end(b),(e=a(b.el))&&b.render(e,b.append)}function ig(a,b){a._guid="r-"+pr++,a._subs=uh(null),a._config={},a._twowayBindings=uh(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function jg(a,b,c){this.parameters=a,this.parentFragment=a.component.parentFragment,this.key=b,this.fragment=new Xr({template:c,root:a.component.root,owner:this}),this.parameters.addData(this.key,this.fragment.getValue())}function kg(a,b){return b.parameters?ah&&"legacy"!==b.parameters?mg(a,b):lg(a):a.data}function lg(a){var b,c=a.mappings;for(b in c){var d=c[b];d.trackData=!0,d.updatable||a.addData(b,d.getValue())}return a.data}function mg(a,b){var c=ng(a,b);return new c(a)}function ng(a,b){var c=b._parameters;return(!c.Constructor||a.newKeys.length)&&(c.Constructor=og(a,c.defined)),c.Constructor}function og(a,b){function c(a){this._mappings=a.mappings,this._data=a.data||{}}var d,e;return d=a.keys.reduce(function(a,b){return a[b]={get:function(){var a=this._mappings[b];return a?a.getValue():this._data[b]},set:function(a){var c=this._mappings[b];c?(ii.start(),c.setValue(a),ii.end()):this._data[b]=a},enumerable:!0},a},b),wh(e={},d),e.constructor=c,c.prototype=e,c}function pg(a,b,c){var d,e;this.parameters=a,this.key=b,this.resolved=this.ready=!1,d=a.component,e=this.resolve.bind(this),c.r?this.resolver=Em(d,c.r,e):c.x?this.resolver=new Im(d,d.parentFragment,c.x,e):c.rx&&(this.resolver=new Mm(d,c.rx,e)),this.resolved||a.addMapping(b),this.ready=!0}function qg(a,b,c){var d,e,f;return c?(b.parameters&&(f=rg(b)),d=new sg(a,c,f),e=tr(d,b),{data:e,mappings:d.mappings}):{data:{}}}function rg(a){return a._parameters?a._parameters.defined||(a._parameters.defined={}):a._parameters={defined:{}},a._parameters.defined}function sg(a,b,c){var d=this;this.component=a,this.parentViewmodel=a.root.viewmodel,this.data={},this.mappings=uh(null),this.newKeys=[],this.keys=Object.keys(b),this.keys.forEach(function(a){c&&!c[a]&&d.newKeys.push(a),d.add(a,b[a])})}function tg(a){return 1===a.length&&a[0].t===Jk}function ug(a,b){var c;for(c in b)b.hasOwnProperty(c)&&vg(a.instance,a.root,c,b[c])}function vg(a,b,c,d){"string"!=typeof d&&Th.error({debug:b.debug,message:"noComponentEventArguments"}),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),Ki(b,d,{event:a,args:c}),!1})}function wg(a,b){var c,d,e;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=Qk,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],e=vr(this,b.prototype,a.template.a),rr(this,b,e,a.template.f,a.template.p),wr(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&Hh('The "intro", "outro" and "decorator" directives have no effect on components'),xr(this)}function xg(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function yg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function zg(){return this.instance.fragment.toString()}function Ag(){var a=this.instance;this.resolvers.forEach(P),Bg(this),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&v(a.el.__ractive_instances__,a),Cr.fire(a)}function Bg(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function Cg(a){this.shouldDestroy=a,this.instance.unrender()}function Dg(a){if("string"==typeof a.template)return new sm(a);switch(a.template.t){case Jk:return"yield"===a.template.r?new Kr(a):new Sm(a);case Lk:return new ln(a);case Kk:return new Dn(a);case Mk:var b;return(b=sq(a.parentFragment.root,a.template.e))?new Gr(a,b):new kq(a);case Nk:return new rq(a);case Ok:return new Ir(a);case Sk:return new Mr(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Eg(a){var b,c=this;this.owner=a.owner,b=this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],a.template=u(a.template),this.items=a.template.map(function(b,d){return Nr({parentFragment:c,pElement:a.pElement,template:b,index:d})}).filter(function(a){return null!==a}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Fg(a,b){A(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function Gg(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())
})),this.rendered=!0,a}function Hg(a){return this.items?this.items.map(function(b){return b.toString(a)}).join(""):""}function Ig(){this.bound&&(this.items.forEach(Jg),this.bound=!1)}function Jg(a){a.unbind&&a.unbind()}function Kg(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function Lg(a,b){var c,d,e,f,g,h=this;if("function"!=typeof a||b?a=a||{}:(b=a,a={}),"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((d=this.viewmodel.wrapped[""])&&d.reset?d.reset(a)===!1&&(this.data=a):this.data=a,e=yk.reset(this),f=e.length;f--;)if(Yr.indexOf(e[f])>-1){g=!0;break}if(g){var i;this.viewmodel.mark(""),(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new Xr({template:this.template,root:this,owner:this})),c=this.render(this.el,this.anchor)}else c=ii.start(this,!0),this.viewmodel.mark(""),ii.end();return Zr.fire(this,a),b&&(Th.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.reset"}}),c.then(b).then(null,function(a){Th.consoleError({debug:h.debug,err:a})})),c}function Mg(a){var b,c;lk.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new Xr({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function Ng(a,b,c){var d,e,f=this;if(e=ii.start(this,!0),j(a)){d=a,c=b;for(a in d)d.hasOwnProperty(a)&&(b=d[a],a=G(a),this.viewmodel.set(a,b))}else a=G(a),cs.test(a)?D(this,a).forEach(function(a){f.viewmodel.set(a,b)}):this.viewmodel.set(a,b);return ii.end(),c&&(Th.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.set"}}),e.then(c.bind(this)).then(null,function(a){Th.consoleError({debug:f.debug,err:a})})),e}function Og(a,b){return Mh(this,a,void 0===b?-1:-b)}function Pg(a){var b,c=this;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&v(this.el.__ractive_instances__,this),this.shouldDestroy=!0,b=this.fragment.rendered?this.unrender():$h.resolve(),is.fire(this),a&&(Th.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),b.then(a.bind(this)).then(null,function(a){Th.consoleError({debug:c.debug,err:a})})),this._boundFunctions.forEach(Qg),b}function Qg(a){delete a.fn[a.prop]}function Rg(a,b){var c;return"string"!=typeof a&&Th.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:a}}),c=this.get(a),this.set(a,!c,b)}function Sg(){return this.fragment.toString(!0)}function Tg(){var a,b,c=this;if(!this.fragment.rendered)return Th.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"}),$h.resolve();for(a=ii.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&a.then(function(){yj.remove(c.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),v(this.el.__ractive_instances__,this),ms.fire(this),ii.end(),a}function Ug(a,b){var c,d=this;return"function"==typeof a?(b=a,a=""):a=a||"",c=ii.start(this,!0),this.viewmodel.mark(a),ii.end(),ps.fire(this,a),b&&(Th.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),c.then(b.bind(this)).then(null,function(a){Th.consoleError({debug:d.debug,err:a})})),c}function Vg(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||C(d,a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=Wg(this,e),this.set(c)}function Wg(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath]||a.changed()||(d.push(a.keypath),d[a.keypath]=a));b=a.attribute.value,e=a.getValue(),t(b,e)||g(b,e)||(c[a.keypath]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a],e=b.attribute.value,f=b.getValue(),t(e,f)||(c[a]=f)}),c}function Xg(a){for(var b={};a;)sk.forEach(function(c){Yg(c.useDefaults?a.prototype:a,b,c.name)}),Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e,f=d._method;f&&(d=d._method),e=ek(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}}),a=a._Parent!==ys?a._Parent:!1;return b}function Yg(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function Zg(a){void 0===a&&(a={});var b,c,d=this;return a.prototype instanceof ys&&(a=ts(a)),b=function(a){qr(this,a)},c=uh(d.prototype),c.constructor=b,wh(b,{_guid:{value:us++},defaults:{value:c},extend:{value:Zg,writable:!0,configurable:!0},_Parent:{value:d}}),yk.extend(d,c,a),b.prototype=c,b}var $g,_g,ah,bh,ch,dh,eh={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1,debug:!1},fh=eh,gh={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}};$g="object"==typeof document,_g="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),ah=!0}catch(hh){ah=!1}bh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ch="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),dh=["o","ms","moz","webkit"];var ih,jh,kh,lh,mh,nh,oh,ph,qh;if(ih=ch?function(a,b){return b&&b!==bh.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==bh.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)},$g){for(kh=ih("div"),lh=["matches","matchesSelector"],qh=function(a){return function(b,c){return b[a](c)}},oh=lh.length;oh--&&!jh;)if(mh=lh[oh],kh[mh])jh=qh(mh);else for(ph=dh.length;ph--;)if(nh=dh[oh]+mh.substr(0,1).toUpperCase()+mh.substring(1),kh[nh]){jh=qh(nh);break}jh||(jh=function(a,b){var c,d,e;for(d=a.parentNode,d||(kh.innerHTML="",d=kh,a=a.cloneNode(),kh.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else jh=null;var rh,sh,th;"undefined"==typeof window?th=null:(rh=window,sh=rh.document,th={},sh||(th=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;for(void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0),c=this.length;c>b;b++)if(this.hasOwnProperty(b)&&this[b]===a)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f=this,g=[];for(f instanceof String&&(f=f.toString(),e=!0),c=0,d=f.length;d>c;c+=1)(f.hasOwnProperty(c)||e)&&(g[c]=a.call(b,f[c],c,f));return g}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){var c,d,e,f;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(e=this.length,f=!1,arguments.length>1&&(d=b,f=!0),c=0;e>c;c+=1)this.hasOwnProperty(c)?f&&(d=a(d,this[c],c,this)):(d=this[c],f=!0);if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e=[];for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)&&(e[e.length]=this[c]);return e}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=0;d>e;e+=1)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b,c,d,e,f=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return b=f.call(arguments,1),c=this,d=function(){},e=function(){var e=this instanceof d&&a?this:a;return c.apply(e,b.concat(f.call(arguments)))},d.prototype=this.prototype,e.prototype=new d,e}),rh.addEventListener||!function(a,b){var c,d,e,f,g,h;a.appearsToBeIELessEqual8=!0,c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b,d.target=a.srcElement||b,d.timeStamp=+new Date,d.preventDefault=function(){a.returnValue=!1},d.stopPropagation=function(){a.cancelBubble=!0}},d=function(a,b){var d,e,f=this;d=f.listeners||(f.listeners=[]),e=d.length,d[e]=[b,function(a){b.call(f,new c(a,f))}],f.attachEvent("on"+a,d[e][1])},e=function(a,b){var c,d,e=this;if(e.listeners)for(c=e.listeners,d=c.length;d--;)c[d][0]===b&&e.detachEvent("on"+a,c[d][1])},a.addEventListener=b.addEventListener=d,a.removeEventListener=b.removeEventListener=e,"Element"in a?(a.Element.prototype.addEventListener=d,a.Element.prototype.removeEventListener=e):(h=b.createElement,b.createElement=function(a){var b=h(a);return b.addEventListener=d,b.removeEventListener=e,b},f=b.getElementsByTagName("head")[0],g=b.createElement("style"),f.insertBefore(g,f.firstChild))}(rh,sh),rh.getComputedStyle||(th.getComputedStyle=function(){function a(c,d,e,f){var g,h=d[e],i=parseFloat(h),j=h.split(/\d/)[0];return isNaN(i)&&/^thin|medium|thick$/.test(h)&&(i=b(h),j=""),f=null!=f?f:/%|em/.test(j)&&c.parentElement?a(c.parentElement,c.parentElement.currentStyle,"fontSize",null):16,g="fontSize"==e?f:/width/i.test(e)?c.clientWidth:c.clientHeight,"em"==j?i*f:"in"==j?96*i:"pt"==j?96*i/72:"%"==j?i/100*g:i}function b(a){var b,c;return f[a]||(b=document.createElement("div"),b.style.display="block",b.style.position="fixed",b.style.width=b.style.height="0",b.style.borderRight=a+" solid black",document.getElementsByTagName("body")[0].appendChild(b),c=b.getBoundingClientRect(),f[a]=c.right-c.left),f[a]}function c(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function d(b){var d,e,f,g;d=b.currentStyle,e=this,f=a(b,d,"fontSize",null);for(g in d)/width|height|margin.|padding.|border.+W/.test(g)?"auto"===d[g]?/^width|height/.test(g)?e[g]=("width"===g?b.clientWidth:b.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(g)&&(e[g]="0px"):e[g]=a(b,d,g,f)+"px":"styleFloat"===g?e["float"]=d[g]:e[g]=d[g];return c(e,"margin"),c(e,"padding"),c(e,"border"),e.fontSize=f+"px",e}function e(a){return new d(a)}var f={};return d.prototype={constructor:d,getPropertyPriority:function(){},getPropertyValue:function(a){return this[a]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},e}()));var uh,vh,wh,xh=th,yh=Array.prototype.slice;try{Object.defineProperty({},"test",{value:0}),$g&&Object.defineProperty(document.createElement("div"),"test",{value:0}),vh=Object.defineProperty}catch(zh){vh=function(a,b,c){a[b]=c.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(zh){throw zh}$g&&Object.defineProperties(ih("div"),{test:{value:0}}),wh=Object.defineProperties}catch(zh){wh=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&vh(a,c,b[c])}}try{Object.create(null),uh=Object.create}catch(zh){uh=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var Ah,Bh=Object.prototype.hasOwnProperty,Ch=Object.prototype.toString,Dh=/^\[object (?:Array|FileList)\]$/,Eh=function(){},Fh={};Ah=_g?function(a,b){if(!b){if(Fh[a])return;Fh[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:Eh;var Gh,Hh=Ah,Ih=function(a,b,c,d){if(a===b)return m(b);if(d){var e=k("interpolators",c,d);if(e)return e(a,b)||m(b);Hh('Missing "'+d+'" interpolator. You may need to download a plugin from [TODO]')}return Lh.number(a,b)||Lh.array(a,b)||Lh.object(a,b)||m(b)},Jh=Ih,Kh={number:function(a,b){var c;return i(a)&&i(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,f,g;if(!e(a)||!e(b))return null;for(c=[],d=[],g=f=Math.min(a.length,b.length);g--;)d[g]=Jh(a[g],b[g]);for(g=f;g<a.length;g+=1)c[g]=a[g];for(g=f;g<b.length;g+=1)c[g]=b[g];return function(a){for(var b=f;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!j(a)||!j(b))return null;c=[],f={},e={};for(g in a)Bh.call(a,g)&&(Bh.call(b,g)?(c.push(g),e[g]=Jh(a[g],b[g])):f[g]=a[g]);for(g in b)Bh.call(b,g)&&!Bh.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},Lh=Kh,Mh=n,Nh=o;"undefined"==typeof window?Gh=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(dh,0,window),Gh=window.requestAnimationFrame);var Oh,Ph=Gh;Oh="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Qh=Oh,Rh={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',usePromise:"{method} now returns a Promise, use {method}(...).then(callback) instead.",noTwowayExpressions:"Two-way binding does not work with expressions. Encountered ( {expression} ) on element {element}.",computedCannotMapTo:'Computed property "{key}" cannot be mapped to "{other}" because {reason}.',notUsed:'prevents forgetting trailing "," in cut and paste of previous line :)'},Sh={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(p(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(p(a));this.thrower(b)},logger:Hh,thrower:function(a){throw a},consoleError:function(a){_g?console.error(a.err):this.thrower(a.err)}},Th=Sh,Uh={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};r.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&Th.warnAlways({debug:a.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate}),b?a.fire(this.event,b):a.fire(this.event)};var Vh,Wh=r,Xh={},Yh={},Zh={};"function"==typeof Promise?Vh=Promise:(Vh=function(a){var b,c,d,e,f,g,h=[],i=[],j=Xh;d=function(a){return function(d){j===Xh&&(b=d,j=a,c=y(j===Yh?h:i,b),x(c))}},e=d(Yh),f=d(Zh);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new Vh(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),z(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==Xh&&x(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},Vh.all=function(a){return new Vh(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},Vh.resolve=function(a){return new Vh(function(b){b(a)})},Vh.reject=function(a){return new Vh(function(b,c){c(a)})});var $h=Vh,_h=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,ai=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return""},bi=I,ci=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};ci.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,T(this)},decrementTotal:function(){this.totalChildren-=1,T(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;v(b,a),T(this)},init:function(){this.ready=!0,T(this)},detachNodes:function(){this.decoratorQueue.forEach(O),this.detachQueue.forEach(R),this.children.forEach(S)}};var di,ei,fi=ci,gi=[],hi=new Wh("change");ei={start:function(a,b){var c,d;return b&&(c=new $h(function(a){return d=a})),di={previousBatch:di,transitionManager:new fi(d,di&&di.transitionManager),views:[],tasks:[],viewmodels:[],instance:a},a&&di.viewmodels.push(a.viewmodel),c},end:function(){U(),di.transitionManager.init(),!di.previousBatch&&di.instance&&(di.instance.viewmodel.changes=[]),di=di.previousBatch},addViewmodel:function(a){return di?-1===di.viewmodels.indexOf(a)?(di.viewmodels.push(a),!0):!1:(a.applyChanges(),!1)},registerTransition:function(a){a._manager=di.transitionManager,di.transitionManager.add(a)},registerDecorator:function(a){di.transitionManager.addDecorator(a)},addView:function(a){di.views.push(a)},addUnresolved:function(a){gi.push(a)},removeUnresolved:function(a){v(gi,a)},detachWhenReady:function(a){di.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(di){for(c=di;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var ii=ei,ji=[],ki={tick:function(){var a,b,c;for(c=Qh(),ii.start(),a=0;a<ji.length;a+=1)b=ji[a],b.tick(c)||ji.splice(a--,1);ii.end(),ji.length?Ph(ki.tick):ki.running=!1},add:function(a){ji.push(a),ki.running||(ki.running=!0,Ph(ki.tick))},abort:function(a,b){for(var c,d=ji.length;d--;)c=ji[d],c.root===b&&c.keypath===a&&c.stop()}},li=ki,mi=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=Jh(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};mi.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(ii.start(this.root),this.root.viewmodel.set(f,this.to),ii.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&Hh("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),ii.start(this.root),this.root.viewmodel.set(f,c),ii.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&Hh("Animation was not found"),this.root._animations.splice(a,1)}};var ni=mi,oi={stop:Eh},pi=X,qi=new Wh("detach"),ri=Z,si=$,ti=function(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?jh(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0},ui=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},vi=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=ab(a.component||a._ractive.proxy),d=ab(b.component||b._ractive.proxy),e=c[c.length-1],f=d[d.length-1];e&&e===f;)c.pop(),d.pop(),g=e,e=c[c.length-1],f=d[d.length-1];if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},wi=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):vi(a,b)},xi=function(){this.sort(this._isComponentQuery?vi:wi),this._dirty=!1},yi=function(){var a=this;this._dirty||(this._dirty=!0,ii.scheduleTask(function(){a._sort()}))},zi=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},Ai=bb,Bi=cb,Ci=db,Di=eb,Ei=fb,Fi=gb,Gi={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},Hi=Gi,Ii={},Ji=hb,Ki=jb,Li=mb,Mi={capture:!0,noUnwrap:!0},Ni=nb,Oi=new Wh("insert"),Pi=ob,Qi=qb,Ri=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};Ri.prototype={init:function(a){this.value=this.root.get(this.keypath),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;g(a,this.value)||(this.value=a,this.defer&&this.ready?ii.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}};var Si,Ti=Ri,Ui=rb,Vi=/\*/,Wi=Array.prototype.slice;Si=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},Si.prototype={init:function(a){var b,c;if(b=Ui(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(c);else this.values=b},update:function(a){var b,c=this;if(Vi.test(a)){b=Ui(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(a)}else if(!this.root.viewmodel.implicitChanges[a])return this.defer&&this.ready?void ii.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d;return b=this.root.viewmodel.get(a),this.updating?void(this.values[a]=b):(this.updating=!0,g(b,this.values[a])&&this.ready||(c=Wi.call(this.regex.exec(a),1),d=[b,this.values[a],a].concat(c),this.values[a]=b,this.callback.apply(this.context,d)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a]||(this.proxies[a]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a]}};var Xi,Yi,Zi,$i,_i,aj,bj=Si,cj=/\*/,dj={},ej=sb,fj=tb,gj=ub,hj=function(a){return a.trim()},ij=function(a){return""!==a},jj=vb,kj=wb,lj=xb,mj=yb,nj=Array.prototype.slice,oj=Array.prototype,pj=function(a){return function(b){var c,d,f,g,h=nj.call(arguments,1),i=[];if(c=this.get(b),d=c.length,!e(c))throw new Error("Called ractive."+a+"('"+b+"'), but '"+b+"' does not refer to an array");return i=mj(c,a,h),g=oj[a].apply(c,h),f=ii.start(this,!0).then(function(){return g}),i?this.viewmodel.smartUpdate(b,c,i):this.viewmodel.mark(b),ii.end(),f}},qj=pj("pop"),rj=pj("push"),sj="/* Ractive.js component styles */\n",tj={},uj=[];$g?(Zi=document.createElement("style"),Zi.type="text/css",$i=document.getElementsByTagName("head")[0],aj=!1,_i=Zi.styleSheet,Yi=function(){var a;uj.length?(a=sj+uj.join(" "),_i?_i.cssText=a:Zi.innerHTML=a,aj||($i.appendChild(Zi),aj=!0)):aj&&($i.removeChild(Zi),aj=!1)},Xi={add:function(a){a.css&&(tj[a._guid]||(tj[a._guid]=0,uj.push(a.css),Yi()),tj[a._guid]+=1)},remove:function(a){a.css&&(tj[a._guid]-=1,tj[a._guid]||(v(uj,a.css),ii.scheduleTask(Yi)))}}):Xi=null;var vj,wj,xj,yj=Xi,zj=new Wh("render"),Aj=new Wh("complete"),Bj=Ab,Cj=function(a,b,c,d){var e=a.root,f=a.keypath;return"sort"===c||"reverse"===c?void e.viewmodel.set(f,b):void e.viewmodel.smartUpdate(f,b,d)},Dj=Array.prototype.slice,Ej=[],Fj=["pop","push","reverse","shift","sort","splice","unshift"];Fj.forEach(function(a){var b=function(){var b,c,d,e,f=Dj.call(arguments);for(b=mj(this,a,f),c=Array.prototype[a].apply(this,arguments),ii.start(),this._ractive.setting=!0,e=this._ractive.wrappers.length;e--;)d=this._ractive.wrappers[e],ii.addViewmodel(d.root.viewmodel),Cj(d,this,a,b);return ii.end(),this._ractive.setting=!1,c};vh(Ej,a,{value:b})}),vj={},vj.__proto__?(wj=function(a){a.__proto__=Ej},xj=function(a){a.__proto__=Array.prototype}):(wj=function(a){var b,c;for(b=Fj.length;b--;)c=Fj[b],vh(a,c,{value:Ej[c],configurable:!0})},xj=function(a){var b;for(b=Fj.length;b--;)delete a[Fj[b]]}),wj.unpatch=xj;var Gj,Hj,Ij,Jj=wj;Gj={filter:function(a){return e(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new Hj(a,b,c)}},Hj=function(a,b,c){this.root=a,this.value=b,this.keypath=c,b._ractive||(vh(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Jj(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},Hj.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(Ij);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(Ij);d.splice(e,1)}}else delete a._ractive,Jj.unpatch(this.value)}},Ij="Something went wrong in a rather interesting way";var Kj,Lj,Mj=Gj,Nj=/^\s*[0-9]+\s*$/,Oj=function(a){return Nj.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Kj={filter:function(a,b,c){var d,f,g,h,i;return b?(d=b.split("."),f=d.pop(),g=d.join("."),(h=c.viewmodel.wrapped[g])&&!h.magic?!1:(i=c.get(g),e(i)&&/^[0-9]+$/.test(f)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(a,b,c){return new Lj(a,b,c)}},Lj=function(a,b,c){var d,e,f,g;return this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,d=c.split("."),this.prop=d.pop(),e=d.join("."),this.obj=e?a.get(e):a.data,f=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),f&&f.set&&(g=f.set._ractiveWrappers)?void(-1===g.indexOf(this)&&g.push(this)):void Cb(this,b,f)},Lj.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,ii.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{dontTeardownWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Oj(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(zh){Kj=!1}var Pj,Qj,Rj=Kj;Rj&&(Pj={filter:function(a,b,c){return Rj.filter(a,b,c)&&Mj.filter(a)},wrap:function(a,b,c){return new Qj(a,b,c)}},Qj=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=Rj.wrap(a,b,c),this.arrayWrapper=Mj.wrap(a,b,c)},Qj.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var Sj,Tj,Uj,Vj=Pj,Wj={extend:function(a,b,c){b.adapt=Db(b.adapt,u(c.adapt))},init:function(a,b,c){function d(a){return"string"==typeof a&&(a=k("adaptors",b,a),a||Th.critical({message:"missingPlugin",args:{plugin:"adaptor",name:a}})),a}var e,f;if(e=b.adapt.map(d),f=u(c.adapt).map(d),b.adapt=Db(e,f),b.magic){if(!ah)throw new Error("Getters and setters (magic mode) are not supported in this browser");b.modifyArrays&&b.adapt.push(Vj),b.adapt.push(Rj)}b.modifyArrays&&b.adapt.push(Mj)}},Xj=Wj,Yj=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Zj=/\/\*.*?\*\//g,$j=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,_j=/^@media/,ak=/\[data-ractive-css="[a-z0-9-]+"]/g,bk=Eb,ck={name:"css",extend:function(a,b,c){var d,e=b.constructor._guid;(d=Hb(c.css,c,e)||Hb(a.css,a,e))&&(b.constructor.css=d)},init:function(){}},dk=ck,ek=function(a,b,c){return c||Ib(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},fk={name:"data",extend:function(a,b,c){b.data=Jb(a,b,c)},init:function(a,b,c){var d=c.data,e=Jb(a,b,c);return"function"==typeof e&&(e=e.call(b,d)||d),b.data=e||{}},reset:function(a){var b=this.init(a.constructor,a,a);return b?(a.data=b,!0):void 0}},gk=fk,hk=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],ik={parse:Rb,fromId:Sb,isHashedId:Tb,isParsed:Ub,getParseOptions:Vb,createHelper:Qb},jk=ik,kk={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:Zb(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=Xb(b,e),b._config.template={fn:e,result:d}),d=Zb(d,b),b.template=d.t,d.p&&$b(b.partials,d.p)},reset:function(a){var b,c=Wb(a);return c?(b=Zb(c,a),a.template=b.t,$b(a.partials,b.p,!0),!0):void 0
}},lk=kk;Sj=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],Tj=function(a,b){this.name=a,this.useDefaults=b},Tj.prototype={constructor:Tj,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,b,c)},configure:function(a,b,c){var d,e=this.name,f=c[e];d=uh(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c}},Uj=Sj.map(function(a){return new Tj(a,"computed"===a)});var mk,nk,ok,pk,qk,rk,sk=Uj,tk=_b,uk=dc;pk={adapt:Xj,css:dk,data:gk,template:lk},ok=Object.keys(fh),rk=gc(ok.filter(function(a){return!pk[a]})),qk=gc(ok.concat(sk.map(function(a){return a.name}))),nk=[].concat(ok.filter(function(a){return!sk[a]&&!pk[a]}),sk,pk.data,pk.template,pk.css),mk={extend:function(a,b,c){return ec("extend",a,b,c)},init:function(a,b,c){return ec("init",a,b,c)},reset:function(a){return nk.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},order:nk,getConstructTarget:function(a,b){return b.onconstruct?{onconstruct:tk(a,"onconstruct",b.onconstruct).bind(a),fire:a.fire.bind(a)}:a}};var vk,wk,xk,yk=mk,zk=hc,Ak=ic,Bk=jc,Ck=kc,Dk=lc,Ek=mc,Fk=nc,Gk=oc,Hk=pc,Ik=1,Jk=2,Kk=3,Lk=4,Mk=7,Nk=8,Ok=9,Pk=13,Qk=15,Rk=16,Sk=18,Tk=20,Uk=21,Vk=22,Wk=23,Xk=24,Yk=26,Zk=27,$k=30,_k=31,al=32,bl=33,cl=34,dl=35,el=36,fl=40,gl=50,hl=51,il=52,jl=53,kl=54,ll="Expected a JavaScript expression",ml="Expected closing paren",nl=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,ol=function(a){var b;return(b=a.matchPattern(nl))?{t:Tk,v:b}:null},pl=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:Xk,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:Xk,v:"false"}):null};vk=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,wk=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,xk=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var ql,rl,sl,tl,ul,vl=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(vk)||b.matchPattern(wk)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(xk),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},wl=vl('"'),xl=vl("'"),yl=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=xl(a),a.matchString('"')?{t:Uk,v:c}:(a.pos=b,null)):a.matchString("'")?(c=wl(a),a.matchString("'")?{t:Uk,v:c}:(a.pos=b,null)):null},zl=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Al=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,Bl=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Cl=function(a){var b;return(b=yl(a))?Bl.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=ol(a))?b.v:(b=a.matchPattern(zl))?b:void 0},Dl=function(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=Cl(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=a.readExpression(),null===d?(a.pos=b,null):{t:Zk,k:c,v:d}):(a.pos=b,null))},El=qc,Fl=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=El(a),a.allowWhitespace(),a.matchString("}")?{t:Wk,m:c}:(a.pos=b,null)):(a.pos=b,null)},Gl=rc,Hl=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=Gl(a),a.matchString("]")?{t:Vk,m:c}:(a.pos=b,null)):(a.pos=b,null)},Il=function(a){var b=ol(a)||pl(a)||yl(a)||Fl(a)||Hl(a);return b};ql=/^\.[a-zA-Z_$0-9]+/,sl=function(a){var b=a.matchPattern(rl);return b?"."+b:null},rl=/^\[(0|[1-9][0-9]*)\]/,tl=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,ul=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var Jl,Kl,Ll=function(a){var b,c,d,e,f,g,h,i;if(b=a.pos,a.matchString("~/"))c="~/";else for(c="";a.matchString("../");)c+="../";if(c||(e=a.matchString("./")||a.matchString(".")||""),i=a.relaxedNames?Al:zl,d=a.matchPattern(/^@(?:keypath|index|key)/)||a.matchPattern(i)||"",!a.relaxedNames&&!e&&!c&&ul.test(d))return a.pos=b,null;if(!c&&!e&&!a.relaxedNames&&tl.test(d))return{t:Yk,v:d};if(f=(c||e)+d,!f)return null;for(;g=a.matchPattern(ql)||sl(a);)f+=g;return a.matchString("(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:$k,n:f.replace(/^this\./,"./").replace(/^this$/,".")}},Ml=function(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=a.readExpression(),c||a.error(ll),a.allowWhitespace(),a.matchString(")")||a.error(ml),{t:cl,x:c}):null},Nl=function(a){return Il(a)||Ll(a)||Ml(a)},Ol=sc,Pl=function(a){var b,c,d,e;if(c=Nl(a),!c)return null;for(;c;)if(b=a.pos,d=Ol(a))c={t:al,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=Gl(a),a.allowWhitespace(),a.matchString(")")||a.error(ml),c={t:fl,x:c},e&&(c.o=e)}return c};Kl=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=c.readExpression(),d||c.error(ll),{s:a,o:d,t:bl}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=Pl,a=0,b=d.length;b>a;a+=1)c=Kl(d[a],e),e=c;Jl=e}();var Ql,Rl,Sl=Jl;Rl=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:el,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=Sl,a=0,b=d.length;b>a;a+=1)c=Rl(d[a],e),e=c;Ql=e}();var Tl,Ul,Vl=Ql,Wl=function(a){var b,c,d,e;return(c=Vl(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(ll),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=a.readExpression(),e||a.error(ll),{t:dl,o:[c,d,e]}):(a.pos=b,c)):null},Xl=function(a){var b,c=[];return uc(a,c),b={r:c,s:vc(this,a,c)}},Yl=/^\s+/;Ul=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},Ul.prototype=Error.prototype,Tl=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},Tl.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return Wl(this)},flattenExpression:Xl,getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b,c,d,e,f,g;throw b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=e+"\n"+new Array(b[1]).join(" ")+"^----",g=new Ul(a+" at line "+c+" character "+d+":\n"+f),g.line=b[0],g.character=b[1],g.shortMessage=a,g},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(Yl)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Tl.extend=function(a){var b,c,d=this;b=function(a,b){Tl.call(this,a,b)},b.prototype=uh(d.prototype);for(c in a)Bh.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=Tl.extend,b};var Zl,$l,_l,am,bm,cm,dm,em=Tl;$l={"true":!0,"false":!1,undefined:void 0,"null":null},_l=new RegExp("^(?:"+Object.keys($l).join("|")+")"),am=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,bm=/\$\{([^\}]+)\}/g,cm=/^\$\{([^\}]+)\}/,dm=/^\s*$/,Zl=em.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&dm.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(cm),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(_l))?{v:$l[b]}:void 0},function(a){var b;return(b=a.matchPattern(am))?{v:+b}:void 0},function(a){var b,c=yl(a);return c&&(b=a.values)?{v:c.v.replace(bm,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=wc(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var fm,gm,hm,im,jm,km,lm,mm,nm=function(a,b){var c=new Zl(a,{values:b});return c.result},om={},pm=xc;fm=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,gm=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,hm={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},im=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],jm=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(hm).join("|")+"));?","g"),km=/</g,lm=/>/g,mm=/&/g;var qm=function(){return b(this.node)},rm=function(a){this.type=Ik,this.text=a.template};rm.prototype={detach:qm,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?Bc(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var sm=rm,tm=Cc,um=Dc,vm=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=bi(a.root,b,a.parentFragment),void 0!==d?this.resolve(d):ii.addUnresolved(this)};vm.prototype={resolve:function(a){this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(this.ref)},rebind:function(a,b){var c;void 0!==this.keypath&&(c=F(this.keypath,a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||ii.removeUnresolved(this)}};var wm=vm,xm=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},ym={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};xm.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=ym[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback("@"+d.prefix+Ec(this.cached,d));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===il&&void 0!==(a=Ec(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback("@"+d.prefix+a);c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=Ec(c,d)))return this.callback("@"+d.prefix+a);c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var zm=xm,Am=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};Am.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback("@"+a)},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Bm=Am,Cm=Fc;Fc.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var Dm,Em=Gc,Fm={},Gm=Hc,Hm=Function.prototype.bind;Dm=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return Em(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},Dm.prototype={bubble:function(){this.ready&&(this.uniqueString=Jc(this.str,this.keypaths),this.keypath=Kc(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e=this;a=this.root.viewmodel.computations[this.keypath],a?this.root.viewmodel.mark(this.keypath):(d=Gm(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:"@"===a[0]?(b=B(a),function(){return b}):function(){var b=e.root.viewmodel.get(a,{noUnwrap:!0});return"function"==typeof b&&(b=Mc(b,e.root)),b}}),c={deps:this.keypaths.filter(Lc),get:function(){var a=b.map(Ic);return d.apply(null,a)}},a=this.root.viewmodel.compute(this.keypath,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var Im=Dm,Jm=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===$k?this.refResolver=Em(this,a.n,function(a){d.resolve(a)}):new Im(b,c,a,function(a){d.resolve(a)})};Jm.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Km=Jm,Lm=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=bi(d,e,g))?this.base=f:this.baseResolver=new wm(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new Km(a,h,g)}),this.ready=!0,this.bubble()};Lm.prototype={getKeypath:function(){var a=this.members.map(Nc);return!a.every(Oc)||this.baseResolver?null:this.base+"."+a.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(P)},rebind:function(a,b){var c;this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(function(a){return a.forceResolution()}),this.bubble()}};var Mm=Lm,Nm=Pc,Om=Qc,Pm=Rc,Qm={getValue:um,init:Nm,resolve:Om,rebind:Pm},Rm=function(a){this.type=Jk,Qm.init(this,a)};Rm.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:Qm.resolve,rebind:Qm.rebind,detach:qm,unbind:tm,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&b(this.node)},getValue:Qm.getValue,setValue:function(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),g(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&ii.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";return a?Bc(b):b}};var Sm=Rm,Tm=Sc,Um=Tc,Vm=Uc,Wm=Vc,Xm=Wc,Ym=Xc,Zm=Yc,$m=Zc,_m=$c,an=function(a,b){Qm.rebind.call(this,a,b)},bn=ad,cn=bd,dn=nd,en=od,fn=pd,gn=sd,hn=function(a){this.type=Lk,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===hl,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}})),this.renderedFragments=[],this.length=0,Qm.init(this,a)};hn.prototype={bubble:Tm,detach:Um,find:Vm,findAll:Wm,findAllComponents:Xm,findComponent:Ym,findNextNode:Zm,firstNode:$m,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:Qm.getValue,shuffle:_m,rebind:an,render:bn,resolve:Qm.resolve,setValue:cn,toString:dn,unbind:en,unrender:fn,update:gn};var jn,kn,ln=hn,mn=td,nn=ud,on=vd,pn=wd,qn={};try{ih("table").innerHTML="foo"}catch(zh){jn=!0,kn={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var rn=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(jn&&(e=kn[b.tagName])?(d=xd("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===bh.svg?(d=xd("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=xd(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},sn=yd,tn=Ad,un=Bd,vn=Cd,wn=Dd,xn=Ed,yn=function(a){this.type=Kk,Qm.init(this,a)};yn.prototype={detach:mn,find:nn,findAll:on,firstNode:pn,getValue:Qm.getValue,rebind:Qm.rebind,render:tn,resolve:Qm.resolve,setValue:un,toString:vn,unbind:tm,unrender:wn,update:xn};var zn,An,Bn,Cn,Dn=yn,En=function(){this.parentFragment.bubble()},Fn=Fd,Gn=function(a){return this.node?jh(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},Hn=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},In=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},Jn=function(a){return this.fragment?this.fragment.findComponent(a):void 0},Kn=Gd,Ln=Hd,Mn=Id,Nn=/^true|on|yes|1$/i,On=/^[0-9]+$/,Pn=function(a,b){var c;c=b.twoway,void 0!==c&&(a.twoway=0===c||Nn.test(c),delete b.twoway),c=b.lazy,void 0!==c&&(a.lazy=0!==c&&On.test(c)?parseInt(c):0===c||Nn.test(c),delete b.lazy)},Qn=Jd;zn="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),An="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Bn=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},Cn=Bn(zn.concat(An));var Rn=function(a){var b=a.toLowerCase();return Cn[b]||b},Sn=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==bh.html?Rn(b):b;else if(b=b.substring(c+1),a.name=Rn(b),a.namespace=bh[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},Tn=Kd,Un={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Vn=function(a,b){var c;!a.pNode||a.namespace||b.pNode.namespaceURI&&b.pNode.namespaceURI!==bh.html||(c=Un[a.name]||a.name,void 0!==b.pNode[c]&&(a.propertyName=c),(fm.test(c)||"value"===c)&&(a.useProperty=!0))},Wn=Ld,Xn=Md,Yn={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Zn=Nd,$n=Od,_n=Qd,ao=Rd,bo=Sd,co=Td,eo=Ud,fo=Vd,go=Wd,ho=Xd,io=Yd,jo=Zd,ko=$d,lo=_d,mo=ae,no=be,oo=function(a){this.init(a)};oo.prototype={bubble:Qn,init:Wn,rebind:Xn,render:Zn,toString:$n,unbind:_n,update:no};var po,qo=oo,ro=function(a,b){var c,d,e=[];for(c in b)b.hasOwnProperty(c)&&(d=new qo({element:a,name:c,value:b[c],root:a.root}),e.push(e[c]=d));return e};"undefined"!=typeof document&&(po=ih("div"));var so=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new Xr({root:a.root,owner:this,template:[b]})};so.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===bh.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=ce(a,this.isSvg),this.attributes.filter(function(a){return de(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var to=so,uo=function(a,b){return b?b.map(function(b){return new to(a,b)}):[]},vo=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c[c.length-1])return Th.error({debug:this.root.debug,message:"noTwowayExpressions",args:{expression:c.slice(2,-1).replace("-","."),element:a.tagName}}),!1}else b.resolver.forceResolution(),c=b.keypath;this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=ee(a))&&(this.resetValue=d,e.formBindings.push(this))};vo.prototype={handleChange:function(){var a=this;ii.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),ii.scheduleTask(function(){return a.attribute.locked=!1}),ii.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(v(this.root._twowayBindings[b],this),this.keypath=c,a=this.root._twowayBindings[c]||(this.root._twowayBindings[c]=[]),a.push(this))},unbind:function(){}},vo.extend=function(a){var b,d=this;return b=function(a){vo.call(this,a),this.init&&this.init()},b.prototype=uh(d.prototype),c(b.prototype,a),b.extend=vo.extend,b};var wo,xo=vo,yo=fe,zo=xo.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",yo,!1),this.root.lazy||(a.addEventListener("input",yo,!1),a.attachEvent&&a.addEventListener("keyup",yo,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",yo,!1),a.removeEventListener("input",yo,!1),a.removeEventListener("keyup",yo,!1)},getValue:function(){return this.element.node.innerHTML}}),Ao=zo,Bo={},Co=ge,Do=xo.extend({name:"checked",init:function(){this.siblings=Co(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",yo,!1),a.attachEvent&&a.addEventListener("click",yo,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",yo,!1),a.removeEventListener("click",yo,!1)},handleChange:function(){ii.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),ii.end()},getValue:function(){return this.element.node.checked},unbind:function(){v(this.siblings,this)}}),Eo=Do,Fo=xo.extend({name:"name",init:function(){this.siblings=Co(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",yo,!1),a.attachEvent&&a.addEventListener("click",yo,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",yo,!1),a.removeEventListener("click",yo,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&xo.prototype.handleChange.call(this)},rebound:function(a,b){var c;xo.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath+"}}")},unbind:function(){v(this.siblings,this)}}),Go=Fo,Ho=xo.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.attribute.twoway=!0,this.siblings=Co(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){v(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=e(a)?s(a,b):a==b,c.name="{{"+this.keypath+"}}",c.checked=this.isChecked,c.addEventListener("change",yo,!1),c.attachEvent&&c.addEventListener("click",yo,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",yo,!1),a.removeEventListener("click",yo,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,xo.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(he).map(ie)}}),Io=Ho,Jo=xo.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",yo,!1),a.attachEvent&&a.addEventListener("click",yo,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",yo,!1),a.removeEventListener("click",yo,!1)},getValue:function(){return this.element.node.checked}}),Ko=Jo,Lo=xo.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",yo,!1)},unrender:function(){this.element.node.removeEventListener("change",yo,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,ii.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),Mo=Lo,No=Mo.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",yo,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",yo,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&t(c,b)||Mo.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();
void 0!==b&&(this.attribute.locked=!0,ii.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Oo=No,Po=xo.extend({render:function(){this.element.node.addEventListener("change",yo,!1)},unrender:function(){this.element.node.removeEventListener("change",yo,!1)},getValue:function(){return this.element.node.files}}),Qo=Po;wo=xo.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:h(this.element.lazy)&&(a=!1,c=this.element.lazy),b.addEventListener("change",yo,!1),a||(b.addEventListener("input",c?ke:yo,!1),b.attachEvent&&b.addEventListener("keyup",c?ke:yo,!1)),b.addEventListener("blur",je,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",yo,!1),a.removeEventListener("input",yo,!1),a.removeEventListener("keyup",yo,!1),a.removeEventListener("blur",je,!1)}});var Ro=wo,So=Ro.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),To=le,Uo=ne,Vo=oe,Wo=pe,Xo={args:!0},Yo=/^event(?:\.(.+))?/,Zo=qe,$o=ue,_o={},ap={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},bp=ve,cp=xe,dp=ye,ep=ze,fp=Ae,gp=Be,hp=function(a,b,c){this.init(a,b,c)};hp.prototype={bubble:Uo,fire:Vo,getAction:Wo,init:Zo,listen:bp,rebind:cp,render:dp,resolve:ep,unbind:fp,unrender:gp};var ip,jp,kp=hp,lp=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new kp(a,e[c],b[d]),g.push(f);return g};ip={args:!0},jp=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new Xr({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new Xr({template:b.d,root:c,owner:a}),this.params=this.fragment.getValue(ip),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getValue(ip),f.ready&&f.update()}),this.fn=k("decorators",c,d),this.fn||Th.error({debug:c.debug,message:"missingPlugin",args:{plugin:"decorator",name:d}}))},jp.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var mp,np,op,pp=jp,qp=Ie,rp=Je,sp={},tp=Pe,up=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};$g?(np={},op=ih("div").style,mp=function(a){var b,c,d;if(a=up(a),!np[a])if(void 0!==op[a])np[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=dh.length;b--;)if(c=dh[b],void 0!==op[c+d]){np[a]=c+d;break}return np[a]}):mp=null;var vp,wp,xp=mp;$g?(wp=window.getComputedStyle||xh.getComputedStyle,vp=function(a){var b,c,d,f,g;if(b=wp(this.node),"string"==typeof a)return g=b[xp(a)],"0px"===g&&(g=0),g;if(!e(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)f=a[d],g=b[xp(f)],"0px"===g&&(g=0),c[f]=g;return c}):vp=null;var yp=vp,zp=function(a,b){var c;if("string"==typeof a)this.node.style[xp(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[xp(c)]=a[c]);return this},Ap=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(Hh('Missing easing function ("'+a.easing+'"). You may need to download a plugin from [TODO]'),b=Qe)):b="function"==typeof a.easing?a.easing:Qe,this.easing=b,this.start=Qh(),this.end=this.start+this.duration,this.running=!0,li.add(this)};Ap.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Bp,Cp,Dp,Ep,Fp,Gp,Hp,Ip,Jp=Ap,Kp=new RegExp("^-(?:"+dh.join("|")+")-"),Lp=function(a){return a.replace(Kp,"")},Mp=new RegExp("^(?:"+dh.join("|")+")([A-Z])"),Np=function(a){var b;return a?(Mp.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},Op={},Pp={};$g?(Cp=ih("div").style,function(){void 0!==Cp.transition?(Dp="transition",Ep="transitionend",Fp=!0):void 0!==Cp.webkitTransition?(Dp="webkitTransition",Ep="webkitTransitionEnd",Fp=!0):Fp=!1}(),Dp&&(Gp=Dp+"Duration",Hp=Dp+"Property",Ip=Dp+"TimingFunction"),Bp=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[Hp]=d.map(xp).map(Np).join(","),a.node.style[Ip]=Np(c.easing||"linear"),a.node.style[Gp]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(up(Lp(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(Ep,j,!1),h=!0,i())},a.node.addEventListener(Ep,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,p=[];o--;)m=d[o],e=f+m,Fp&&!Pp[e]&&(a.node.style[xp(m)]=b[m],Op[e]||(k=a.getStyle(m),Op[e]=a.getStyle(m)!=b[m],Pp[e]=!Op[e],Pp[e]&&(a.node.style[xp(m)]=k))),(!Fp||Pp[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?Hh("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],p.push({name:xp(m),interpolator:Jh(parseFloat(k),parseFloat(b[m])),suffix:n}));p.length?new Jp({root:a.root,duration:c.duration,easing:up(c.easing||""),step:function(b){var c,d;for(d=p.length;d--;)c=p[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(Ep,j,!1),h=!0,i())},0)},c.delay||0)}):Bp=null;var Qp,Rp,Sp,Tp,Up,Vp=Bp;if("undefined"!=typeof document){if(Qp="hidden",Up={},Qp in document)Sp="";else for(Tp=dh.length;Tp--;)Rp=dh[Tp],Qp=Rp+"Hidden",Qp in document&&(Sp=Rp);void 0!==Sp?(document.addEventListener(Sp+"visibilitychange",Re),Re()):("onfocusout"in document?(document.addEventListener("focusout",Se),document.addEventListener("focusin",Te)):(window.addEventListener("pagehide",Se),window.addEventListener("blur",Se),window.addEventListener("pageshow",Te),window.addEventListener("focus",Te)),Up.hidden=!1)}var Wp,Xp,Yp,Zp=Up;$g?(Xp=window.getComputedStyle||xh.getComputedStyle,Wp=function(a,b,c,d){var e,f=this;if(Zp.hidden)return this.setStyle(a,b),Yp||(Yp=$h.resolve());"string"==typeof a?(e={},e[a]=b):(e=a,d=c,c=b),c||(Hh('The "'+this.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),c=this,d=this.complete);var g=new $h(function(a){var b,d,g,h,i,j,k;if(!c.duration)return f.setStyle(e),void a();for(b=Object.keys(e),d=[],g=Xp(f.node),i={},j=b.length;j--;)k=b[j],h=g[xp(k)],"0px"===h&&(h=0),h!=e[k]&&(d.push(k),f.node.style[xp(k)]=h);return d.length?void Vp(f,e,c,d,a):void a()});return d&&(Th.warn({debug:!0,message:"usePromise",args:{method:"t.animateStyle"}}),g.then(d).then(null,function(a){Th.consoleError({debug:!0,err:a})})),g}):Wp=null;var $p=Wp,_p=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),d({},a,b)},aq=Ue,bq=function(a,b,c){this.init(a,b,c)};bq.prototype={init:tp,start:aq,getStyle:yp,setStyle:zp,animateStyle:$p,processParams:_p};var cq,dq,eq=bq;cq=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},dq=function(){this.node.type&&"text/javascript"!==this.node.type||Hh("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var fq=We,gq=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(af).join("")+this.conditionalAttributes.map(af).join(""),"option"===this.name&&$e(this)&&(a+=" selected"),"input"===this.name&&_e(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=Bc(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),gm.test(this.template.e)||(a+="</"+this.template.e+">"),a)},hq=bf,iq=cf,jq=function(a){this.init(a)};jq.prototype={bubble:En,detach:Fn,find:Gn,findAll:Hn,findAllComponents:In,findComponent:Jn,findNextNode:Kn,firstNode:Ln,getAttribute:Mn,init:qp,rebind:rp,render:fq,toString:gq,unbind:hq,unrender:iq};var kq=jq,lq=/^\s*$/,mq=/^\s*/,nq=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&lq.test(c)&&b.shift(),d=b[b.length-1],void 0!==d&&lq.test(d)&&b.pop(),e=b.reduce(ef,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},oq=ff,pq=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},qq=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=Nk,this.index=a.index,this.name=a.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Qm.init(this,a),!this.keypath&&(c=oq(this.root,this.name))&&(tm.call(this),this.isNamed=!0,this.setTemplate(c))};qq.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||Pm.call(this,a,b),this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Qm.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=oq(this.root,""+a)),!b&&this.name&&(b=oq(this.root,this.name))&&(tm.call(this),this.isNamed=!0),b||Th.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}}),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&ii.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new Xr({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Ik?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?pq(b,e[0]):b):b},unbind:function(){this.isNamed||tm.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var rq=qq,sq=kf,tq=new Wh("detach"),uq=lf,vq=mf,wq=nf,xq=of,yq=pf,zq=qf,Aq=rf,Bq={},Cq=sf,Dq=vf,Eq={},Fq=wf,Gq=/[^\.]+$/,Hq=yf,Iq=Bf,Jq=Gf,Kq=Hf,Lq=/\$\{([^\}]+)\}/g,Mq=function(a){return"function"==typeof a?{get:a}:"string"==typeof a?{get:If(a)}:("object"==typeof a&&"string"==typeof a.get&&(a={get:If(a.get),set:a.set}),a)},Nq=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};Nq.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a]=null,this.viewmodel.register(a,this.computation,"computed")}};var Oq=Nq,Pq=function(a,b,c){var d=this;this.ractive=a,this.viewmodel=a.viewmodel,this.key=b,this.getter=c.get,this.setter=c.set,this.hardDeps=c.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(b){return a.viewmodel.register(b,d,"computed")}),this._dirty=this._firstRun=!0};Pq.prototype={constructor:Pq,init:function(){var a;this.bypass=!0,a=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key),this.bypass=!1,this.setter&&void 0!==a&&this.set(a)},invalidate:function(){this._dirty=!0},get:function(){var a,b,c,d=this,e=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(a=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?e=!0:[this.hardDeps,this.softDeps].forEach(function(b){var c,f,h;if(!e)for(h=b.length;h--;)if(c=b[h],f=a.viewmodel.get(c),!g(f,d.depValues[c]))return d.depValues[c]=f,void(e=!0)}),e){a.viewmodel.capture();try{this.value=this.getter.call(a)}catch(f){Th.warn({debug:a.debug,message:"failedComputation",args:{key:this.key,err:f.message||f}}),this.value=void 0}b=a.viewmodel.release(),c=this.updateDependencies(b),c&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){d.depValues[b]=a.viewmodel.get(b)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,Jf(this.viewmodel,d)&&!this.unresolvedDeps[d]?(f=new Oq(this,d),a.splice(b,1),this.unresolvedDeps[d]=f,ii.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var Qq=Pq,Rq=Kf,Sq={FAILED_LOOKUP:!0},Tq={},Uq=Lf,Vq=Nf,Wq=Pf;Pf.prototype.setValue=function(a){this.viewmodel.set(this.keypath,a,{noMapping:!0})};var Xq=Qf;Qf.prototype={get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.deps=[],this.local.mappings[this.localKey]=this,this.setup()},map:function(a){return a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){if(!this.resolved)throw new Error("Something very odd happened. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new Wq(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);a.origin.register(c,b.dep,b.group),b.dep.setValue(a.origin.get(c))}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(a,b,c){for(var d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}};var Yq=Rf,Zq=Sf,$q=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},_q={},ar=Tf,br=Wf,cr=Yf,dr=Zf,er={implicit:!0},fr={noCascade:!0},gr=_f,hr=bg,ir=cg,jr=function(a,b){var c=this;return void 0===b&&(b=uh(null)),function(){var d,e;c.ractive=a,c.mappings=b;for(d in b)b[d].initViewmodel(c);if(a.data&&a.parameters!==!0)for(d in a.data)(e=c.mappings[d])&&void 0===e.getValue()&&e.setValue(a.data[d]);c.cache={},c.cacheMap=uh(null),c.deps={computed:uh(null),"default":uh(null)},c.depsMap={computed:uh(null),"default":uh(null)},c.patternObservers=[],c.specials=uh(null),c.wrapped=uh(null),c.computations=uh(null),c.captureGroups=[],c.unresolvedImplicitDependencies=[],c.changes=[],c.implicitChanges={},c.noCascade={}}()};jr.prototype={adapt:Cq,applyChanges:Iq,capture:Jq,clearCache:Kq,compute:Rq,get:Uq,init:Vq,map:Yq,mark:Zq,merge:ar,register:br,release:cr,set:dr,smartUpdate:gr,teardown:hr,unregister:ir};var kr=jr;eg.prototype={constructor:eg,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?fg(this.queue,b).push(a):gg(this,a),delete this.inProcess[a._guid]}};var lr=eg,mr=new Wh("construct"),nr=new Wh("config"),or=new lr("init"),pr=0,qr=hg,rr=function(a,b,d,e,f){var g,h,i,j,k,l={};for(h=a.parentFragment,i=a.root,f=f||{},c(l,f||{}),f.content=e||[],l[""]=f.content,b.defaults.el&&Th.warn({debug:i.debug,message:"defaultElSpecified",args:{name:a.name}}),j=h;j;){if(j.owner.type===Rk){k=j.owner.container;break}j=j.parent}return g=uh(b.prototype),qr(g,{el:null,append:!0,data:d.data,partials:f,magic:i.magic||b.defaults.magic,modifyArrays:i.modifyArrays,adapt:i.adapt},{parent:i,component:a,container:k,mappings:d.mappings,inlinePartials:l}),g},sr=jg;jg.prototype={bubble:function(){this.dirty||(this.dirty=!0,ii.addView(this))},update:function(){var a=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key,this.fragment.getValue()),a.mark(this.key),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var tr=kg,ur=pg;pg.prototype={resolve:function(a){this.resolved=!0,this.specialRef="@"===a[0],this.ready?this.readyResolve(a):this.notReadyResolve(a)},notReadyResolve:function(a){if(this.specialRef)this.parameters.addData(this.key,B(a));else{var b=this.parameters.addMapping(this.key,a);void 0===b.getValue()&&(b.updatable=!0)}},readyResolve:function(a){var b=this.parameters.component.instance.viewmodel;this.specialRef?(this.parameters.addData(this.key,B(a)),b.mark(this.key)):b.reversedMappings&&b.reversedMappings[this.key]?b.reversedMappings[this.key].rebind(a):b.mappings[this.key].resolve(a)}};var vr=qg;sg.prototype={add:function(a,b){if("string"==typeof b){var c=nm(b);this.addData(a,c?c.value:b)}else if(0===b)this.addData(a);else{var d;d=tg(b)?new ur(this,a,b[0]).resolver:new sr(this,a,b),this.component.resolvers.push(d)}},addData:function(a,b){this.data[a]=b},addMapping:function(a,b){var c=this.parentViewmodel.mappings[b];return this.mappings[a]=new Xq(a,{origin:c?c.origin:this.parentViewmodel,keypath:c?c.keypath:b})}};var wr=ug,xr=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},yr=wg,zr=xg,Ar=yg,Br=zg,Cr=new Wh("teardown"),Dr=Ag,Er=Cg,Fr=function(a,b){this.init(a,b)};Fr.prototype={detach:uq,find:vq,findAll:wq,findAllComponents:xq,findComponent:yq,findNextNode:zq,firstNode:Aq,init:yr,rebind:zr,render:Ar,toString:Br,unbind:Dr,unrender:Er};var Gr=Fr,Hr=function(a){this.type=Ok,this.value=a.template.c};Hr.prototype={detach:qm,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var Ir=Hr,Jr=function(a){var b,c;this.type=Rk,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.yn||"";this.fragment=new Xr({owner:this,root:b.parent,template:b._inlinePartials[d]||[],pElement:this.containerFragment.pElement}),e(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],ii.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};Jr.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),v(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var Kr=Jr,Lr=function(a){this.declaration=a.template.a};Lr.prototype={init:Eh,render:Eh,unrender:Eh,teardown:Eh,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var Mr=Lr,Nr=Dg,Or=Eg,Pr=Fg,Qr=Gg,Rr=Hg,Sr=Ig,Tr=Kg,Ur=function(a){this.init(a)};Ur.prototype={bubble:zk,detach:Ak,find:Bk,findAll:Ck,findAllComponents:Dk,findComponent:Ek,findNextNode:Fk,firstNode:Gk,getNode:Hk,getValue:pm,init:Or,rebind:Pr,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:Qr,toString:Rr,unbind:Sr,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:Tr};var Vr,Wr,Xr=Ur,Yr=["template","partials","components","decorators","events"],Zr=new Wh("reset"),$r=Lg,_r=function(a,b,c){function d(b,c,f){f&&f.partials[a]||b.forEach(function(b){b.type===Nk&&b.getPartialName()===a&&c.push(b),b.fragment&&d(b.fragment.items,c,f),e(b.fragments)?d(b.fragments,c,f):e(b.items)?d(b.items,c,f):b.type===Qk&&b.instance&&d(b.instance.fragment.items,c,b.instance),b.type===Mk&&(e(b.attributes)&&d(b.attributes,c,f),e(b.conditionalAttributes)&&d(b.conditionalAttributes,c,f))})}var f,g=this,h=[];return d(this.fragment.items,h),this.partials[a]=b,f=ii.start(this,!0),h.forEach(function(b){b.value=void 0,b.setValue(a)}),ii.end(),c&&(Th.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.resetPartial"}}),f.then(c.bind(this)).then(null,function(a){Th.consoleError({debug:g.debug,err:a})})),f},as=Mg,bs=pj("reverse"),cs=/\*/,ds=Ng,es=pj("shift"),fs=pj("sort"),gs=pj("splice"),hs=Og,is=new Wh("teardown"),js=Pg,ks=Rg,ls=Sg,ms=new Wh("unrender"),ns=Tg,os=pj("unshift"),ps=new Wh("update"),qs=Ug,rs=Vg,ss={add:Nh,animate:pi,detach:ri,find:si,findAll:Bi,findAllComponents:Ci,findComponent:Di,findContainer:Ei,findParent:Fi,fire:Li,get:Ni,insert:Pi,merge:Qi,observe:fj,observeOnce:gj,off:jj,on:kj,once:lj,pop:qj,push:rj,render:Bj,reset:$r,resetPartial:_r,resetTemplate:as,reverse:bs,set:ds,shift:es,sort:fs,splice:gs,subtract:hs,teardown:js,toggle:ks,toHTML:ls,toHtml:ls,unrender:ns,unshift:os,update:qs,updateModel:rs},ts=Xg,us=1,vs=Zg,ws=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath,d.index={},(c=Cm(b.proxy.parentFragment))&&(d.index=Cm.resolve(c)),d):d};Vr=function(a){qr(this,a)},Wr={extend:{value:vs},getNodeInfo:{value:ws},parse:{value:parse__default},Promise:{value:$h},svg:{value:ch},magic:{value:ah},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:gh},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Lh},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},wh(Vr,Wr),Vr.prototype=c(ss,fh),Vr.prototype.constructor=Vr,Vr.defaults=Vr.prototype;var xs="function";if(typeof Date.now!==xs||typeof String.prototype.trim!==xs||typeof Object.keys!==xs||typeof Array.prototype.indexOf!==xs||typeof Array.prototype.forEach!==xs||typeof Array.prototype.map!==xs||typeof Array.prototype.filter!==xs||"undefined"!=typeof window&&typeof window.addEventListener!==xs)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var ys=Vr;return ys});