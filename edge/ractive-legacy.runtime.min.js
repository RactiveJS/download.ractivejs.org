/*
	ractive-legacy.runtime.min.js v0.6.1
	2014-12-11 - commit 209b5456 

	http://ractivejs.org
	http://twitter.com/RactiveJS

	Released under the MIT License.
*/

!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports&&"function"==typeof require?module.exports=b():a.Ractive=b()}("undefined"!=typeof window?window:this,function(){"use strict";function a(a,d){var e,f,g;return f='[data-ractive-css="'+d+'"]',g=function(a){var b,d,e,g,h,i,j,k=[];for(b=[];d=oh.exec(a);)b.push({str:d[0],base:d[1],modifiers:d[2]});for(g=b.map(c),j=b.length;j--;)i=g.slice(),e=b[j],i[j]=e.base+f+e.modifiers||"",h=g.slice(),h[j]=f+" "+h[j],k.push(i.join(" "),h.join(" "));return k.join(", ")},e=qh.test(a)?a.replace(qh,f):a.replace(nh,"").replace(mh,function(a,c){var d,e;return ph.test(c)?a:(d=c.split(",").map(b),e=d.map(g).join(", ")+" ",a.replace(c,e))})}function b(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function c(a){return a.str}function d(a,b,c){var d,f=b.constructor._guid;(d=e(c.css,c,f)||e(a.css,a,f))&&(b.constructor.css=d)}function e(a,b,c){return a?b.noCssTransform?a:rh(a,c):void 0}function f(a,b){return"function"==typeof b&&/_super/.test(a)}function g(a,b,c){var d=c.data||{},e=k(a.prototype.data);if("object"!=typeof d&&"function"!=typeof d)throw new TypeError('data option must be an object or a function, "'+d+'" is not valid');return l(e,d)}function h(a,b,c){b.data=g(a,b,c)}function i(a,b,c){var d=c.data,e=g(a,b,c);return"function"==typeof e&&(e=e.call(b,d)||d),b.data=e||{}}function j(a){var b=this.init(a.constructor,a,a);return b?(a.data=b,!0):void 0}function k(a){if("function"!=typeof a||!Object.keys(a).length)return a;var b={};return m(a,b),l(a,b)}function l(a,b){return"function"==typeof b?p(b,a):"function"==typeof a?o(b,a):n(b,a)}function m(a,b,c){for(var d in a)!(b._mappings&&b._mappings[d]&&b._mappings[d].updatable)&&c&&d in b||(b[d]=a[d])}function n(a,b){return a=a||{},b?(m(b,a,!0),a):a}function o(a,b){return function(c){var d;if(a){d=[];for(var e in a)c&&e in c||d.push(e)}return c=b.call(this,c)||c,d&&d.length&&(c=c||{},d.forEach(function(b){c[b]=a[b]})),c}}function p(a,b){var c;return c="function"!=typeof b?function(a){n(a,b)}:function(a){return b=uh(b,function(){},!0),b.call(this,a)||a},uh(a,c)}function q(a,b){var c=a.map(b);return a.forEach(function(a,b){c[a]=c[b]}),c}function r(a){var b=Eh(Kh);return b.parse=function(b,c){return s(b,c||a)},b}function s(a,b){if(!parse__default)throw new Error(xh.missingParser);return parse__default(a,b||this.options)}function t(a,b){var c;if(!zh){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if(u(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.innerHTML}function u(a){return a&&"#"===a.charAt(0)}function v(a){return!("string"==typeof a)}function w(a){return a.defaults&&(a=a.defaults),Jh.reduce(function(b,c){return b[c]=a[c],b},{ractive:a})}function x(a){var b,c=a._config.template;if(c&&c.fn)return b=y(a,c.fn),b!==c.result?(c.result=b,b=z(b,a)):void 0}function y(a,b){var c=Lh.createHelper(Lh.getParseOptions(a));return b.call(a,a.data,c)}function z(a,b){if("string"==typeof a)"#"===a[0]&&(a=Lh.fromId(a)),a=parse__default(a,Lh.getParseOptions(b));else if(2!==a.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return a}function A(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function B(a,b){this.name=a,this.useDefaults=b}function C(a,b){var c;return b.test(a)?b.getValue(a):!a.isolated&&(c=a.parent)?C(c,b):void 0}function D(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=E(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function E(a,b){var c;return b in a?!function(){var d=a[b];c="function"==typeof d?d:function(){return d}}():c=Wh,c}function F(a,b,c){if(b in a){if(c in a)throw new Error(G(b,c,!0));lh(G(b,c)),a[c]=a[b]}}function G(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function H(a){F(a,"eventDefinitions","events")}function I(a){fh(a.adaptors)&&F(a,"adaptors","adapt")}function J(a){F(a,"beforeInit","onconstruct"),F(a,"init","onrender"),F(a,"complete","oncomplete"),H(a),I(a)}function K(a,b,c,d,e){Oh[b][a](c,d,e)}function L(a){return a in bh&&!(a in Qh.parseOptions)&&!(a in Oh)}function M(a,b,c,d){Yh(d),K(a,"data",b,c,d),Qh.parseOptions.forEach(function(a){a in d&&(c[a]=d[a])});for(var e in d)if(L(e)){var f=d[e];c[e]="function"==typeof f?Xh(b.prototype,e,f):f}Qh.registries.forEach(function(e){e[a](b,c,d)}),K(a,"template",b,c,d),K(a,"css",b,c,d),N(b.prototype,c,d)}function N(a,b,c){for(var d in c)if(!(d in Rh)&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=Xh(a,d,e)),b[d]=e}}function O(a){return function(){return a}}function P(a){var b=xh[a.message]||a.message||"";return Q(b,a.args)}function Q(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function R(a){this.event=a,this.method="on"+a,this.deprecate=ii[a]}function S(a){setTimeout(a,0)}function T(a,b){return function(){for(var c;c=a.shift();)c(b)}}function U(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof ji)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,U(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function V(a){return(a||"").replace(qi,".$1")}function W(a,b){var c;if("."===b)return a;if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),c.join(".")}return a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,"")}function X(a,b,c){return b=ri(b),"~/"===b.substr(0,2)?(b=b.substring(2),Z(a,_(b),c),b):"."===b[0]?(b=ti(si(c),b),b&&Z(a,_(b),c),b):Y(a,b,c)}function Y(a,b,c,d){var e,f,g,h,i;for(f=_(b);c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e+"."+b;return $(a,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,i=Y(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function Z(a,b){var c;!a.parent||a.isolated||$(a,b)||(c=Y(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c})}function $(a,b){return b in a.data||b in a.viewmodel.computations||b in a.viewmodel.mappings}function _(a){var b=a.indexOf(".");return~b?a.slice(0,b):a}function ab(a){a.teardown()}function bb(a){a.detach()}function cb(a){a.detachNodes()}function db(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function eb(){for(var a,b,c;wi.viewmodels.length;)b=wi.viewmodels.pop(),c=b.applyChanges(),c&&Ai.fire(b.ractive,c);for(fb(),a=0;a<wi.views.length;a+=1)wi.views[a].update();for(wi.views.length=0,a=0;a<wi.tasks.length;a+=1)wi.tasks[a]();return wi.tasks.length=0,wi.viewmodels.length?eb():void 0}function fb(){var a,b,c,d;for(a=zi.length;a--;)b=zi[a],b.keypath&&zi.splice(a,1),(c=ui(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),zi.splice(a,1));d&&d.forEach(gb)}function gb(a){a.item.resolve(a.keypath)}function hb(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,Di.start(d),d.viewmodel.mark(c),Di.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function ib(a,b,c){var d;if("string"!=typeof b||!ih(c))throw new Error("Bad arguments");if(d=+a.get(b)||0,!ih(d))throw new Error("Cannot add to a non-numeric value");return a.set(b,d+c)}function jb(a,b){return Qi(this,a,void 0===b?1:+b)}function kb(a){return ri(a).replace(ij,"")}function lb(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;if(d=new pi(function(a){e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(n={},c.step=null,c.complete=null,m=function(a){return function(b,c){n[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(o=m(f),c={easing:i,duration:j},k&&(c.step=o)),c.complete=l?o:kj,h.push(mb(this,f,a[f],c)));return q={easing:i,duration:j},k&&(q.step=function(a){k(a,n)}),l&&d.then(function(a){l(a,n)}).then(null,function(a){hi.consoleError({debug:r.debug,err:a})}),q.complete=e,p=mb(this,null,null,q),h.push(p),d.stop=function(){for(var a;a=h.pop();)a.stop();p&&p.stop()},d}return c=c||{},c.complete&&d.then(c.complete).then(null,function(a){hi.consoleError({debug:r.debug,err:a})}),c.complete=e,g=mb(this,a,b,c),d.stop=function(){g.stop()},d}function mb(a,b,c,d){var e,f,g,h;return b&&(b=jj(b)),null!==b&&(h=a.viewmodel.get(b)),Yi.abort(b,a),hj(h,c)?(d.complete&&d.complete(d.to),lj):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new gj({keypath:b,from:h,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),Yi.add(g),a._animations.push(g),g)}function nb(){return this.detached?this.detached:(this.el&&li(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),nj.fire(this),this.detached)}function ob(a){return this.el?this.fragment.find(a):null}function pb(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function qb(a){var b,c;for(b=[a],c=pb(a);c;)b.push(c),c=pb(c);return b}function rb(a,b,c,d){var e=[];return Pi(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:rj}}),c?(Pi(e,{cancel:{value:sj},_root:{value:a},_sort:{value:vj},_makeDirty:{value:wj},_remove:{value:xj},_dirty:{value:!1,writable:!0}}),e):e}function sb(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=yj(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function tb(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=yj(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function ub(a){return this.fragment.findComponent(a)}function vb(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function wb(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function xb(a){var b,c,d,e,f,g;for(b=a.split("."),(c=Gj[b.length])||(c=yb(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function yb(a){var b,c,d,e,f,g="";if(!Gj[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}Gj[a]=d}return Gj[a]}function zb(a,b,c){if(void 0===c&&(c={}),b){c.event?c.event.name=b:c.event={name:b,context:a.data,keypath:"",_noArg:!0};var d=Hj(b);Ab(a,d,c.event,c.args,!0)}}function Ab(a,b,c,d,e){void 0===e&&(e=!1);var f,g,h=!0;for(Fj.enqueue(a,c),g=b.length;g>=0;g--)f=a._subs[b[g]],f&&(h=Bb(a,f,c,d)&&h);if(Fj.dequeue(a),a.parent&&h){if(e&&a.component){var i=a.component.name+"."+b[b.length-1];b=Hj(i),c&&(c.component=a)}Ab(a.parent,b,c,d)}}function Bb(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function Cb(a){var b={args:Array.prototype.slice.call(arguments,1)};Ij(this,a,b)}function Db(a){var b;return a=jj(a),b=this.viewmodel.get(a,Kj),void 0===b&&this.parent&&!this.isolated&&ui(this,a,this.fragment)&&(b=this.viewmodel.get(a)),b}function Eb(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function Fb(a,b){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(a=Mj(a),b=Mj(b)||null,!a)throw new Error("You must specify a valid target to insert into");a.insertBefore(this.detach(),b),this.el=a,(a.__ractive_instances__||(a.__ractive_instances__=[])).push(this),this.detached=null,Gb(this)}function Gb(a){Nj.fire(a),a.findAllComponents("*").forEach(function(a){Gb(a.instance)})}function Hb(a,b,c){var d,e,f=this;return a=jj(a),d=this.viewmodel.get(a),fh(d)&&fh(b)?(e=Di.start(this,!0),this.viewmodel.merge(a,d,b,c),Di.end(),c&&c.complete&&(hi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.merge"}}),e.then(c.complete).then(null,function(a){hi.consoleError({debug:f.debug,err:a})})),e):this.set(a,b,c&&c.complete)}function Ib(a,b){function c(b,c){var d,e,f;d=a.viewmodel.wrapped[c]?a.viewmodel.wrapped[c].get():a.get(c);for(e in d)!d.hasOwnProperty(e)||"_ractive"===e&&fh(d)||(f=c?c+"."+e:e,b.push(f));return b}function d(a){return function(b){return b?b+"."+a:a}}var e,f,g;for(e=b.split("."),g=[""];f=e.shift();)"*"===f?g=g.reduce(c,[]):""===g[0]?g[0]=f:g=g.map(d(f));return g}function Jb(a,b){var c,d;return c=Tj(a,b),d={},c.forEach(function(b){d[b]=a.get(b)}),d}function Kb(a,b,c,d){var e,f,g;return b=jj(b),d=d||dk,ck.test(b)?(e=new bk(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new Sj(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0,{cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}}}function Lb(a,b,c){var d,e,f,g;if(hh(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",ek(this,a,b,c);if(f=a.split(" "),1===f.length)return ek(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(ek(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function Mb(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function Nb(a,b){var c,d=this;if(a)c=a.split(" ").map(hk).filter(ik),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function Ob(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(hk).filter(ik),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function Pb(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function Qb(a,b,c){var d,e,f,g,h,i,j=[];if(d=Rb(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j}function Rb(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}function Sb(a,b){var c,d,e,f=this;if(e=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),c=Di.start(this,!0),Di.scheduleTask(function(){return zk.fire(f)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(a=Mj(a)||this.el,b=Mj(b)||this.anchor,this.el=a,this.anchor=b,!this.append&&a){var g=a.__ractive_instances__;g&&g.length&&Tb(g),a.innerHTML=""}return this.constructor.css&&yk.add(this.constructor),a&&((d=a.__ractive_instances__)?d.push(this):a.__ractive_instances__=[this],b?a.insertBefore(this.fragment.render(),b):a.appendChild(this.fragment.render())),Di.end(),this.transitionsEnabled=e,c.then(function(){return Ak.fire(f)}).then(null,function(a){hi.consoleError({debug:f.debug,err:a})}),c}function Tb(a){try{a.splice(0,a.length).forEach(function(a){return a.teardown()})}catch(b){}}function Ub(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function Vb(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function Wb(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function Xb(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function Yb(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function Zb(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function $b(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function _b(){return this.items&&this.items[0]?this.items[0].firstNode():null}function ac(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function bc(a){var b,c,d,e;return b=a.pos,d=al(a),null===d?null:(c=[d],a.matchString(",")?(e=bc(a),e?c.concat(e):(a.pos=b,null)):c)}function cc(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=a.readExpression(),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=cc(a),null===f&&a.error(Mk.expectedExpression),f.forEach(b)),d)}function dc(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(Zk.name))return{t:Lk.REFINEMENT,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(Mk.expectedExpression),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:Lk.REFINEMENT,x:d}):null}function ec(a){return JSON.stringify(String(a))}function fc(a,b){var c,d;if(a.t===Lk.REFERENCE&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(hh(d))fc(d,b);else for(c=d.length;c--;)fc(d[c],b);a.x&&fc(a.x,b),a.r&&fc(a.r,b),a.v&&fc(a.v,b)}function gc(a,b,c){var d=function(b){return gc(a,b,c)};switch(b.t){case Lk.BOOLEAN_LITERAL:case Lk.GLOBAL:case Lk.NUMBER_LITERAL:return b.v;case Lk.STRING_LITERAL:return ec(b.v);case Lk.ARRAY_LITERAL:return"["+(b.m?b.m.map(d).join(","):"")+"]";case Lk.OBJECT_LITERAL:return"{"+(b.m?b.m.map(d).join(","):"")+"}";case Lk.KEY_VALUE_PAIR:return b.k+":"+gc(a,b.v,c);case Lk.PREFIX_OPERATOR:return("typeof"===b.s?"typeof ":b.s)+gc(a,b.o,c);case Lk.INFIX_OPERATOR:return gc(a,b.o[0],c)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+gc(a,b.o[1],c);case Lk.INVOCATION:return gc(a,b.x,c)+"("+(b.o?b.o.map(d).join(","):"")+")";case Lk.BRACKETED:return"("+gc(a,b.x,c)+")";case Lk.MEMBER:return gc(a,b.x,c)+gc(a,b.r,c);case Lk.REFINEMENT:return b.n?"."+b.n:"["+gc(a,b.x,c)+"]";case Lk.CONDITIONAL:return gc(a,b.o[0],c)+"?"+gc(a,b.o[1],c)+":"+gc(a,b.o[2],c);case Lk.REFERENCE:return"_"+c.indexOf(b.n);default:a.error("Expected legal JavaScript")}}function hc(a){var b,c,d;return a.allowWhitespace(),(b=_k(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function ic(a){var b=this;return void 0===a&&(a=Fl),function(){var c,d,e,f,g,h,i;return c=a.args,g=c?"argsList":"value",h=c?"dirtyArgs":"dirtyValue",b[h]&&(e=jc(b.items,d={},b.root._guid),f=El(c?"["+e+"]":e,d),i=f?f.value:c?[b.toString()]:b.toString(),b[g]=i,b[h]=!1),b[g]}()}function jc(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return jc(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=(f=a.root.viewmodel.wrapped[a.keypath])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function kc(a){return a.replace(Jl,"&amp;").replace(Hl,"&lt;").replace(Il,"&gt;")}function lc(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a}function mc(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function nc(){return this.value}function oc(a,b){return a&&b&&a.substr(0,b.length+1)===b+"."}function pc(a,b,c){return a===b?void 0!==c?c:null:Rl(a,b)?null===c?c:a.replace(b+".",c+"."):void 0}function qc(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function rc(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function sc(a,b,c){var d;return"@"===b.charAt(0)?new Xl(a,b,c):(d=$l(a.parentFragment,b))?new Zl(a,d,c):new Ul(a,b,c)}function tc(a){var b=a.slice(2);return"i"===a[1]&&ih(b)?+b:b}function uc(a,b){var c,d;if(cm[a])return cm[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),cm[a]=c,c}function vc(a){return a.call()}function wc(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return d=b[c],void 0===d?"undefined":"@"===d[0]?(e=d.slice(1),ih(e)?e:'"'+e+'"'):d})}function xc(a){return"${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}"}function yc(a){return void 0!==a&&"@"!==a[0]}function zc(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){Ni(a,d,{value:em.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return Ni(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function Ac(a){return a.value}function Bc(a){return void 0!=a}function Cc(a){a.unbind()}function Dc(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!==c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.key=b.key,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=am(a,e,c)),b.template.x&&(a.resolver=new fm(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new jm(a,b.template.rx,d)),a.template.n!==Lk.SECTION_UNLESS||a.hasOwnProperty("value")||a.setValue(void 0)}function Ec(a){var b,c,d;return a&&"@"===a[0]?(this.keypath=a,void this.setValue(bm(a))):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function Fc(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function Gc(){this.parentFragment.bubble()}function Hc(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)}function Ic(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function Jc(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function Kc(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function Lc(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function Mc(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function Nc(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function Oc(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Lk.SECTION_EACH){if(this.shuffling=!0,Di.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath+"."+b,h=i.keypath+"."+a,d.index=a,(j=d.registeredIndexRefs)&&j.forEach(Pc),d.rebind(g,h),void(f[a]=d)))}),e=this.root.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&Di.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function Pc(a){a.rebind("","")}function Qc(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function Rc(a){return Bm.test(Cm.call(a))}function Sc(a){var b,c,d=this;this.updating||(this.updating=!0,(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=bd(d.keypath,a),c.index=a,b=new us(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):Uc(this,a)&&(this.bubble(),this.rendered&&Di.addView(this)),this.value=a,this.updating=!1)}function Tc(a,b,c){if(b===Lk.SECTION_EACH&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function Uc(a,b){var c={template:a.template.f,root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.subtype)switch(a.subtype){case Lk.SECTION_IF:return Zc(a,b,!1,c);case Lk.SECTION_UNLESS:return Zc(a,b,!0,c);case Lk.SECTION_WITH:return Yc(a,c);case Lk.SECTION_IF_WITH:return Xc(a,b,c);case Lk.SECTION_EACH:if(hh(b))return Tc(a,a.subtype,!0),Wc(a,b,c)}return a.ordered=!!Dm(b),a.ordered?(Tc(a,Lk.SECTION_EACH,!1),Vc(a,b,c)):hh(b)||"function"==typeof b?a.template.i?(Tc(a,Lk.SECTION_EACH,!0),Wc(a,b,c)):(Tc(a,Lk.SECTION_WITH,!1),Yc(a,c)):(Tc(a,Lk.SECTION_IF,!1),Zc(a,b,!1,c))}function Vc(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(_c);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=bd(a.keypath,d),c.index=d,f=new us(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function Wc(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(cd));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=bd(a.keypath,d),c.key=d,c.index=e++,g=new us(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function Xc(a,b,c){return b?Yc(a,c):$c(a)}function Yc(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new us(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function Zc(a,b,c,d){var e,f,g,h,i;if(f=Dm(b)&&0===b.length,g=!1,!Dm(b)&&hh(b)){g=!0;for(i in b){g=!1;break}}return e=c?f||g||!b:b&&!f&&!g,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(_c),!0):void 0:(d.index=0,h=new us(d),a.fragmentsToRender.push(a.fragments[0]=h),a.length=1,!0):$c(a)}function $c(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(ad),a.fragmentsToUnrender.forEach(_c),a.length=a.fragmentsToRender.length=0,!0):void 0}function _c(a){a.unbind()}function ad(a){return a.rendered}function bd(a,b){return(a?a+".":"")+b}function cd(a){a.rebind("","")}function dd(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function ed(){var a=this;this.fragments.forEach(fd),this.fragmentsToRender.forEach(function(b){return li(a.fragments,b)}),this.fragmentsToRender=[],Pl.call(this),this.length=0,this.unbound=!0}function fd(a){a.unbind()}function gd(a){this.fragments.forEach(a?hd:id),this.renderedFragments=[],this.rendered=!1}function hd(a){a.unrender(!0)}function id(a){a.unrender(!1)}function jd(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function kd(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function ld(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(qj(d,a))return d;if(e=d.querySelector(a))return e}return null}function md(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(qj(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function nd(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function od(a){return Rm[a]||(Rm[a]=Li(a))}function pd(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function qd(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=Wm(a.node.options).filter(rd),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function rd(a){return a.selected}function sd(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Vm(this.value,this.parentFragment.getNode(),this.docFrag),Xm(this.pElement),this.rendered=!0,this.docFrag}function td(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&Di.addView(this))
}function ud(a){return a.replace(Um,function(a,b){var c;return c="#"!==b[0]?Sm[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(vd(c)):a})}function vd(a){return a?10===a?32:128>a?a:159>=a?Tm[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function wd(){return void 0!=this.value?$m(""+this.value):""}function xd(a){this.rendered&&a&&(this.nodes.forEach(Ll),this.rendered=!1)}function yd(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=Vm(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Xm(this.pElement)}}function zd(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function Ad(){return null}function Bd(){return this.node}function Cd(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function Dd(){var a=this.fragment.getValue();hj(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&Di.addView(this))}function Ed(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Lk.INTERPOLATOR?b[0]:void 0}function Fd(a){return this.type=Lk.ATTRIBUTE,this.element=a.element,this.root=a.root,zn(this,a.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new us({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=An(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,Cn(this,a),void(this.ready=!0)):void(this.value=yn.test(this.name)?!0:a.value||"")}function Gd(a,b){this.fragment&&this.fragment.rebind(a,b)}function Hd(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==Ji.html||(b=Fn[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(yn.test(b)||"value"===b)&&(this.useProperty=!0),"value"===b&&(this.useProperty=!0,a._ractive.value=this.value)),this.rendered=!0,this.update()}function Id(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;return"value"===b&&("select"===this.element.name||"textarea"===this.element.name)||"value"===b&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===b&&"input"===this.element.name&&e?"name={{"+(e.keypath||e.ref)+"}}":yn.test(b)?d?b:"":(f&&(d=f.toString()),c&&(b=c+":"+b),d?b+'="'+Jd(d)+'"':b)}function Jd(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Kd(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Ld(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function Md(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function Nd(){var a,b,c,d,e=this.value;for(fh(e)||(e=[e]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=Kn(e,d)}function Od(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function Pd(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return Di.addViewmodel(b.root.viewmodel),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function Qd(){var a,b,c=this,d=c.element,e=c.node,f=c.value;if(a=d.getAttribute("value"),fh(f)){for(b=f.length;b--;)if(a==f[b])return void(e.checked=!0);e.checked=!1}else e.checked=f==a}function Rd(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b}function Sd(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function Td(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function Ud(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function Vd(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function Wd(){this.locked||(this.node[this.propertyName]=this.value)}function Xd(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):yn.test(d)?e?b.setAttribute(d,""):b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function Yd(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=Qn:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?Ln:Jn:"textarea"===e.name?b=Tn:null!=e.getAttribute("contenteditable")?b=Sn:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?Wh:"radio"===a&&e.binding&&"name"===e.binding.name?Nn:Tn):this.twoway&&"name"===d?"radio"===f.type?b=Mn:"checkbox"===f.type&&(b=On):"style"===d&&f.style.setAttribute?b=Rn:"class"!==d||f.namespaceURI&&f.namespaceURI!==Ji.html?this.useProperty&&(b=Un):b=Pn,b||(b=Vn),this.update=b,this.update()}function Zd(a,b){var c=b?"svg":"div";return Yn.innerHTML="<"+c+" "+a+"></"+c+">",Wm(Yn.childNodes[0].attributes)}function $d(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function _d(a){for(;a=a.parent;)if("form"===a.name)return a}function ae(){this._ractive.binding.handleChange()}function be(a,b,c){var d=a+b+c;return lo[d]||(lo[d]=[])}function ce(a){return a.isChecked}function de(a){return a.element.getAttribute("value")}function ee(){var a;io.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function fe(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&io.call(b),a._timeout=void 0},a.element.lazy)}function ge(a){var b,c,d,e,f=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||f.contenteditable&&he(f.contenteditable))&&he(f.value)?c=ko:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=he(f.name),e=he(f.checked),d&&e&&hi.error({message:"badRadioInputBinding"}),d?c="radio"===b?qo:so:e&&(c="radio"===b?oo:uo)):"file"===b&&he(f.value)?c=Bo:he(f.value)&&(c="number"===b||"range"===b?Fo:Eo)):"select"===a.name&&he(f.value)?c=a.getAttribute("multiple")?zo:wo:"textarea"===a.name&&he(f.value)&&(c=Eo),c?new c(a):void 0}function he(a){return a&&a.isBindable}function ie(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function je(a){Ij(this.root,this.getAction(),{event:a})}function ke(){return this.action.toString().trim()}function le(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&(hi.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:a.tagName,event:b}}),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=dm(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c;(c=Lo.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(am(g,a,function(a){return g.resolve(b,a)}))}),this.fire=me):(d=c.n||c,"string"!=typeof d&&(d=new us({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new us({template:c.d,root:this.root,owner:this.element}),this.fire=oe):c.a&&(this.params=c.a,this.fire=ne))}function me(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),Fj.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),Fj.dequeue(b)}function ne(a){Ij(this.root,this.getAction(),{event:a,args:this.params})}function oe(a){var b=this.dynamicParams.getValue(Ko);"string"==typeof b&&(b=b.substr(1,b.length-2)),Ij(this.root,this.getAction(),{event:a,args:b})}function pe(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=$l(c.element.parentFragment))&&(e=$l.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath,context:b.root.get(b.keypath)})}function qe(){var a,b=this.name;if(!this.invalid){if(a=_h.registries.events.find(this.root,b))this.custom=a(this.node,re(b));else{if(!("on"+b in this.node||window&&"on"+b in window))return void(Po[b]||hi.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:b}}));this.node.addEventListener(b,No,!1)}this.hasListener=!0}}function re(a){return Oo[a]||(Oo[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath,b.context=c.root.get(c.keypath),c.events[a].fire(b)}),Oo[a]}function se(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function te(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function ue(a,b){this.keypaths[a]=b}function ve(){return this.method?void this.refResolvers.forEach(we):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function we(a){a.unbind()}function xe(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,No,!1),this.hasListener=!1}function ye(a){var b,c,d,e,f;b=a.node,b&&(e=Wm(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?ze(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function ze(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function Ae(){var a=this;this.dirty||(this.dirty=!0,Di.scheduleTask(function(){dp(a),a.dirty=!1})),this.parentFragment.bubble()}function Be(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function Ce(a,b){a.select=fp(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function De(a){var b,c,d,e,f,g;this.type=Lk.ELEMENT,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=sn(c.e),"option"===this.name&&gp(this,c),"select"===this.name&&(this.options=[],this.bubble=ep),"form"===this.name&&(this.formBindings=[]),vn(this,c.a||{}),this.attributes=$n(this,c.a),this.conditionalAttributes=bo(this,c.m),c.f&&(this.fragment=new us({template:c.f,root:d,owner:this,pElement:this})),g=d.twoway,this.twoway===!1?g=!1:this.twoway===!0&&(g=!0),g&&(e=Go(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath]||(this.root._twowayBindings[e.keypath]=[]),f.push(e)),c.v&&(this.eventHandlers=$o(this,c.v)),c.o&&(this.decorator=new cp(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function Ee(a,b){return a===b||Rl(a,b)}function Fe(a,b,c,d){var e=a[b];if(e&&!ip(e,d)&&ip(e,c))return a[b]=Sl(e,c,d),!0}function Ge(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&jp(e,"keypath",a,b)}function He(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function Ie(){var a=this._ractive.proxy;Di.start(),a.formBindings.forEach(Je),Di.end()}function Je(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function Ke(a){a.node.addEventListener("reset",mp,!1)}function Le(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new us({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new us({template:b.d,root:d,owner:a}),this.params=f.getValue(op),f.unbind()),this._fn=_h.registries.transitions.find(d,e),this._fn||hi.error({debug:d.debug,message:"missingPlugin",args:{plugin:"transition",name:e}}))}function Me(a){return a}function Ne(){Qp.hidden=document[Mp]}function Oe(){Qp.hidden=!0}function Pe(){Qp.hidden=!1}function Qe(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&Re(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Re(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function Se(){var a,b,c=this,d=this.root;return a=Te(this),b=this.node=Li(this.name,a),d.constructor.css&&this.parentFragment.getNode()===d.el&&this.node.setAttribute("data-ractive-css",d.constructor._guid),Ni(this.node,"_ractive",{value:{proxy:this,keypath:si(this.parentFragment),events:Eh(null),root:d}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=bq,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Wh):"style"===this.name?(this.bubble=aq,this.bubble(),this.fragment.unrender=Wh):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Wh:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&Ue(this),"img"===this.name?lp(this):"form"===this.name?np(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&Di.scheduleTask(function(){c.decorator.torndown||c.decorator.init()},!0),d.transitionsEnabled&&this.intro&&!function(){var a=new cq(c,c.intro,!0);Di.registerTransition(a),Di.scheduleTask(function(){return a.start()},!0),c.transition=a}(),this.node.autofocus&&Di.scheduleTask(function(){return c.node.focus()},!0),Ve(this),this.node}function Te(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?Ji.svg:(d=a.parent)?"foreignObject"===d.name?Ji.html:d.node.namespaceURI:a.root.el.namespaceURI}function Ue(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&fh(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function Ve(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function We(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&fh(c))for(d=c.length;d--;)if(c[d]==b)return!0}function Xe(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function Ye(a){var b=a.toString();return b?" "+b:""}function Ze(a){a.select&&li(a.select.options,a)}function $e(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(_e),"option"===this.name&&hq(this),this.attributes.forEach(_e),this.conditionalAttributes.forEach(_e)}function _e(a){a.unbind()}function af(a){a.node.removeEventListener("reset",mp,!1)}function bf(a){var b,c,d=this;this.transition&&this.transition.complete(),"option"===this.name?this.detach():a&&Di.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.unrender()}),this.decorator&&Di.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&!function(){var a=new cq(d,d.outro,!1);Di.registerTransition(a),Di.scheduleTask(function(){return a.start()})}(),this.liveQueries&&cf(this),"form"===this.name&&jq(this)}function cf(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function df(a,b){var c=oq.exec(b)[0];return null===a||c.length<a.length?c:a}function ef(a,b){var c;if(c=ff(a,b))return c;if(c=Lh.fromId(b,{noThrow:!0})){c=pq(c);var d=Lh.parse(c,Lh.getParseOptions(a));return a.partials[b]=d.t}}function ff(a,b){var c=_h.registries.partials,d=c.findInstance(a,b);if(d){var e,f=d.partials[b];if("function"==typeof f&&(e=f.bind(d),e.isOwner=d.partials.hasOwnProperty(b),f=e(d.data,Lh)),!f&&""!==f)return void hi.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:b}});if(!Lh.isParsed(f)){var g=Lh.parse(f,Lh.getParseOptions(d));g.p&&hi.warn({debug:a.debug,message:"noNestedPartials",args:{rname:b}});var h=e?d:c.findOwner(d,b);h.partials[b]=f=g.t}return e&&(f._fn=e),f.v?f.t:f}}function gf(a,b){var c,d=_h.registries.components.findInstance(a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(d.data),!c)return void hi.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:b}});"string"==typeof c&&(c=gf(a,c)),c._fn=e,d.components[b]=c}return c}function hf(){var a=this.instance.fragment.detach();return vq.fire(this.instance),a}function jf(a){return this.instance.fragment.find(a)}function kf(a,b){return this.instance.fragment.findAll(a,b)}function lf(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function mf(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function nf(){return this.parentFragment.findNextNode(this)}function of(){return this.rendered?this.instance.fragment.firstNode():null}function pf(a){this.hook=new ki(a),this.inProcess={},this.queue={}}function qf(a,b){return a[b._guid]||(a[b._guid]=[])}function rf(a,b){var c=qf(a.queue,b);for(a.hook.fire(b);c.length;)rf(a,c.shift());delete a.queue[b._guid]}function sf(a,b){var c,d,e,f,g=this.ractive;for(c=g.adapt.length,d=0;c>d;d+=1){if(e=g.adapt[d],"string"==typeof e){var h=_h.registries.adaptors.find(g,e);if(!h)return hi.critical({debug:g.debug,message:"missingPlugin",args:{plugin:"adaptor",name:e}});e=g.adapt[d]=h}if(e.filter(b,a,g))return f=this.wrapped[a]=e.wrap(g,b,a,uf(a)),f.value=b,b}return g.magic?Uq.filter(b,a,g)?this.wrapped[a]=Uq.wrap(g,b,a):Hi.filter(b,a,g)&&(this.wrapped[a]=Hi.wrap(g,b,a)):g.modifyArrays&&Tq.filter(b,a,g)&&(this.wrapped[a]=Tq.wrap(g,b,a)),b}function tf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function uf(a){var b;return Vq[a]||(b=a?a+".":"",Vq[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?tf(c,a):c:void 0}),Vq[a]}function vf(a){var b,c,d,e,f=[""];for(b=a.length;b--;)for(c=a[b],d=c.split(".");d.length>1;)d.pop(),e=d.join("."),-1===f.indexOf(e)&&f.push(e);return f}function wf(a){var b,c,d,e;return b=a.split("."),c=xf(b.length),d=function(a,c){return a?"*":b[c]},e=c.map(function(a){return a.map(d).join(".")})}function xf(a){var b,c,d,e,f,g="";if(!Yq[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}Yq[a]=d}return Yq[a]}function yf(a,b,c){var d;Af(a,b),c||(d=Zq(b),d.forEach(function(c){zf(a,c,b)}))}function zf(a,b,c){var d,e,f;d=a.depsMap.patternObservers,d&&(e=d[b])&&e.forEach(function(b){var d=$q.exec(b)[0];f=c?c+"."+d:d,Af(a,f),zf(a,b,f)})}function Af(a,b){a.patternObservers.forEach(function(a){a.regex.test(b)&&a.update(b)})}function Bf(){function a(c){var d,f;e.noCascade.hasOwnProperty(c)||((f=e.deps.computed[c])&&f.forEach(function(c){c.viewmodel===e?(e.clearCache(c.key),c.invalidate(),b.push(c.key),a(c.key)):c.viewmodel.mark(c.key)}),(d=e.depsMap.computed[c])&&d.forEach(a))}var b,c,d=this,e=this,f={};return b=this.changes,b.length?(b.slice().forEach(a),c=Xq(b),c.forEach(function(a){var c;-1===b.indexOf(a)&&(c=e.deps.computed[a])&&(d.changes.push(a),c.forEach(function(a){a.viewmodel.mark(a.key)}))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(a){return _q(d,a,!0)}),b.forEach(function(a){return _q(d,a)})),this.deps.observers&&(c.forEach(function(a){return Cf(d,null,a,"observers")}),Ef(this,b,"observers")),this.deps["default"]&&!function(){var a=[];c.forEach(function(b){return Cf(d,a,b,"default")}),a.length&&Df(d,a,b),Ef(d,b,"default")}(),b.forEach(function(a){f[a]=d.get(a)}),this.implicitChanges={},this.noCascade={},f):void 0}function Cf(a,b,c,d){var e,f;(e=Ff(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function Df(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function Ef(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=Ff(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function Ff(a,b,c){var d=a.deps[c];return d?d[b]:null}function Gf(){this.captureGroups.push([])}function Hf(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function If(a){var b="var __ractive=this;return("+a.replace(dr,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(b)}function Jf(a,b){var c=b.split(".")[0];return!(c in a.ractive.data||c in a.computations||c in a.mappings)}function Kf(a,b){return b=er(b),this.computations[a]=new jr(this.ractive,a,b)}function Lf(a,b){var c=this;return void 0===b&&(b=mr),function(){var d,e,f,g,h,i=c.ractive,j=c.cache;return b.capture&&(h=c.captureGroups[c.captureGroups.length-1])&&(~h.indexOf(a)||h.push(a)),(d=c.mappings[a.split(".")[0]])?d.get(a,b):"@"===a[0]?bm(a):(void 0===j[a]?((f=c.computations[a])&&!f.bypass?(e=f.get(),c.adapt(a,e)):(g=c.wrapped[a])?e=g.value:a?e=Mf(c,a):(c.adapt("",i.data),e=i.data),j[a]=e):e=j[a],!b.noUnwrap&&(g=c.wrapped[a])&&(e=g.get()),e===lr?void 0:e)}()}function Mf(a,b){var c,d,e,f,g,h,i;return c=b.split("."),d=c.pop(),e=c.join("."),f=a.get(e),(i=a.wrapped[e])&&(f=i.get()),null!==f&&void 0!==f?((g=a.cacheMap[e])?-1===g.indexOf(b)&&g.push(b):a.cacheMap[e]=[b],"object"!=typeof f||d in f?(h=f[d],a.adapt(b,h,!1),a.cache[b]=h,h):a.cache[b]=lr):void 0}function Nf(a){var b=xh[a.message]||a.message||"";return Of(b,a.args)}function Of(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function Pf(){var a,b,c=[];for(a in this.ractive.computed)b=this.compute(a,this.ractive.computed[a]),c.push(b),a in this.mappings&&rr.critical({message:"Cannot map to a computed property ('"+a+"')"});c.forEach(Qf)}function Qf(a){a.init()}function Rf(a,b){this.keypath=a,this.viewmodel=b}function Sf(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.trackData=b.trackData,this.resolved=!1}function Tf(a,b){var c=new ur(a,b);return c.initViewmodel(this),c}function Uf(a,b){var c;Di.addViewmodel(this),b&&(b.implicit&&(this.implicitChanges[a]=!0),b.noCascade&&(this.noCascade[a]=!0)),(c=this.computations[a])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var d=b?b.dontTeardownWrapper:!1;this.clearCache(a,d)}function Vf(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=Xf(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){if(this.debug)throw i;lh("Merge operation: comparison failed. Falling back to identity checking"),e=b,f=c}}else e=b,f=c;h=xr(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function Wf(a){return JSON.stringify(a)}function Xf(a){if(a===!0)return Wf;if("string"==typeof a)return yr[a]||(yr[a]=function(b){return b[a]}),yr[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Yf(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.register(a,b,c);e=this.deps[c]||(this.deps[c]={}),f=e[a]||(e[a]=[]),f.push(b),a&&Zf(this,a,c)}}function Zf(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c]||(a.depsMap[c]={}),g=f[e]||(f[e]=[]),void 0===g[b]&&(g[b]=0,g.push(b)),g[b]+=1,b=e}function $f(){return this.captureGroups.pop()}function _f(a,b,c){void 0===c&&(c={});var d,e,f,g;if(!c.noMapping&&(d=this.mappings[a.split(".")[0]]))return d.set(a,b);if(e=this.computations[a]){if(e.setting)return;e.set(b),b=e.get()}hj(this.cache[a],b)||(f=this.wrapped[a],f&&f.reset&&(g=f.reset(b)!==!1,g&&(b=f.get())),e||g||ag(this,a,b),c.silent?this.clearCache(a):this.mark(a))}function ag(a,b,c){var d,e,f,g,h,i,j;i=function(){g.set?g.set(e,c):(h=g.get(),j())},j=function(){h||(h=Fi(e),a.set(f,h,{silent:!0})),h[e]=c},d=b.split("."),e=d.pop(),f=d.join("."),g=a.wrapped[f],g?i():(h=a.get(f),(g=a.wrapped[f])?i():j())}function bg(a,b,c){var d,e,f=this;if(e=c.length,c.forEach(function(b,c){-1===b&&f.mark(a+"."+c,Er)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a])&&d.filter(cg).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){this.mark(a+".length",Dr);for(var g=e;g<b.length;g+=1)this.mark(a+"."+g);for(var g=b.length;e>g;g+=1)this.mark(a+"."+g,Er)}}function cg(a){return"function"==typeof a.shuffle}function dg(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function eg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.unregister(a,b,c);if(e=this.deps[c][a],f=e.indexOf(b),-1===f)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");e.splice(f,1),a&&fg(this,a,c)}}function fg(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c],g=f[e],g[b]-=1,g[b]||(li(g,b),g[b]=void 0),b=e}function gg(a){return"string"==typeof a&&(a=[a]),a}function hg(a,b,c){void 0===b&&(b={}),void 0===c&&(c={});var d;ig(a,c),Mr.fire(_h.getConstructTarget(a,b),b),_h.init(a.constructor,a,b),Nr.fire(a),Or.begin(a),a.viewmodel=new Lr(a,c.mappings),a.viewmodel.init(),a.template&&(a.fragment=new us({template:a.template,root:a,owner:a})),Or.end(a),(d=Mj(a.el))&&a.render(d,a.append)}function ig(a,b){a._guid=Eq(),a._subs=Eh(null),a._config={},a._twowayBindings=Eh(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function jg(a,b,c){this.parameters=a,this.parentFragment=a.component.parentFragment,this.key=b,this.fragment=new us({template:c,root:a.component.root,owner:this}),this.parameters.addData(this.key,this.fragment.getValue())}function kg(a,b){return b.parameters?Ii&&"legacy"!==b.parameters?mg(a,b):lg(a):a.data}function lg(a){var b,c=a.mappings;for(b in c){var d=c[b];d.trackData=!0,d.updatable||a.addData(b,d.getValue())}return a.data}function mg(a,b){var c=ng(a,b);return new c(a)}function ng(a,b){var c=b._parameters;return(!c.Constructor||a.newKeys.length)&&(c.Constructor=og(a,c.defined)),c.Constructor}function og(a,b){function c(a){this._mappings=a.mappings,this._data=a.data||{}}var d,e;return d=a.keys.reduce(function(a,b){return a[b]={get:function(){var a=this._mappings[b];return a?a.getValue():this._data[b]},set:function(a){var c=this._mappings[b];c?(Di.start(),c.setValue(a),Di.end()):this._data[b]=a},enumerable:!0},a},b),Pi(e={},d),e.constructor=c,c.prototype=e,c}function pg(a,b,c){var d,e;this.parameters=a,this.key=b,this.resolved=this.ready=!1,d=a.component,e=this.resolve.bind(this),c.r?this.resolver=am(d,c.r,e):c.x?this.resolver=new fm(d,d.parentFragment,c.x,e):c.rx&&(this.resolver=new jm(d,c.rx,e)),this.resolved||a.addMapping(b),this.ready=!0}function qg(a,b,c){var d,e,f;return c?(b.parameters&&(f=rg(b)),d=new sg(a,c,f),e=Sr(d,b),{data:e,mappings:d.mappings}):{data:{}}}function rg(a){return a._parameters?a._parameters.defined||(a._parameters.defined={}):a._parameters={defined:{}},a._parameters.defined}function sg(a,b,c){var d=this;this.component=a,this.parentViewmodel=a.root.viewmodel,this.data={},this.mappings=Eh(null),this.newKeys=[],this.keys=Object.keys(b),this.keys.forEach(function(a){c&&!c[a]&&d.newKeys.push(a),d.add(a,b[a])})}function tg(a){return 1===a.length&&a[0].t===Lk.INTERPOLATOR}function ug(a,b){var c;for(c in b)b.hasOwnProperty(c)&&vg(a.instance,a.root,c,b[c])}function vg(a,b,c,d){"string"!=typeof d&&hi.error({debug:b.debug,message:"noComponentEventArguments"}),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),Ij(b,d,{event:a,args:c}),!1})}function wg(a,b){var c,d,e;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=Lk.COMPONENT,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],e=Ur(this,b.prototype,a.template.a),Qr(this,b,e,a.template.f,a.template.p),Vr(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&pr('The "intro", "outro" and "decorator" directives have no effect on components'),Wr(this)}function xg(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function yg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function zg(){return this.instance.fragment.toString()}function Ag(){var a=this.instance;this.resolvers.forEach(Bg),Cg(this),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&li(a.el.__ractive_instances__,a),_r.fire(a)}function Bg(a){a.unbind()}function Cg(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function Dg(a){this.shouldDestroy=a,this.instance.unrender()}function Eg(a){if("string"==typeof a.template)return new Ol(a);switch(a.template.t){case Lk.INTERPOLATOR:return"yield"===a.template.r?new hs(a):new pm(a);case Lk.SECTION:return new Mm(a);case Lk.TRIPLE:return new hn(a);case Lk.ELEMENT:var b;return(b=uq(a.parentFragment.root,a.template.e))?new ds(a,b):new mq(a);case Lk.PARTIAL:return new tq(a);case Lk.COMMENT:return new fs(a);case Lk.DOCTYPE:return new js(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Fg(a){var b,c=this;this.owner=a.owner,b=this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],"string"==typeof a.template?a.template=[a.template]:a.template||(a.template=[]),this.items=a.template.map(function(b,d){return ks({parentFragment:c,pElement:a.pElement,template:b,index:d})
}).filter(function(a){return null!==a}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Gg(a,b){jp(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function Hg(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function Ig(a){return this.items?this.items.map(function(b){return b.toString(a)}).join(""):""}function Jg(){this.bound&&(this.items.forEach(Kg),this.bound=!1)}function Kg(a){a.unbind&&a.unbind()}function Lg(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function Mg(a,b){var c,d,e,f,g,h=this;if("function"!=typeof a||b?a=a||{}:(b=a,a={}),"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((d=this.viewmodel.wrapped[""])&&d.reset?d.reset(a)===!1&&(this.data=a):this.data=a,e=_h.reset(this),f=e.length;f--;)if(vs.indexOf(e[f])>-1){g=!0;break}if(g){var i;this.viewmodel.mark(""),(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new us({template:this.template,root:this,owner:this})),c=this.render(this.el,this.anchor)}else c=Di.start(this,!0),this.viewmodel.mark(""),Di.end();return ws.fire(this,a),b&&(hi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.reset"}}),c.then(b).then(null,function(a){hi.consoleError({debug:h.debug,err:a})})),c}function Ng(a){var b,c;_h.template.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new us({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function Og(a,b,c){var d,e,f=this;if(e=Di.start(this,!0),hh(a)){d=a,c=b;for(a in d)d.hasOwnProperty(a)&&(b=d[a],a=jj(a),this.viewmodel.set(a,b))}else a=jj(a),Bs.test(a)?Tj(this,a).forEach(function(a){f.viewmodel.set(a,b)}):this.viewmodel.set(a,b);return Di.end(),c&&(hi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.set"}}),e.then(c.bind(this)).then(null,function(a){hi.consoleError({debug:f.debug,err:a})})),e}function Pg(a,b){return Qi(this,a,void 0===b?-1:-b)}function Qg(a){var b,c=this;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&li(this.el.__ractive_instances__,this),this.shouldDestroy=!0,b=this.fragment.rendered?this.unrender():pi.resolve(),Hs.fire(this),a&&(hi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),b.then(a.bind(this)).then(null,function(a){hi.consoleError({debug:c.debug,err:a})})),this._boundFunctions.forEach(Rg),b}function Rg(a){delete a.fn[a.prop]}function Sg(a,b){var c;return"string"!=typeof a&&hi.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:a}}),c=this.get(a),this.set(a,!c,b)}function Tg(){return this.fragment.toString(!0)}function Ug(){var a,b,c=this;if(!this.fragment.rendered)return hi.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"}),pi.resolve();for(a=Di.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&a.then(function(){yk.remove(c.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),li(this.el.__ractive_instances__,this),Ls.fire(this),Di.end(),a}function Vg(a,b){var c,d=this;return"function"==typeof a?(b=a,a=""):a=a||"",c=Di.start(this,!0),this.viewmodel.mark(a),Di.end(),Os.fire(this,a),b&&(hi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),c.then(b.bind(this)).then(null,function(a){hi.consoleError({debug:d.debug,err:a})})),c}function Wg(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||ip(d,a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=Xg(this,e),this.set(c)}function Xg(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath]||a.changed()||(d.push(a.keypath),d[a.keypath]=a));b=a.attribute.value,e=a.getValue(),xo(b,e)||hj(b,e)||(c[a.keypath]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a],e=b.attribute.value,f=b.getValue(),xo(e,f)||(c[a]=f)}),c}function Yg(a){if(!(a.prototype instanceof Xs))return a;for(var b={};a;)_h.registries.forEach(function(c){Zg(c.useDefaults?a.prototype:a,b,c.name)}),Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e,f=d._method;f&&(d=d._method),e=uh(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}}),a=a._Parent!==Xs?a._Parent:!1;return b}function Zg(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function $g(a){void 0===a&&(a={});var b,c,d,e=this;return a=Ss(a),b=function(a,b){Pr(this,a,b)},c=Eh(e.prototype),c.constructor=b,d={_guid:{value:Ts++},defaults:{value:c},extend:{value:$g,writable:!0,configurable:!0},_Parent:{value:e}},Pi(b,d),_h.extend(e,c,a),Lr.extend(e,c),b.prototype=c,b}var _g,ah={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,noCssTransform:!1,debug:!1},bh=ah,ch={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}},dh=Object.prototype.hasOwnProperty,eh=Object.prototype.toString,fh=function(a){return"[object Array]"===eh.call(a)},gh=Object.prototype.toString,hh=function(a){return a&&"[object Object]"===gh.call(a)},ih=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},jh={};_g="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(a,b){if(!b){if(jh[a])return;jh[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:function(){};var kh,lh=_g,mh=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,nh=/\/\*.*?\*\//g,oh=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,ph=/^@media/,qh=/\[data-ractive-css="[a-z0-9-]+"]/g,rh=a,sh={name:"css",extend:d,init:function(){}},th=sh,uh=function(a,b,c){return c||f(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},vh={name:"data",extend:h,init:i,reset:j},wh=vh,xh={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',usePromise:"{method} now returns a Promise, use {method}(...).then(callback) instead.",noTwowayExpressions:"Two-way binding does not work with expressions. Encountered ( {expression} ) on element {element}.",computedCannotMapTo:'Computed property "{key}" cannot be mapped to "{other}" because {reason}.',notUsed:'prevents forgetting trailing "," in cut and paste of previous line :)'},yh="object"==typeof document,zh=yh;try{Object.create(null),kh=Object.create}catch(Ah){kh=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var Bh,Ch,Dh,Eh=kh;"undefined"==typeof window?Dh=null:(Bh=window,Ch=Bh.document,Dh={},Ch||(Dh=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;for(void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0),c=this.length;c>b;b++)if(this.hasOwnProperty(b)&&this[b]===a)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f=this,g=[];for(f instanceof String&&(f=f.toString(),e=!0),c=0,d=f.length;d>c;c+=1)(f.hasOwnProperty(c)||e)&&(g[c]=a.call(b,f[c],c,f));return g}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){var c,d,e,f;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(e=this.length,f=!1,arguments.length>1&&(d=b,f=!0),c=0;e>c;c+=1)this.hasOwnProperty(c)?f&&(d=a(d,this[c],c,this)):(d=this[c],f=!0);if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e=[];for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)&&(e[e.length]=this[c]);return e}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=0;d>e;e+=1)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b,c,d,e,f=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return b=f.call(arguments,1),c=this,d=function(){},e=function(){var e=this instanceof d&&a?this:a;return c.apply(e,b.concat(f.call(arguments)))},d.prototype=this.prototype,e.prototype=new d,e}),Bh.addEventListener||!function(a,b){var c,d,e,f,g,h;a.appearsToBeIELessEqual8=!0,c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b,d.target=a.srcElement||b,d.timeStamp=+new Date,d.preventDefault=function(){a.returnValue=!1},d.stopPropagation=function(){a.cancelBubble=!0}},d=function(a,b){var d,e,f=this;d=f.listeners||(f.listeners=[]),e=d.length,d[e]=[b,function(a){b.call(f,new c(a,f))}],f.attachEvent("on"+a,d[e][1])},e=function(a,b){var c,d,e=this;if(e.listeners)for(c=e.listeners,d=c.length;d--;)c[d][0]===b&&e.detachEvent("on"+a,c[d][1])},a.addEventListener=b.addEventListener=d,a.removeEventListener=b.removeEventListener=e,"Element"in a?(a.Element.prototype.addEventListener=d,a.Element.prototype.removeEventListener=e):(h=b.createElement,b.createElement=function(a){var b=h(a);return b.addEventListener=d,b.removeEventListener=e,b},f=b.getElementsByTagName("head")[0],g=b.createElement("style"),f.insertBefore(g,f.firstChild))}(Bh,Ch),Bh.getComputedStyle||(Dh.getComputedStyle=function(){function a(c,d,e,f){var g,h=d[e],i=parseFloat(h),j=h.split(/\d/)[0];return isNaN(i)&&/^thin|medium|thick$/.test(h)&&(i=b(h),j=""),f=null!=f?f:/%|em/.test(j)&&c.parentElement?a(c.parentElement,c.parentElement.currentStyle,"fontSize",null):16,g="fontSize"==e?f:/width/i.test(e)?c.clientWidth:c.clientHeight,"em"==j?i*f:"in"==j?96*i:"pt"==j?96*i/72:"%"==j?i/100*g:i}function b(a){var b,c;return f[a]||(b=document.createElement("div"),b.style.display="block",b.style.position="fixed",b.style.width=b.style.height="0",b.style.borderRight=a+" solid black",document.getElementsByTagName("body")[0].appendChild(b),c=b.getBoundingClientRect(),f[a]=c.right-c.left),f[a]}function c(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function d(b){var d,e,f,g;d=b.currentStyle,e=this,f=a(b,d,"fontSize",null);for(g in d)/width|height|margin.|padding.|border.+W/.test(g)?"auto"===d[g]?/^width|height/.test(g)?e[g]=("width"===g?b.clientWidth:b.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(g)&&(e[g]="0px"):e[g]=a(b,d,g,f)+"px":"styleFloat"===g?e["float"]=d[g]:e[g]=d[g];return c(e,"margin"),c(e,"padding"),c(e,"border"),e.fontSize=f+"px",e}function e(a){return new d(a)}var f={};return d.prototype={constructor:d,getPropertyPriority:function(){},getPropertyValue:function(a){return this[a]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},e}()));var Fh,Gh,Hh=Dh,Ih=q;Fh=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],Gh=Ih(Fh,function(a){return a});var Jh=Gh,Kh={parse:s,fromId:t,isHashedId:u,isParsed:v,getParseOptions:w,createHelper:r},Lh=Kh,Mh={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:z(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=y(b,e),b._config.template={fn:e,result:d}),d=z(d,b),b.template=d.t,d.p&&A(b.partials,d.p)},reset:function(a){var b,c=x(a);return c?(b=z(c,a),a.template=b.t,A(a.partials,b.p,!0),!0):void 0}},Nh=Mh;B.prototype={constructor:B,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,b,c)},configure:function(a,b,c){var d,e=this.name,f=c[e];d=Eh(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c},findOwner:function(a,b){return a[this.name].hasOwnProperty(b)?a:this.findConstructor(a.constructor,b)},findConstructor:function(a,b){return a?a[this.name].hasOwnProperty(b)?a:this.findConstructor(a._Parent,b):void 0},find:function(a,b){var c=this;return C(a,{test:function(a){return b in a[c.name]},getValue:function(a){return a[c.name][b]}})},findInstance:function(a,b){var c=this;return C(a,{test:function(a){return b in a[c.name]},getValue:function(a){return a}})}};var Oh,Ph,Qh,Rh,Sh=B,Th=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],Uh=Ih(Th,function(a){return new Sh(a,"computed"===a)}),Vh=Uh,Wh=function(){},Xh=D,Yh=J;Oh={data:wh,template:Nh,css:th},Ph=Object.keys(bh).filter(function(a){return!Vh[a]&&!Oh[a]&&!Jh[a]}),Qh=[].concat(Oh.data,Jh,Ph,Vh,Oh.template,Oh.css);for(var Zh in Oh)Qh[Zh]=Oh[Zh];Qh.keys=Object.keys(bh).concat(Vh.map(function(a){return a.name})).concat(["css"]),Rh=Qh.keys.reduce(function(a,b){return a[b]=!0,a},{}),Qh.parseOptions=Jh,Qh.registries=Vh,Qh.extend=function(a,b,c){M("extend",a,b,c)},Qh.init=function(a,b,c){M("init",a,b,c)},Qh.reset=function(a){return Qh.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},Qh.getConstructTarget=function(a,b){return b.onconstruct?{onconstruct:Xh(a,"onconstruct",b.onconstruct).bind(a),fire:a.fire.bind(a)}:a};var $h,_h=Qh,ai=function(a,b,c,d){if(a===b)return O(b);if(d){var e=_h.registries.interpolators.find(c,d);if(e)return e(a,b)||O(b);lh('Missing "'+d+'" interpolator. You may need to download a plugin from [TODO]')}return di.number(a,b)||di.array(a,b)||di.object(a,b)||O(b)},bi=ai,ci={number:function(a,b){var c;return ih(a)&&ih(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,e,f;if(!fh(a)||!fh(b))return null;for(c=[],d=[],f=e=Math.min(a.length,b.length);f--;)d[f]=bi(a[f],b[f]);for(f=e;f<a.length;f+=1)c[f]=a[f];for(f=e;f<b.length;f+=1)c[f]=b[f];return function(a){for(var b=e;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!hh(a)||!hh(b))return null;c=[],f={},e={};for(g in a)dh.call(a,g)&&(dh.call(b,g)?(c.push(g),e[g]=bi(a[g],b[g])):f[g]=a[g]);for(g in b)dh.call(b,g)&&!dh.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},di=ci;$h="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");var ei=$h,fi="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply,gi={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(P(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(P(a));this.thrower(b)},logger:lh,thrower:function(a){throw a},consoleError:function(a){fi?console.error(a.err):this.thrower(a.err)}},hi=gi,ii={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};R.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&hi.warnAlways({debug:a.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate}),b?a.fire(this.event,b):a.fire(this.event)};var ji,ki=R,li=function(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)},mi={},ni={},oi={};"function"==typeof Promise?ji=Promise:(ji=function(a){var b,c,d,e,f,g,h=[],i=[],j=mi;d=function(a){return function(d){j===mi&&(b=d,j=a,c=T(j===ni?h:i,b),S(c))}},e=d(ni),f=d(oi);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new ji(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),U(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==mi&&S(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},ji.all=function(a){return new ji(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},ji.resolve=function(a){return new ji(function(b){b(a)})},ji.reject=function(a){return new ji(function(b,c){c(a)})});var pi=ji,qi=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,ri=V,si=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return""},ti=W,ui=X,vi=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};vi.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,db(this)},decrementTotal:function(){this.totalChildren-=1,db(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;li(b,a),db(this)},init:function(){this.ready=!0,db(this)},detachNodes:function(){this.decoratorQueue.forEach(ab),this.detachQueue.forEach(bb),this.children.forEach(cb)}};var wi,xi,yi=vi,zi=[],Ai=new ki("change");xi={start:function(a,b){var c,d;return b&&(c=new pi(function(a){return d=a})),wi={previousBatch:wi,transitionManager:new yi(d,wi&&wi.transitionManager),views:[],tasks:[],viewmodels:[],instance:a},a&&wi.viewmodels.push(a.viewmodel),c},end:function(){eb(),wi.transitionManager.init(),!wi.previousBatch&&wi.instance&&(wi.instance.viewmodel.changes=[]),wi=wi.previousBatch},addViewmodel:function(a){return wi?-1===wi.viewmodels.indexOf(a)?(wi.viewmodels.push(a),!0):!1:(a.applyChanges(),!1)},registerTransition:function(a){a._manager=wi.transitionManager,wi.transitionManager.add(a)},registerDecorator:function(a){wi.transitionManager.addDecorator(a)},addView:function(a){wi.views.push(a)},addUnresolved:function(a){zi.push(a)},removeUnresolved:function(a){li(zi,a)},detachWhenReady:function(a){wi.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(wi){for(c=wi;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var Bi,Ci,Di=xi,Ei=/^\s*[0-9]+\s*$/,Fi=function(a){return Ei.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Bi={filter:function(a,b,c){var d,e,f,g,h;return b?(d=b.split("."),e=d.pop(),f=d.join("."),(g=c.viewmodel.wrapped[f])&&!g.magic?!1:(h=c.get(f),fh(h)&&/^[0-9]+$/.test(e)?!1:h&&("object"==typeof h||"function"==typeof h))):!1},wrap:function(a,b,c){return new Ci(a,b,c)}},Ci=function(a,b,c){var d,e,f,g;return this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,d=c.split("."),this.prop=d.pop(),e=d.join("."),this.obj=e?a.get(e):a.data,f=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),f&&f.set&&(g=f.set._ractiveWrappers)?void(-1===g.indexOf(this)&&g.push(this)):void hb(this,b,f)},Ci.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,Di.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{dontTeardownWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Fi(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(Ah){Bi=!1}var Gi,Hi=Bi,Ii=!!Hi,Ji={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Gi=ei?function(a,b){return b&&b!==Ji.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==Ji.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)};var Ki,Li=Gi;try{Object.defineProperty({},"test",{value:0}),zh&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Ki=Object.defineProperty}catch(Ah){Ki=function(a,b,c){a[b]=c.value}}var Mi,Ni=Ki;try{try{Object.defineProperties({},{test:{value:0}})}catch(Ah){throw Ah}zh&&Object.defineProperties(Li("div"),{test:{value:0}}),Mi=Object.defineProperties}catch(Ah){Mi=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Ni(a,c,b[c])}}var Oi,Pi=Mi,Qi=ib,Ri=jb,Si=["o","ms","moz","webkit"];"undefined"==typeof window?Oi=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(Si,0,window),Oi=window.requestAnimationFrame);var Ti,Ui=Oi;Ti="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Vi=Ti,Wi=[],Xi={tick:function(){var a,b,c;for(c=Vi(),Di.start(),a=0;a<Wi.length;a+=1)b=Wi[a],b.tick(c)||Wi.splice(a--,1);Di.end(),Wi.length?Ui(Xi.tick):Xi.running=!1},add:function(a){Wi.push(a),Xi.running||(Xi.running=!0,Ui(Xi.tick))},abort:function(a,b){for(var c,d=Wi.length;d--;)c=Wi[d],c.root===b&&c.keypath===a&&c.stop()}},Yi=Xi,Zi=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=bi(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};Zi.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(Di.start(this.root),this.root.viewmodel.set(f,this.to),Di.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&lh("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),Di.start(this.root),this.root.viewmodel.set(f,c),Di.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&lh("Animation was not found"),this.root._animations.splice(a,1)}};var $i,_i,aj,bj,cj,dj,ej,fj,gj=Zi,hj=function(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b},ij=/^\.+/,jj=kb,kj=function(){},lj={stop:kj},mj=lb,nj=new ki("detach"),oj=nb,pj=ob;if(zh){for(_i=Li("div"),aj=["matches","matchesSelector"],fj=function(a){return function(b,c){return b[a](c)}},dj=aj.length;dj--&&!$i;)if(bj=aj[dj],_i[bj])$i=fj(bj);else for(ej=Si.length;ej--;)if(cj=Si[dj]+bj.substr(0,1).toUpperCase()+bj.substring(1),_i[cj]){$i=fj(cj);break}$i||($i=function(a,b){var c,d,e;for(d=a.parentNode,d||(_i.innerHTML="",d=_i,a=a.cloneNode(),_i.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else $i=null;var qj=$i,rj=function(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?qj(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0},sj=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},tj=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=qb(a.component||a._ractive.proxy),d=qb(b.component||b._ractive.proxy),e=c[c.length-1],f=d[d.length-1];e&&e===f;)c.pop(),d.pop(),g=e,e=c[c.length-1],f=d[d.length-1];if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},uj=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):tj(a,b)},vj=function(){this.sort(this._isComponentQuery?tj:uj),this._dirty=!1},wj=function(){var a=this;this._dirty||(this._dirty=!0,Di.scheduleTask(function(){a._sort()}))},xj=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},yj=rb,zj=sb,Aj=tb,Bj=ub,Cj=vb,Dj=wb,Ej={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},Fj=Ej,Gj={},Hj=xb,Ij=zb,Jj=Cb,Kj={capture:!0,noUnwrap:!0},Lj=Db,Mj=Eb,Nj=new ki("insert"),Oj=Fb,Pj=Hb,Qj=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};Qj.prototype={init:function(a){this.value=this.root.get(this.keypath),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;hj(a,this.value)||(this.value=a,this.defer&&this.ready?Di.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}};var Rj,Sj=Qj,Tj=Ib,Uj=Jb,Vj=/\*/,Wj=Array.prototype.slice;Rj=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},Rj.prototype={init:function(a){var b,c;if(b=Uj(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(c);else this.values=b},update:function(a){var b,c=this;if(Vj.test(a)){b=Uj(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(a)}else if(!this.root.viewmodel.implicitChanges[a])return this.defer&&this.ready?void Di.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d;return b=this.root.viewmodel.get(a),this.updating?void(this.values[a]=b):(this.updating=!0,hj(b,this.values[a])&&this.ready||(c=Wj.call(this.regex.exec(a),1),d=[b,this.values[a],a].concat(c),this.values[a]=b,this.callback.apply(this.context,d)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a]||(this.proxies[a]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a]}};var Xj,Yj,Zj,$j,_j,ak,bk=Rj,ck=/\*/,dk={},ek=Kb,fk=Lb,gk=Mb,hk=function(a){return a.trim()},ik=function(a){return""!==a},jk=Nb,kk=Ob,lk=Pb,mk=Qb,nk=Array.prototype.slice,ok=Array.prototype,pk=function(a){return function(b){var c,d,e,f,g=nk.call(arguments,1),h=[];if(c=this.get(b),d=c.length,!fh(c))throw new Error("Called ractive."+a+"('"+b+"'), but '"+b+"' does not refer to an array");return h=mk(c,a,g),f=ok[a].apply(c,g),e=Di.start(this,!0).then(function(){return f}),h?this.viewmodel.smartUpdate(b,c,h):this.viewmodel.mark(b),Di.end(),e}},qk=pk("pop"),rk=pk("push"),sk="/* Ractive.js component styles */\n",tk={},uk=[];zh?(Zj=document.createElement("style"),Zj.type="text/css",$j=document.getElementsByTagName("head")[0],ak=!1,_j=Zj.styleSheet,Yj=function(){var a;uk.length?(a=sk+uk.join(" "),_j?_j.cssText=a:Zj.innerHTML=a,ak||($j.appendChild(Zj),ak=!0)):ak&&($j.removeChild(Zj),ak=!1)},Xj={add:function(a){a.css&&(tk[a._guid]||(tk[a._guid]=0,uk.push(a.css),Yj()),tk[a._guid]+=1)},remove:function(a){a.css&&(tk[a._guid]-=1,tk[a._guid]||(li(uk,a.css),Di.scheduleTask(Yj)))}}):Xj=null;var vk,wk,xk,yk=Xj,zk=new ki("render"),Ak=new ki("complete"),Bk=Sb,Ck=Ub,Dk=Vb,Ek=Wb,Fk=Xb,Gk=Yb,Hk=Zb,Ik=$b,Jk=_b,Kk=ac,Lk={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,YIELDER:16,INLINE_PARTIAL:17,DOCTYPE:18,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53,SECTION_IF_WITH:54,SECTION_PARTIAL:55},Mk={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},Nk=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Ok=function(a){var b;
return(b=a.matchPattern(Nk))?{t:Lk.NUMBER_LITERAL,v:b}:null},Pk=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:Lk.BOOLEAN_LITERAL,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:Lk.BOOLEAN_LITERAL,v:"false"}):null};vk=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,wk=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,xk=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Qk,Rk,Sk,Tk,Uk,Vk=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(vk)||b.matchPattern(wk)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(xk),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},Wk=Vk('"'),Xk=Vk("'"),Yk=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=Xk(a),a.matchString('"')?{t:Lk.STRING_LITERAL,v:c}:(a.pos=b,null)):a.matchString("'")?(c=Wk(a),a.matchString("'")?{t:Lk.STRING_LITERAL,v:c}:(a.pos=b,null)):null},Zk={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/,relaxedName:/^[a-zA-Z_$][-a-zA-Z_$0-9]*/},$k=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,_k=function(a){var b;return(b=Yk(a))?$k.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=Ok(a))?b.v:(b=a.matchPattern(Zk.name))?b:void 0},al=function(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=_k(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=a.readExpression(),null===d?(a.pos=b,null):{t:Lk.KEY_VALUE_PAIR,k:c,v:d}):(a.pos=b,null))},bl=bc,cl=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=bl(a),a.allowWhitespace(),a.matchString("}")?{t:Lk.OBJECT_LITERAL,m:c}:(a.pos=b,null)):(a.pos=b,null)},dl=cc,el=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=dl(a),a.matchString("]")?{t:Lk.ARRAY_LITERAL,m:c}:(a.pos=b,null)):(a.pos=b,null)},fl=function(a){var b=Ok(a)||Pk(a)||Yk(a)||cl(a)||el(a);return b};Qk=/^\.[a-zA-Z_$0-9]+/,Sk=function(a){var b=a.matchPattern(Rk);return b?"."+b:null},Rk=/^\[(0|[1-9][0-9]*)\]/,Tk=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,Uk=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var gl,hl,il=function(a){var b,c,d,e,f,g,h,i;if(b=a.pos,a.matchString("~/"))c="~/";else for(c="";a.matchString("../");)c+="../";if(c||(e=a.matchString("./")||a.matchString(".")||""),i=a.relaxedNames?Zk.relaxedName:Zk.name,d=a.matchPattern(/^@(?:keypath|index|key)/)||a.matchPattern(i)||"",!a.relaxedNames&&!e&&!c&&Uk.test(d))return a.pos=b,null;if(!c&&!e&&!a.relaxedNames&&Tk.test(d))return{t:Lk.GLOBAL,v:d};if(f=(c||e)+d,!f)return null;for(;g=a.matchPattern(Qk)||Sk(a);)f+=g;return a.matchString("(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:Lk.REFERENCE,n:f.replace(/^this\./,"./").replace(/^this$/,".")}},jl=function(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=a.readExpression(),c||a.error(Mk.expectedExpression),a.allowWhitespace(),a.matchString(")")||a.error(Mk.expectedParen),{t:Lk.BRACKETED,x:c}):null},kl=function(a){return fl(a)||il(a)||jl(a)},ll=dc,ml=function(a){var b,c,d,e;if(c=kl(a),!c)return null;for(;c;)if(b=a.pos,d=ll(a))c={t:Lk.MEMBER,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=dl(a),a.allowWhitespace(),a.matchString(")")||a.error(Mk.expectedParen),c={t:Lk.INVOCATION,x:c},e&&(c.o=e)}return c};hl=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=c.readExpression(),d||c.error(Mk.expectedExpression),{s:a,o:d,t:Lk.PREFIX_OPERATOR}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=ml,a=0,b=d.length;b>a;a+=1)c=hl(d[a],e),e=c;gl=e}();var nl,ol,pl=gl;ol=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:Lk.INFIX_OPERATOR,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=pl,a=0,b=d.length;b>a;a+=1)c=ol(d[a],e),e=c;nl=e}();var ql,rl,sl=nl,tl=function(a){var b,c,d,e;return(c=sl(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(Mk.expectedExpression),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=a.readExpression(),e||a.error(Mk.expectedExpression),{t:Lk.CONDITIONAL,o:[c,d,e]}):(a.pos=b,c)):null},ul=function(a){var b,c=[];return fc(a,c),b={r:c,s:gc(this,a,c)}},vl=/^\s+/;rl=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},rl.prototype=Error.prototype,ql=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},ql.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return tl(this)},flattenExpression:ul,getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b,c,d,e,f,g;throw b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=e+"\n"+new Array(b[1]).join(" ")+"^----",g=new rl(a+" at line "+c+" character "+d+":\n"+f),g.line=b[0],g.character=b[1],g.shortMessage=a,g},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(vl)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},ql.extend=function(a){var b,c,d=this;b=function(a,b){ql.call(this,a,b)},b.prototype=Eh(d.prototype);for(c in a)dh.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=ql.extend,b};var wl,xl,yl,zl,Al,Bl,Cl,Dl=ql;xl={"true":!0,"false":!1,undefined:void 0,"null":null},yl=new RegExp("^(?:"+Object.keys(xl).join("|")+")"),zl=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Al=/\$\{([^\}]+)\}/g,Bl=/^\$\{([^\}]+)\}/,Cl=/^\s*$/,wl=Dl.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&Cl.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(Bl),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(yl))?{v:xl[b]}:void 0},function(a){var b;return(b=a.matchPattern(zl))?{v:+b}:void 0},function(a){var b,c=Yk(a);return c&&(b=a.values)?{v:c.v.replace(Al,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=hc(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var El=function(a,b){var c=new wl(a,{values:b});return c.result},Fl={},Gl=ic,Hl=/</g,Il=/>/g,Jl=/&/g,Kl=kc,Ll=lc,Ml=function(){return Ll(this.node)},Nl=function(a){this.type=Lk.TEXT,this.text=a.template};Nl.prototype={detach:Ml,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?Kl(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var Ol=Nl,Pl=mc,Ql=nc,Rl=oc,Sl=pc,Tl=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=ui(a.root,b,a.parentFragment),void 0!==d?this.resolve(d):Di.addUnresolved(this)};Tl.prototype={resolve:function(a){this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(this.ref)},rebind:function(a,b){var c;void 0!==this.keypath&&(c=Sl(this.keypath,a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||Di.removeUnresolved(this)}};var Ul=Tl,Vl=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},Wl={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Vl.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=Wl[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback("@"+d.prefix+qc(this.cached,d));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===Lk.SECTION_EACH&&void 0!==(a=qc(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback("@"+d.prefix+a);c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=qc(c,d)))return this.callback("@"+d.prefix+a);c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Xl=Vl,Yl=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};Yl.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback("@"+a)},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Zl=Yl,$l=rc;rc.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var _l,am=sc,bm=tc,cm={},dm=uc,em=Function.prototype.bind;_l=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return am(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},_l.prototype={bubble:function(){this.ready&&(this.uniqueString=wc(this.str,this.keypaths),this.keypath=xc(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e=this;a=this.root.viewmodel.computations[this.keypath],a?this.root.viewmodel.mark(this.keypath):(d=dm(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:"@"===a[0]?(b=bm(a),function(){return b}):function(){var b=e.root.viewmodel.get(a,{noUnwrap:!0});return"function"==typeof b&&(b=zc(b,e.root)),b}}),c={deps:this.keypaths.filter(yc),get:function(){var a=b.map(vc);return d.apply(null,a)}},a=this.root.viewmodel.compute(this.keypath,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var fm=_l,gm=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===Lk.REFERENCE?this.refResolver=am(this,a.n,function(a){d.resolve(a)}):new fm(b,c,a,function(a){d.resolve(a)})};gm.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var hm=gm,im=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=ui(d,e,g))?this.base=f:this.baseResolver=new Ul(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new hm(a,h,g)}),this.ready=!0,this.bubble()};im.prototype={getKeypath:function(){var a=this.members.map(Ac);return!a.every(Bc)||this.baseResolver?null:this.base+"."+a.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Cc)},rebind:function(a,b){var c;this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(function(a){return a.forceResolution()}),this.bubble()}};var jm=im,km=Dc,lm=Ec,mm=Fc,nm={getValue:Ql,init:km,resolve:lm,rebind:mm},om=function(a){this.type=Lk.INTERPOLATOR,nm.init(this,a)};om.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:nm.resolve,rebind:nm.rebind,detach:Ml,unbind:Pl,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&Ll(this.node)},getValue:nm.getValue,setValue:function(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),hj(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&Di.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";return a?Kl(b):b}};var pm=om,qm=Gc,rm=Hc,sm=Ic,tm=Jc,um=Kc,vm=Lc,wm=Mc,xm=Nc,ym=Oc,zm=function(a,b){nm.rebind.call(this,a,b)},Am=Qc,Bm=/^\[object (?:Array|FileList)\]$/,Cm=Object.prototype.toString,Dm=Rc,Em=Sc,Fm=dd,Gm=ed,Hm=gd,Im=jd,Jm=function(a){this.type=Lk.SECTION,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===Lk.SECTION_UNLESS,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}})),this.renderedFragments=[],this.length=0,nm.init(this,a)};Jm.prototype={bubble:qm,detach:rm,find:sm,findAll:tm,findAllComponents:um,findComponent:vm,findNextNode:wm,firstNode:xm,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:nm.getValue,shuffle:ym,rebind:zm,render:Am,resolve:nm.resolve,setValue:Em,toString:Fm,unbind:Gm,unrender:Hm,update:Im};var Km,Lm,Mm=Jm,Nm=kd,Om=ld,Pm=md,Qm=nd,Rm={};try{Li("table").innerHTML="foo"}catch(Ah){Km=!0,Lm={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Sm,Tm,Um,Vm=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(Km&&(e=Lm[b.tagName])?(d=od("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===Ji.svg?(d=od("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=od(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},Wm=pd,Xm=qd,Ym=sd,Zm=td;Sm={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Tm=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Um=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(Sm).join("|")+"));?","g");var $m=ud,_m=wd,an=xd,bn=yd,cn=function(a){this.type=Lk.TRIPLE,nm.init(this,a)};cn.prototype={detach:Nm,find:Om,findAll:Pm,firstNode:Qm,getValue:nm.getValue,rebind:nm.rebind,render:Ym,resolve:nm.resolve,setValue:Zm,toString:_m,unbind:Pl,unrender:an,update:bn};var dn,en,fn,gn,hn=cn,jn=function(){this.parentFragment.bubble()},kn=zd,ln=function(a){return this.node?qj(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},mn=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},nn=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},on=function(a){return this.fragment?this.fragment.findComponent(a):void 0},pn=Ad,qn=Bd,rn=Cd;dn="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),en="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),fn=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},gn=fn(dn.concat(en));var sn=function(a){var b=a.toLowerCase();return gn[b]||b},tn=/^true|on|yes|1$/i,un=/^[0-9]+$/,vn=function(a,b){var c;c=b.twoway,void 0!==c&&(a.twoway=0===c||tn.test(c),delete b.twoway),c=b.lazy,void 0!==c&&(a.lazy=0!==c&&un.test(c)?parseInt(c):0===c||tn.test(c),delete b.lazy)},wn=Dd,xn=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,yn=xn,zn=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==Ji.html?sn(b):b;else if(b=b.substring(c+1),a.name=sn(b),a.namespace=Ji[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},An=Ed,Bn={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Cn=function(a,b){var c;!a.pNode||a.namespace||b.pNode.namespaceURI&&b.pNode.namespaceURI!==Ji.html||(c=Bn[a.name]||a.name,void 0!==b.pNode[c]&&(a.propertyName=c),(yn.test(c)||"value"===c)&&(a.useProperty=!0))},Dn=Fd,En=Gd,Fn={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Gn=Hd,Hn=Id,In=Kd,Jn=Ld,Kn=Md,Ln=Nd,Mn=Od,Nn=Pd,On=Qd,Pn=Rd,Qn=Sd,Rn=Td,Sn=Ud,Tn=Vd,Un=Wd,Vn=Xd,Wn=Yd,Xn=function(a){this.init(a)};Xn.prototype={bubble:wn,init:Dn,rebind:En,render:Gn,toString:Hn,unbind:In,update:Wn};var Yn,Zn=Xn,$n=function(a,b){var c,d,e=[];for(c in b)b.hasOwnProperty(c)&&(d=new Zn({element:a,name:c,value:b[c],root:a.root}),e.push(e[c]=d));return e};"undefined"!=typeof document&&(Yn=Li("div"));var _n=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new us({root:a.root,owner:this,template:[b]})};_n.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===Ji.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=Zd(a,this.isSvg),this.attributes.filter(function(a){return $d(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var ao=_n,bo=function(a,b){return b?b.map(function(b){return new ao(a,b)}):[]},co=Array.prototype.slice,eo=function(a){for(var b,c,d=co.call(arguments,1);c=d.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a},fo=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c[c.length-1])return hi.error({debug:this.root.debug,message:"noTwowayExpressions",args:{expression:c.slice(2,-1).replace("-","."),element:a.tagName}}),!1}else b.resolver.forceResolution(),c=b.keypath;this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=_d(a))&&(this.resetValue=d,e.formBindings.push(this))};fo.prototype={handleChange:function(){var a=this;Di.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),Di.scheduleTask(function(){return a.attribute.locked=!1}),Di.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(li(this.root._twowayBindings[b],this),this.keypath=c,a=this.root._twowayBindings[c]||(this.root._twowayBindings[c]=[]),a.push(this))},unbind:function(){}},fo.extend=function(a){var b,c=this;return b=function(a){fo.call(this,a),this.init&&this.init()},b.prototype=Eh(c.prototype),eo(b.prototype,a),b.extend=fo.extend,b};var go,ho=fo,io=ae,jo=ho.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",io,!1),this.root.lazy||(a.addEventListener("input",io,!1),a.attachEvent&&a.addEventListener("keyup",io,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",io,!1),a.removeEventListener("input",io,!1),a.removeEventListener("keyup",io,!1)},getValue:function(){return this.element.node.innerHTML}}),ko=jo,lo={},mo=be,no=ho.extend({name:"checked",init:function(){this.siblings=mo(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",io,!1),a.attachEvent&&a.addEventListener("click",io,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",io,!1),a.removeEventListener("click",io,!1)},handleChange:function(){Di.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),Di.end()},getValue:function(){return this.element.node.checked},unbind:function(){li(this.siblings,this)}}),oo=no,po=ho.extend({name:"name",init:function(){this.siblings=mo(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",io,!1),a.attachEvent&&a.addEventListener("click",io,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",io,!1),a.removeEventListener("click",io,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&ho.prototype.handleChange.call(this)},rebound:function(a,b){var c;ho.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath+"}}")},unbind:function(){li(this.siblings,this)}}),qo=po,ro=ho.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.attribute.twoway=!0,this.siblings=mo(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){li(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=fh(a)?Kn(a,b):a==b,c.name="{{"+this.keypath+"}}",c.checked=this.isChecked,c.addEventListener("change",io,!1),c.attachEvent&&c.addEventListener("click",io,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",io,!1),a.removeEventListener("click",io,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,ho.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ce).map(de)}}),so=ro,to=ho.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",io,!1),a.attachEvent&&a.addEventListener("click",io,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",io,!1),a.removeEventListener("click",io,!1)},getValue:function(){return this.element.node.checked}}),uo=to,vo=ho.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",io,!1)},unrender:function(){this.element.node.removeEventListener("change",io,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Di.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),wo=vo,xo=function(a,b){var c;if(!fh(a)||!fh(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0},yo=wo.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",io,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",io,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&xo(c,b)||wo.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Di.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),zo=yo,Ao=ho.extend({render:function(){this.element.node.addEventListener("change",io,!1)},unrender:function(){this.element.node.removeEventListener("change",io,!1)},getValue:function(){return this.element.node.files}}),Bo=Ao,Co=Object.prototype.toString,Do=function(a){return"number"==typeof a||"object"==typeof a&&"[object Number]"===Co.call(a)};go=ho.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:Do(this.element.lazy)&&(a=!1,c=this.element.lazy),b.addEventListener("change",io,!1),a||(b.addEventListener("input",c?fe:io,!1),b.attachEvent&&b.addEventListener("keyup",c?fe:io,!1)),b.addEventListener("blur",ee,!1)
},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",io,!1),a.removeEventListener("input",io,!1),a.removeEventListener("keyup",io,!1),a.removeEventListener("blur",ee,!1)}});var Eo=go,Fo=Eo.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),Go=ge,Ho=ie,Io=je,Jo=ke,Ko={args:!0},Lo=/^event(?:\.(.+))?/,Mo=le,No=pe,Oo={},Po={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Qo=qe,Ro=se,So=te,To=ue,Uo=ve,Vo=xe,Wo=function(a,b,c){this.init(a,b,c)};Wo.prototype={bubble:Ho,fire:Io,getAction:Jo,init:Mo,listen:Qo,rebind:Ro,render:So,resolve:To,unbind:Uo,unrender:Vo};var Xo,Yo,Zo=Wo,$o=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new Zo(a,e[c],b[d]),g.push(f);return g};Xo={args:!0},Yo=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new us({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new us({template:b.d,root:c,owner:a}),this.params=this.fragment.getValue(Xo),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getValue(Xo),f.ready&&f.update()}),this.fn=_h.registries.decorators.find(c,d),this.fn||hi.error({debug:c.debug,message:"missingPlugin",args:{plugin:"decorator",name:d}}))},Yo.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var _o,ap,bp,cp=Yo,dp=ye,ep=Ae,fp=Be,gp=Ce,hp=De,ip=Ee,jp=Fe,kp=Ge,lp=He,mp=Ie,np=Ke,op={},pp=Le,qp=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};zh?(ap={},bp=Li("div").style,_o=function(a){var b,c,d;if(a=qp(a),!ap[a])if(void 0!==bp[a])ap[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=Si.length;b--;)if(c=Si[b],void 0!==bp[c+d]){ap[a]=c+d;break}return ap[a]}):_o=null;var rp,sp,tp=_o;zh?(sp=window.getComputedStyle||Hh.getComputedStyle,rp=function(a){var b,c,d,e,f;if(b=sp(this.node),"string"==typeof a)return f=b[tp(a)],"0px"===f&&(f=0),f;if(!fh(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)e=a[d],f=b[tp(e)],"0px"===f&&(f=0),c[e]=f;return c}):rp=null;var up=rp,vp=function(a,b){var c;if("string"==typeof a)this.node.style[tp(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[tp(c)]=a[c]);return this},wp=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(lh('Missing easing function ("'+a.easing+'"). You may need to download a plugin from [TODO]'),b=Me)):b="function"==typeof a.easing?a.easing:Me,this.easing=b,this.start=Vi(),this.end=this.start+this.duration,this.running=!0,Yi.add(this)};wp.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var xp,yp,zp,Ap,Bp,Cp,Dp,Ep,Fp=wp,Gp=new RegExp("^-(?:"+Si.join("|")+")-"),Hp=function(a){return a.replace(Gp,"")},Ip=new RegExp("^(?:"+Si.join("|")+")([A-Z])"),Jp=function(a){var b;return a?(Ip.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},Kp={},Lp={};zh?(yp=Li("div").style,function(){void 0!==yp.transition?(zp="transition",Ap="transitionend",Bp=!0):void 0!==yp.webkitTransition?(zp="webkitTransition",Ap="webkitTransitionEnd",Bp=!0):Bp=!1}(),zp&&(Cp=zp+"Duration",Dp=zp+"Property",Ep=zp+"TimingFunction"),xp=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[Dp]=d.map(tp).map(Jp).join(","),a.node.style[Ep]=Jp(c.easing||"linear"),a.node.style[Cp]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(qp(Hp(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(Ap,j,!1),h=!0,i())},a.node.addEventListener(Ap,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,p=[];o--;)m=d[o],e=f+m,Bp&&!Lp[e]&&(a.node.style[tp(m)]=b[m],Kp[e]||(k=a.getStyle(m),Kp[e]=a.getStyle(m)!=b[m],Lp[e]=!Kp[e],Lp[e]&&(a.node.style[tp(m)]=k))),(!Bp||Lp[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?lh("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],p.push({name:tp(m),interpolator:bi(parseFloat(k),parseFloat(b[m])),suffix:n}));p.length?new Fp({root:a.root,duration:c.duration,easing:qp(c.easing||""),step:function(b){var c,d;for(d=p.length;d--;)c=p[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(Ap,j,!1),h=!0,i())},0)},c.delay||0)}):xp=null;var Mp,Np,Op,Pp,Qp,Rp=xp;if("undefined"!=typeof document){if(Mp="hidden",Qp={},Mp in document)Op="";else for(Pp=Si.length;Pp--;)Np=Si[Pp],Mp=Np+"Hidden",Mp in document&&(Op=Np);void 0!==Op?(document.addEventListener(Op+"visibilitychange",Ne),Ne()):("onfocusout"in document?(document.addEventListener("focusout",Oe),document.addEventListener("focusin",Pe)):(window.addEventListener("pagehide",Oe),window.addEventListener("blur",Oe),window.addEventListener("pageshow",Pe),window.addEventListener("focus",Pe)),Qp.hidden=!1)}var Sp,Tp,Up,Vp=Qp;zh?(Tp=window.getComputedStyle||Hh.getComputedStyle,Sp=function(a,b,c,d){var e,f=this;if(Vp.hidden)return this.setStyle(a,b),Up||(Up=pi.resolve());"string"==typeof a?(e={},e[a]=b):(e=a,d=c,c=b),c||(lh('The "'+this.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),c=this,d=this.complete);var g=new pi(function(a){var b,d,g,h,i,j,k;if(!c.duration)return f.setStyle(e),void a();for(b=Object.keys(e),d=[],g=Tp(f.node),i={},j=b.length;j--;)k=b[j],h=g[tp(k)],"0px"===h&&(h=0),h!=e[k]&&(d.push(k),f.node.style[tp(k)]=h);return d.length?void Rp(f,e,c,d,a):void a()});return d&&(hi.warn({debug:!0,message:"usePromise",args:{method:"t.animateStyle"}}),g.then(d).then(null,function(a){hi.consoleError({debug:!0,err:a})})),g}):Sp=null;var Wp=Sp,Xp=Array.prototype.slice,Yp=function(a){var b=Xp.call(arguments,1);return b.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a},Zp=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),Yp({},a,b)},$p=Qe,_p=function(a,b,c){this.init(a,b,c)};_p.prototype={init:pp,start:$p,getStyle:up,setStyle:vp,animateStyle:Wp,processParams:Zp};var aq,bq,cq=_p;aq=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},bq=function(){this.node.type&&"text/javascript"!==this.node.type||lh("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var dq=Se,eq=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,fq=eq,gq=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(Ye).join("")+this.conditionalAttributes.map(Ye).join(""),"option"===this.name&&We(this)&&(a+=" selected"),"input"===this.name&&Xe(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=Kl(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),fq.test(this.template.e)||(a+="</"+this.template.e+">"),a)},hq=Ze,iq=$e,jq=af,kq=bf,lq=function(a){this.init(a)};lq.prototype={bubble:jn,detach:kn,find:ln,findAll:mn,findAllComponents:nn,findComponent:on,findNextNode:pn,firstNode:qn,getAttribute:rn,init:hp,rebind:kp,render:dq,toString:gq,unbind:iq,unrender:kq};var mq=lq,nq=/^\s*$/,oq=/^\s*/,pq=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&nq.test(c)&&b.shift(),d=b[b.length-1],void 0!==d&&nq.test(d)&&b.pop(),e=b.reduce(df,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},qq=ef,rq=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},sq=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=Lk.PARTIAL,this.index=a.index,this.name=a.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,nm.init(this,a),!this.keypath&&(c=qq(this.root,this.name))&&(Pl.call(this),this.isNamed=!0,this.setTemplate(c))};sq.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||mm.call(this,a,b),this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:nm.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=qq(this.root,""+a)),!b&&this.name&&(b=qq(this.root,this.name))&&(Pl.call(this),this.isNamed=!0),b||hi.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}}),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&Di.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new us({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Lk.TEXT?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?rq(b,e[0]):b):b},unbind:function(){this.isNamed||Pl.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var tq=sq,uq=gf,vq=new ki("detach"),wq=hf,xq=jf,yq=kf,zq=lf,Aq=mf,Bq=nf,Cq=of,Dq=0,Eq=function(){return"r-"+Dq++};pf.prototype={constructor:pf,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?qf(this.queue,b).push(a):rf(this,a),delete this.inProcess[a._guid]}};var Fq,Gq,Hq,Iq=pf,Jq=function(a,b,c,d){var e=a.root,f=a.keypath;return"sort"===c||"reverse"===c?void e.viewmodel.set(f,b):void e.viewmodel.smartUpdate(f,b,d)},Kq=Array.prototype.slice,Lq=[],Mq=["pop","push","reverse","shift","sort","splice","unshift"];Mq.forEach(function(a){var b=function(){var b,c,d,e,f=Kq.call(arguments);for(b=mk(this,a,f),c=Array.prototype[a].apply(this,arguments),Di.start(),this._ractive.setting=!0,e=this._ractive.wrappers.length;e--;)d=this._ractive.wrappers[e],Di.addViewmodel(d.root.viewmodel),Jq(d,this,a,b);return Di.end(),this._ractive.setting=!1,c};Ni(Lq,a,{value:b})}),Fq={},Fq.__proto__?(Gq=function(a){a.__proto__=Lq},Hq=function(a){a.__proto__=Array.prototype}):(Gq=function(a){var b,c;for(b=Mq.length;b--;)c=Mq[b],Ni(a,c,{value:Lq[c],configurable:!0})},Hq=function(a){var b;for(b=Mq.length;b--;)delete a[Mq[b]]}),Gq.unpatch=Hq;var Nq,Oq,Pq,Qq=Gq;Nq={filter:function(a){return fh(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new Oq(a,b,c)}},Oq=function(a,b,c){this.root=a,this.value=b,this.keypath=c,b._ractive||(Ni(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Qq(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},Oq.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(Pq);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(Pq);d.splice(e,1)}}else delete a._ractive,Qq.unpatch(this.value)}},Pq="Something went wrong in a rather interesting way";var Rq,Sq,Tq=Nq;Hi&&(Rq={filter:function(a,b,c){return Hi.filter(a,b,c)&&Tq.filter(a)},wrap:function(a,b,c){return new Sq(a,b,c)}},Sq=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=Hi.wrap(a,b,c),this.arrayWrapper=Tq.wrap(a,b,c)},Sq.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var Uq=Rq,Vq={},Wq=sf,Xq=vf,Yq={},Zq=wf,$q=/[^\.]+$/,_q=yf,ar=Bf,br=Gf,cr=Hf,dr=/\$\{([^\}]+)\}/g,er=function(a){return"function"==typeof a?{get:a}:"string"==typeof a?{get:If(a)}:("object"==typeof a&&"string"==typeof a.get&&(a={get:If(a.get),set:a.set}),a)},fr=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};fr.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a]=null,this.viewmodel.register(a,this.computation,"computed")}};var gr=fr,hr=function(a,b,c){var d=this;this.ractive=a,this.viewmodel=a.viewmodel,this.key=b,this.getter=c.get,this.setter=c.set,this.hardDeps=c.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(b){return a.viewmodel.register(b,d,"computed")}),this._dirty=this._firstRun=!0};hr.prototype={constructor:hr,init:function(){var a;this.bypass=!0,a=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key),this.bypass=!1,this.setter&&void 0!==a&&this.set(a)},invalidate:function(){this._dirty=!0},get:function(){var a,b,c,d=this,e=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(a=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?e=!0:[this.hardDeps,this.softDeps].forEach(function(b){var c,f,g;if(!e)for(g=b.length;g--;)if(c=b[g],f=a.viewmodel.get(c),!hj(f,d.depValues[c]))return d.depValues[c]=f,void(e=!0)}),e){a.viewmodel.capture();try{this.value=this.getter.call(a)}catch(f){hi.warn({debug:a.debug,message:"failedComputation",args:{key:this.key,err:f.message||f}}),this.value=void 0}b=a.viewmodel.release(),c=this.updateDependencies(b),c&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){d.depValues[b]=a.viewmodel.get(b)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,Jf(this.viewmodel,d)&&!this.unresolvedDeps[d]?(f=new gr(this,d),a.splice(b,1),this.unresolvedDeps[d]=f,Di.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var ir,jr=hr,kr=Kf,lr={FAILED_LOOKUP:!0},mr={},nr=Lf,or={};ir=fi?function(a,b){if(!b){if(or[a])return;or[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:function(){};var pr=ir,qr={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(Nf(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(Nf(a));this.thrower(b)},logger:pr,thrower:function(a){throw a}},rr=qr,sr=Pf,tr=Rf;Rf.prototype.setValue=function(a){this.viewmodel.set(this.keypath,a,{noMapping:!0})};var ur=Sf;Sf.prototype={get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.deps=[],this.local.mappings[this.localKey]=this,this.setup()},map:function(a){return a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){if(!this.resolved)throw new Error("Something very odd happened. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new tr(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);a.origin.register(c,b.dep,b.group),b.dep.setValue(a.origin.get(c))}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(a,b,c){for(var d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}};var vr=Tf,wr=Uf,xr=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},yr={},zr=Vf,Ar=Yf,Br=$f,Cr=_f,Dr={implicit:!0},Er={noCascade:!0},Fr=bg,Gr=dg,Hr=eg,Ir={lookup:function(a,b){var c,d=a.adapt;if(!d||!d.length)return d;if(b&&Object.keys(b).length&&(c=d.length))for(;c--;){var e=d[c];"string"==typeof e&&(d[c]=b[e]||e)}return d},combine:function(a,b){return a=gg(a),b=gg(b),a&&a.length?b&&b.length?(a.forEach(function(a){-1===b.indexOf(a)&&b.push(a)}),b):a.slice():b}},Jr=Ir,Kr=function(a,b){var c=this;return void 0===b&&(b=Eh(null)),function(){var d,e;c.ractive=a,Kr.extend(a.constructor,a),c.mappings=b;for(d in b)b[d].initViewmodel(c);if(a.data&&a.parameters!==!0)for(d in a.data)(e=c.mappings[d])&&void 0===e.getValue()&&e.setValue(a.data[d]);c.cache={},c.cacheMap=Eh(null),c.deps={computed:Eh(null),"default":Eh(null)},c.depsMap={computed:Eh(null),"default":Eh(null)},c.patternObservers=[],c.specials=Eh(null),c.wrapped=Eh(null),c.computations=Eh(null),c.captureGroups=[],c.unresolvedImplicitDependencies=[],c.changes=[],c.implicitChanges={},c.noCascade={}}()};Kr.extend=function(a,b){if(b.magic&&!Ii)throw new Error("Getters and setters (magic mode) are not supported in this browser");b.adapt=Jr.combine(a.prototype.adapt,b.adapt)||[],b.adapt=Jr.lookup(b,b.adaptors)},Kr.prototype={adapt:Wq,applyChanges:ar,capture:br,clearCache:cr,compute:kr,get:nr,init:sr,map:vr,mark:wr,merge:zr,register:Ar,release:Br,set:Cr,smartUpdate:Fr,teardown:Gr,unregister:Hr};var Lr=Kr,Mr=new ki("construct"),Nr=new ki("config"),Or=new Iq("init"),Pr=hg,Qr=function(a,b,c,d,e){var f,g,h,i,j,k={};for(g=a.parentFragment,h=a.root,e=e||{},eo(k,e||{}),e.content=d||[],k[""]=e.content,b.defaults.el&&hi.warn({debug:h.debug,message:"defaultElSpecified",args:{name:a.name}}),i=g;i;){if(i.owner.type===Lk.YIELDER){j=i.owner.container;break}i=i.parent}return f=Eh(b.prototype),Pr(f,{el:null,append:!0,data:c.data,partials:e,magic:h.magic||b.defaults.magic,modifyArrays:h.modifyArrays,adapt:h.adapt},{parent:h,component:a,container:j,mappings:c.mappings,inlinePartials:k}),f},Rr=jg;jg.prototype={bubble:function(){this.dirty||(this.dirty=!0,Di.addView(this))},update:function(){var a=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key,this.fragment.getValue()),a.mark(this.key),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var Sr=kg,Tr=pg;pg.prototype={resolve:function(a){this.resolved=!0,this.specialRef="@"===a[0],this.ready?this.readyResolve(a):this.notReadyResolve(a)},notReadyResolve:function(a){if(this.specialRef)this.parameters.addData(this.key,bm(a));else{var b=this.parameters.addMapping(this.key,a);void 0===b.getValue()&&(b.updatable=!0)}},readyResolve:function(a){var b=this.parameters.component.instance.viewmodel;this.specialRef?(this.parameters.addData(this.key,bm(a)),b.mark(this.key)):b.reversedMappings&&b.reversedMappings[this.key]?b.reversedMappings[this.key].rebind(a):b.mappings[this.key].resolve(a)}};var Ur=qg;sg.prototype={add:function(a,b){if("string"==typeof b){var c=El(b);this.addData(a,c?c.value:b)}else if(0===b)this.addData(a);else{var d;d=tg(b)?new Tr(this,a,b[0]).resolver:new Rr(this,a,b),this.component.resolvers.push(d)}},addData:function(a,b){this.data[a]=b},addMapping:function(a,b){var c=this.parentViewmodel.mappings[b];return this.mappings[a]=new ur(a,{origin:c?c.origin:this.parentViewmodel,keypath:c?c.keypath:b})}};var Vr=ug,Wr=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},Xr=wg,Yr=xg,Zr=yg,$r=zg,_r=new ki("teardown"),as=Ag,bs=Dg,cs=function(a,b){this.init(a,b)};cs.prototype={detach:wq,find:xq,findAll:yq,findAllComponents:zq,findComponent:Aq,findNextNode:Bq,firstNode:Cq,init:Xr,rebind:Yr,render:Zr,toString:$r,unbind:as,unrender:bs};var ds=cs,es=function(a){this.type=Lk.COMMENT,this.value=a.template.c};es.prototype={detach:Ml,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var fs=es,gs=function(a){var b,c;this.type=Lk.YIELDER,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.yn||"";this.fragment=new us({owner:this,root:b.parent,template:b._inlinePartials[d]||[],pElement:this.containerFragment.pElement}),fh(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],Di.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};gs.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),li(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var hs=gs,is=function(a){this.declaration=a.template.a};is.prototype={init:Wh,render:Wh,unrender:Wh,teardown:Wh,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var js=is,ks=Eg,ls=Fg,ms=Gg,ns=Hg,os=Ig,ps=Jg,qs=Lg,rs=function(a){this.init(a)};rs.prototype={bubble:Ck,detach:Dk,find:Ek,findAll:Fk,findAllComponents:Gk,findComponent:Hk,findNextNode:Ik,firstNode:Jk,getNode:Kk,getValue:Gl,init:ls,rebind:ms,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:ns,toString:os,unbind:ps,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:qs};var ss,ts,us=rs,vs=["template","partials","components","decorators","events"],ws=new ki("reset"),xs=Mg,ys=function(a,b,c){function d(b,c,e){e&&e.partials[a]||b.forEach(function(b){b.type===Lk.PARTIAL&&b.getPartialName()===a&&c.push(b),b.fragment&&d(b.fragment.items,c,e),fh(b.fragments)?d(b.fragments,c,e):fh(b.items)?d(b.items,c,e):b.type===Lk.COMPONENT&&b.instance&&d(b.instance.fragment.items,c,b.instance),b.type===Lk.ELEMENT&&(fh(b.attributes)&&d(b.attributes,c,e),fh(b.conditionalAttributes)&&d(b.conditionalAttributes,c,e))})}var e,f=this,g=[];return d(this.fragment.items,g),this.partials[a]=b,e=Di.start(this,!0),g.forEach(function(b){b.value=void 0,b.setValue(a)}),Di.end(),c&&(hi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.resetPartial"}}),e.then(c.bind(this)).then(null,function(a){hi.consoleError({debug:f.debug,err:a})})),e},zs=Ng,As=pk("reverse"),Bs=/\*/,Cs=Og,Ds=pk("shift"),Es=pk("sort"),Fs=pk("splice"),Gs=Pg,Hs=new ki("teardown"),Is=Qg,Js=Sg,Ks=Tg,Ls=new ki("unrender"),Ms=Ug,Ns=pk("unshift"),Os=new ki("update"),Ps=Vg,Qs=Wg,Rs={add:Ri,animate:mj,detach:oj,find:pj,findAll:zj,findAllComponents:Aj,findComponent:Bj,findContainer:Cj,findParent:Dj,fire:Jj,get:Lj,insert:Oj,merge:Pj,observe:fk,observeOnce:gk,off:jk,on:kk,once:lk,pop:qk,push:rk,render:Bk,reset:xs,resetPartial:ys,resetTemplate:zs,reverse:As,set:Cs,shift:Ds,sort:Es,splice:Fs,subtract:Gs,teardown:Is,toggle:Js,toHTML:Ks,toHtml:Ks,unrender:Ms,unshift:Ns,update:Ps,updateModel:Qs},Ss=Yg,Ts=1,Us=$g,Vs=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath,d.index={},(c=$l(b.proxy.parentFragment))&&(d.index=$l.resolve(c)),d):d};ss=function(a){Pr(this,a)},ts={extend:{value:Us},getNodeInfo:{value:Vs},parse:{value:parse__default},Promise:{value:pi},svg:{value:ei},magic:{value:Ii},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ch},events:{writable:!0,value:{}},interpolators:{writable:!0,value:di},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},Pi(ss,ts),ss.prototype=eo(Rs,bh),ss.prototype.constructor=ss,ss.defaults=ss.prototype;var Ws="function";if(typeof Date.now!==Ws||typeof String.prototype.trim!==Ws||typeof Object.keys!==Ws||typeof Array.prototype.indexOf!==Ws||typeof Array.prototype.forEach!==Ws||typeof Array.prototype.map!==Ws||typeof Array.prototype.filter!==Ws||"undefined"!=typeof window&&typeof window.addEventListener!==Ws)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Xs=ss;return Xs});