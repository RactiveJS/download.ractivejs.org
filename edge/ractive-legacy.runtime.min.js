!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ractive=e()}(this,function(){"use strict";function t(){return Gi.createDocumentFragment()}function e(t){var e;if(t&&"boolean"!=typeof t)return Yi&&Gi&&t?t.nodeType?t:"string"==typeof t&&(e=Gi.getElementById(t),!e&&Gi.querySelector&&(e=Gi.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function n(t){return null!=t&&t.toString?""+t:""}function r(t){for(var e,n,r=arguments.length,i=Array(r>1?r-1:0),o=1;r>o;o++)i[o-1]=arguments[o];for(;n=i.shift();)for(e in n)jo.call(n,e)&&(t[e]=n[e]);return t}function i(t){return"[object Array]"===ko.call(t)}function o(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function s(t){return!isNaN(parseFloat(t))&&isFinite(t)}function a(t){return t&&"[object Object]"===ko.call(t)}function u(t,e){return t.replace(/%s/g,function(){return e.shift()})}function c(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];throw t=u(t,n),new Error(t)}function h(){Hi.DEBUG&&_o.apply(null,arguments)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];t=u(t,n),Oo(t,n)}function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];t=u(t,n),To[t]||(To[t]=!0,Oo(t,n))}function f(){Hi.DEBUG&&p.apply(null,arguments)}function d(){Hi.DEBUG&&l.apply(null,arguments)}function m(t,e,n){var r=v(t,e,n);return r?r[t][n]:null}function v(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function y(t){return function(){return t}}function g(t){return t?t.replace(Io,".$1"):""}function b(t){return g(t).split(".")}function w(t,e,n){if("string"!=typeof e||!s(n))throw new Error("Bad arguments");if(/\*/.test(e)){var r=function(){var r={};return t.viewmodel.findMatches(b(e)).forEach(function(t){var e=t.get();if(!s(e))throw new Error(Lo);r[t.getKeypath()]=e+n}),{v:t.set(r)}}();if("object"==typeof r)return r.v}var i=t.get(e);if(!s(i))throw new Error(Lo);return t.set(e,+i+n)}function E(t,e){return Vo(this,t,void 0===e?1:+e)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function x(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]==e)return!0;return!1}function j(t,e){var n;if(!i(t)||!i(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function k(t){return"string"==typeof t?[t]:void 0===t?[]:t}function T(t){return t[t.length-1]}function C(t,e){if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}function A(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function P(t){setTimeout(t,0)}function S(t,e){return function(){for(var n;n=t.shift();)n(e)}}function F(t,e,n,r){var i;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof qo)e.then(n,r);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{i=e.then}catch(o){return void r(o)}if("function"==typeof i){var s,a,u;a=function(e){s||(s=!0,F(t,e,n,r))},u=function(t){s||(s=!0,r(t))};try{i.call(e,a,u)}catch(o){if(!s)return r(o),void(s=!0)}}else n(e)}}function N(t){t.bind()}function R(t){t.cancel()}function I(t){t.handleChange()}function V(t){t.mark()}function L(t){t.render()}function B(t){t.rebind()}function M(t){t.teardown()}function D(t){t.unbind()}function K(t){t.unrender()}function U(t){t.unrender(!0)}function q(t){t.update()}function H(t){return t.toString()}function Q(t){return t.toString(!0)}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t){t.detach()}function $(t){t.detachNodes()}function Y(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function G(t){t.dispatch()}function Z(){var t,e;for(Go.immediateObservers.forEach(G),t=Go.fragments.length;t--;){e=Go.fragments[t];var n=e.ractive;Yo.fire(n,n.viewmodel.changes),n.viewmodel.changes={},e.update()}Go.fragments.length=0,Go.transitionManager.start(),Go.deferredObservers.forEach(G);var r=Go.tasks;for(Go.tasks=[],t=0;t<r.length;t+=1)r[t]();return Go.fragments.length?Z():void 0}function J(t,e,n){var r,i,o,s,a,u,c,h,p,l,f,d,m,v;if(r=new zo(function(t){return i=t}),"object"==typeof t){n=e||{},u=n.easing,c=n.duration,a=[],h=n.step,p=n.complete,(h||p)&&(f={},n.step=null,n.complete=null,l=function(t){return function(e,n){f[t]=n}});for(o in t)t.hasOwnProperty(o)&&((h||p)&&(d=l(o),n={easing:u,duration:c},h&&(n.step=d)),n.complete=p?d:vo,a.push(X(this,o,t[o],n)));return v={easing:u,duration:c},h&&(v.step=function(t){return h(t,f)}),p&&r.then(function(t){return p(t,f)}),v.complete=i,m=X(this,null,null,v),a.push(m),r.stop=function(){for(var t;t=a.pop();)t.stop();m&&m.stop()},r}return n=n||{},n.complete&&r.then(n.complete),n.complete=i,s=X(this,t,e,n),r.stop=function(){return s.stop()},r}function X(t,e,n,r){var i,s,a,u,c=void 0;return e&&(c=t.viewmodel.joinAll(g(e).split(".")),u=c.get(),ts.abort(c,t)),o(u,n)?(r.complete&&r.complete(r.to),cs):(r.easing&&(i="function"==typeof r.easing?r.easing:t.easing[r.easing],"function"!=typeof i&&(i=null)),s=void 0===r.duration?400:r.duration,a=new es({model:c,from:u,to:n,root:t,duration:s,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),ts.add(a),t._animations.push(a),a)}function tt(){return this.isDetached?this.el:(this.el&&C(this.el.__ractive_instances__,this),this.el=this.fragment.detach(),this.isDetached=!0,ps.fire(this),this.el)}function et(t){return this.el?this.fragment.find(t):null}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){if(t.compareDocumentPosition){var n=t.compareDocumentPosition(e);return 2&n?1:-1}return it(t,e)}function it(t,e){for(var n=st(t.component||t._ractive.proxy),r=st(e.component||e._ractive.proxy),i=T(n),o=T(r),s=void 0;i&&i===o;)n.pop(),r.pop(),s=i,i=T(n),o=T(r);i=i.component||i,o=o.component||o;var a=i.parentFragment,u=o.parentFragment;if(a===u){var c=a.items.indexOf(i),h=u.items.indexOf(o);return c-h||n.length-r.length}var p=s.iterations;if(p){var c=p.indexOf(a),h=p.indexOf(u);return c-h||n.length-r.length}throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/ractivejs/ractive/issues - thanks!")}function ot(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function st(t){var e,n;for(e=[t],n=ot(t);n;)e.push(n),n=ot(n);return e}function at(t,e){var n,r;return this.el?(e=e||{},n=this._liveQueries,(r=n[t])?e&&e.live?r:r.slice():(r=new fs(this,t,!!e.live,!1),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAll(t,r),r.init(),r.result)):[]}function ut(t,e){var n,r;return e=e||{},n=this._liveComponentQueries,(r=n[t])?e&&e.live?r:r.slice():(r=new fs(this,t,!!e.live,!0),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAllComponents(t,r),r.init(),r.result)}function ct(t){return this.fragment.findComponent(t)}function ht(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function pt(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function lt(t,e){t.event&&t._eventQueue.push(t.event),t.event=e}function ft(t){t._eventQueue.length?t.event=t._eventQueue.pop():t.event=null}function dt(t){var e,n,r,i,o,s;for(e=t.split("."),(n=bs[e.length])||(n=mt(e.length)),o=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)s=n[i].map(r).join("."),o.hasOwnProperty(s)||(o.push(s),o[s]=!0);return o}function mt(t){var e,n,r,i,o,s,a,u,c="";if(!bs[t]){for(r=[];c.length<t;)c+=1;for(e=parseInt(c,2),i=function(t){return"1"===t},o=0;e>=o;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,s=0;a>s;s++)u.push(i(n[s]));r[o]=u}bs[t]=r}return bs[t]}function vt(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var r=yt(e);gt(t,r,n.event,n.args,!0)}}function yt(t){return ws.hasOwnProperty(t)?ws[t]:ws[t]=dt(t)}function gt(t,e,n,r){var i,o,s=arguments.length<=4||void 0===arguments[4]?!1:arguments[4],a=!0;for(lt(t,n),o=e.length;o>=0;o--)i=t._subs[e[o]],i&&(a=bt(t,i,n,r)&&a);if(ft(t),t.parent&&a){if(s&&t.component){var u=t.component.name+"."+e[e.length-1];e=yt(u),n&&(n.component=t)}gt(t.parent,e,n,r)}}function bt(t,e,n,r){var i=null,o=!1;n&&!n._noArg&&(r=[n].concat(r)),e=e.slice();for(var s=0,a=e.length;a>s;s+=1)e[s].apply(t,r)===!1&&(o=!0);return n&&!n._noArg&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}function wt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];vt(this,t,{args:n})}function Et(t){throw new Error("An index or key reference ("+t+") cannot have child properties")}function _t(t,e){var n=t.findContext().root,r=e.split("."),i=r[0],o=n.mappings.hasOwnProperty(i)?n.mappings[i]:n.computations.hasOwnProperty(i)?n.computations[i]:null;if(o)return r.length>1?o.joinAll(r.slice(1)):o;for(var s=void 0,a=void 0;t;){if(t.isIteration){if(i===t.parent.keyRef)return r.length>1&&Et(i),t.context.getKeyModel();if(i===t.parent.indexRef)return r.length>1&&Et(i),t.context.getIndexModel(t.index)}if(t.context&&((!t.isRoot||t.ractive.component)&&(s=!0),t.context.has(i)))return a&&n.map(i,t.context.joinKey(i)),t.context.joinAll(r);t.componentParent&&!t.ractive.isolated?(t=t.componentParent,a=!0):t=t.parent}return s?void 0:n.joinAll(r)}function Ot(t,e){var n=t.findContext();if("."===e||"this"===e)return n;if("@keypath"===e)return n.getKeypathModel();if("@index"===e){var r=t.findRepeatingFragment();return r.context.getIndexModel(r.index)}if("@key"===e)return t.findRepeatingFragment().context.getKeyModel();if("~"===e[0])return n.root.joinAll(e.slice(2).split("."));if("."===e[0]){for(var i=e.split("/");"."===i[0]||".."===i[0];){var o=i.shift();".."===o&&(n=n.parent)}return e=i.join("/"),"."===e[0]&&(e=e.slice(1)),n.joinAll(e.split("."))}return _t(t,e)}function xt(t){if(!t)return this.viewmodel.get(!0);var e=b(t),n=e[0],r=void 0;return this.viewmodel.has(n)||this.component&&(r=Ot(this.component.parentFragment,n),r&&this.viewmodel.map(n,r)),r=this.viewmodel.joinAll(e),r.get(!0)}function jt(t,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=e(t),n=e(n)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),n),this.el=t,(t.__ractive_instances__||(t.__ractive_instances__=[])).push(this),this.isDetached=!1,kt(this)}function kt(t){xs.fire(t),t.findAllComponents("*").forEach(function(t){kt(t.instance)})}function Tt(t){if(!t)return null;if(t===!0)return JSON.stringify;if("function"==typeof t)return t;if("string"==typeof t)return ks[t]||(ks[t]=function(e){return e[t]});throw new Error("If supplied, options.compare must be a string, function, or `true`")}function Ct(t,e,n){var r=this.viewmodel.joinAll(b(t)),o=Zo.start(this,!0),s=r.get();if(e===s)throw new Error("You cannot merge an array with itself");if(!i(s)||!i(e))throw new Error("You cannot merge an array with a non-array");var a=Tt(n&&n.compare);return r.merge(e,a),Zo.end(),o}function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e,n){var r=this,i=[];if(a(t))!function(){var o=t;n=e||{},Object.keys(o).forEach(function(t){var e=o[t];t.split(" ").forEach(function(t){i.push(St(r,t,e,n))})})}();else{var o=void 0;"function"==typeof t?(n=e,e=t,o=[""]):o=t.split(" "),o.forEach(function(t){i.push(St(r,t,e,n||{}))})}return this._observers.push.apply(this._observers,i),{cancel:function(){i.forEach(R)}}}function St(t,e,n,r){var i=t.viewmodel,o=b(e),s=o.indexOf("*");if(!~s){var a=o[0];if(!i.has(a)&&t.component){var u=Ot(t.component.parentFragment,a);u&&i.map(a,u)}var c=i.joinAll(o);return new Ts(t,c,n,r)}var h=0===s?i:i.joinAll(o.slice(0,s));return new Cs(t,h,o.splice(s),n,r)}function Ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e,n){if("string"!=typeof t)throw new Error("ractive.observeList() must be passed a string as its first argument");var r=this.viewmodel.joinAll(b(t)),i=new As(this,r,e,n||{});return this._observers.push(i),{cancel:function(){i.cancel()}}}function Rt(){return-1}function It(t,e,n){return a(t)||"function"==typeof t?(n=r(e||{},Ps),this.observe(t,n)):(n=r(n||{},Ps),this.observe(t,e,n))}function Vt(t,e){var n,r=this;if(t)n=t.split(" ").map(Ss).filter(Fs),n.forEach(function(t){var n,i;(n=r._subs[t])&&(e?(i=n.indexOf(e),-1!==i&&n.splice(i,1)):r._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Lt(t,e){var n,r,i,o=this;if("object"==typeof t){n=[];for(r in t)t.hasOwnProperty(r)&&n.push(this.on(r,t[r]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return i=t.split(" ").map(Ss).filter(Fs),i.forEach(function(t){(o._subs[t]||(o._subs[t]=[])).push(e)}),{cancel:function(){return o.off(t,e)}}}function Bt(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function Mt(t,e,n){var r,i,o,s,a,u=[];if(r=Dt(t,e,n),!r)return null;for(s=r.length-2-r[1],i=Math.min(t,r[0]),o=i+r[1],a=0;i>a;a+=1)u.push(a);for(;o>a;a+=1)u.push(-1);for(;t>a;a+=1)u.push(a+s);return 0!==s?u.touchedFrom=r[0]:u.touchedFrom=t,u}function Dt(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t+Math.max(n[0],-t));n.length<2;)n.push(t-n[0]);return n[1]=Math.min(n[1],t-n[0]),n;case"sort":case"reverse":return null;case"pop":return t?[t-1,1]:[0,0];case"push":return[t,0].concat(n);case"shift":return[0,t?1:0];case"unshift":return[0,0].concat(n)}}function Kt(t,n,r){var i=t.transitionsEnabled;t.noIntro&&(t.transitionsEnabled=!1);var o=Zo.start(t,!0);if(Zo.scheduleTask(function(){return $s.fire(t)},!0),t.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(r=e(r)||t.anchor,t.el=n,t.anchor=r,t.cssId&&Ws.apply(),n)if((n.__ractive_instances__||(n.__ractive_instances__=[])).push(t),r){var s=Gi.createDocumentFragment();t.fragment.render(s),n.insertBefore(s,r)}else t.fragment.render(n);return Zo.end(),t.transitionsEnabled=i,o.then(function(){return Ys.fire(t)})}function Ut(t,n){if(t=e(t)||this.el,!this.append&&t){var r=t.__ractive_instances__;r&&r.length&&qt(r),t.innerHTML=""}return zs(this,t,n)}function qt(t){t.splice(0,t.length).forEach(M)}function Ht(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function Qt(t,e){var n,r,i;return r='[data-ractive-css~="{'+e+'}"]',i=function(t){var e,n,i,o,s,a,u,c=[];for(e=[];n=ta.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(o=e.map(zt),u=e.length;u--;)a=o.slice(),i=e[u],a[u]=i.base+r+i.modifiers||"",s=o.slice(),s[u]=r+" "+s[u],c.push(a.join(" "),s.join(" "));return c.join(", ")},n=na.test(t)?t.replace(na,r):t.replace(Xs,"").replace(Js,function(t,e){var n,r;return ea.test(e)?t:(n=e.split(",").map(Wt),r=n.map(i).join(", ")+" ",t.replace(e,r))})}function Wt(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function zt(t){return t.str}function $t(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?c("data option must be an object or a function, `"+t+"` is not valid"):f("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Yt(t,e){$t(e);var n="function"==typeof t,r="function"==typeof e;return e||n||(e={}),n||r?function(){var i=r?Gt(e,this):e,o=n?Gt(t,this):t;return Zt(i,o)}:Zt(e,t)}function Gt(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&c("Data function must return an object"),n.constructor!==Object&&d("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Zt(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function Jt(t){var e=yo(ua);return e.parse=function(e,n){return Xt(e,n||t)},e}function Xt(t,e){if(!sa)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return sa(t,e||this.options)}function te(t,e){var n;if(!Gi){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(ee(t)&&(t=t.substring(1)),!(n=Gi.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML}function ee(t){return t&&"#"===t[0]}function ne(t){return!("string"==typeof t)}function re(t){return t.defaults&&(t=t.defaults),aa.reduce(function(e,n){return e[n]=t[n],e},{})}function ie(t){var e,n=t._config.template;if(n&&n.fn)return e=oe(t,n.fn),e!==n.result?(n.result=e,e=ae(e,t)):void 0}function oe(t,e){var n=se(ca.getParseOptions(t));return e.call(t,n)}function se(t){var e=yo(ca);return e.parse=function(e,n){return ca.parse(e,n||t)},e}function ae(t,e){if("string"==typeof t)"#"===t[0]&&(t=ca.fromId(t)),t=sa(t,ca.getParseOptions(e));else{if(void 0==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==Qi)throw new Error("Mismatched template version (expected "+Qi+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function ue(t,e,n){if(e)for(var r in e)(n||!t.hasOwnProperty(r))&&(t[r]=e[r])}function ce(t,e,n){if(!/_super/.test(n))return n;var r=function(){var t,i=he(r._parent,e),o="_super"in this,s=this._super;return this._super=i,t=n.apply(this,arguments),o?this._super=s:delete this._super,t};return r._parent=t,r._method=n,r}function he(t,e){var n,r;return e in t?(n=t[e],r="function"==typeof n?n:function(){return n}):r=vo,r}function pe(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function le(t,e,n){if(e in t){if(n in t)throw new Error(pe(e,n,!0));f(pe(e,n)),t[n]=t[e]}}function fe(t){le(t,"beforeInit","onconstruct"),le(t,"init","onrender"),le(t,"complete","oncomplete"),le(t,"eventDefinitions","events"),i(t.adaptors)&&le(t,"adaptors","adapt")}function de(t,e,n,r){fe(r);for(var i in r)if(va.hasOwnProperty(i)){var o=r[i];"el"!==i&&"function"==typeof o?f(i+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[i]=o}Qs.forEach(function(i){i[t](e,n,r)}),Zs[t](e,n,r),ha[t](e,n,r),ia[t](e,n,r),me(e.prototype,n,r)}function me(t,e,n){for(var r in n)if(!ma[r]&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=ya(t,r,i)),e[r]=i}}function ve(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function ye(t){if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");t=oa.init(this.constructor,this,{data:t});var e=Zo.start(this,!0),n=this.viewmodel.wrapper;n&&n.reset?n.reset(t)===!1&&this.viewmodel.set(t):this.viewmodel.set(t);for(var r=pa.reset(this),i=void 0,o=r.length;o--;)if(ba.indexOf(r[o])>-1){i=!0;break}return i&&(Oa.fire(this),this.fragment.resetTemplate(this.template),_a.fire(this),wa.fire(this)),Zo.end(),Ea.fire(this,t),e}function ge(t,e,n){t.forEach(function(t){if(t.type===Aa&&t.name===e)return void n.push(t);if(t.fragment)ge(t.fragment.iterations||t.fragment.items,e,n);else if(i(t.items))ge(t.items,e,n);else if(t.type===Pa&&t.instance){if(t.instance.partials[e])return;ge(t.instance.fragment.items,e,n)}t.type===Ca&&(i(t.attributes)&&ge(t.attributes,e,n),i(t.conditionalAttributes)&&ge(t.conditionalAttributes,e,n))})}function be(t){t.forceResetTemplate()}function we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oe(t,e,n){if(t.set&&t.set.__magic)return t.set.__magic.dependants.push({ractive:e,keypath:n}),t;var r=void 0,i=[{ractive:e,keypath:n}],o={get:function(){return"value"in t?t.value:t.get()},set:function(e){r||("value"in t?t.value=e:t.set(e),r=!0,i.forEach(function(t){var n=t.ractive,r=t.keypath;n.set(r,e)}),r=!1)},enumerable:!0};return o.set.__magic={dependants:i,originalDescriptor:t},o}function xe(t,e,n){if(!t.set||!t.set.__magic)return!0;for(var r=t.set.__magic,i=r.length;i--;){var o=r[i];if(o.ractive===e&&o.keypath===n)return r.splice(i,1),!1}}function je(){ou.push(su=[])}function ke(){return ou.pop()}function Te(t){su&&su.push(t)}function Ce(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function Ae(t){var e;return au[t]||(e=t?t+".":"",au[t]=function(n,r){var i;return"string"==typeof n?(i={},i[e+n]=r,i):"object"==typeof n?e?Ce(n,t):n:void 0}),au[t]}function Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t){t.updateFromBindings(!0)}function Re(t){t.updateKeypathDependants()}function Ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ve(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Le(t){var e=t.replace(/^\t+/gm,function(t){return t.split("	").join("  ")}).split("\n"),n=e.length<2?0:e.slice(1).reduce(function(t,e){return Math.min(t,/^\s*/.exec(e)[0].length)},1/0);return e.map(function(t,e){return"    "+(e?t.substring(n):t)}).join("\n")}function Be(t){if(!t)return"";for(var e=t.split("\n"),n=fu.name+".getValue",r=[],i=e.length,o=1;i>o;o+=1){var s=e[o];if(~s.indexOf(n))return r.join("\n");r.push(s)}}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ke(t,e){var n,r,i;return n="return ("+e.replace(mu,function(t,e){return r=!0,'__ractive.get("'+e+'")'})+");",r&&(n="var __ractive = this; "+n),i=new Function(n),r?i.bind(t):i}function Ue(t,e){return/this/.test(t.toString())?t.bind(e):t}function qe(t,e,n){var r=void 0,i=void 0,o=void 0,s=void 0,a=void 0;return"function"==typeof n&&(r=Ue(n,t),o=n.toString(),s=!0),"string"==typeof n&&(r=Ke(t,n),o=n),"object"==typeof n&&("string"==typeof n.get?(r=Ke(t,n.get),o=n.get):"function"==typeof n.get?(r=Ue(n.get,t),o=n.get.toString(),s=!0):c("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(i=Ue(n.set,t),a=n.set.toString())),{getter:r,setter:i,getterString:o,setterString:a,getterUseStack:s}}function He(t,e){Hi.DEBUG&&xo(),ze(t),go(t,"data",{get:$e}),vu.fire(t,e),yu.forEach(function(n){t[n]=r(yo(t.constructor[n]||null),e[n])});var n=new du({adapt:We(t,t.adapt,e),data:oa.init(t.constructor,t,e),ractive:t});t.viewmodel=n;var i=r(yo(t.constructor.prototype.computed),e.computed);for(var o in i){var s=qe(t,o,i[o]);n.compute(o,s)}}function Qe(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function We(t,e,n){function r(e){return"string"==typeof e&&(e=m("adaptors",t,e),e||c(So(e,"adaptor"))),e}var i,o,s;if(e=e.map(r),i=k(n.adapt).map(r),i=Qe(e,i),o="magic"in n?n.magic:t.magic,s="modifyArrays"in n?n.modifyArrays:t.modifyArrays,o){if(!Xi)throw new Error("Getters and setters (magic mode) are not supported in this browser");s&&i.push(tu),i.push(Xa)}return s&&i.push(Za),i}function ze(t){t._guid="r-"+gu++,t._subs=yo(null),t._config={},t._animations=[],t.nodes={},t.event=null,t._eventQueue=[],t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],t._observers=[],t.root=t,t.parent=t.container=null}function $e(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ge(t,e){return t[e._guid]||(t[e._guid]=[])}function Ze(t,e){var n=Ge(t.queue,e);for(t.hook.fire(e);n.length;)Ze(t,n.shift());delete t.queue[e._guid]}function Je(t,n,r){if(Object.keys(t.viewmodel.computations).forEach(function(e){var n=t.viewmodel.computations[e];t.viewmodel.value.hasOwnProperty(e)&&n.set(t.viewmodel.value[e]),n.init()}),pa.init(t.constructor,t,n),wu.fire(t),Eu.begin(t),t.template){var i=void 0;(r.cssIds||t.cssId)&&(i=r.cssIds?r.cssIds.slice():[],t.cssId&&i.push(t.cssId)),t.fragment=new xh({owner:t,template:t.template,cssIds:i,indexRefs:r.indexRefs||{},keyRefs:r.keyRefs||{}})}if(Eu.end(t),t.fragment){t.fragment.bind(t.viewmodel);var o=e(t.el);if(o){var s=t.render(o,t.append);Hi.DEBUG_PROMISES&&s["catch"](function(e){throw d("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),f("An error happened during rendering",{ractive:t}),e.stack&&h(e.stack),e})}}}function Xe(t,e){if(_u[t])return _u[t];for(var n=new Array(e);e--;)n[e]="_"+e;var r=new Function(n.join(","),"return ("+t+")");return _u[t]=r}function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function nn(t,e,n){if(t.__ractive_nowrap)return t;var r="__ractive_"+n;if(t[r])return t[r];if(!/\bthis\b/.test(t))return go(t,"__ractive_nowrap",{value:!0}),t;go(t,r,{value:t.bind(e),configurable:!0});for(var i in t)t.hasOwnProperty(i)&&(t[r][i]=t[i]);return e._boundFunctions.push({fn:t,prop:r}),t[r]}function rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function on(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function sn(t,e){return e.r?Ot(t,e.r):e.x?new Ou(t,e.x):new xu(t,e.rx)}function an(t){var e;return(e=t.matchPattern(Ku))?{t:Na,v:e}:null}function un(t){var e;return(e=Du(t))?qu.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=an(t))?e.v:(e=t.matchPattern(Uu))?e:void 0}function cn(t){var e,n,r;return t.allowWhitespace(),(e=un(t))?(r={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(r.value=n.v,r):null):null):null}function hn(t){var e=t.ractive;do for(var n=e._liveComponentQueries,r=n.length;r--;){var i=n[r],o=n["_"+i];o.test(t)&&(o.add(t.instance),t.liveQueries.push(o))}while(e=e.parent)}function pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ln(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function fn(t){for(var e=t.ractive;e;){var n=e._liveComponentQueries["_"+t.name];n&&n.remove(t),e=e.parent}}function dn(t){t.makeDirty()}function mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function yn(t){var e=t.element,n=t.name;if("id"===n)return gn;if("value"===n){if("select"===e.name&&"value"===n)return e.getAttribute("multiple")?bn:wn;if("textarea"===e.name)return On;if(null!=e.getAttribute("contenteditable"))return En;if("input"===e.name){var r=e.getAttribute("type");if("file"===r)return vo;if("radio"===r&&e.binding&&"name"===e.binding.attribute.name)return _n}return On}var i=e.node;if(t.isTwoway&&"name"===n){if("radio"===i.type)return xn;if("checkbox"===i.type)return jn}return"style"===n&&i.style.setAttribute?kn:"class"!==n||i.namespaceURI&&i.namespaceURI!==lo?t.useProperty?Cn:An:Tn}function gn(){var t=this.node,e=this.getValue();delete this.ractive.nodes[t.id],this.ractive.nodes[e]=t,t.id=e}function bn(){var t=this.getValue();i(t)||(t=[t]);for(var e=this.node.options,n=e.length;n--;){var r=e[n],o=r._ractive?r._ractive.value:r.value;r.selected=x(t,o)}}function wn(){var t=this.getValue();if(!this.locked){this.node._ractive.value=t;for(var e=this.node.options,n=e.length;n--;){var r=e[n],i=r._ractive?r._ractive.value:r.value;if(i==t){r.selected=!0;break}}}}function En(){var t=this.getValue();this.locked||(this.node.innerHTML=void 0===t?"":t)}function _n(){var t=this.node,e=t.checked,n=this.getValue();t.value=this.node._ractive.value=n,t.checked=n===this.element.getAttribute("name"),e&&!t.checked&&this.element.binding&&this.element.binding.rendered&&this.element.binding.group.model.set(this.element.binding.group.getValue())}function On(){if(!this.locked){var t=this.getValue();this.node.value=this.node._ractive.value=t,this.node.setAttribute("value",t)}}function xn(){this.node.checked=this.getValue()==this.node._ractive.value}function jn(){var t=this.element,e=this.node,n=t.binding,r=this.getValue(),o=t.getAttribute("value");if(i(r)){for(var s=r.length;s--;)if(o==r[s])return void(n.isChecked=e.checked=!0);n.isChecked=e.checked=!1}else n.isChecked=e.checked=r==o}function kn(){this.node.style.setAttribute("cssText",this.getValue()||"")}function Tn(){this.node.className=n(this.getValue())}function Cn(){this.locked||(this.node[this.propertyName]=this.getValue())}function An(){this.node.setAttribute(this.name,n(this.getString()))}function Pn(t){return t.replace(ic,function(t,e){var n;return n="#"!==e[0]?nc[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(Fn(n)):t})}function Sn(t){return t.replace(ac,"&amp;").replace(oc,"&lt;").replace(sc,"&gt;")}function Fn(t){return t?10===t?32:128>t?t:159>=t?rc[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function Nn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,
enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function In(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ln(t,e){var n=e?"svg":"div";return cc.innerHTML="<"+n+" "+t+"></"+n+">",A(cc.childNodes[0].attributes)}function Bn(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function Mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kn(t){var e=this._ractive.events[t.type];e.fire({node:this,original:t})}function Un(){vc=!Gi[yc]}function qn(){vc=!1}function Hn(){vc=!0}function Qn(t){return t}function Wn(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function zn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $n(t){var e=t.node,n=t.ractive;do for(var r=n._liveQueries,i=r.length;i--;){var o=r[i],s=r["_"+o];s.test(e)&&(s.add(e),t.liveQueries.push(s))}while(n=n.parent)}function Yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gn(t){for(;t=t.parent;)if("form"===t.name)return t}function Zn(t,e){d("The "+t+" being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",{ractive:e})}function Jn(){this._ractive.binding.handleChange()}function Xn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function er(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nr(t,e,n,r){var i=t+e+n.getKeypath();return Qc[i]||(Qc[i]=new Wc(n,r))}function rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ir(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function or(t){return t.node.checked}function sr(t){return t.element.getAttribute("value")}function ar(){return this.bindings.filter(or).map(sr)}function ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function hr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function lr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function dr(){var t;Jn.call(this),t=this._ractive.binding.model.get(),this.value=void 0==t?"":t}function mr(t){var e=void 0;return function(){var n=this;e&&clearTimeout(e),e=setTimeout(function(){var t=n._ractive.binding;t.rendered&&Jn.call(n),e=null},t)}}function vr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function br(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function wr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Er(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _r(t){return th[t]||(th[t]=[])}function Or(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function jr(){for(var t=this.bindings.length;t--;){var e=this.bindings[t];if(e.node.checked)return e.element.getAttribute("value")}}function kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Cr(t){return t&&1===t.template.length&&t.template[0].t===ja&&!t.template[0].s}function Ar(t){var e=t.attributeByName;if(t.getAttribute("contenteditable")||Cr(e.contenteditable))return Cr(e.value)?Yc:null;if("input"===t.name){var n=t.getAttribute("type");if("radio"===n||"checkbox"===n){var r=Cr(e.name),i=Cr(e.checked);if(r&&i&&f("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),r)return"radio"===n?nh:$c;if(i)return"radio"===n?eh:Hc}return"file"===n&&Cr(e.value)?Gc:Cr(e.value)?"number"===n||"range"===n?Xc:Zc:null}return"select"===t.name&&Cr(e.value)?t.getAttribute("multiple")?Jc:rh:"textarea"===t.name&&Cr(e.value)?Zc:void 0}function Pr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Fr(t){t.makeDirty()}function Nr(t){var e=t.attributeByName,n=e.type,r=e.value,i=e.name;return n&&"radio"===n.value&&r&&i.interpolator&&r.getValue()===i.interpolator.model.get()?!0:void 0}function Rr(t){var e=t.toString();return e?" "+e:""}function Ir(t){for(var e=t.liveQueries.length;e--;){var n=t.liveQueries[e];n.remove(t.node)}}function Vr(t){var e=t.getAttribute("xmlns");if(e)return e;if("svg"===t.name)return fo;var n=t.parent;return n?"foreignobject"===n.name?lo:n.node.namespaceURI:t.ractive.el.namespaceURI}function Lr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Br(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Mr(){var t=this._ractive.proxy;Zo.start(),t.formBindings.forEach(Dr),Zo.end()}function Dr(t){t.model.set(t.resetValue)}function Kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ur(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Yr(t){for(;t;){if("select"===t.name)return t;t=t.parent}}function Gr(t,e,n){var r;if(r=Zr(t,e,n||{}))return r;if(r=ca.fromId(e,{noThrow:!0})){var i=ca.parse(r,ca.getParseOptions(t));return t.partials[e]=i.t}}function Zr(t,e,n){var r=void 0,i=ti(e,n.owner);if(i)return i;var o=v("partials",t,e);if(o){if(i=o.partials[e],"function"==typeof i&&(r=i.bind(o),r.isOwner=o.partials.hasOwnProperty(e),i=r.call(t,ca)),!i&&""!==i)return void f(Po,e,"partial","partial",{ractive:t});if(!ca.isParsed(i)){var s=ca.parse(i,ca.getParseOptions(o));s.p&&f("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=r?o:Jr(o,e);a.partials[e]=i=s.t}return r&&(i._fn=r),i.v?i.t:i}}function Jr(t,e){return t.partials.hasOwnProperty(e)?t:Xr(t.constructor,e)}function Xr(t,e){return t?t.partials.hasOwnProperty(e)?t:Xr(t._Parent,e):void 0}function ti(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return ti(t,e.parentFragment.owner)}}function ei(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ni(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ri(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ii(t,e,n){var r=void 0;return t?(r={},Object.keys(n).forEach(function(t){r[t]=n[t]}),r[t]=e):r=n,r}function oi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function si(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ai(t){return!t||i(t)&&0===t.length||a(t)&&0===Object.keys(t).length}function ui(t,e){return e||i(t)?Ba:a(t)||"function"==typeof t?Ma:void 0===t?null:Va}function ci(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function pi(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function li(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function di(t){return vh[t]||(vh[t]=eo(t))}function mi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function yi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function bi(t,e){var n,r=v("components",t,e);if(r&&(n=r.components[e],!n._Parent)){var i=n.bind(r);if(i.isOwner=r.components.hasOwnProperty(e),n=i(),!n)return void f(Po,e,"component","component",{ractive:t});"string"==typeof n&&(n=bi(t,n)),n._fn=i,r.components[e]=n}return n}function wi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ei(t){if("string"==typeof t.template)return new mh(t);if(t.template.t===Ca){var e=bi(t.parentFragment.ractive,t.template.e);if(e)return new Zu(t,e);var n=t.template.e.toLowerCase(),r=_h[n]||ih;return new r(t)}var i=Eh[t.template.t];if(!i)throw new Error("Unrecognised item type "+t.template.t);return new i(t)}function _i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oi(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return t.map(function(t){if(t.type===xa)return t.template;if(t.fragment)return t.fragment.iterations?t.fragment.iterations.map(function(t){return Oi(t.items,e,n,r)}).join(""):Oi(t.fragment.items,e,n,r);var i=n+"-"+r++;return e[i]=t.model?t.model.wrapper?t.model.wrapper.value:t.model.get():void 0,"${"+i+"}"}).join("")}function xi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ji(t){t.unrender(!0)}function ki(t){var e,n;ha.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new xh({template:this.template,root:this,owner:this}),this.fragment.bind(this.viewmodel),this.render(this.el,this.anchor),this.transitionsEnabled=e}function Ti(t,e){var n,r;if(r=Zo.start(this,!0),a(t)){n=t;for(t in n)n.hasOwnProperty(t)&&Ci(this,t,n[t])}else Ci(this,t,e);return Zo.end(),r}function Ci(t,e,n){if(/\*/.test(e))t.viewmodel.findMatches(b(e)).forEach(function(t){t.set(n)});else{var r=t.viewmodel.joinAll(b(e));r.set(n)}}function Ai(t,e){return Vo(this,t,void 0===e?-1:-e)}function Pi(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(R),this.fragment.rendered&&this.el.__ractive_instances__&&C(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():zo.resolve(),Nh.fire(this),this._boundFunctions.forEach(Si),t}function Si(t){delete t.fn[t.prop]}function Fi(t){if("string"!=typeof t)throw new TypeError(Ao);var e=void 0;return/\*/.test(t)?(e={},this.viewmodel.findMatches(b(t)).forEach(function(t){e[t.getKeypath()]=!t.get()}),this.set(e)):this.set(t,!this.get(t))}function Ni(){return this.fragment.toString(!0)}function Ri(){var t,e;if(!this.fragment.rendered)return f("ractive.unrender() was called on a Ractive instance that was not rendered"),zo.resolve();for(t=Zo.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),C(this.el.__ractive_instances__,this),Lh.fire(this),Zo.end(),t}function Ii(t){var e,n;return n=t?this.viewmodel.joinAll(b(t)):this.viewmodel,e=Zo.start(this,!0),n.mark(),Zo.end(),Dh.fire(this,n),e}function Vi(t,e){var n=Zo.start(this,!0);return t?this.viewmodel.joinAll(b(t)).updateFromBindings(e!==!1):this.viewmodel.updateFromBindings(!0),Zo.end(),n}function Li(t,e){return"function"==typeof e&&/_super/.test(t)}function Bi(t){for(var e={};t;)Mi(t,e),Ki(t,e),t=t._Parent!==Hi?t._Parent:!1;return e}function Mi(t,e){Qs.forEach(function(n){Di(n.useDefaults?t.prototype:t,e,n.name)})}function Di(t,e,n){var r,i=Object.keys(t[n]);i.length&&((r=e[n])||(r=e[n]={}),i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]}))}function Ki(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var r=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof r&&e[n]._method){var i=void 0,o=r._method;o&&(r=r._method),i=qh(e[n]._method,r),o&&(i._method=i),e[n]=i}}else e[n]=r._method?r._method:r}})}function Ui(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(qi,this):qi(this)}function qi(t){var e,n,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return i.prototype instanceof Hi&&(i=Hh(i)),e=function(t){return this instanceof e?(He(this,t||{}),void Je(this,t||{},{})):new e(t)},n=yo(t.prototype),n.constructor=e,bo(e,{defaults:{value:n},extend:{value:Ui,writable:!0,configurable:!0},_Parent:{value:t}}),pa.extend(t,n,i),oa.extend(t,n,i),i.computed&&(n.computed=r(yo(t.prototype.computed),i.computed)),e.prototype=n,e}function Hi(t){return this instanceof Hi?(He(this,t||{}),void Je(this,t||{},{})):new Hi(t)}var Qi=3,Wi={el:void 0,append:!1,template:{v:Qi,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},zi=Wi,$i={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},Yi="undefined"!=typeof window?window:null,Gi=Yi?document:null,Zi=!!Gi,Ji=("undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),"undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply),Xi=void 0;try{Object.defineProperty({},"test",{value:0}),Xi=!0}catch(to){Xi=!1}var eo,no,ro,io,oo,so,ao,uo,co,ho=Gi?Gi.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"):!1,po=["o","ms","moz","webkit"],lo="http://www.w3.org/1999/xhtml",fo="http://www.w3.org/2000/svg";if(eo=ho?function(t,e){return e&&e!==lo?Gi.createElementNS(e,t):Gi.createElement(t)}:function(t,e){if(e&&e!==lo)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return Gi.createElement(t)},Zi){for(ro=eo("div"),io=["matches","matchesSelector"],co=function(t){return function(e,n){return e[t](n)}},ao=io.length;ao--&&!no;)if(oo=io[ao],ro[oo])no=co(oo);else for(uo=po.length;uo--;)if(so=po[ao]+oo.substr(0,1).toUpperCase()+oo.substring(1),ro[so]){no=co(so);break}no||(no=function(t,e){var n,r,i;for(r=t.parentNode,r||(ro.innerHTML="",r=ro,t=t.cloneNode(),ro.appendChild(t)),n=r.querySelectorAll(e),i=n.length;i--;)if(n[i]===t)return!0;return!1})}else no=null;var mo,vo=function(){};Yi?(mo={},Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var s in i)t.call(i,s)&&o.push(s);if(e)for(var a=0;r>a;a++)t.call(i,n[a])&&o.push(n[a]);return o}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;for(void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0),n=this.length;n>e;e++)if(this.hasOwnProperty(e)&&this[e]===t)return e;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;for(n=0,r=this.length;r>n;n+=1)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,r,i,o=this,s=[];for(o instanceof String&&(o=o.toString(),i=!0),n=0,r=o.length;r>n;n+=1)(o.hasOwnProperty(n)||i)&&(s[n]=t.call(e,o[n],n,o));return s}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var n,r,i,o;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=this.length,o=!1,arguments.length>1&&(r=e,o=!0),n=0;i>n;n+=1)this.hasOwnProperty(n)?o&&(r=t(r,this[n],n,this)):(r=this[n],o=!0);if(!o)throw new TypeError("Reduce of empty array with no initial value");return r}),Array.prototype.filter||(Array.prototype.filter=function(t,e){var n,r,i=[];for(n=0,r=this.length;r>n;n+=1)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)&&(i[i.length]=this[n]);return i}),Array.prototype.every||(Array.prototype.every=function(t,e){var n,r,i;if(null==this)throw new TypeError;if(n=Object(this),r=n.length>>>0,"function"!=typeof t)throw new TypeError;for(i=0;r>i;i+=1)if(i in n&&!t.call(e,n[i],i,n))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(t){var e,n,r,i,o=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return e=o.call(arguments,1),n=this,r=function(){},i=function(){var i=this instanceof r&&t?this:t;return n.apply(i,e.concat(o.call(arguments)))},r.prototype=this.prototype,i.prototype=new r,i}),Yi.addEventListener||!function(t,e){var n,r,i,o,s,a;t.appearsToBeIELessEqual8=!0,n=function(t,e){var n,r=this;for(n in t)r[n]=t[n];r.currentTarget=e,r.target=t.srcElement||e,r.timeStamp=+new Date,r.preventDefault=function(){t.returnValue=!1},r.stopPropagation=function(){t.cancelBubble=!0}},r=function(t,e){var r,i,o=this;r=o.listeners||(o.listeners=[]),i=r.length,r[i]=[e,function(t){e.call(o,new n(t,o))}],o.attachEvent("on"+t,r[i][1])},i=function(t,e){var n,r,i=this;if(i.listeners)for(n=i.listeners,r=n.length;r--;)n[r][0]===e&&i.detachEvent("on"+t,n[r][1])},t.addEventListener=e.addEventListener=r,t.removeEventListener=e.removeEventListener=i,"Element"in t?(t.Element.prototype.addEventListener=r,t.Element.prototype.removeEventListener=i):(a=e.createElement,e.createElement=function(t){var e=a(t);return e.addEventListener=r,e.removeEventListener=i,e},o=e.getElementsByTagName("head")[0],s=e.createElement("style"),o.insertBefore(s,o.firstChild))}(Yi,Gi),Yi.getComputedStyle||(mo.getComputedStyle=function(){function t(n,r,i,o){var s,a=r[i],u=parseFloat(a),c=a.split(/\d/)[0];return isNaN(u)&&/^thin|medium|thick$/.test(a)&&(u=e(a),c=""),o=null!=o?o:/%|em/.test(c)&&n.parentElement?t(n.parentElement,n.parentElement.currentStyle,"fontSize",null):16,s="fontSize"==i?o:/width/i.test(i)?n.clientWidth:n.clientHeight,"em"==c?u*o:"in"==c?96*u:"pt"==c?96*u/72:"%"==c?u/100*s:u}function e(t){var e,n;return o[t]||(e=Gi.createElement("div"),e.style.display="block",e.style.position="fixed",e.style.width=e.style.height="0",e.style.borderRight=t+" solid black",Gi.getElementsByTagName("body")[0].appendChild(e),n=e.getBoundingClientRect(),o[t]=n.right-n.left),o[t]}function n(t,e){var n="border"==e?"Width":"",r=e+"Top"+n,i=e+"Right"+n,o=e+"Bottom"+n,s=e+"Left"+n;t[e]=(t[r]==t[i]==t[o]==t[s]?[t[r]]:t[r]==t[o]&&t[s]==t[i]?[t[r],t[i]]:t[s]==t[i]?[t[r],t[i],t[o]]:[t[r],t[i],t[o],t[s]]).join(" ")}function r(e){var r,i,o,a;r=e.currentStyle,i=this,o=t(e,r,"fontSize",null);for(a in r)"normal"===r[a]&&s.hasOwnProperty(a)?i[a]=s[a]:/width|height|margin.|padding.|border.+W/.test(a)?"auto"===r[a]?/^width|height/.test(a)?i[a]=("width"===a?e.clientWidth:e.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(a)&&(i[a]="0px"):i[a]=t(e,r,a,o)+"px":"styleFloat"===a?i["float"]=r[a]:i[a]=r[a];return n(i,"margin"),n(i,"padding"),n(i,"border"),i.fontSize=o+"px",i}function i(t){return new r(t)}var o={},s={fontWeight:400,lineHeight:1.2,letterSpacing:0};return r.prototype={constructor:r,getPropertyPriority:vo,getPropertyValue:function(t){return this[t]||""},item:vo,removeProperty:vo,setProperty:vo,getPropertyCSSValue:vo},i}())):mo=null;var yo,go,bo,wo=mo;try{Object.defineProperty({},"test",{value:0}),Gi&&Object.defineProperty(eo("div"),"test",{value:0}),go=Object.defineProperty}catch(Eo){go=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Eo){throw Eo}Gi&&Object.defineProperties(eo("div"),{test:{value:0}}),bo=Object.defineProperties}catch(Eo){bo=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&go(t,n,e[n])}}try{Object.create(null),yo=Object.create}catch(Eo){yo=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}var _o,Oo,xo,jo=Object.prototype.hasOwnProperty,ko=Object.prototype.toString,To={};Ji?!function(){var t=["%cRactive.js %c0.8.0-edge %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],e="You're running Ractive 0.8.0-edge in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";xo=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,t),console.log(e),n&&console.groupEnd(t),xo=vo},Oo=function(t,e){if(xo(),"object"==typeof e[e.length-1]){var n=e.pop(),r=n?n.ractive:null;if(r){var i=void 0;r.component&&(i=r.component.name)&&(t="<"+i+"> "+t);var o=void 0;(o=n.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&e.push(o)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},_o=function(){console.log.apply(console,arguments)}}():Oo=_o=xo=vo;var Co,Ao="Bad arguments",Po='A function was specified for "%s" %s, but no %s was returned',So=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Fo=function(t,e,n,r){if(t===e)return y(e);if(r){var i=m("interpolators",n,r);if(i)return i(t,e)||y(e);c(So(r,"interpolator"))}return Ro.number(t,e)||Ro.array(t,e)||Ro.object(t,e)||y(e)},No={number:function(t,e){var n;return s(t)&&s(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,r,o,s;if(!i(t)||!i(e))return null;for(n=[],r=[],s=o=Math.min(t.length,e.length);s--;)r[s]=Fo(t[s],e[s]);for(s=o;s<t.length;s+=1)n[s]=t[s];for(s=o;s<e.length;s+=1)n[s]=e[s];return function(t){for(var e=o;e--;)n[e]=r[e](t);return n}},object:function(t,e){var n,r,i,o,s;if(!a(t)||!a(e))return null;n=[],o={},i={};for(s in t)jo.call(t,s)&&(jo.call(e,s)?(n.push(s),i[s]=Fo(t[s],e[s])):o[s]=t[s]);for(s in e)jo.call(e,s)&&!jo.call(t,s)&&(o[s]=e[s]);return r=n.length,function(t){for(var e,s=r;s--;)e=n[s],o[e]=i[e](t);return o}}},Ro=No,Io=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Vo=w,Lo="Cannot add to a non-numeric value",Bo=E;Yi?(!function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(po,0,Yi),Co=Yi.requestAnimationFrame):Co=null;var Mo=Co,Do=Yi&&Yi.performance&&"function"==typeof Yi.performance.now?function(){return Yi.performance.now()}:function(){return Date.now()},Ko={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}},Uo=function(){function t(e){_(this,t),this.event=e,this.method="on"+e,this.deprecate=Ko[e]}return t.prototype.call=function(t,e,n){return e[t]?(n?e[t](n):e[t](),!0):void 0},t.prototype.fire=function(t,e){this.call(this.method,t,e),!t[this.method]&&this.deprecate&&this.call(this.deprecate.deprecated,t,e)&&(this.deprecate.message?f(this.deprecate.message):f('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)},t}();Array.prototype.find||(Array.prototype.find=function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;r>o;o++)if(o in n&&(e=n[o],t.call(i,e,o,n)))return e;return void 0});var qo,Ho={},Qo={},Wo={};"function"==typeof Promise?qo=Promise:(qo=function(t){var e,n,r,i,o,s,a=[],u=[],c=Ho;r=function(t){return function(r){c===Ho&&(e=r,c=t,n=S(c===Qo?a:u,e),P(n))}},i=r(Qo),o=r(Wo);try{t(i,o)}catch(h){o(h)}return s={then:function(t,e){var r=new qo(function(i,o){var s=function(t,e,n){"function"==typeof t?e.push(function(e){var n;try{n=t(e),F(r,n,i,o);
}catch(s){o(s)}}):e.push(n)};s(t,a,i),s(e,u,o),c!==Ho&&P(n)});return r}},s["catch"]=function(t){return this.then(null,t)},s},qo.all=function(t){return new qo(function(e,n){var r,i,o,s=[];if(!t.length)return void e(s);for(o=function(t,i){t&&"function"==typeof t.then?t.then(function(t){s[i]=t,--r||e(s)},n):(s[i]=t,--r||e(s))},r=i=t.length;i--;)o(t[i],i)})},qo.resolve=function(t){return new qo(function(e){e(t)})},qo.reject=function(t){return new qo(function(e,n){n(t)})});var zo=qo,$o=function(){function t(e,n){W(this,t),this.callback=e,this.parent=n,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,n&&n.addChild(this)}return t.prototype.add=function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},t.prototype.addChild=function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},t.prototype.addDecorator=function(t){this.decoratorQueue.push(t)},t.prototype.decrementOutros=function(){this.outroChildren-=1,Y(this)},t.prototype.decrementTotal=function(){this.totalChildren-=1,Y(this)},t.prototype.detachNodes=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){this.decoratorQueue.forEach(M),this.detachQueue.forEach(z),this.children.forEach($)}),t.prototype.init=function(){this.ready=!0,Y(this)},t.prototype.remove=function(t){var e=t.isIntro?this.intros:this.outros;C(e,t),Y(this)},t.prototype.start=function(){this.intros.concat(this.outros).forEach(function(t){return t.start()})},t}(),Yo=new Uo("change"),Go=void 0,Zo={start:function(t,e){var n,r;return e&&(n=new zo(function(t){return r=t})),Go={previousBatch:Go,transitionManager:new $o(r,Go&&Go.transitionManager),fragments:[],tasks:[],immediateObservers:[],deferredObservers:[],instance:t},n},end:function(){Z(),Go.transitionManager.init(),Go=Go.previousBatch},addFragment:function(t){O(Go.fragments,t)},addObserver:function(t,e){O(e?Go.deferredObservers:Go.immediateObservers,t)},registerTransition:function(t){t._manager=Go.transitionManager,Go.transitionManager.add(t)},registerDecorator:function(t){Go.transitionManager.addDecorator(t)},detachWhenReady:function(t){Go.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(Go){for(n=Go;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}},Jo=[],Xo={tick:function(){var t,e,n;for(n=Do(),Zo.start(),t=0;t<Jo.length;t+=1)e=Jo[t],e.tick(n)||Jo.splice(t--,1);Zo.end(),Jo.length?Mo(Xo.tick):Xo.running=!1},add:function(t){Jo.push(t),Xo.running||(Xo.running=!0,Mo(Xo.tick))},abort:function(t,e){for(var n,r=Jo.length;r--;)n=Jo[r],n.root===e&&n.model===t&&n.stop()}},ts=Xo,es=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=Fo(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};es.prototype={tick:function(){var t,e,n,r,i,o;return o=this.keypath,this.running?(r=Date.now(),t=r-this.startTime,t>=this.duration?(null!==o&&(Zo.start(this.root),this.model&&this.model.set(this.to),Zo.end()),this.step&&this.step(1,this.to),this.complete(this.to),i=this.root._animations.indexOf(this),-1===i&&f("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,null!==o&&(n=this.interpolator(e),Zo.start(this.root),this.model&&this.model.set(n),Zo.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&f("Animation was not found"),this.root._animations.splice(t,1)}};var ns,rs,is,os,ss,as,us=J,cs={stop:vo},hs=tt,ps=new Uo("detach"),ls=et,fs=function(){function t(e,n,r,i){nt(this,t),this.ractive=e,this.selector=n,this.live=r,this.isComponentQuery=i,this.result=[],this.dirty=!0}return t.prototype.add=function(t){this.result.push(t),this.makeDirty()},t.prototype.cancel=function(){var t,e,n;t=this._root[this.isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},t.prototype.init=function(){this.dirty=!1},t.prototype.makeDirty=function(){var t=this;this.dirty||(this.dirty=!0,Zo.scheduleTask(function(){return t.update()}))},t.prototype.remove=function(t){var e=this.result.indexOf(this.isComponentQuery?t.instance:t);-1!==e&&this.result.splice(e,1)},t.prototype.update=function(){this.result.sort(this.isComponentQuery?it:rt),this.dirty=!1},t.prototype.test=function(t){return this.isComponentQuery?!this.selector||t.name===this.selector:t?no(t,this.selector):null},t}(),ds=at,ms=ut,vs=ct,ys=ht,gs=pt,bs={},ws={},Es=wt,_s=xt,Os=jt,xs=new Uo("insert"),js=Ct,ks={},Ts=function(){function t(e,n,r,i){At(this,t),this.context=e,this.model=n,this.keypath=n.getKeypath(),this.callback=r,this.oldValue=void 0,this.newValue=n.get(),this.defer=i.defer,this.once=i.once,this.strict=i.strict,this.dirty=!1,i.init!==!1?this.dispatch():this.oldValue=this.newValue,n.register(this)}return t.prototype.cancel=function(){this.model.unregister(this)},t.prototype.dispatch=function(){this.callback.call(this.context,this.newValue,this.oldValue,this.keypath),this.oldValue=this.newValue,this.dirty=!1},t.prototype.handleChange=function(){if(!this.dirty){if(this.newValue=this.model.get(),this.strict&&this.newValue===this.oldValue)return;Zo.addObserver(this,this.defer),this.dirty=!0,this.once&&this.cancel()}},t}(),Cs=function(){function t(e,n,r,i,o){var s=this;At(this,t),this.context=e,this.baseModel=n,this.keys=r,this.callback=i;var a=r.join("\\.").replace(/\*/g,"(.+)"),u=n.getKeypath();this.pattern=new RegExp("^"+(u?u+".":"")+a+"$"),this.oldValues={},this.newValues={},this.defer=o.defer,this.once=o.once,this.strict=o.strict,this.dirty=!1,this.baseModel.findMatches(this.keys).forEach(function(t){s.newValues[t.getKeypath()]=t.get()}),o.init!==!1?this.dispatch():this.oldValues=this.newValues,n.register(this)}return t.prototype.cancel=function(){this.baseModel.unregister(this)},t.prototype.dispatch=function(){var t=this;Object.keys(this.newValues).forEach(function(e){var n=t.newValues[e],r=t.oldValues[e];if(!(t.strict&&n===r||o(n,r))){var i=t.pattern.exec(e).slice(1),s=[n,r,e].concat(i);t.callback.apply(t.context,s)}}),this.oldValues=this.newValues,this.dirty=!1},t.prototype.handleChange=function(){var t=this;this.dirty||(this.newValues={},this.baseModel.findMatches(this.keys).forEach(function(e){var n=e.getKeypath();t.newValues[n]=e.get()}),Zo.addObserver(this,this.defer),this.dirty=!0,this.once&&this.cancel())},t}(),As=function(){function t(e,n,r,i){Ft(this,t),this.context=e,this.model=n,this.keypath=n.getKeypath(),this.callback=r,this.pending=null,n.register(this),i.init!==!1?(this.sliced=[],this.shuffle([]),this.handleChange()):this.sliced=this.slice()}return t.prototype.handleChange=function(){this.pending?(this.callback(this.pending),this.pending=null):(this.shuffle(this.sliced.map(Rt)),this.handleChange())},t.prototype.shuffle=function(t){var e=this,n=this.slice(),r=[],i=[],o=void 0,s={};t.forEach(function(t,n){s[t]=!0,t!==n&&void 0===o&&(o=n),-1===t&&i.push(e.sliced[n])}),void 0===o&&(o=t.length);for(var a=n.length,u=0;a>u;u+=1)s[u]||r.push(n[u]);this.pending={inserted:r,deleted:i,start:o},this.sliced=n},t.prototype.slice=function(){var t=this.model.get();return i(t)?t.slice():[]},t}(),Ps={init:!1,once:!0},Ss=function(t){return t.trim()},Fs=function(t){return""!==t},Ns=Vt,Rs=Lt,Is=Bt,Vs=Array.prototype,Ls=function(t){return function(e){var n=this.viewmodel.joinAll(g(e).split(".")),r=n.get();if(!i(r))throw new Error("shuffle array method "+t+" called on non-array at "+e.getKeypath());for(var o=arguments.length,s=Array(o>1?o-1:0),a=1;o>a;a++)s[a-1]=arguments[a];var u=Mt(r.length,t,s),c=Vs[t].apply(r,s),h=Zo.start(this,!0).then(function(){return c});return u?n.shuffle(u):n.set(c),Zo.end(),h}},Bs=Ls("pop"),Ms=Ls("push"),Ds="/* Ractive.js component styles */\n",Ks=[],Us=!1;Gi?(is=Gi.createElement("style"),is.type="text/css",os=Gi.getElementsByTagName("head")[0],as=!1,ss=is.styleSheet,rs=function(){var t=Ds+Ks.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");ss?ss.cssText=t:is.innerHTML=t,as||(os.appendChild(is),as=!0)},ns={add:function(t){Ks.push(t),Us=!0},apply:function(){Us&&(rs(),Us=!1)}}):ns={add:vo,apply:vo};var qs,Hs,Qs,Ws=ns,zs=Kt,$s=new Uo("render"),Ys=new Uo("complete"),Gs=Ut,Zs={extend:function(t,e,n){e.adapt=Ht(e.adapt,k(n.adapt))},init:function(){}},Js=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Xs=/\/\*.*?\*\//g,ta=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,ea=/^@media/,na=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,ra=1,ia={name:"css",extend:function(t,e,n){if(n.css){var r=ra++,i=n.noCssTransform?n.css:Qt(n.css,r);e.cssId=r,Ws.add({id:r,styles:i})}},init:function(){}},oa={name:"data",extend:function(t,e,n){var r=void 0,o=void 0;if(n.data&&a(n.data))for(r in n.data)o=n.data[r],o&&"object"==typeof o&&(a(o)||i(o))&&f("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Yt(e.data,n.data)},init:function(t,e,n){var r=Yt(t.prototype.data,n.data);return"function"==typeof r&&(r=r.call(e)),r||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.root.set(e),!0}},sa=null,aa=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],ua={fromId:te,isHashedId:ee,isParsed:ne,getParseOptions:re,createHelper:Jt,parse:Xt},ca=ua,ha={name:"template",extend:function(t,e,n){var r;"template"in n&&(r=n.template,"function"==typeof r?e.template=r:e.template=ae(r,e))},init:function(t,e,n){var r,i;r="template"in n?n.template:t.prototype.template,"function"==typeof r&&(i=r,r=oe(e,i),e._config.template={fn:i,result:r}),r=ae(r,e),e.template=r.t,r.p&&ue(e.partials,r.p)},reset:function(t){var e,n=ie(t);return n?(e=ae(n,t),t.template=e.t,ue(t.partials,e.p,!0),!0):void 0}};qs=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],Hs=function(t,e){this.name=t,this.useDefaults=e},Hs.prototype={constructor:Hs,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var r,i=this.name,o=n[i];r=yo(t[i]);for(var s in o)r[s]=o[s];e[i]=r},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n}},Qs=qs.map(function(t){return new Hs(t,"computed"===t)});var pa,la,fa,da,ma,va,ya=ce;da={adapt:Zs,css:ia,data:oa,template:ha},fa=Object.keys(zi),va=ve(fa.filter(function(t){return!da[t]})),ma=ve(fa.concat(Qs.map(function(t){return t.name}))),la=[].concat(fa.filter(function(t){return!Qs[t]&&!da[t]}),Qs,da.template,da.css),pa={extend:function(t,e,n){return de("extend",t,e,n)},init:function(t,e,n){return de("init",t,e,n)},reset:function(t){return la.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:la};var ga=ye,ba=["template","partials","components","decorators","events"],wa=new Uo("complete"),Ea=new Uo("reset"),_a=new Uo("render"),Oa=new Uo("unrender"),xa=1,ja=2,ka=3,Ta=4,Ca=7,Aa=8,Pa=15,Sa=16,Fa=18,Na=20,Ra=21,Ia=30,Va=50,La=51,Ba=52,Ma=53,Da=54,Ka=function(t,e){var n=[];ge(this.fragment.items,t,n);var r=Zo.start(this,!0);return this.partials[t]=e,n.forEach(be),Zo.end(),r},Ua=function(){function t(e){we(this,t),this.parentFragment=e.parentFragment,this.ractive=e.parentFragment.ractive,this.template=e.template,this.index=e.index,this.type=e.template.t,this.dirty=!1}return t.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.parentFragment.bubble())},t.prototype.find=function(){return null},t.prototype.findAll=function(){},t.prototype.findComponent=function(){return null},t.prototype.findAllComponents=function(){},t.prototype.findNextNode=function(){return this.parentFragment.findNextNode(this)},t}(),qa=Ua,Ha=function(t,e,n,r){var i=t.__model;r&&i.shuffle(r)},Qa=["pop","push","reverse","shift","sort","splice","unshift"],Wa=[];Qa.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i=Mt(this.length,t,n),o=Array.prototype[t].apply(this,arguments);Zo.start(),this._ractive.setting=!0;for(var s=this._ractive.wrappers.length;s--;)Ha(this._ractive.wrappers[s],this,t,i);return Zo.end(),this._ractive.setting=!1,o};go(Wa,t,{value:e})});var za=void 0,$a=void 0;({}).__proto__?(za=function(t){return t.__proto__=Wa},$a=function(t){return t.__proto__=Array.prototype}):(za=function(t){for(var e=Qa.length;e--;){var n=Qa[e];go(t,n,{value:Wa[n],configurable:!0})}},$a=function(t){for(var e=Qa.length;e--;)delete t[Qa[e]]}),za.unpatch=$a;var Ya=za,Ga="Something went wrong in a rather interesting way",Za={filter:function(t){return i(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new Ja(t,e,n)}},Ja=function(){function t(e,n){Ee(this,t),this.root=e,this.value=n,this.__model=null,n._ractive||(go(n,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Ya(n)),n._ractive.instances[e._guid]||(n._ractive.instances[e._guid]=0,n._ractive.instances.push(e)),n._ractive.instances[e._guid]+=1,n._ractive.wrappers.push(this)}return t.prototype.get=function(){return this.value},t.prototype.teardown=function(){var t,e,n,r,i;if(t=this.value,e=t._ractive,n=e.wrappers,r=e.instances,e.setting)return!1;if(i=n.indexOf(this),-1===i)throw new Error(Ga);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(i=r.indexOf(this.root),-1===i)throw new Error(Ga);r.splice(i,1)}}else delete t._ractive,Ya.unpatch(this.value)},t}(),Xa=void 0;try{Object.defineProperty({},"test",{value:0}),Xa={filter:function(t){return t&&"object"==typeof t},wrap:function(t,e,n){return new nu(t,e,n)}}}catch(Eo){Xa=!1}var tu,eu,nu=function(){function t(e,n,r){var i=this;_e(this,t),this.ractive=e,this.value=n,this.keypath=r,this.originalDescriptors={},Object.keys(n).forEach(function(t){var n=Object.getOwnPropertyDescriptor(i.value,t);i.originalDescriptors[t]=n;var o=r?r+"."+t:t,s=Oe(n,e,o);Object.defineProperty(i.value,t,s)})}return t.prototype.get=function(){return this.value},t.prototype.reset=function(){throw new Error("TODO magic adaptor reset")},t.prototype.set=function(t,e){this.value[t]=e},t.prototype.teardown=function(){var t=this;Object.keys(this.value).forEach(function(e){var n=Object.getOwnPropertyDescriptor(t.value,e);n.set&&n.set.__magic&&(xe(n),1===n.set.__magic.dependants.length&&Object.defineProperty(t.value,e,n.set.__magic.originalDescriptor))})},t}();Xa&&(tu={filter:function(t,e,n){return Xa.filter(t,e,n)&&Za.filter(t)},wrap:function(t,e,n){return new eu(t,e,n)}},eu=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=Xa.wrap(t,e,n),this.arrayWrapper=Za.wrap(t,e,n),Object.defineProperty(this,"__model",{get:function(){return this.arrayWrapper.__model},set:function(t){this.arrayWrapper.__model=t}})},eu.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var ru,iu,ou=[],su=void 0,au={},uu=function(){function t(e){Pe(this,t),this.value=e,this.isReadonly=!0,this.dependants=[]}return t.prototype.get=function(){return this.value},t.prototype.getKeypath=function(){return this.value},t.prototype.rebind=function(t){this.value=t,this.dependants.forEach(I)},t.prototype.register=function(t){this.dependants.push(t)},t.prototype.unregister=function(t){C(this.dependants,t)},t}(),cu=function(){function t(e){Se(this,t),this.parent=e,this.value=e.getKeypath(),this.dependants=[]}return t.prototype.get=function(){return this.value},t.prototype.handleChange=function(){this.value=this.parent.getKeypath(),this.dependants.forEach(I)},t.prototype.register=function(t){this.dependants.push(t)},t.prototype.unregister=function(t){C(this.dependants,t)},t}(),hu=Object.prototype.hasOwnProperty,pu=null,lu=function(){function t(e,n){Fe(this,t),this.deps=[],this.children=[],this.childByKey={},this.indexModels=[],this.unresolved=[],this.unresolvedByKey={},this.bindings=[],this.value=void 0,e&&(this.parent=e,this.root=e.root,this.key=n,e.value&&(this.value=e.value[this.key],this.adapt()))}return t.prototype.adapt=function(){var t=this.root.adaptors,e=this.value,n=t.length,r=this.root.ractive,i=this.getKeypath(),o=void 0;for(o=0;n>o;o+=1){var s=t[o];if(s.filter(e,i,r)){this.wrapper=s.wrap(r,e,i,Ae(i)),this.wrapper.value=this.value,this.wrapper.__model=this,this.value=this.wrapper.get();break}}},t.prototype.addUnresolved=function(t,e){this.unresolvedByKey[t]||(this.unresolved.push(t),this.unresolvedByKey[t]=[]),this.unresolvedByKey[t].push(e)},t.prototype.clearUnresolveds=function(t){for(var e=this.unresolved.length;e--;){var n=this.unresolved[e];if(!t||n===t){for(var r=this.unresolvedByKey[n],i=this.has(n),o=r.length;o--;)i&&r[o].attemptResolution(),r[o].resolved&&r.splice(o,1);r.length||(this.unresolved.splice(e,1),this.unresolvedByKey[n]=null)}}},t.prototype.createBranch=function(t){var e=s(t)?[]:{};return this.set(e),e},t.prototype.discard=function(){var t=this;this.deps.forEach(function(e){e.boundsSensitive&&t.unregister(e)})},t.prototype.findMatches=function(t){var e=t.length,n=[this],r=void 0,o=void 0,s=function(){var e=t[o];"*"===e?(r=[],n.forEach(function(t){i(t.value)?(pu&&pu.parent===t&&"length"===pu.key&&r.push(pu),t.value.forEach(function(e,n){r.push(t.joinKey(n))})):(a(t.value)||"function"==typeof t.value)&&(Object.keys(t.value).forEach(function(e){r.push(t.joinKey(e))}),t.isRoot&&Object.keys(t.computations).forEach(function(e){r.push(t.joinKey(e))}))})):r=n.map(function(t){return t.joinKey(e)}),n=r};for(o=0;e>o;o+=1)s();return r},t.prototype.get=function(t){return t&&Te(this),this.value},t.prototype.getIndexModel=function(t){var e=this.parent.indexModels;return"string"==typeof this.key&&void 0!==t?new uu(t):(e[this.key]||(e[this.key]=new uu(this.key)),e[this.key])},t.prototype.getKeyModel=function(){return new uu(this.key)},t.prototype.getKeypathModel=function(){return this.keypathModel||(this.keypathModel=new cu(this))},t.prototype.getKeypath=function(){return this.parent.isRoot?this.key:this.parent.getKeypath()+"."+this.key},t.prototype.has=function(t){return this.value&&hu.call(this.value,t)},t.prototype.joinKey=function(e){if(void 0===e||""===e)return this;if(!this.childByKey.hasOwnProperty(e)){var n=new t(this,e);this.children.push(n),this.childByKey[e]=n}return this.childByKey[e]},t.prototype.joinAll=function(t){for(var e=this,n=0;n<t.length;n+=1)e=e.joinKey(t[n]);return e},t.prototype.mark=function(){var t=this.retrieve();o(t,this.value)||(this.value=t,this.children.forEach(V),this.deps.forEach(I),this.clearUnresolveds())},t.prototype.merge=function(t,e){var n=e?this.value.map(e):this.value,r=e?t.map(e):t,i=n.length,o={},s=0,a=n.map(function(t){var e=void 0,n=s;do{if(e=r.indexOf(t,n),-1===e)return-1;n=e+1}while(o[e]===!0&&i>n);return e===s&&(s+=1),o[e]=!0,e});this.parent.value[this.key]=t,this._merged=!0,this.shuffle(a)},t.prototype.register=function(t){this.deps.push(t)},t.prototype.registerTwowayBinding=function(t){this.bindings.push(t)},t.prototype.retrieve=function(){return this.parent.value?this.parent.value[this.key]:void 0},t.prototype.set=function(t){if(!o(t,this.value)){if(this.root.changes[this.getKeypath()]=t,this.parent.wrapper&&this.parent.wrapper.set)this.parent.wrapper.set(this.key,t),this.parent.value=this.parent.wrapper.get(),this.value=this.parent.value[this.key];else if(this.wrapper){var e=!this.wrapper.reset||this.wrapper.reset(t)===!1;e?(this.wrapper.teardown(),this.wrapper=null,this.parent.value[this.key]=this.value=t,this.adapt()):this.value=this.wrapper.get()}else{var n=this.parent.value||this.parent.createBranch(this.key);n[this.key]=t,this.value=t,this.adapt()}this.parent.clearUnresolveds(),this.clearUnresolveds();var r=pu;pu=this,this.children.forEach(V),this.deps.forEach(I);for(var i=this.parent;i;)i.deps.forEach(I),i=i.parent;pu=r}},t.prototype.shuffle=function(t){var e=this,n=[],r=0,i=void 0;for(t.forEach(function(t,i){if(t>r&&(r=t),~t){var o=e.indexModels[i];o&&(n[t]=o,t!==i&&o.rebind(t))}});i=this.childByKey[++r];)"function"==typeof i.discard&&i.discard();this.indexModels=n,this.deps.forEach(function(e){e.shuffle&&e.shuffle(t)}),this.updateKeypathDependants(),this.mark(),this.deps.forEach(function(t){t.shuffle||t.handleChange()})},t.prototype.teardown=function(){this.children.forEach(M),this.wrapper&&this.wrapper.teardown()},t.prototype.unregister=function(t){C(this.deps,t)},t.prototype.unregisterTwowayBinding=function(t){C(this.bindings,t)},t.prototype.updateFromBindings=function(t){for(var e=this.bindings.length;e--;){var n=this.bindings[e].getValue();n!==this.value&&this.set(n)}t&&this.children.forEach(Ne)},t.prototype.updateKeypathDependants=function(){this.children.forEach(Re),this.keypathModel&&this.keypathModel.handleChange()},t}(),fu=function(t){function e(n,r,i){Ie(this,e),t.call(this,null,null),this.root=this.parent=n,this.signature=r,this.key=i,this.isReadonly=!this.signature.setter,this.context=n.computationContext,this.dependencies=[],this.children=[],this.childByKey={},this.deps=[],this.boundsSensitive=!0,this.dirty=!0}return Ve(e,t),e.prototype.get=function(t){return t&&Te(this),this.dirty&&(this.value=this.getValue(),this.adapt(),this.dirty=!1),this.value},e.prototype.getValue=function(){je();var t=void 0;try{t=this.signature.getter.call(this.context)}catch(e){f("Failed to compute "+this.getKeypath()+": "+(e.message||e)),console.groupCollapsed&&console.groupCollapsed("%cshow details","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;");var n=Le(this.signature.getterString),r=this.signature.getterUseStack?"\n\n"+Be(e.stack):"";console.error(e.name+": "+e.message+"\n\n"+n+r),console.groupCollapsed&&console.groupEnd()}var i=ke();return this.setDependencies(i),t},e.prototype.handleChange=function(){this.dirty=!0,this.deps.forEach(I),this.children.forEach(V),this.clearUnresolveds()},e.prototype.init=function(){},e.prototype.mark=function(){this.handleChange()},e.prototype.register=function(t){this.deps.push(t)},e.prototype.set=function(t){if(!this.signature.setter)throw new Error("Cannot set read-only computed property '"+this.key+"'");this.signature.setter(t)},e.prototype.setDependencies=function(t){for(var e=this.dependencies.length;e--;){var n=this.dependencies[e];~t.indexOf(n)||n.unregister(this)}for(e=t.length;e--;){var n=t[e];~this.dependencies.indexOf(n)||n.register(this)}this.dependencies=t},e.prototype.unregister=function(t){C(this.deps,t)},e}(lu),du=function(t){function e(n){Me(this,e),t.call(this,null,null),this.changes={},this.isRoot=!0,this.root=this,this.ractive=n.ractive,this.value=n.data,this.adaptors=n.adapt,this.adapt(),this.mappings={},this.computationContext=n.ractive,this.computations={}}return De(e,t),e.prototype.applyChanges=function(){return this._changeHash={},this.flush(),this._changeHash},e.prototype.compute=function(t,e){var n=new fu(this,e,t);return this.computations[t]=n,n},e.prototype.get=function(t){var e=this;t&&Te(this);var n=r({},this.value);return Object.keys(this.mappings).forEach(function(t){n[t]=e.mappings[t].value}),Object.keys(this.computations).forEach(function(t){"@"!==t[0]&&(n[t]=e.computations[t].value)}),n},e.prototype.getKeypath=function(){return""},e.prototype.has=function(e){return e in this.mappings||e in this.computations||t.prototype.has.call(this,e)},e.prototype.joinKey=function(e){return this.mappings.hasOwnProperty(e)?this.mappings[e]:this.computations.hasOwnProperty(e)?this.computations[e]:t.prototype.joinKey.call(this,e)},e.prototype.map=function(t,e){this.mappings[t]=e},e.prototype.set=function(t){var e=this.wrapper;if(e){var n=!e.reset||e.reset(t)===!1;n&&(e.teardown(),this.wrapper=null,this.value=t,this.adapt())}else this.value=t,this.adapt();this.deps.forEach(I),this.children.forEach(V),this.clearUnresolveds()},e.prototype.retrieve=function(){return this.value},e.prototype.update=function(){},e.prototype.updateFromBindings=function(e){var n=this;t.prototype.updateFromBindings.call(this,e),e&&Object.keys(this.mappings).forEach(function(t){var r=n.mappings[t];r.updateFromBindings(e)})},e}(lu),mu=/\$\{([^\}]+)\}/g,vu=new Uo("construct"),yu=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],gu=0,bu=function(){function t(e){Ye(this,t),this.hook=new Uo(e),this.inProcess={},this.queue={}}return t.prototype.begin=function(t){this.inProcess[t._guid]=!0},t.prototype.end=function(t){var e=t.parent;e&&this.inProcess[e._guid]?Ge(this.queue,e).push(t):Ze(this,t),delete this.inProcess[t._guid]},t}(),wu=new Uo("config"),Eu=new bu("init"),_u={},Ou=function(t){function e(n,r){var i=this;tn(this,e),t.call(this,n.ractive.viewmodel,null),this.fragment=n,this.template=r,this.isReadonly=!0,this.fn=Xe(r.s,r.r.length),this.computation=null,this.resolvers=[],this.models=r.r.map(function(t,e){var r=Ot(n,t);return r||!function(){var r=n.resolve(t,function(t){C(i.resolvers,r),i.models[e]=t,i.bubble()});i.resolvers.push(r)}(),r}),this.bubble()}return en(e,t),e.prototype.bubble=function(){var t=this,e=this.fragment.ractive,n="@"+this.template.s.replace(/_(\d+)/g,function(e,n){if(n>=t.models.length)return e;var r=t.models[n];return r?r.getKeypath():"@undefined"}),r={getter:function(){var n=t.models.map(function(t){var n=t.get(!0);return"function"==typeof n?nn(n,e,e._guid):n});return t.fn.apply(e,n)},getterString:n},i=e.viewmodel.compute(n,r);i.init(),this.value=i.get(),this.computation&&this.computation.unregister(this),this.computation=i,i.register(this)},e.prototype.get=function(){return this.computation.get()},e.prototype.getKeypath=function(){return this.computation?this.computation.getKeypath():"@undefined"},e.prototype.handleChange=function(){this.mark()},e.prototype.retrieve=function(){return this.get()},e.prototype.unbind=function(){this.resolvers.forEach(D)},e}(lu),xu=function(t){function e(n,r){var i=this;rn(this,e),t.call(this,null,null),this.root=n.ractive.viewmodel,this.resolvers=[],this.base=ju(n,r),this.base||!function(){var t=n.resolve(r.r,function(e){i.base=e,i.bubble(),C(i.resolvers,t)});i.resolvers.push(t)}();var o={handleChange:function(){return i.bubble()}};this.members=r.m.map(function(t,e){if("string"==typeof t)return{get:function(){return t}};var r=void 0;return t.t===Ia?(r=Ot(n,t.n),r?r.register(o):!function(){var r=n.resolve(t.n,function(t){i.members[e]=t,t.register(o),i.bubble(),C(i.resolvers,r)});i.resolvers.push(r)}(),r):(r=new Ou(n,t),r.register(o),r)}),this.isUnresolved=!0,this.bubble()}return on(e,t),e.prototype.bubble=function(){if(this.base){for(var t=this.members.length;t--;)if(!this.members[t]||void 0===this.members[t].get())return;this.isUnresolved=!1;var e=this.members.map(function(t){return t.get()}),n=this.base.joinAll(e);this.model&&(this.model.unregister(this),this.model.unregisterTwowayBinding(this)),this.model=n,this.parent=n.parent,n.register(this),n.registerTwowayBinding(this),this.keypathModel&&this.keypathModel.handleChange(),this.mark()}},e.prototype.forceResolution=function(){this.resolvers.forEach(function(t){return t.forceResolution()}),this.bubble()},e.prototype.get=function(){return this.model?this.model.get():void 0},e.prototype.getValue=function(){for(var t=this.bindings.length;t--;){var e=this.bindings[t].getValue();if(e!==this.value)return e}return this.value},e.prototype.getKeypath=function(){return this.model?this.model.getKeypath():"@undefined"},e.prototype.handleChange=function(){this.mark()},e.prototype.retrieve=function(){return this.get()},e.prototype.set=function(t){if(!this.model)throw new Error("Unresolved reference expression. This should not happen!");this.model.set(t)},e.prototype.unbind=function(){this.resolvers.forEach(D)},e}(lu),ju=sn,ku=/^\s+/;iu=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},iu.prototype=Error.prototype,ru=function(t,e){var n,r,i=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=i+t.length+1;return i=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},ru.prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;r>n;n+=1)if(this.pos=e,i=t[n](this))return i;return null},getLinePos:function(t){for(var e,n=0,r=0;t>=this.lineEnds[n];)r=this.lineEnds[n],n+=1;return e=t-r,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],r=e[1],i=this.lines[e[0]-1],o=0,s=i.replace(/\t/g,function(t,n){return n<e[1]&&(o+=1),"  "})+"\n"+new Array(e[1]+o).join(" ")+"^----",a=new iu(t+" at line "+n+" character "+r+":\n"+s);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(ku)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},ru.extend=function(t){var e,n,r=this;e=function(t,e){ru.call(this,t,e)},e.prototype=yo(r.prototype);for(n in t)jo.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=ru.extend,e};var Tu,Cu,Au;Tu=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Cu=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Au=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Pu,Su,Fu,Nu,Ru,Iu,Vu,Lu=function(t){return function(e){var n,r,i,o;for(n=e.pos,r='"',i=!1;!i;)o=e.matchPattern(Tu)||e.matchPattern(Cu)||e.matchString(t),o?r+='"'===o?'\\"':"\\'"===o?"'":o:(o=e.matchPattern(Au),o?r+="\\u"+("000"+o.charCodeAt(1).toString(16)).slice(-4):i=!0);return r+='"',JSON.parse(r)}},Bu=Lu('"'),Mu=Lu("'"),Du=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=Mu(t),t.matchString('"')?{t:Ra,v:n}:(t.pos=e,null)):t.matchString("'")?(n=Bu(t),t.matchString("'")?{t:Ra,v:n}:(t.pos=e,null)):null},Ku=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Uu=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,qu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;Su={"true":!0,"false":!1,undefined:void 0,"null":null},Fu=new RegExp("^(?:"+Object.keys(Su).join("|")+")"),Nu=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Ru=/\$\{([^\}]+)\}/g,Iu=/^\$\{([^\}]+)\}/,Vu=/^\s*$/,Pu=ru.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&Vu.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(Iu),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(Fu))?{v:Su[e]}:void 0},function(t){var e;return(e=t.matchPattern(Nu))?{v:+e}:void 0},function(t){var e,n=Du(t);return n&&(e=t.values)?{v:n.v.replace(Ru,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=cn(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var Hu,Qu,Wu,zu=function(t,e){var n=new Pu(t,{values:e});return n.result},$u=hn,Yu=new Uo("teardown"),Gu=function(t){
function e(n,r){pn(this,e),t.call(this,n),this.type=Pa;var i=yo(r.prototype);this.instance=i,this.name=n.template.e,this.parentFragment=n.parentFragment,this.complexMappings=[],this.liveQueries=[],i.el&&f("The <"+this.name+"> component has a default 'el' property; it has been disregarded");var o=n.template.p||{};"content"in o||(o.content=n.template.f||[]),this._partials=o,this.yielders={},He(this.instance,{partials:o});for(var s=n.parentFragment,a=void 0;s;){if(s.owner.type===Sa){a=s.owner.container;break}s=s.parent}i.parent=this.parentFragment.ractive,i.container=a||null,i.root=i.parent.root,i.component=this,i._inlinePartials=o,this.template.v&&this.setupEvents()}return ln(e,t),e.prototype.bind=function(){var t=this,e=this.instance.viewmodel,n=e.value;this.template.a&&Object.keys(this.template.a).forEach(function(r){var o=t.template.a[r];if(0===o)e.joinKey(r).set(!0);else if("string"==typeof o){var s=zu(o);e.joinKey(r).set(s?s.value:o)}else if(i(o))if(1===o.length&&o[0].t===ja){var a=ju(t.parentFragment,o[0]);a||(d("The "+r+"='{{"+o[0].r+"}}' mapping is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",{ractive:t.instance}),t.parentFragment.ractive.get(r),a=t.parentFragment.findContext().joinKey(r)),e.map(r,a),void 0===a.get()&&r in n&&a.set(n[r])}else!function(){var n=new xh({owner:t,template:o}).bind(),i=e.joinKey(r);i.set(n.valueOf()),n.bubble=function(){xh.prototype.bubble.call(n),i.set(n.valueOf())},t.complexMappings.push(n)}()}),Je(this.instance,{partials:this._partials},{indexRefs:this.instance.isolated?{}:this.parentFragment.indexRefs,keyRefs:this.instance.isolated?{}:this.parentFragment.keyRefs,cssIds:this.parentFragment.cssIds})},e.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.parentFragment.bubble())},e.prototype.checkYielders=function(){var t=this;Object.keys(this.yielders).forEach(function(e){if(t.yielders[e].length>1)throw Zo.end(),new Error("A component template can only have one {{yield"+(e?" "+e:"")+"}} declaration at a time")})},e.prototype.detach=function(){return this.instance.fragment.detach()},e.prototype.find=function(t){return this.instance.fragment.find(t)},e.prototype.findAll=function(t,e){this.instance.fragment.findAll(t,e)},e.prototype.findComponent=function(t){return t&&this.name!==t?this.instance.fragment?this.instance.fragment.findComponent(t):void 0:this.instance},e.prototype.findAllComponents=function(t,e){e.test(this)&&(e.add(this.instance),e.live&&this.liveQueries.push(e)),this.instance.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(){return this.instance.fragment.firstNode()},e.prototype.rebind=function(){var t=this;this.complexMappings.forEach(B),this.liveQueries.forEach(dn),this.template.a&&!function(){var e=t.instance.viewmodel;Object.keys(t.template.a).forEach(function(n){var r=t.template.a[n];if(i(r)&&1===r.length&&r[0].t===ja){var o=ju(t.parentFragment,r[0]);o||(d("The "+n+"='{{"+r[0].r+"}}' mapping is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",{ractive:t.instance}),t.parentFragment.ractive.get(n),o=t.parentFragment.findContext().joinKey(n)),e.map(n,o)}})}(),this.instance.fragment.rebind(this.instance.viewmodel)},e.prototype.render=function(t){zs(this.instance,t,null),this.checkYielders(),$u(this),this.rendered=!0},e.prototype.setupEvents=function(){var t=this;Object.keys(this.template.v).forEach(function(e){var n=t.template.v[e];"string"!=typeof n&&c("Components currently only support simple events - you cannot include arguments. Sorry!");var r=t.ractive;t.instance.on(e,function(){var t=void 0;arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments));var e=Array.prototype.slice.call(arguments);return vt(r,n,{event:t,args:e}),!1})})},e.prototype.toString=function(){return this.instance.toHTML()},e.prototype.unbind=function(){this.complexMappings.forEach(D);var t=this.instance;t.viewmodel.teardown(),t.fragment.unbind(),t._observers.forEach(R),fn(this),t.fragment.rendered&&t.el.__ractive_instances__&&C(t.el.__ractive_instances__,t),Yu.fire(t)},e.prototype.unrender=function(t){var e=this;this.shouldDestroy=t,this.instance.unrender(),this.liveQueries.forEach(function(t){return t.remove(e.instance)})},e.prototype.update=function(){this.instance.fragment.update(),this.checkYielders(),this.dirty=!1},e}(qa),Zu=Gu,Ju=function(t){function e(){mn(this,e),t.apply(this,arguments)}return vn(e,t),e.prototype.bind=function(){},e.prototype.render=function(){},e.prototype.teardown=function(){},e.prototype.toString=function(){return"<!DOCTYPE"+this.template.a+">"},e.prototype.unbind=function(){},e.prototype.unrender=function(){},e}(qa),Xu={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},tc=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,ec=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,nc={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},rc=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],ic=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(nc).join("|")+"));?","g"),oc=/</g,sc=/>/g,ac=/&/g,uc=function(t){function e(n){Nn(this,e),t.call(this,n),this.name=n.name,this.element=n.element,this.parentFragment=n.element.parentFragment,this.ractive=this.parentFragment.ractive,this.rendered=!1,this.updateDelegate=null,this.fragment=null,this.value=null,i(n.template)?this.fragment=new xh({owner:this,template:n.template}):(this.value=n.template,0===this.value&&(this.value="")),this.interpolator=this.fragment&&1===this.fragment.items.length&&this.fragment.items[0].type===ja&&this.fragment.items[0]}return Rn(e,t),e.prototype.bind=function(){this.fragment&&this.fragment.bind()},e.prototype.bubble=function(){this.dirty||(this.element.bubble(),this.dirty=!0)},e.prototype.getString=function(){return this.fragment?this.fragment.toString():null!=this.value?""+this.value:""},e.prototype.getValue=function(){return this.fragment?this.fragment.valueOf():tc.test(this.name)?!0:this.value},e.prototype.rebind=function(){this.unbind(),this.bind()},e.prototype.render=function(){var t=this.element.node;if(this.node=t,!t.namespaceURI||t.namespaceURI===lo){var e=Xu[this.name]||this.name;void 0!==t[e]&&(this.propertyName=e),(tc.test(this.name)||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)}this.rendered=!0,this.updateDelegate=yn(this),this.updateDelegate()},e.prototype.toString=function(){var t=this.getValue();if("value"!==this.name||void 0===this.element.getAttribute("contenteditable")&&"select"!==this.element.name&&"textarea"!==this.element.name){if("name"===this.name&&"input"===this.element.name&&this.interpolator)return'name="{{'+this.interpolator.model.getKeypath()+'}}"';if(tc.test(this.name))return t?this.name:"";if(null==t)return"";var e=n(this.getString()).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");return e?this.name+'="'+e+'"':this.name}},e.prototype.unbind=function(){this.fragment&&this.fragment.unbind()},e.prototype.update=function(){this.dirty&&(this.fragment&&this.fragment.update(),this.rendered&&this.updateDelegate(),this.dirty=!1)},e}(qa),cc=Gi?eo("div"):null,hc=function(t){function e(n){In(this,e),t.call(this,n),this.attributes=[],this.owner=n.owner,this.fragment=new xh({ractive:this.ractive,owner:this,template:[this.template]}),this.dirty=!1}return Vn(e,t),e.prototype.bind=function(){this.fragment.bind()},e.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble())},e.prototype.rebind=function(){throw new Error("ConditionalAttribute$rebind is not yet implemented")},e.prototype.render=function(){this.node=this.owner.node,this.isSvg=this.node.namespaceURI===fo,this.rendered=!0,this.dirty=!0,this.update()},e.prototype.toString=function(){return this.fragment.toString()},e.prototype.unbind=function(){this.fragment.unbind()},e.prototype.unrender=function(){this.rendered=!1},e.prototype.update=function(){var t=this;this.dirty&&(this.fragment.update(),this.rendered&&!function(){var e=t.fragment.toString(),n=Ln(e,t.isSvg);t.attributes.filter(function(t){return Bn(n,t)}).forEach(function(e){t.node.removeAttribute(e.name)}),n.forEach(function(e){t.node.setAttribute(e.name,e.value)}),t.attributes=n}(),this.dirty=!1)},e}(qa),pc={update:vo,teardown:vo},lc=function(){function t(e,n){Mn(this,t),this.owner=e,this.template=n,this.parentFragment=e.parentFragment,this.ractive=e.ractive,this.dynamicName="object"==typeof n.n,this.dynamicArgs=!!n.d,this.dynamicName?this.nameFragment=new xh({owner:this,template:n.n}):this.name=n.n||n,this.dynamicArgs?this.argsFragment=new xh({owner:this,template:n.d}):this.args=n.a||[],this.node=null,this.intermediary=null}return t.prototype.bind=function(){this.dynamicName&&(this.nameFragment.bind(),this.name=this.nameFragment.toString()),this.dynamicArgs&&this.argsFragment.bind()},t.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble())},t.prototype.rebind=function(){this.dynamicName&&this.nameFragment.rebind(),this.dynamicArgs&&this.argsFragment.rebind()},t.prototype.render=function(){var t=m("decorators",this.ractive,this.name);if(!t)return So(this.name,"decorators"),void(this.intermediary=pc);this.node=this.owner.node;var e=this.dynamicArgs?this.argsFragment.getArgsList():this.args;if(this.intermediary=t.apply(this.ractive,[this.node].concat(e)),!this.intermediary||!this.intermediary.teardown)throw new Error("The '"+this.name+"' decorator must return an object with a teardown method")},t.prototype.unbind=function(){this.dynamicName&&this.nameFragment.unbind(),this.dynamicArgs&&this.argsFragment.unbind()},t.prototype.unrender=function(){this.intermediary.teardown()},t.prototype.update=function(){if(this.dynamicName){var t=this.nameFragment.toString();t!==this.name&&(this.name=t,this.unrender(),this.render())}else if(this.intermediary.update){var e=this.dynamicArgs?this.argsFragment.getArgsList():this.args;this.intermediary.update.apply(this.ractive,e)}else this.unrender(),this.render()},t}(),fc=function(){function t(e,n,r){Dn(this,t),-1!==n.indexOf("*")&&c('Only component proxy-events may contain "*" wildcards, <'+e.name+" on-"+n+'="..."/> is not valid'),this.owner=e,this.name=n,this.template=r,this.ractive=e.parentFragment.ractive,this.parentFragment=e.parentFragment,this.node=null}return t.prototype.bind=function(){for(var t=this,e=this.parentFragment;!e.context;)e=e.parent;this.context=e.context;var n=this.template;n.m?(this.method=n.m,this.resolvers=[],this.models=n.a.r.map(function(e,n){if(/^event(?:\.(.+))?$/.test(e))return{event:!0,keys:e.length>5?e.slice(6).split("."):[],unbind:vo};var r=Ot(t.parentFragment,e);return r||!function(){var r=t.parentFragment.resolve(e,function(e){t.models[n]=e,C(t.resolvers,r)});t.resolvers.push(r)}(),r}),this.argsFn=Xe(n.a.s,n.a.r.length)):(this.action="string"==typeof n?n:"string"==typeof n.n?n.n:new xh({owner:this,template:n.n}),this.args=n.a?"string"==typeof n.a?[n.a]:n.a:n.d?new xh({owner:this,template:n.d}):[]),this.template.n&&"string"!=typeof this.template.n&&this.action.bind(),this.template.d&&this.args.bind()},t.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble())},t.prototype.fire=function(t){if(t.keypath=this.context.getKeypath(),t.context=this.context.get(),t.index=this.parentFragment.indexRefs,this.method){if("function"!=typeof this.ractive[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');var e=this.models.map(function(e){if(!e)return void 0;if(e.event){for(var n=t,r=e.keys.slice();r.length;)n=n[r.shift()];return n}return e.wrapper?e.wrapper.value:e.get()}),n=this.ractive.event;this.ractive.event=t;var r=this.argsFn.apply(null,e);this.ractive[this.method].apply(this.ractive,r),this.ractive.event=n}else{var i=this.action.toString(),r=this.template.d?this.args.getArgsList():this.args;t.name=i,vt(this.ractive,i,{event:t,args:r})}},t.prototype.rebind=function(){throw new Error("EventHandler$rebind not yet implemented!")},t.prototype.render=function(){var t=this;this.node=this.owner.node;var e=m("events",this.ractive,this.name);if(e){var n=function(e){return t.fire(e)};this.customHandler=e(this.node,n)}else"on"+this.name in this.node||So(this.name,"events"),this.node._ractive.events[this.name]=this,this.node.addEventListener(this.name,Kn,!1)},t.prototype.unbind=function(){var t=this.template;t.m?(this.resolvers.forEach(D),this.resolvers=[],this.models.forEach(function(t){t&&t.unbind()})):(this.action.unbind&&this.action.unbind(),this.args.unbind&&this.args.unbind())},t.prototype.unrender=function(){this.customHandler?this.customHandler.teardown():(this.node.removeEventListener(this.name,Kn,!1),this.node._ractive.events[this.name]=null)},t.prototype.update=function(){this.method||(this.action.update&&this.action.update(),this.template.d&&this.args.update())},t}(),dc=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Zi?(Qu={},Wu=eo("div").style,Hu=function(t){var e,n,r;if(t=dc(t),!Qu[t])if(void 0!==Wu[t])Qu[t]=t;else for(r=t.charAt(0).toUpperCase()+t.substring(1),e=po.length;e--;)if(n=po[e],void 0!==Wu[n+r]){Qu[t]=n+r;break}return Qu[t]}):Hu=null;var mc=Hu,vc=void 0,yc="hidden";if(Gi){var gc=void 0;if(yc in Gi)gc="";else for(var bc=po.length;bc--;){var wc=po[bc];if(yc=wc+"Hidden",yc in Gi){gc=wc,Gi.addEventListener(gc+"visibilitychange",Un),Un();break}}void 0===gc&&("onfocusout"in Gi?(Gi.addEventListener("focusout",qn),Gi.addEventListener("focusin",Hn)):(Yi.addEventListener("pagehide",qn),Yi.addEventListener("blur",qn),Yi.addEventListener("pageshow",Hn),Yi.addEventListener("focus",Hn)),vc=!0)}var Ec=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(d(So(t.easing,"easing")),e=Qn)):e="function"==typeof t.easing?t.easing:Qn,this.easing=e,this.start=Do(),this.end=this.start+this.duration,this.running=!0,ts.add(this)};Ec.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var _c,Oc,xc,jc,kc,Tc,Cc,Ac,Pc=new RegExp("^-(?:"+po.join("|")+")-"),Sc=function(t){return t.replace(Pc,"")},Fc=new RegExp("^(?:"+po.join("|")+")([A-Z])"),Nc=function(t){var e;return t?(Fc.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Rc={},Ic={};Zi?(Oc=eo("div").style,function(){void 0!==Oc.transition?(xc="transition",jc="transitionend",kc=!0):void 0!==Oc.webkitTransition?(xc="webkitTransition",jc="webkitTransitionEnd",kc=!0):kc=!1}(),xc&&(Tc=xc+"Duration",Cc=xc+"Property",Ac=xc+"TimingFunction"),_c=function(t,e,n,r,i){setTimeout(function(){var o,s,a,u,c;u=function(){s&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),i())},o=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[Cc]=r.map(mc).map(Nc).join(","),t.node.style[Ac]=Nc(n.easing||"linear"),t.node.style[Tc]=n.duration/1e3+"s",c=function(e){var n;n=r.indexOf(dc(Sc(e.propertyName))),-1!==n&&r.splice(n,1),r.length||(t.node.removeEventListener(jc,c,!1),a=!0,u())},t.node.addEventListener(jc,c,!1),setTimeout(function(){for(var i,h,p,l,d,m=r.length,v=[];m--;)l=r[m],i=o+l,kc&&!Ic[i]&&(t.node.style[mc(l)]=e[l],Rc[i]||(h=t.getStyle(l),Rc[i]=t.getStyle(l)!=e[l],Ic[i]=!Rc[i],Ic[i]&&(t.node.style[mc(l)]=h))),(!kc||Ic[i])&&(void 0===h&&(h=t.getStyle(l)),p=r.indexOf(l),-1===p?f("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):r.splice(p,1),d=/[^\d]*$/.exec(e[l])[0],v.push({name:mc(l),interpolator:Fo(parseFloat(h),parseFloat(e[l])),suffix:d}));v.length?new Ec({root:t.root,duration:n.duration,easing:dc(n.easing||""),step:function(e){var n,r;for(r=v.length;r--;)n=v[r],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){s=!0,u()}}):s=!0,r.length||(t.node.removeEventListener(jc,c,!1),a=!0,u())},0)},n.delay||0)}):_c=null;var Vc,Lc,Bc=Yi&&(Yi.getComputedStyle||wo.getComputedStyle),Mc=zo.resolve(),Dc=function(){function t(e,n,r){zn(this,t),this.owner=e,this.isIntro=r,this.ractive=e.ractive;var i=e.ractive,o=n.n||n;if("string"!=typeof o){var s=new xh({owner:e,template:o}).bind();if(o=s.toString(),s.unbind(),""===o)return}if(this.name=o,n.a)this.params=n.a;else if(n.d){var s=new xh({owner:e,template:n.d}).bind();this.params=s.getArgsList(),s.unbind()}this._fn=m("transitions",i,o),this._fn||d(So(o,"transition"),{ractive:i})}return t.prototype.animateStyle=function(t,e,n){var r=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(!vc)return this.setStyle(t,e),Mc;var i=void 0;"string"==typeof t?(i={},i[t]=e):(i=t,n=e),n||(d('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var o=new zo(function(t){var e,o,s,a,u,c,h;if(!n.duration)return r.setStyle(i),void t();for(e=Object.keys(i),o=[],s=Bc(r.node),u={},c=e.length;c--;)h=e[c],a=s[mc(h)],"0px"===a&&(a=0),a!=i[h]&&(o.push(h),r.node.style[mc(h)]=a);return o.length?void _c(r,i,n,o,t):void t()});return o},t.prototype.getStyle=function(t){var e,n,r,o,s;if(e=Bc(this.node),"string"==typeof t)return s=e[mc(t)],"0px"===s&&(s=0),s;if(!i(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},r=t.length;r--;)o=t[r],s=e[mc(o)],"0px"===s&&(s=0),n[o]=s;return n},t.prototype.processParams=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),r({},e,t)},t.prototype.setStyle=function(t,e){var n;if("string"==typeof t)this.node.style[mc(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[mc(n)]=t[n]);return this},t.prototype.start=function(){var t,e,n,r=this;return t=this.node=this.owner.node,e=t.getAttribute("style"),this.complete=function(i){n||(!i&&r.isIntro&&Wn(t,e),r._manager.remove(r),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()},t}(),Kc=$n,Uc=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?"value":arguments[1];Yn(this,t),this.element=e,this.ractive=e.ractive,this.attribute=e.attributeByName[n];var r=this.attribute.interpolator;r.twowayBinding=this;var i=r.model;if(i){if(i.isUnresolved)i.forceResolution(),Zn("expression",this.ractive);else if(i.isReadonly){var o=i.getKeypath().replace(/^@/,"");return d("Cannot use two-way binding on <"+e.name+"> element: "+o+" is read-only. To suppress this warning use <"+e.name+" twoway='false'...>",{ractive:this.ractive}),!1}}else r.resolver.forceResolution(),i=r.model,Zn("'"+r.template.r+"' reference",this.ractive);this.attribute.isTwoway=!0,this.model=i;var s=i.get();void 0===s&&this.getInitialValue&&(s=this.getInitialValue(),i.set(s));var a=Gn(e);a&&(this.resetValue=s,a.formBindings.push(this))}return t.prototype.bind=function(){this.model.registerTwowayBinding(this)},t.prototype.handleChange=function(){var t=this;Zo.start(this.root),this.attribute.locked=!0,this.model.set(this.getValue()),Zo.scheduleTask(function(){return t.attribute.locked=!1}),Zo.end()},t.prototype.rebind=function(){this.unbind(),this.model=this.attribute.interpolator.model,this.bind()},t.prototype.render=function(){this.node=this.element.node,this.node._ractive.binding=this,this.rendered=!0},t.prototype.unbind=function(){this.model.unregisterTwowayBinding(this)},t.prototype.unrender=function(){},t}(),qc=Uc,Hc=function(t){function e(n){Xn(this,e),t.call(this,n,"checked")}return tr(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",Jn,!1),this.node.attachEvent&&this.node.addEventListener("click",Jn,!1)},e.prototype.unrender=function(){this.node.removeEventListener("change",Jn,!1),this.node.removeEventListener("click",Jn,!1)},e.prototype.getInitialValue=function(){return!!this.element.getAttribute("checked")},e.prototype.getValue=function(){return this.node.checked},e}(qc),Qc={},Wc=function(){function t(e,n){er(this,t),this.model=e,this.getValue=n,this.bindings=[]}return t.prototype.add=function(t){this.bindings.push(t)},t.prototype.bind=function(){this.model.registerTwowayBinding(this),this.bound=!0},t.prototype.remove=function(t){C(this.bindings,t),this.bindings.length||this.unbind()},t.prototype.unbind=function(){this.model.unregisterTwowayBinding(this),this.bound=!1},t}(),zc=[].push,$c=function(t){function e(n){rr(this,e),t.call(this,n,"name");var r,i;this.checkboxName=!0,this.group=nr(this.ractive._guid,"checkboxes",this.model,ar),this.group.add(this),this.noInitialValue&&(this.group.noInitialValue=!0),this.group.noInitialValue&&this.element.getAttribute("checked")&&(r=this.model.get(),i=this.element.getAttribute("value"),zc.call(r,i))}return ir(e,t),e.prototype.bind=function(){this.group.bound||this.group.bind()},e.prototype.changed=function(){var t=!!this.isChecked;return this.isChecked=this.node.checked,this.isChecked===t},e.prototype.getInitialValue=function(){return this.noInitialValue=!0,[]},e.prototype.getValue=function(){return this.group.getValue()},e.prototype.handleChange=function(){this.isChecked=this.element.node.checked,t.prototype.handleChange.call(this)},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node,n=this.model.get(),r=this.element.getAttribute("value");i(n)?this.isChecked=x(n,r):this.isChecked=n==r,e.name="{{"+this.model.getKeypath()+"}}",e.checked=this.isChecked,e.addEventListener("change",Jn,!1),e.attachEvent&&e.addEventListener("click",Jn,!1)},e.prototype.unbind=function(){this.group.remove(this)},e.prototype.unrender=function(){var t=this.element.node;t.removeEventListener("change",Jn,!1),t.removeEventListener("click",Jn,!1)},e}(qc),Yc=function(t){function e(){ur(this,e),t.apply(this,arguments)}return cr(e,t),e.prototype.getInitialValue=function(){return this.element.fragment?this.element.fragment.toString():""},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node;e.addEventListener("change",Jn,!1),e.addEventListener("blur",Jn,!1),this.ractive.lazy||(e.addEventListener("input",Jn,!1),e.attachEvent&&e.addEventListener("keyup",Jn,!1))},e.prototype.unrender=function(){var t=this.node;t.removeEventListener("blur",Jn,!1),t.removeEventListener("change",Jn,!1),t.removeEventListener("input",Jn,!1),t.removeEventListener("keyup",Jn,!1)},e.prototype.getValue=function(){return this.element.node.innerHTML},e}(qc),Gc=function(t){function e(){hr(this,e),t.apply(this,arguments)}return pr(e,t),e}(qc),Zc=function(t){function e(){lr(this,e),t.apply(this,arguments)}return fr(e,t),e.prototype.getInitialValue=function(){return""},e.prototype.getValue=function(){return this.node.value},e.prototype.render=function(){t.prototype.render.call(this);var e=this.ractive.lazy,n=!1;this.element.template.a&&"lazy"in this.element.template.a&&(e=this.element.template.a.lazy,0===e&&(e=!0)),"false"===e&&(e=!1),s(e)&&(n=+e,e=!1),this.handler=n?mr(n):Jn;var r=this.node;r.addEventListener("change",Jn,!1),e||(r.addEventListener("input",this.handler,!1),r.attachEvent&&r.addEventListener("keyup",this.handler,!1)),r.addEventListener("blur",dr,!1)},e.prototype.unrender=function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",Jn,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",dr,!1)},e}(qc),Jc=function(t){function e(){vr(this,e),t.apply(this,arguments)}return yr(e,t),e.prototype.forceUpdate=function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,Zo.scheduleTask(function(){return t.attribute.locked=!1}),this.model.set(e))},e.prototype.getInitialValue=function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},e.prototype.getValue=function(){for(var t=this.element.node.options,e=t.length,n=[],r=0;e>r;r+=1){var i=t[r];if(i.selected){var o=i._ractive?i._ractive.value:i.value;n.push(o)}}return n},e.prototype.handleChange=function(){var e=this.attribute,n=e.getValue(),r=this.getValue();return void 0!==n&&j(r,n)||t.prototype.handleChange.call(this),this},e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",Jn,!1),void 0===this.model.get()&&this.handleChange()},e.prototype.setValue=function(){throw new Error("TODO not implemented yet")},e.prototype.unrender=function(){this.node.removeEventListener("change",Jn,!1)},e.prototype.updateModel=function(){void 0!==this.attribute.value&&this.attribute.value.length||this.keypath.set(this.initialValue)},e}(qc),Xc=function(t){function e(){gr(this,e),t.apply(this,arguments)}return br(e,t),e.prototype.getInitialValue=function(){return void 0},e.prototype.getValue=function(){var t=parseFloat(this.node.value);return isNaN(t)?void 0:t},e}(qc),th={},eh=function(t){function e(n){wr(this,e),t.call(this,n,"checked"),this.siblings=_r(this.ractive._guid+this.element.getAttribute("name")),this.siblings.push(this)}return Er(e,t),e.prototype.getValue=function(){return this.node.checked},e.prototype.handleChange=function(){Zo.start(this.root),this.siblings.forEach(function(t){t.model.set(t.getValue())}),Zo.end()},e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",Jn,!1),this.node.attachEvent&&this.node.addEventListener("click",Jn,!1)},e.prototype.unbind=function(){C(this.siblings,this)},e.prototype.unrender=function(){this.node.removeEventListener("change",Jn,!1),this.node.removeEventListener("click",Jn,!1)},e}(qc),nh=function(t){function e(n){Or(this,e),t.call(this,n,"name"),this.group=nr(this.ractive._guid,"radioname",this.model,jr),this.group.add(this)}return xr(e,t),e.prototype.bind=function(){var t=this;this.group.bound||this.group.bind(),this.nameAttributeBinding={handleChange:function(){return t.node.name="{{"+t.model.getKeypath()+"}}"}},this.model.getKeypathModel().register(this.nameAttributeBinding)},e.prototype.getInitialValue=function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},e.prototype.getValue=function(){return this.element.getAttribute("value")},e.prototype.handleChange=function(){this.node.checked&&t.prototype.handleChange.call(this)},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node;e.name="{{"+this.model.getKeypath()+"}}",e.checked=this.model.get()==this.element.getAttribute("value"),e.addEventListener("change",Jn,!1),e.attachEvent&&e.addEventListener("click",Jn,!1)},e.prototype.unbind=function(){this.group.remove(this),this.model.getKeypathModel().unregister(this.nameAttributeBinding)},e.prototype.unrender=function(){var t=this.node;t.removeEventListener("change",Jn,!1),t.removeEventListener("click",Jn,!1)},e}(qc),rh=function(t){function e(){kr(this,e),t.apply(this,arguments)}return Tr(e,t),e.prototype.forceUpdate=function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,Zo.scheduleTask(function(){return t.attribute.locked=!1}),this.model.set(e))},e.prototype.getInitialValue=function(){if(void 0===this.element.getAttribute("value")){var t=this.element.options,e=t.length;if(e){for(var n=void 0,r=void 0,i=e;i--;){var o=t[i];if(o.getAttribute("selected")){o.getAttribute("disabled")||(n=o.getAttribute("value")),r=!0;break}}if(!r)for(;++i<e;)if(!t[i].getAttribute("disabled")){n=t[i].getAttribute("value");break}return void 0!==n&&(this.element.attributeByName.value.value=n),n}}},e.prototype.getValue=function(){var t,e,n,r,i;for(t=this.node.options,n=t.length,e=0;n>e;e+=1)if(r=t[e],t[e].selected&&!t[e].disabled)return i=r._ractive?r._ractive.value:r.value},e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",Jn,!1)},e.prototype.setValue=function(t){this.model.set(t)},e.prototype.unrender=function(){this.node.removeEventListener("change",Jn,!1)},e}(qc),ih=function(t){function e(n){var r=this;Pr(this,e),t.call(this,n),this.liveQueries=[],this.name=n.template.e.toLowerCase(),this.isVoid=ec.test(this.name);for(var i=this.parentFragment;i;){if(i.owner.type===Ca){this.parent=i.owner;break}i=i.parent}this.attributeByName={},this.attributes=[],this.template.a&&(Object.keys(this.template.a).forEach(function(t){if("twoway"!==t&&"lazy"!==t){var e=new uc({name:t,element:r,parentFragment:r.parentFragment,template:r.template.a[t]});r.attributeByName[t]=e,"value"!==t&&"type"!==t&&r.attributes.push(e);
}}),this.attributeByName.type&&this.attributes.unshift(this.attributeByName.type),this.attributeByName.value&&this.attributes.push(this.attributeByName.value)),this.conditionalAttributes=(this.template.m||[]).map(function(t){return new hc({owner:r,parentFragment:r.parentFragment,template:t})}),this.template.o&&(this.decorator=new lc(this,this.template.o)),this.eventHandlers=[],this.template.v&&Object.keys(this.template.v).forEach(function(t){var e=t.split("-"),n=r.template.v[t];e.forEach(function(t){r.eventHandlers.push(new fc(r,t,n))})}),n.template.f&&(this.fragment=new xh({template:n.template.f,owner:this,cssIds:null})),this.binding=null}return Sr(e,t),e.prototype.bind=function(){this.attributes.forEach(N),this.conditionalAttributes.forEach(N),this.eventHandlers.forEach(N),this.decorator&&this.decorator.bind(),this.fragment&&this.fragment.bind(),(this.binding=this.createTwowayBinding())&&this.binding.bind()},e.prototype.createTwowayBinding=function(){var t=this.template.a;if(!t)return null;var e="twoway"in t?0===t.twoway||"true"===t.twoway:this.ractive.twoway;if(!e)return null;var n=Ar(this);if(!n)return null;var r=new n(this);return r&&r.model?r:null},e.prototype.detach=function(){this.decorator&&this.decorator.unrender();var t=this.node.parentNode;return t&&t.removeChild(this.node),this.node},e.prototype.find=function(t){return no(this.node,t)?this.node:this.fragment?this.fragment.find(t):void 0},e.prototype.findAll=function(t,e){var n=e.test(this.node);n&&(e.add(this.node),e.live&&this.liveQueries.push(e)),this.fragment&&this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){return this.fragment?this.fragment.findComponent(t):void 0},e.prototype.findAllComponents=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},e.prototype.findNextNode=function(){return null},e.prototype.firstNode=function(){return this.node},e.prototype.getAttribute=function(t){var e=this.attributeByName[t];return e?e.getValue():void 0},e.prototype.rebind=function(){this.attributes.forEach(B),this.conditionalAttributes.forEach(B),this.decorator&&this.decorator.rebind(),this.fragment&&this.fragment.rebind(),this.binding&&this.binding.rebind(),this.liveQueries.forEach(Fr)},e.prototype.render=function(t){var e=this;this.namespace=Vr(this);var n=eo(this.template.e,this.namespace);this.node=n;var r=this.parentFragment.findContext();go(n,"_ractive",{value:{proxy:this,ractive:this.ractive,fragment:this.parentFragment,events:{},context:r,keypath:r.getKeypath()}}),this.parentFragment.cssIds&&n.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),this.fragment&&this.fragment.render(n),this.attributes.forEach(L),this.conditionalAttributes.forEach(L),this.decorator&&Zo.scheduleTask(function(){return e.decorator.render()},!0),this.binding&&this.binding.render(),this.eventHandlers.forEach(L),Kc(this);var i=this.template.t0||this.template.t1;if(i&&this.ractive.transitionsEnabled){var o=new Dc(this,i,!0);Zo.registerTransition(o),this._introTransition=o}t.appendChild(n),this.rendered=!0},e.prototype.toString=function(){var t=this.template.e,e=this.attributes.map(Rr).join("")+this.conditionalAttributes.map(Rr).join("");"option"===this.name&&this.isSelected()&&(e+=" selected"),"input"===this.name&&Nr(this)&&(e+=" checked");var n="<"+t+e+">";return this.isVoid?n:("textarea"===this.name&&void 0!==this.getAttribute("value")?n+=Sn(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(n+=this.getAttribute("value")||""),this.fragment&&(n+=this.fragment.toString(!/^(?:script|style)$/i.test(this.template.e))),n+="</"+t+">")},e.prototype.unbind=function(){this.attributes.forEach(D),this.conditionalAttributes.forEach(D),this.decorator&&this.decorator.unbind(),this.fragment&&this.fragment.unbind()},e.prototype.unrender=function(t){if(this.rendered){this.rendered=!1;var e=this._introTransition;e&&e.complete(),"option"===this.name?this.detach():t&&Zo.detachWhenReady(this),this.fragment&&this.fragment.unrender(),this.eventHandlers.forEach(K),this.binding&&this.binding.unrender(),!t&&this.decorator&&this.decorator.unrender();var n=this.template.t0||this.template.t2;if(n&&this.ractive.transitionsEnabled){var r=new Dc(this,n,!1);Zo.registerTransition(r)}var i=this.attributeByName.id;i&&delete this.ractive.nodes[i.getValue()],Ir(this)}},e.prototype.update=function(){this.dirty&&(this.attributes.forEach(q),this.conditionalAttributes.forEach(q),this.eventHandlers.forEach(q),this.decorator&&this.decorator.update(),this.fragment&&this.fragment.update(),this.dirty=!1)},e}(qa),oh=function(t){function e(n){Lr(this,e),t.call(this,n),this.formBindings=[]}return Br(e,t),e.prototype.render=function(e){t.prototype.render.call(this,e),this.node.addEventListener("reset",Mr,!1)},e.prototype.unrender=function(){this.node.removeEventListener("reset",Mr,!1)},e}(ih),sh=function(t){function e(n){Kr(this,e),t.call(this,n),this.parentFragment=n.parentFragment,this.template=n.template,this.index=n.index,this.isStatic=!!n.template.s,this.model=null,this.dirty=!1}return Ur(e,t),e.prototype.bind=function(){var t=this,e=ju(this.parentFragment,this.template),n=e?e.get():void 0;return this.isStatic?void(this.model={get:function(){return n}}):void(e?(e.register(this),this.model=e):this.resolver=this.parentFragment.resolve(this.template.r,function(e){t.model=e,e.register(t),t.handleChange(),t.resolver=null}))},e.prototype.handleChange=function(){this.bubble()},e.prototype.rebind=function(){if(!this.isStatic&&this.model){var t=ju(this.parentFragment,this.template);if(t!==this.model){var e=this.model.get();this.model.unregister(this),t.register(this),this.model=t,t.get()!==e&&this.handleChange()}}},e.prototype.unbind=function(){this.isStatic||(this.model&&this.model.unregister(this),this.resolver&&this.resolver.unbind())},e}(qa),ah=function(t){function e(){qr(this,e),t.apply(this,arguments)}return Hr(e,t),e.prototype.detach=function(){return this.node.parentNode.removeChild(this.node)},e.prototype.firstNode=function(){return this.node},e.prototype.getString=function(){return this.model?n(this.model.get()):""},e.prototype.render=function(t){this.rendered=!0,this.node=Gi.createTextNode(this.getString()),t.appendChild(this.node)},e.prototype.toString=function(t){var e=this.getString();return t?Sn(e):e},e.prototype.unrender=function(t){t&&this.detach(),this.rendered=!1},e.prototype.update=function(){this.dirty&&(this.rendered&&(this.node.data=this.getString()),this.dirty=!1)},e.prototype.valueOf=function(){return this.model?this.model.get():void 0},e}(sh),uh=function(t){function e(){Qr(this,e),t.apply(this,arguments)}return Wr(e,t),e.prototype.render=function(e){t.prototype.render.call(this,e),this.node.defaultValue=this.node.value},e}(ih),ch=function(t){function e(n){zr(this,e);var r=n.template;r.a||(r.a={}),void 0!==r.a.value||"disabled"in r||(r.a.value=r.f),t.call(this,n),this.select=Yr(this.parent)}return $r(e,t),e.prototype.bind=function(){if(!this.select)return void t.prototype.bind.call(this);var e=this.attributeByName.selected;if(e&&void 0!==this.select.getAttribute("value")){var n=this.attributes.indexOf(e);this.attributes.splice(n,1),delete this.attributeByName.selected}t.prototype.bind.call(this),this.select.options.push(this)},e.prototype.isSelected=function(){var t=this.getAttribute("value");if(void 0===t||!this.select)return!1;var e=this.select.getAttribute("value");if(e==t)return!0;if(this.select.getAttribute("multiple")&&i(e))for(var n=e.length;n--;)if(e[n]==t)return!0},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.select&&C(this.select.options,this)},e}(ih),hh=function(t){function e(){ei(this,e),t.apply(this,arguments)}return ni(e,t),e.prototype.bind=function(){t.prototype.bind.call(this);var e=this.template.r?Gr(this.ractive,this.template.r,this.parentFragment)||null:null;e?(this.named=!0,this.setTemplate(this.template.r,e)):this.model&&"string"==typeof this.model.get()||!this.template.r?this.setTemplate(this.model.get()):this.setTemplate(this.template.r,e),this.fragment=new xh({owner:this,template:this.partialTemplate}).bind()},e.prototype.detach=function(){return this.fragment.detach()},e.prototype.find=function(t){return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(){return this.fragment.firstNode()},e.prototype.forceResetTemplate=function(){this.partialTemplate=Gr(this.ractive,this.name,this.parentFragment),this.partialTemplate||(d("Could not find template for partial '"+this.name+"'"),this.partialTemplate=[]),this.fragment.resetTemplate(this.partialTemplate),this.bubble()},e.prototype.rebind=function(){t.prototype.unbind.call(this),t.prototype.bind.call(this),this.fragment.rebind()},e.prototype.render=function(t){this.fragment.render(t)},e.prototype.setTemplate=function(t,e){this.name=t,e||null===e||(e=Gr(this.ractive,t,this.parentFragment)),e||d("Could not find template for partial '"+t+"'"),this.partialTemplate=e||[]},e.prototype.toString=function(t){return this.fragment.toString(t)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.fragment.unbind()},e.prototype.unrender=function(t){this.fragment.unrender(t)},e.prototype.update=function(){this.dirty&&(this.named||this.model&&"string"==typeof this.model.get()&&this.model.get()!==this.name&&(this.setTemplate(this.model.get()),this.fragment.resetTemplate(this.partialTemplate)),this.fragment.update(),this.dirty=!1)},e}(sh),ph=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),lh=function(){function e(t){ri(this,e),this.parent=t.owner.parentFragment,this.parentFragment=this,this.owner=t.owner,this.ractive=this.parent.ractive,this.template=t.template,this.indexRef=t.indexRef,this.keyRef=t.keyRef,this.pendingNewIndices=null,this.indexByKey=null}return e.prototype.bind=function(t){var e=this;this.context=t;var n=t.get();if(i(n)){this.iterations=[];for(var r=0;r<n.length;r+=1)this.iterations[r]=this.createIteration(r,r)}else if(a(n)){if(this.indexRef){var o=this.indexRef.split(","),s=ph(o,2),u=s[0],c=s[1];this.keyRef=u,this.indexRef=c}this.indexByKey={},this.iterations=Object.keys(n).map(function(t,n){return e.indexByKey[t]=n,e.createIteration(t,n)})}return this},e.prototype.bubble=function(){this.owner.bubble()},e.prototype.createIteration=function(t,e){var n=this.owner.parentFragment,r=ii(this.keyRef,t,n.keyRefs),i=ii(this.indexRef,e,n.indexRefs),o=new xh({owner:this,template:this.template,indexRefs:i,keyRefs:r});o.key=t,o.index=e,o.isIteration=!0;var s=this.context.joinKey(t);return o.bind(s)},e.prototype.detach=function(){var e=t();return this.iterations.forEach(function(t){return e.appendChild(t.detach())}),e},e.prototype.find=function(t){var e=this.iterations.length,n=void 0;for(n=0;e>n;n+=1){var r=this.iterations[n].find(t);if(r)return r}},e.prototype.findAll=function(t,e){var n=this.iterations.length,r=void 0;for(r=0;n>r;r+=1)this.iterations[r].findAll(t,e)},e.prototype.findComponent=function(t){var e=this.iterations.length,n=void 0;for(n=0;e>n;n+=1){var r=this.iterations[n].findComponent(t);if(r)return r}},e.prototype.findAllComponents=function(t,e){var n=this.iterations.length,r=void 0;for(r=0;n>r;r+=1)this.iterations[r].findAllComponents(t,e)},e.prototype.findNextNode=function(t){return t.index<this.iterations.length-1?this.iterations[t.index+1].firstNode():this.owner.findNextNode()},e.prototype.firstNode=function(){return this.iterations[0]?this.iterations[0].firstNode():null},e.prototype.rebind=function(t){this.context=t,i(t.get())&&this.iterations.forEach(function(e,n){e.rebind(t.joinKey(n))})},e.prototype.render=function(t){this.iterations&&this.iterations.forEach(function(e){return e.render(t)}),this.rendered=!0},e.prototype.shuffle=function(t){var e=this;if(this.pendingNewIndices)throw new Error("Section was already shuffled!");this.pendingNewIndices=t,this.previousIterations=this.iterations.slice();var n=[];t.forEach(function(t,r){if(-1!==t){var i=e.iterations[r];n[t]=i,t!==r&&(i.dirty=!0)}}),this.iterations=n,this.bubble()},e.prototype.toString=function(t){return this.iterations?this.iterations.map(t?Q:H).join(""):""},e.prototype.unbind=function(){return this.iterations.forEach(D),this},e.prototype.unrender=function(t){this.iterations.forEach(t?U:K),this.rendered=!1},e.prototype.update=function(){var e=this;if(this.pendingNewIndices)return void this.updatePostShuffle();var n=this.context.get(),r=void 0,o=void 0;if(i(n))this.iterations.length>n.length&&(r=this.iterations.splice(n.length));else if(a(n)){r=[],o={};for(var s=this.iterations.length;s--;){var u=this.iterations[s];u.key in n?o[u.key]=!0:(this.iterations.splice(s,1),r.push(u))}}else r=this.iterations,this.iterations=[];r&&r.forEach(function(t){t.unbind(),t.unrender(!0)}),this.iterations.forEach(q);var c=i(n)?n.length:a(n)?Object.keys(n).length:0;c>this.iterations.length&&!function(){var r=e.rendered?t():null,s=e.iterations.length;if(i(n))for(;s<n.length;){var u=e.createIteration(s,s);e.iterations.push(u),e.rendered&&u.render(r),s+=1}else a(n)&&Object.keys(n).forEach(function(t){if(!(t in o)){var n=e.createIteration(t,s);e.iterations.push(n),e.rendered&&n.render(r),s+=1}});if(e.rendered){var c=e.parent.findParentNode(),h=e.parent.findNextNode(e);c.insertBefore(r,h)}}()},e.prototype.updatePostShuffle=function(){var e=this,n=this.pendingNewIndices,r=-1,i=null;n.forEach(function(t,n){var o=e.previousIterations[n];-1===t?o.unbind().unrender(!0):(o.index=t,o.rebind(e.context.joinKey(t)),null===i&&t!==r+1&&(i=n)),r=t});var o=this.rendered?t():null,s=this.rendered?this.parent.findParentNode():null,a=this.context.get().length,u=void 0;for(u=0;a>u;u+=1){var c=this.iterations[u];this.rendered&&(c?null!==i&&u>=i?o.appendChild(c.detach()):o.childNodes.length&&s.insertBefore(o,c.firstNode()):(this.iterations[u]=this.createIteration(u,u),this.iterations[u].render(o))),this.rendered||c||(this.iterations[u]=this.createIteration(u,u))}this.rendered&&o.childNodes.length&&s.insertBefore(o,this.owner.findNextNode()),this.iterations.forEach(q),this.pendingNewIndices=null},e}(),fh=function(e){function n(t){oi(this,n),e.call(this,t),this.sectionType=t.template.n||null,this.fragment=null}return si(n,e),n.prototype.bind=function(){if(e.prototype.bind.call(this),this.model){var t=this.model.value,n=void 0;if(this.sectionType||(this.sectionType=ui(t,this.template.i)),ai(t)&&this.sectionType!==Ma)return void(this.sectionType===La&&(this.fragment=new xh({owner:this,template:this.template.f}).bind()));if(this.sectionType===La)return;n=this.sectionType===Va?new xh({owner:this,template:this.template.f}).bind():this.sectionType===Ma||this.sectionType===Da?new xh({owner:this,template:this.template.f}).bind(this.model):new lh({owner:this,template:this.template.f,indexRef:this.template.i}).bind(this.model),this.fragment=n}},n.prototype.detach=function(){return this.fragment?this.fragment.detach():t()},n.prototype.find=function(t){return this.fragment?this.fragment.find(t):void 0},n.prototype.findAll=function(t,e){this.fragment&&this.fragment.findAll(t,e)},n.prototype.findComponent=function(t){return this.fragment?this.fragment.findComponent(t):void 0},n.prototype.findAllComponents=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},n.prototype.firstNode=function(){return this.fragment&&this.fragment.firstNode()},n.prototype.rebind=function(){e.prototype.rebind.call(this),this.fragment&&this.fragment.rebind(this.sectionType===Va?null:this.model)},n.prototype.render=function(t){this.rendered=!0,this.fragment&&this.fragment.render(t)},n.prototype.shuffle=function(t){this.fragment&&this.sectionType===Ba&&this.fragment.shuffle(t)},n.prototype.toString=function(t){return this.fragment?this.fragment.toString(t):""},n.prototype.unbind=function(){e.prototype.unbind.call(this),this.fragment&&this.fragment.unbind()},n.prototype.unrender=function(t){this.rendered&&this.fragment&&this.fragment.unrender(t),this.rendered=!1},n.prototype.update=function(){if(this.dirty&&this.model){var e=this.model.value;null===this.sectionType&&(this.sectionType=ui(e,this.template.i));var n=void 0;if(this.sectionType===Ba)this.fragment?this.fragment.update():n=new lh({owner:this,template:this.template.f,indexRef:this.template.i}).bind(this.model);else if(this.sectionType===Ma)this.fragment?this.fragment.update():n=new xh({owner:this,template:this.template.f}).bind(this.model);else if(this.sectionType===Da)this.fragment?ai(e)?(this.rendered&&this.fragment.unbind().unrender(!0),this.fragment=null):this.fragment.update():ai(e)||(n=new xh({owner:this,template:this.template.f}).bind(this.model));else{var r=this.sectionType===La?ai(e):!!e;this.fragment?r?this.fragment.update():(this.rendered&&this.fragment.unbind().unrender(!0),this.fragment=null):r&&(n=new xh({owner:this,template:this.template.f}).bind(null))}if(n){if(this.rendered){var i=this.parentFragment.findParentNode(),o=this.parentFragment.findNextNode(this);if(o){var s=t();n.render(s),o.parentNode.insertBefore(s,o)}else n.render(i)}this.fragment=n}this.dirty=!1}},n}(sh),dh=function(t){function e(n){ci(this,e),t.call(this,n),this.options=[]}return hi(e,t),e.prototype.bubble=function(){var t=this;this.dirty||(this.dirty=!0,this.rendered&&Zo.scheduleTask(function(){t.sync(),t.dirty=!1}),this.parentFragment.bubble())},e.prototype.render=function(e){t.prototype.render.call(this,e),this.sync();for(var n=this.node,r=n.options.length;r--;)n.options[r].defaultSelected=n.options[r].selected;this.rendered=!0},e.prototype.sync=function(){var t=this.node;if(t){var e=A(t.options),n=this.getAttribute("value"),r=this.getAttribute("multiple");if(void 0!==n){var i=void 0;e.forEach(function(t){var e=t._ractive?t._ractive.value:t.value,o=r?pi(n,e):n==e;o&&(i=!0),t.selected=o}),i||r||(e[0]&&(e[0].selected=!0),this.binding&&this.binding.forceUpdate())}else this.binding&&this.binding.forceUpdate()}},e.prototype.update=function(){t.prototype.update.call(this),this.sync()},e}(ih),mh=function(t){function e(n){li(this,e),t.call(this,n),this.type=xa}return fi(e,t),e.prototype.bind=function(){},e.prototype.detach=function(){if(!this.node.parentNode)throw new Error("TODO an unexpected situation arose");return this.node.parentNode.removeChild(this.node)},e.prototype.firstNode=function(){return this.node},e.prototype.rebind=function(){},e.prototype.render=function(t){this.node=Gi.createTextNode(this.template),t.appendChild(this.node),this.rendered=!0},e.prototype.toString=function(t){return t?Sn(this.template):this.template},e.prototype.unbind=function(){},e.prototype.unrender=function(t){this.rendered&&t&&this.detach(),this.rendered=!1},e.prototype.update=function(){},e.prototype.valueOf=function(){return this.template},e}(qa),vh={};try{eo("table").innerHTML="foo"}catch(Eo){Vc=!0,Lc={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var yh,gh=function(t,e,n){var r,i,o,s,a,u=[];if(null!=t&&""!==t){for(Vc&&(i=Lc[e.tagName])?(r=di("DIV"),r.innerHTML=i[0]+t+i[1],r=r.querySelector(".x"),"SELECT"===r.tagName&&(o=r.options[r.selectedIndex])):e.namespaceURI===fo?(r=di("DIV"),r.innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x")):(r=di(e.tagName),r.innerHTML=t,"SELECT"===r.tagName&&(o=r.options[r.selectedIndex]));s=r.firstChild;)u.push(s),n.appendChild(s);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==o&&(u[a].selected=!1)}return u},bh=function(e){function n(t){mi(this,n),e.call(this,t)}return vi(n,e),n.prototype.detach=function(){var e=t();return this.nodes.forEach(function(t){return e.appendChild(t)}),e},n.prototype.find=function(t){var e=this.nodes.length,n=void 0;for(n=0;e>n;n+=1){var r=this.nodes[n];if(1===r.nodeType){if(no(r,t))return r;var i=r.querySelector(t);if(i)return i}}return null},n.prototype.findAll=function(t,e){var n=this.nodes.length,r=void 0;for(r=0;n>r;r+=1){var i=this.nodes[r];if(1===i.nodeType){e.test(i)&&e.add(i);var o=i.querySelectorAll(t);if(o){var s=o.length,a=void 0;for(a=0;s>a;a+=1)e.add(o[a])}}}},n.prototype.findComponent=function(){return null},n.prototype.firstNode=function(){return this.nodes[0]},n.prototype.render=function(t){var e=this.model?this.model.get():"";this.nodes=gh(e,this.parentFragment.findParentNode(),t),this.rendered=!0},n.prototype.toString=function(){return this.model&&null!=this.model.get()?Pn(""+this.model.get()):""},n.prototype.unrender=function(){this.nodes&&this.nodes.forEach(function(t){return t.parentNode.removeChild(t)}),this.rendered=!1},n.prototype.update=function(){if(this.rendered&&this.dirty){this.unrender();var e=t();this.render(e);var n=this.parentFragment.findParentNode(),r=this.parentFragment.findNextNode(this);n.insertBefore(e,r),this.dirty=!1}},n}(sh),wh=function(t){function e(n){yi(this,e),t.call(this,n),this.container=n.parentFragment.ractive,this.component=this.container.component,this.containerFragment=n.parentFragment,this.parentFragment=this.component.parentFragment,this.name=n.template.n||""}return gi(e,t),e.prototype.bind=function(){var t=this.name;(this.component.yielders[t]||(this.component.yielders[t]=[])).push(this);var e=this.container._inlinePartials[t||"content"];"string"==typeof e&&(e=sa(e).t),e||(f('Could not find template for partial "'+t+'"',{ractive:this.ractive}),e=[]),this.fragment=new xh({owner:this,ractive:this.container.parent,template:e}).bind()},e.prototype.detach=function(){return this.fragment.detach()},e.prototype.find=function(t){return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment.find(t,e)},e.prototype.findComponent=function(t){return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(){return this.fragment.firstNode()},e.prototype.rebind=function(){throw new Error("Yielder$rebind is not yet implemented!")},e.prototype.render=function(t){return this.fragment.render(t)},e.prototype.setTemplate=function(t){var e=this.parentFragment.ractive.partials[t];"string"==typeof e&&(e=sa(e).t),this.partialTemplate=e||[]},e.prototype.toString=function(t){return this.fragment.toString(t)},e.prototype.unbind=function(){this.fragment.unbind(),C(this.component.yielders[this.name],this)},e.prototype.unrender=function(t){this.fragment.unrender(t)},e}(qa),Eh=(yh={},wi(yh,Fa,Ju),wi(yh,ja,ah),wi(yh,Aa,hh),wi(yh,Ta,fh),wi(yh,ka,bh),wi(yh,Sa,wh),yh),_h={doctype:Ju,form:oh,input:uh,option:ch,select:dh,textarea:uh},Oh=function(){function t(e,n,r){for(_i(this,t),this.fragment=e,this.reference=g(n),this.callback=r,this.keys=n.split("."),this.resolved=!1;e;)e.context&&e.context.addUnresolved(this.keys[0],this),e=e.componentParent||e.parent}return t.prototype.attemptResolution=function(){if(!this.resolved){var t=_t(this.fragment,this.reference);t&&(this.resolved=!0,this.callback(t))}},t.prototype.forceResolution=function(){if(!this.resolved){var t=this.fragment.findContext().joinAll(this.keys);this.callback(t),this.resolved=!0}},t.prototype.unbind=function(){C(this.fragment.unresolved,this)},t}(),xh=function(){function e(t){xi(this,e),this.owner=t.owner,this.isRoot=!t.owner.parentFragment,this.parent=this.isRoot?null:this.owner.parentFragment,this.ractive=t.ractive||(this.isRoot?t.owner:this.parent.ractive),this.componentParent=this.isRoot&&this.ractive.component?this.ractive.component.parentFragment:null,this.context=null,this.rendered=!1,this.indexRefs=t.indexRefs||(this.parent?this.parent.indexRefs:[]),this.keyRefs=t.keyRefs||(this.parent?this.parent.keyRefs:{}),this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.resolvers=[],this.dirty=!1,this.dirtyArgs=this.dirtyValue=!0,this.template=t.template||[],this.createItems()}return e.prototype.bind=function(t){return this.context=t,this.items.forEach(N),this.bound=!0,this.dirty&&this.update(),this},e.prototype.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,this.dirty||(this.dirty=!0,this.isRoot?this.ractive.component?this.ractive.component.bubble():this.bound&&Zo.addFragment(this):this.owner.bubble())},e.prototype.createItems=function(){var t=this;this.items=this.template.map(function(e,n){return Ei({parentFragment:t,template:e,index:n})})},e.prototype.detach=function(){var e=t();return this.items.forEach(function(t){return e.appendChild(t.detach())}),e},e.prototype.find=function(t){var e=this.items.length,n=void 0;for(n=0;e>n;n+=1){var r=this.items[n].find(t);if(r)return r}},e.prototype.findAll=function(t,e){if(this.items){var n=this.items.length,r=void 0;for(r=0;n>r;r+=1){var i=this.items[r];i.findAll&&i.findAll(t,e)}}return e},e.prototype.findComponent=function(t){var e=this.items.length,n=void 0;for(n=0;e>n;n+=1){var r=this.items[n].findComponent(t);if(r)return r}},e.prototype.findAllComponents=function(t,e){if(this.items){var n=this.items.length,r=void 0;for(r=0;n>r;r+=1){var i=this.items[r];i.findAllComponents&&i.findAllComponents(t,e)}}return e},e.prototype.findContext=function(){for(var t=this;!t.context;)t=t.parent;return t.context},e.prototype.findNextNode=function(t){var e=this.items[t.index+1];return e?e.firstNode():this.isRoot?this.ractive.component?this.ractive.component.parentFragment.findNextNode(this.ractive.component):null:this.owner.findNextNode(this)},e.prototype.findParentNode=function(){var t=this;do{if(t.owner.type===Ca)return t.owner.node;if(t.isRoot&&!t.ractive.component)return t.ractive.el;t=t.componentParent||t.parent}while(t);throw new Error("Could not find parent node")},e.prototype.findRepeatingFragment=function(){for(var t=this;t.parent&&!t.isIteration;)t=t.parent||t.componentParent;return t},e.prototype.firstNode=function(){return this.items[0]?this.items[0].firstNode():this.parent.findNextNode(this.owner)},e.prototype.getArgsList=function(){if(this.dirtyArgs){var t={},e=Oi(this.items,t,this.ractive._guid),n=zu("["+e+"]",t);this.argsList=n?n.value:[this.toString()],this.dirtyArgs=!1}return this.argsList},e.prototype.rebind=function(t){this.context=t,this.items.forEach(B)},e.prototype.render=function(t){if(this.rendered)throw new Error("Fragment is already rendered!");this.rendered=!0,this.items.forEach(function(e){return e.render(t)})},e.prototype.resetTemplate=function(e){var n=this.bound,r=this.rendered;if(n&&(r&&this.unrender(!0),this.unbind()),this.template=e,this.createItems(),n&&(this.bind(this.context),r)){var i=this.findParentNode(),o=this.parent?this.parent.findNextNode(this.owner):null;if(o){var s=t();this.render(s),i.insertBefore(s,o)}else this.render(i)}},e.prototype.resolve=function(t,e){if(!this.context)return this.parent.resolve(t,e);var n=new Oh(this,t,e);return this.resolvers.push(n),n},e.prototype.toHtml=function(){return this.toString()},e.prototype.toString=function(t){return this.items.map(t?Q:H).join("")},e.prototype.unbind=function(){return this.items.forEach(D),this.bound=!1,this},e.prototype.unrender=function(t){this.items.forEach(t?ji:K),this.rendered=!1},e.prototype.update=function(){this.dirty&&(this.items.forEach(q),this.dirty=!1)},e.prototype.valueOf=function(){if(1===this.items.length)return this.items[0].valueOf();if(this.dirtyValue){var t={},e=Oi(this.items,t,this.ractive._guid),n=zu(e,t);this.value=n?n.value:this.toString(),this.dirtyValue=!1}return this.value},e}(),jh=ki,kh=Ls("reverse"),Th=Ti,Ch=Ls("shift"),Ah=Ls("sort"),Ph=Ls("splice"),Sh=Ai,Fh=Pi,Nh=new Uo("teardown"),Rh=Fi,Ih=Ni,Vh=Ri,Lh=new Uo("unrender"),Bh=Ls("unshift"),Mh=Ii,Dh=new Uo("update"),Kh=Vi,Uh={add:Bo,animate:us,detach:hs,find:ls,findAll:ds,findAllComponents:ms,findComponent:vs,findContainer:ys,findParent:gs,fire:Es,get:_s,insert:Os,merge:js,observe:Pt,observeList:Nt,observeOnce:It,off:Ns,on:Rs,once:Is,pop:Bs,push:Ms,render:Gs,reset:ga,resetPartial:Ka,resetTemplate:jh,reverse:kh,set:Th,shift:Ch,sort:Ah,splice:Ph,subtract:Sh,teardown:Fh,toggle:Rh,toHTML:Ih,toHtml:Ih,unrender:Vh,unshift:Bh,update:Mh,updateModel:Kh},qh=function(t,e,n){return n||Li(t,e)?function(){var n,r="_super"in this,i=this._super;return this._super=e,n=t.apply(this,arguments),r&&(this._super=i),n}:t},Hh=Bi,Qh=Ui,Wh=function(t){if(!t||!t._ractive)return{};var e=t._ractive;return{ractive:e.ractive,keypath:e.context.getKeypath(),index:r({},e.fragment.indexRefs),key:r({},e.fragment.keyRefs)}},zh="function";if(typeof Date.now!==zh||typeof String.prototype.trim!==zh||typeof Object.keys!==zh||typeof Array.prototype.indexOf!==zh||typeof Array.prototype.forEach!==zh||typeof Array.prototype.map!==zh||typeof Array.prototype.filter!==zh||Yi&&typeof Yi.addEventListener!==zh)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return r(Hi.prototype,Uh,zi),Hi.prototype.constructor=Hi,Hi.defaults=Hi.prototype,bo(Hi,{DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Qh},getNodeInfo:{value:Wh},parse:{value:sa},Promise:{value:zo},svg:{value:ho},magic:{value:Xi},VERSION:{value:"0.8.0-edge"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:$i},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Ro},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}}),Hi});
//# sourceMappingURL=ractive-legacy.runtime.min.js.map
