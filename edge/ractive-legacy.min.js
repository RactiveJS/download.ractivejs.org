/*
	ractive-legacy.min.js v0.6.1
	2014-12-17 - commit ed474173 

	http://ractivejs.org
	http://twitter.com/RactiveJS

	Released under the MIT License.
*/

!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports&&"function"==typeof require?module.exports=b():a.Ractive=b()}("undefined"!=typeof window?window:this,function(){"use strict";function a(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function b(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a}function c(a){for(var b,c,d=Yh.call(arguments,1);c=d.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a}function d(a){var b=Yh.call(arguments,1);return b.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a}function e(a){return"[object Array]"===ai.call(a)}function f(a){return bi.test(ai.call(a))}function g(a){if(!k(a))return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function h(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function i(a){return"number"==typeof a||"object"==typeof a&&"[object Number]"===ai.call(a)}function j(a){return!isNaN(parseFloat(a))&&isFinite(a)}function k(a){return a&&"[object Object]"===ai.call(a)}function l(a,b,c){var d=m(a,b,c);return d?d[a][c]:null}function m(a,b,c){for(;b;){if(c in b[a])return b;if(b.isolated)return null;b=b.parent}}function n(a){return function(){return a}}function o(a,b,c){var d;if("string"!=typeof b||!j(c))throw new Error("Bad arguments");if(d=+a.get(b)||0,!j(d))throw new Error("Cannot add to a non-numeric value");return a.set(b,d+c)}function p(a,b){return ki(this,a,void 0===b?1:+b)}function q(a){var b=pi[a.message]||a.message||"";return r(b,a.args)}function r(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function s(a){this.event=a,this.method="on"+a,this.deprecate=si[a]}function t(a,b){var c=a.indexOf(b);-1===c&&a.push(b)}function u(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function v(a,b){var c;if(!e(a)||!e(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function w(a){return"string"==typeof a?[a]:void 0===a?[]:a}function x(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)}function y(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function z(a){setTimeout(a,0)}function A(a,b){return function(){for(var c;c=a.shift();)c(b)}}function B(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof ti)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,B(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function C(a){var b,c,d,e,f,g;for(b=a.split("."),(c=Ci[b.length])||(c=D(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function D(a){var b,c,d,e,f,g="";if(!Ci[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}Ci[a]=d}return Ci[a]}function E(a,b,c,d){var e=a[b];if(!e||!e.equalsOrStartsWith(d)&&e.equalsOrStartsWith(c))return a[b]=e?e.replace(c,d):d,!0}function F(a){var b=a.slice(2);return"i"===a[1]&&j(b)?+b:b}function G(a){return null==a?a:zi[a]||(zi[a]=new Ai(a))}function H(a,b){function c(b,c){var d,f,g;d=a.viewmodel.wrapped[c.str],f=d?d.get():a.viewmodel.get(c);for(g in f)!f.hasOwnProperty(g)||"_ractive"===g&&e(f)||b.push(c.join(g));return b}var d,f,g;for(d=b.split("."),g=[Ei];f=d.shift();)"*"===f?g=g.reduce(c,[]):g[0]===Ei?g[0]=G(f):g=g.map(I(f));return g}function I(a){return function(b){return b.join(a)}}function J(a){return a?a.replace(yi,".$1"):""}function K(a,b,c){var d;return b=J(b),"~/"===b.substr(0,2)?(d=G(b.substring(2)),N(a,d.firstKey,c)):"."===b[0]?(d=L(Fi(c),b),d&&N(a,d.firstKey,c)):d=M(a,G(b),c),d}function L(a,b){var c;if(void 0!=a&&"string"!=typeof a&&(a=a.str),"."===b)return G(a);if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),G(c.join("."))}return G(a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,""))}function M(a,b,c,d){var e,f,g,h,i;if(b.isRoot)return b;for(f=b.firstKey;c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e.join(b.str);return O(a,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,f=G(f),i=M(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function N(a,b){var c;!a.parent||a.isolated||O(a,b)||(b=G(b),(c=M(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c}))}function O(a,b){return b in a.data||b in a.viewmodel.computations||b in a.viewmodel.mappings}function P(a){a.teardown()}function Q(a){a.unbind()}function R(a){a.unrender()}function S(a){a.detach()}function T(a){a.detachNodes()}function U(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function V(){for(var a,b,c;Ii.viewmodels.length;)b=Ii.viewmodels.pop(),c=b.applyChanges(),c&&Mi.fire(b.ractive,c);for(W(),a=0;a<Ii.views.length;a+=1)Ii.views[a].update();for(Ii.views.length=0,a=0;a<Ii.tasks.length;a+=1)Ii.tasks[a]();return Ii.tasks.length=0,Ii.viewmodels.length?V():void 0}function W(){var a,b,c,d;for(a=Li.length;a--;)b=Li[a],b.keypath&&Li.splice(a,1),(c=Gi(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),Li.splice(a,1));d&&d.forEach(X)}function X(a){a.item.resolve(a.keypath)}function Y(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;if(d=new Bi(function(a){e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(n={},c.step=null,c.complete=null,m=function(a){return function(b,c){n[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(o=m(f),c={easing:i,duration:j},k&&(c.step=o)),c.complete=l?o:ci,h.push(Z(this,f,a[f],c)));return q={easing:i,duration:j},k&&(q.step=function(a){k(a,n)}),l&&d.then(function(a){l(a,n)}).then(null,function(a){ri.consoleError({debug:r.debug,err:a})}),q.complete=e,p=Z(this,null,null,q),h.push(p),d.stop=function(){for(var a;a=h.pop();)a.stop();p&&p.stop()},d}return c=c||{},c.complete&&d.then(c.complete).then(null,function(a){ri.consoleError({debug:r.debug,err:a})}),c.complete=e,g=Z(this,a,b,c),d.stop=function(){g.stop()},d}function Z(a,b,c,d){var e,f,g,i;return b&&(b=G(J(b))),null!==b&&(i=a.viewmodel.get(b)),Qi.abort(b,a),h(i,c)?(d.complete&&d.complete(d.to),Ti):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new Si({keypath:b,from:i,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),Qi.add(g),a._animations.push(g),g)}function $(){return this.detached?this.detached:(this.el&&x(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Vi.fire(this),this.detached)}function _(a){return this.el?this.fragment.find(a):null}function ab(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function bb(a){var b,c;for(b=[a],c=ab(a);c;)b.push(c),c=ab(c);return b}function cb(a,b,c,d){var e=[];return Wh(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:Yi}}),c?(Wh(e,{cancel:{value:Zi},_root:{value:a},_sort:{value:aj},_makeDirty:{value:bj},_remove:{value:cj},_dirty:{value:!1,writable:!0}}),e):e}function db(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=dj(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function eb(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=dj(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function fb(a){return this.fragment.findComponent(a)}function gb(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function hb(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function ib(a,b,c){if(void 0===c&&(c={}),b){c.event?c.event.name=b:c.event={name:b,context:a.data,keypath:"",_noArg:!0};var d=G(b).wildcardMatches();jb(a,d,c.event,c.args,!0)}}function jb(a,b,c,d,e){void 0===e&&(e=!1);var f,g,h=!0;for(kj.enqueue(a,c),g=b.length;g>=0;g--)f=a._subs[b[g]],f&&(h=kb(a,f,c,d)&&h);if(kj.dequeue(a),a.parent&&h){if(e&&a.component){var i=a.component.name+"."+b[b.length-1];b=G(i).wildcardMatches(),c&&(c.component=a)}jb(a.parent,b,c,d)}}function kb(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function lb(a){var b={args:Array.prototype.slice.call(arguments,1)};lj(this,a,b)}function mb(a){var b;return a=G(J(a)),b=this.viewmodel.get(a,nj),void 0===b&&this.parent&&!this.isolated&&Gi(this,a.str,this.component.parentFragment)&&(b=this.viewmodel.get(a)),b}function nb(b,c){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(b=a(b),c=a(c)||null,!b)throw new Error("You must specify a valid target to insert into");b.insertBefore(this.detach(),c),this.el=b,(b.__ractive_instances__||(b.__ractive_instances__=[])).push(this),this.detached=null,ob(this)}function ob(a){pj.fire(a),a.findAllComponents("*").forEach(function(a){ob(a.instance)})}function pb(a,b,c){var d,f;return a=G(J(a)),d=this.viewmodel.get(a),e(d)&&e(b)?(f=Ni.start(this,!0),this.viewmodel.merge(a,d,b,c),Ni.end(),f):this.set(a,b,c&&c.complete)}function qb(a,b){var c,d;return c=H(a,b.str),d={},c.forEach(function(b){d[b.str]=a.get(b.str)}),d}function rb(a,b,c,d){var e,f,g;return b=G(J(b)),d=d||Gj,Fj.test(b.str)?(e=new Ej(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new uj(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0,{cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}}}function sb(a,b,c){var d,e,f,g;if(k(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",Hj(this,a,b,c);if(f=a.split(" "),1===f.length)return Hj(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(Hj(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function tb(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function ub(a,b){var c,d=this;if(a)c=a.split(" ").map(Kj).filter(Lj),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function vb(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(Kj).filter(Lj),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function wb(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function xb(a,b,c){var d,e,f,g,h,i,j=[];if(d=yb(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j}function yb(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}function zb(b,c){var d,e,f,g=this;if(f=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),d=Ni.start(this,!0),Ni.scheduleTask(function(){return ak.fire(g)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(b=a(b)||this.el,c=a(c)||this.anchor,this.el=b,this.anchor=c,!this.append&&b){var h=b.__ractive_instances__;h&&h.length&&Ab(h),b.innerHTML=""}return this.constructor.css&&_j.add(this.constructor),b&&((e=b.__ractive_instances__)?e.push(this):b.__ractive_instances__=[this],c?b.insertBefore(this.fragment.render(),c):b.appendChild(this.fragment.render())),Ni.end(),this.transitionsEnabled=f,d.then(function(){return bk.fire(g)}).then(null,function(a){ri.consoleError({debug:g.debug,err:a})}),d}function Ab(a){try{a.splice(0,a.length).forEach(function(a){return a.teardown()})}catch(b){}}function Bb(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,Ni.start(d),d.viewmodel.mark(c),Ni.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function Cb(a,b){for(var c=a.slice(),d=b.length;d--;)~c.indexOf(b[d])||c.push(b[d]);return c}function Db(a,b){var c,d,e;return d='[data-ractive-css="'+b+'"]',e=function(a){var b,c,e,f,g,h,i,j=[];for(b=[];c=Bk.exec(a);)b.push({str:c[0],base:c[1],modifiers:c[2]});for(f=b.map(Fb),i=b.length;i--;)h=f.slice(),e=b[i],h[i]=e.base+d+e.modifiers||"",g=f.slice(),g[i]=d+" "+g[i],j.push(h.join(" "),g.join(" "));return j.join(", ")},c=Dk.test(a)?a.replace(Dk,d):a.replace(Ak,"").replace(zk,function(a,b){var c,d;return Ck.test(b)?a:(c=b.split(",").map(Eb),d=c.map(e).join(", ")+" ",a.replace(b,d))})}function Eb(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function Fb(a){return a.str}function Gb(a,b,c){return a?b.noCssTransform?a:Ek(a,c):void 0}function Hb(a,b){return"function"==typeof b&&/_super/.test(a)}function Ib(a,b,c){var d=c.data||{},e=Jb(a.prototype.data);if("object"!=typeof d&&"function"!=typeof d)throw new TypeError('data option must be an object or a function, "'+d+'" is not valid');return Kb(e,d)}function Jb(a){if("function"!=typeof a||!Object.keys(a).length)return a;var b={};return Lb(a,b),Kb(a,b)}function Kb(a,b){return"function"==typeof b?Ob(b,a):"function"==typeof a?Nb(b,a):Mb(b,a)}function Lb(a,b,c){for(var d in a)!(b._mappings&&b._mappings[d]&&b._mappings[d].updatable)&&c&&d in b||(b[d]=a[d])}function Mb(a,b){return a=a||{},b?(Lb(b,a,!0),a):a}function Nb(a,b){return function(c){var d;if(a){d=[];for(var e in a)c&&e in c||d.push(e)}return c=b.call(this,c)||c,d&&d.length&&(c=c||{},d.forEach(function(b){c[b]=a[b]})),c}}function Ob(a,b){var c;return c="function"!=typeof b?function(a){Mb(a,b)}:function(a){return b=Hk(b,function(){},!0),b.call(this,a)||a},Hk(a,c)}function Pb(a){var b,c,d,e;return b=a.pos,d=Ll(a),null===d?null:(c=[d],a.matchString(",")?(e=Pb(a),e?c.concat(e):(a.pos=b,null)):c)}function Qb(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=a.readExpression(),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=Qb(a),null===f&&a.error(tl),f.forEach(b)),d)}function Rb(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(Hl))return{t:gl,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(tl),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:gl,x:d}):null}function Sb(a){return JSON.stringify(String(a))}function Tb(a,b){var c,d;if(a.t===fl&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(k(d))Tb(d,b);else for(c=d.length;c--;)Tb(d[c],b);a.x&&Tb(a.x,b),a.r&&Tb(a.r,b),a.v&&Tb(a.v,b)}function Ub(a,b,c){var d=function(b){return Ub(a,b,c)};switch(b.t){case cl:case dl:case $k:return b.v;case _k:return Sb(b.v);case al:return"["+(b.m?b.m.map(d).join(","):"")+"]";case bl:return"{"+(b.m?b.m.map(d).join(","):"")+"}";case el:return b.k+":"+Ub(a,b.v,c);case il:return("typeof"===b.s?"typeof ":b.s)+Ub(a,b.o,c);case ll:return Ub(a,b.o[0],c)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+Ub(a,b.o[1],c);case ml:return Ub(a,b.x,c)+"("+(b.o?b.o.map(d).join(","):"")+")";case jl:return"("+Ub(a,b.x,c)+")";case hl:return Ub(a,b.x,c)+Ub(a,b.r,c);case gl:return b.n?"."+b.n:"["+Ub(a,b.x,c)+"]";case kl:return Ub(a,b.o[0],c)+"?"+Ub(a,b.o[1],c)+":"+Ub(a,b.o[2],c);case fl:return"_"+c.indexOf(b.n);default:a.error("Expected legal JavaScript")}}function Vb(a,b,c){var d;if(b){for(;b.t===jl&&b.x;)b=b.x;return b.t===fl?c.r=b.n:b.t===$k&&qm.test(b.v)?c.r=b.v:(d=Wb(a,b))?c.rx=d:c.x=a.flattenExpression(b),c}}function Wb(a,b){for(var c,d=[];b.t===hl&&b.r.t===gl;)c=b.r,d.unshift(c.x?c.x.t===fl?c.x:a.flattenExpression(c.x):c.n),b=b.x;return b.t!==fl?null:{r:b.n,m:d}}function Xb(a){var b;return a.interpolate[a.inside]===!1?null:(b=km.slice().sort(function(b,c){return a[c.delimiters][0].length-a[b.delimiters][0].length}),function c(d){return d?Yb(a,d)||c(b.shift()):null}(b.shift()))}function Yb(a,b){var c,d,e,f,g,h,i,j;if(c=a.pos,e=a[b.delimiters],!a.matchString(e[0]))return null;if(d=jm(a))return a.matchString(e[1])?(a[b.delimiters]=d,Bm):null;if(a.allowWhitespace(),d=Am(a,b),null===d)return a.pos=c,null;if(a.allowWhitespace(),a.matchString(e[1])||a.error("Expected closing delimiter '"+e[1]+"' after reference"),d.t===Sk&&(d.exclude=!0),d.t===Pk&&(a.sectionDepth-=1,a.sectionDepth<0&&(a.pos=c,a.error("Attempted to close a section that wasn't open"))),d.contextPartialExpression)d.f=d.contextPartialExpression,d.t=Nk,d.n="with",delete d.contextPartialExpression;else if(Zb(d)){for(a.sectionDepth+=1,f=[],i=f,g=d.n;j=a.read();){if(j.t===Pk){g&&j.r!==g&&a.error("Expected {{/"+g+"}}");break}if(j.t===Lk&&"else"===j.r){if("unless"!==d.n){i=h=[];continue}a.error("{{else}} not allowed in {{#unless}}")}i.push(j)}f.length&&(d.f=f),h&&h.length&&(d.l=h,"with"===d.n&&(d.n="if-with"))}return a.includeLinePositions&&(d.p=a.getLinePos(c)),d.n?d.n=nm[d.n]:d.t===Ok&&(d.t=Nk,d.n=ol),d.n===sl?(d.r&&-1===d.r.indexOf(".")||a.error("Invalid partial name "+d.r+"."),{n:d.r,f:d.f,t:Yk}):d}function Zb(a){return a.t===Nk||a.t===Ok}function $b(a){return a.replace(wm,function(a,b){var c;return c="#"!==b[0]?um[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(_b(c)):a})}function _b(a){return a?10===a?32:128>a?a:159>=a?vm[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function ac(a){return a.replace(zm,"&amp;").replace(xm,"&lt;").replace(ym,"&gt;")}function bc(a){return a.replace(Nm,"\\$&")}function cc(a){var b=a.remaining(),c=a.pos,d=a.matchPattern(Qm),e=a.options.delimiters[0],f=a.options.delimiters[1];if(d&&a.matchString(e)){var g=a.matchPattern(Rm);if(!a.matchString(f)||!a.matchPattern(Sm))return a.pos=c,null;var h=new RegExp("<!--\\s*"+Om(e)+"\\s*\\/\\s*"+g+"\\s*"+Om(f)+"\\s*-->");b=a.remaining();var i=h.exec(b);if(!i)throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+g+'", but '+(i?'instead found "'+i[1]+'"':" no closing found"));var j={t:Yk,f:new a.StandardParser(b.substr(0,i.index),a.options).result,n:g};return a.pos+=i.index+i[0].length,j}return a.pos=c,null}function dc(a){var b,c,d;return a.allowWhitespace(),(c=a.matchPattern(Xm))?(b={name:c},d=ec(a),d&&(b.value=d),b):null}function ec(a){var b,c,d,e;return b=a.pos,a.allowWhitespace(),a.matchString("=")?(a.allowWhitespace(),c=a.pos,d=a.sectionDepth,e=hc(a,"'")||hc(a,'"')||gc(a),a.sectionDepth!==d&&(a.pos=c,a.error("An attribute value must contain as many opening section tags as closing section tags")),null===e?(a.pos=b,null):e.length?1===e.length&&"string"==typeof e[0]?$b(e[0]):e:null):(a.pos=b,null)}function fc(a){var b,c,d,e,f;return b=a.pos,(c=a.matchPattern(Ym))?(d=c,e=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],-1!==(f=Tm(d,e))&&(c=c.substr(0,f),a.pos=b+c.length),c):null}function gc(a){var b,c;for(a.inAttribute=!0,b=[],c=Cm(a)||fc(a);null!==c;)b.push(c),c=Cm(a)||fc(a);return b.length?(a.inAttribute=!1,b):null}function hc(a,b){var c,d,e;if(c=a.pos,!a.matchString(b))return null;for(a.inAttribute=b,d=[],e=Cm(a)||ic(a,b);null!==e;)d.push(e),e=Cm(a)||ic(a,b);return a.matchString(b)?(a.inAttribute=!1,d):(a.pos=c,null)}function ic(a,b){var c,d,e,f;return c=a.pos,e=a.remaining(),f=[b,a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],d=Tm(e,f),-1===d&&a.error("Quoted attribute value must have a closing quote"),d?(a.pos+=d,e.substr(0,d)):null}function jc(a){var b,c,d;return a.allowWhitespace(),(b=Kl(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function kc(a){var b,c,d,e,f,g,h,i,j,k,l;if(b=a.pos,a.inside||a.inAttribute)return null;if(!a.matchString("<"))return null;if("/"===a.nextChar())return null;if(c={},a.includeLinePositions&&(c.p=a.getLinePos(b)),a.matchString("!"))return c.t=Zk,a.matchPattern(/^doctype/i)||a.error("Expected DOCTYPE declaration"),c.a=a.matchPattern(/^(.+?)>/),c;if(c.t=Qk,c.e=a.matchPattern(en),!c.e)return null;for(fn.test(a.nextChar())||a.error("Illegal tag name"),g=function(b,d){var e=d.n||d;jn.test(e)&&(a.pos-=e.length,a.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),c.v[b]=d},a.allowWhitespace();h=Cm(a)||Zm(a);)h.name?(e=kn[h.name])?c[e]=dn(h.value):(f=hn.exec(h.name))?(c.v||(c.v={}),i=dn(h.value),g(f[1],i)):a.sanitizeEventAttributes&&gn.test(h.name)||(c.a||(c.a={}),c.a[h.name]=h.value||0):(c.m||(c.m=[]),c.m.push(h)),a.allowWhitespace();if(a.allowWhitespace(),a.matchString("/")&&(j=!0),!a.matchString(">"))return null;if(d=c.e.toLowerCase(),!j&&!tm.test(c.e)){for(("script"===d||"style"===d)&&(a.inside=d),k=[];lc(d,a.remaining())&&(l=a.read(bn))&&l.t!==Pk&&l.t!==Vk;)k.push(l);k.length&&(c.f=k)}return a.inside=null,a.sanitizeElements&&-1!==a.sanitizeElements.indexOf(d)?ln:c}function lc(a,b){var c,d;return c=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(b),d=cn[a],c&&d?!~d.indexOf(c[1].toLowerCase()):!0}function mc(a){return"string"==typeof a}function nc(a){return a.t===Sk||a.t===Tk}function oc(a){return(a.t===Nk||a.t===Ok)&&a.f}function pc(a,b,c){for(var d,f,g=c.length;g--;)d=c[g],qc(d)?(b[d.n]=d.f,c.splice(g,1)):e(d.f)&&((f=rc(a,d))?(a.push(f),pc(a,d.p={},d.f),a.pop()):e(d.f)&&pc(a,b,d.f))}function qc(a){return a.t===Yk}function rc(a,b){var c,d,e=b.e;if(b.e)for(c=0;c<a.length;c++)if(d=(a[c].components||{})[e])return d}function sc(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(un(a),g=a.length;g--;)h=a[g],h.exclude?a.splice(g,1):b&&h.t===Sk&&a.splice(g,1);for(rn(a,d,e),g=a.length;g--;)if(h=a[g],h.f&&(k=c||h.t===Qk&&xn.test(h.e),k||(i=a[g-1],j=a[g+1],(!i||"string"==typeof i&&zn.test(i))&&(l=!0),(!j||"string"==typeof j&&yn.test(j))&&(m=!0)),sc(h.f,b,k,l,m,f)),h.l&&(sc(h.l,b,c,l,m,f),f&&(n={t:4,n:ol,f:h.l},h.r&&(n.r=h.r),h.x&&(n.x=h.x),h.rx&&(n.rx=h.rx),a.splice(g+1,0,n),delete h.l)),h.a)for(o in h.a)h.a.hasOwnProperty(o)&&"string"!=typeof h.a[o]&&sc(h.a[o],b,c,l,m,f);for(g=a.length;g--;)"string"==typeof a[g]&&("string"==typeof a[g+1]&&(a[g]=a[g]+a[g+1],a.splice(g+1,1)),c||(a[g]=a[g].replace(wn," ")),""===a[g]&&a.splice(g,1))}function tc(a,b){b=b||a,b.delimiters=a.delimiters||["{{","}}"],b.tripleDelimiters=a.tripleDelimiters||["{{{","}}}"],b.staticDelimiters=a.staticDelimiters||["[[","]]"],b.staticTripleDelimiters=a.staticTripleDelimiters||["[[[","]]]"]}function uc(a){var b=Uh(Fn);return b.parse=function(b,c){return vc(b,c||a)},b}function vc(a,b){if(!Dn)throw new Error(pi.missingParser);return Dn(a,b||this.options)}function wc(a,b){var c;if(!yh){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if(xc(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.innerHTML}function xc(a){return a&&"#"===a.charAt(0)}function yc(a){return!("string"==typeof a)}function zc(a){return a.defaults&&(a=a.defaults),En.reduce(function(b,c){return b[c]=a[c],b},{ractive:a})}function Ac(a){var b,c=a._config.template;if(c&&c.fn)return b=Bc(a,c.fn),b!==c.result?(c.result=b,b=Dc(b,a)):void 0}function Bc(a,b){var c=Cc(Gn.getParseOptions(a));return b.call(a,a.data,c)}function Cc(a){var b=Uh(Gn);return b.parse=function(b,c){return Gn.parse(b,c||a)},b}function Dc(a,b){if("string"==typeof a)"#"===a[0]&&(a=Gn.fromId(a)),a=Dn(a,Gn.getParseOptions(b));else if(2!==a.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return a}function Ec(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function Fc(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=Gc(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function Gc(a,b){var c,d;return b in a?(c=a[b],d="function"==typeof c?c:function(){return c}):d=ci,d}function Hc(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function Ic(a,b,c){if(b in a){if(c in a)throw new Error(Hc(b,c,!0));fi(Hc(b,c)),a[c]=a[b]}}function Jc(a){Ic(a,"beforeInit","onconstruct"),Ic(a,"init","onrender"),Ic(a,"complete","oncomplete"),Ic(a,"eventDefinitions","events"),e(a.adaptors)&&Ic(a,"adaptors","adapt")}function Kc(a,b,c,d){Rn(d);for(var e in d)if(On[e]){var f=d[e];"function"==typeof f&&(f=Qn(b.prototype,e,f)),c[e]=f}Pn.forEach(function(e){e[a](b,c,d)}),yk[a](b,c,d),Jk[a](b,c,d),In[a](b,c,d),Gk[a](b,c,d),Lc(b.prototype,c,d)}function Lc(a,b,c){for(var d in c)if(!Nn[d]&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=Qn(a,d,e)),b[d]=e}}function Mc(a){var b={};return a.forEach(function(a){return b[a]=!0}),b}function Nc(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function Oc(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function Pc(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function Qc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function Rc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function Sc(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function Tc(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function Uc(){return this.items&&this.items[0]?this.items[0].firstNode():null}function Vc(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return Vc(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=a.keypath&&(f=a.root.viewmodel.wrapped[a.keypath.str])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function Wc(){var a,b,c,d;return this.dirtyArgs&&(b=_n(this.items,a={},this.root._guid),c=_m("["+b+"]",a),d=c?c.value:[this.toString()],this.argsList=d,this.dirtyArgs=!1),this.argsList}function Xc(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function Yc(){var a,b,c,d;return this.dirtyValue&&(b=_n(this.items,a={},this.root._guid),c=_m(b,a),d=c?c.value:this.toString(),this.value=d,this.dirtyValue=!1),this.value}function Zc(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function $c(){return this.value}function _c(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function ad(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function bd(a,b,c){var d;return"@"===b.charAt(0)?new no(a,b,c):(d=qo(a.parentFragment,b))?new po(a,d,c):new ko(a,b,c)}function cd(a,b){var c,d;if(to[a])return to[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),to[a]=c,c}function dd(a){return a.call()}function ed(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return d=b[c],void 0===d?"undefined":d.isSpecial?(e=d.value,"number"==typeof e?e:'"'+e+'"'):d.str})}function fd(a){return G("${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function gd(a){return void 0!==a&&"@"!==a[0]}function hd(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){Vh(a,d,{value:vo.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return Vh(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function id(a){return a.value}function jd(a){return void 0!=a}function kd(a){a.forceResolution()}function ld(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!=c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=so(a,e,c)),b.template.x&&(a.resolver=new wo(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new Ao(a,b.template.rx,d)),a.template.n!==ol||a.hasOwnProperty("value")||a.setValue(void 0)}function md(a){var b,c,d;return a&&a.isSpecial?(this.keypath=a,void this.setValue(a.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function nd(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function od(){this.parentFragment.bubble()}function pd(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)
}function qd(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function rd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function sd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function td(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function ud(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function vd(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function wd(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===pl){if(this.shuffling=!0,Ni.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath.join(b),h=i.keypath.join(a),d.index=a,(j=d.registeredIndexRefs)&&j.forEach(xd),d.rebind(g,h),void(f[a]=d)))}),e=this.root.viewmodel.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&Ni.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function xd(a){a.rebind("","")}function yd(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function zd(a){var b,c,d=this;this.updating||(this.updating=!0,this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=d.keypath.join(a),c.index=a,b=new Bt(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):Bd(this,a)&&(this.bubble(),this.rendered&&Ni.addView(this)),this.value=a,this.updating=!1)}function Ad(a,b,c){if(b===pl&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function Bd(a,b){var c={template:a.template.f,root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.subtype)switch(a.subtype){case nl:return Gd(a,b,!1,c);case ol:return Gd(a,b,!0,c);case ql:return Fd(a,c);case rl:return Ed(a,b,c);case pl:if(k(b))return Ad(a,a.subtype,!0),Dd(a,b,c)}return a.ordered=!!f(b),a.ordered?(Ad(a,pl,!1),Cd(a,b,c)):k(b)||"function"==typeof b?a.template.i?(Ad(a,pl,!0),Dd(a,b,c)):(Ad(a,ql,!1),Fd(a,c)):(Ad(a,nl,!1),Gd(a,b,!1,c))}function Cd(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(Q);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=a.keypath.join(d),c.index=d,f=new Bt(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function Dd(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(Jd));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=a.keypath.join(d),c.key=d,c.index=e++,g=new Bt(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function Ed(a,b,c){return b?Fd(a,c):Hd(a)}function Fd(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new Bt(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function Gd(a,b,c,d){var e,g,h,i,j;if(g=f(b)&&0===b.length,h=!1,!f(b)&&k(b)){h=!0;for(j in b){h=!1;break}}return e=c?g||h||!b:b&&!g&&!h,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(Q),!0):void 0:(d.index=0,i=new Bt(d),a.fragmentsToRender.push(a.fragments[0]=i),a.length=1,!0):Hd(a)}function Hd(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(Id),a.fragmentsToUnrender.forEach(Q),a.length=a.fragmentsToRender.length=0,!0):void 0}function Id(a){return a.rendered}function Jd(a){a.rebind("","")}function Kd(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function Ld(){var a=this;this.fragments.forEach(Q),this.fragmentsToRender.forEach(function(b){return x(a.fragments,b)}),this.fragmentsToRender=[],ho.call(this),this.length=0,this.unbound=!0}function Md(a){this.fragments.forEach(a?Nd:Od),this.renderedFragments=[],this.rendered=!1}function Nd(a){a.unrender(!0)}function Od(a){a.unrender(!1)}function Pd(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function Qd(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function Rd(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(Jh(d,a))return d;if(e=d.querySelector(a))return e}return null}function Sd(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(Jh(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function Td(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function Ud(a){return dp[a]||(dp[a]=Ih(a))}function Vd(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=y(a.node.options).filter(Wd),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function Wd(a){return a.selected}function Xd(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=ep(this.value,this.parentFragment.getNode(),this.docFrag),fp(this.pElement),this.rendered=!0,this.docFrag}function Yd(a){var b;(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&Ni.addView(this))}function Zd(){return void 0!=this.value?$b(""+this.value):""}function $d(a){this.rendered&&a&&(this.nodes.forEach(b),this.rendered=!1)}function _d(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=ep(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),fp(this.pElement)}}function ae(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function be(){return null}function ce(){return this.node}function de(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function ee(){var a=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();h(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&Ni.addView(this))}function fe(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Lk?b[0]:void 0}function ge(a){return this.type=Uk,this.element=a.element,this.root=a.root,Fp(this,a.name),this.isBoolean=sm.test(this.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new Bt({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=Gp(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:a.value||"")}function he(a,b){this.fragment&&this.fragment.rebind(a,b)}function ie(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==Bh.html||(b=Jp[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===b&&(a._ractive.value=this.value)),this.rendered=!0,this.update()}function je(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;return"value"===b&&("select"===this.element.name||"textarea"===this.element.name)||"value"===b&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===b&&"input"===this.element.name&&e?"name={{"+(e.keypath.str||e.ref)+"}}":this.isBoolean?d?b:"":(f&&(d=f.toString()),c&&(b=c+":"+b),d?b+'="'+ke(d)+'"':b)}function ke(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function le(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function me(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function ne(){var a,b,c,d,f=this.value;for(e(f)||(f=[f]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=u(f,d)}function oe(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function pe(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return Ni.addViewmodel(b.root.viewmodel),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function qe(){var a,b,c=this,d=c.element,f=c.node,g=c.value;if(a=d.getAttribute("value"),e(g)){for(b=g.length;b--;)if(a==g[b])return void(f.checked=!0);f.checked=!1}else f.checked=g==a}function re(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b}function se(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function te(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function ue(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function ve(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function we(){this.locked||(this.node[this.propertyName]=this.value)}function xe(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):this.isBoolean?e?b.setAttribute(d,""):b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function ye(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=Tp:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?Op:Np:"textarea"===e.name?b=Wp:null!=e.getAttribute("contenteditable")?b=Vp:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?ci:"radio"===a&&e.binding&&"name"===e.binding.name?Qp:Wp):this.isTwoway&&"name"===d?"radio"===f.type?b=Pp:"checkbox"===f.type&&(b=Rp):"style"===d&&f.style.setAttribute?b=Up:"class"!==d||f.namespaceURI&&f.namespaceURI!==Bh.html?this.useProperty&&(b=Xp):b=Sp,b||(b=Yp),this.update=b,this.update()}function ze(a,b){var c=b?"svg":"div";return _p.innerHTML="<"+c+" "+a+"></"+c+">",y(_p.childNodes[0].attributes)}function Ae(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function Be(a){for(;a=a.parent;)if("form"===a.name)return a}function Ce(){this._ractive.binding.handleChange()}function De(a,b,c){var d=a+b+c;return lq[d]||(lq[d]=[])}function Ee(a){return a.isChecked}function Fe(a){return a.element.getAttribute("value")}function Ge(){var a;iq.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function He(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&iq.call(b),a._timeout=void 0},a.element.lazy)}function Ie(a){var b,c,d,e,f,g=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||g.contenteditable&&Je(g.contenteditable))&&Je(g.value)?c=kq:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=Je(g.name),e=Je(g.checked),d&&e&&ri.error({message:"badRadioInputBinding"}),d?c="radio"===b?qq:sq:e&&(c="radio"===b?oq:uq)):"file"===b&&Je(g.value)?c=Aq:Je(g.value)&&(c="number"===b||"range"===b?Cq:Bq)):"select"===a.name&&Je(g.value)?c=a.getAttribute("multiple")?yq:wq:"textarea"===a.name&&Je(g.value)&&(c=Bq),c&&(f=new c(a))&&f.keypath?f:void 0}function Je(a){return a&&a.isBindable}function Ke(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function Le(a){lj(this.root,this.getAction(),{event:a})}function Me(){return this.action.toString().trim()}function Ne(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&(ri.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:a.tagName,event:b}}),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=uo(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c;(c=Hq.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(so(g,a,function(a){return g.resolve(b,a)}))}),this.fire=Oe):(d=c.n||c,"string"!=typeof d&&(d=new Bt({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new Bt({template:c.d,root:this.root,owner:this.element}),this.fire=Qe):c.a&&(this.params=c.a,this.fire=Pe))}function Oe(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),kj.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),kj.dequeue(b)}function Pe(a){lj(this.root,this.getAction(),{event:a,args:this.params})}function Qe(a){var b=this.dynamicParams.getArgsList();"string"==typeof b&&(b=b.substr(1,b.length-2)),lj(this.root,this.getAction(),{event:a,args:b})}function Re(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=qo(c.element.parentFragment))&&(e=qo.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath.str,context:b.root.viewmodel.get(b.keypath)})}function Se(){var a,b=this.name;if(!this.invalid){if(a=l("events",this.root,b))this.custom=a(this.node,Te(b));else{if(!("on"+b in this.node||window&&"on"+b in window))return void(Lq[b]||ri.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:b}}));this.node.addEventListener(b,Jq,!1)}this.hasListener=!0}}function Te(a){return Kq[a]||(Kq[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath.str,b.context=c.root.viewmodel.get(c.keypath),c.events[a].fire(b)}),Kq[a]}function Ue(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function Ve(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function We(a,b){this.keypaths[a]=b}function Xe(){return this.method?void this.refResolvers.forEach(Q):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Ye(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,Jq,!1),this.hasListener=!1}function Ze(){var a=this;this.dirty||(this.dirty=!0,Ni.scheduleTask(function(){$e(a),a.dirty=!1})),this.parentFragment.bubble()}function $e(a){var b,c,d,e,f;b=a.node,b&&(e=y(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?_e(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function _e(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function af(a,b){a.select=cf(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function bf(a){a.select&&x(a.select.options,a)}function cf(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function df(a){var b,c,d,e,f,g;this.type=Qk,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=Ep(c.e),"option"===this.name&&af(this,c),"select"===this.name&&(this.options=[],this.bubble=Ze),"form"===this.name&&(this.formBindings=[]),Cp(this,c.a||{}),this.attributes=bq(this,c.a),this.conditionalAttributes=eq(this,c.m),c.f&&(this.fragment=new Bt({template:c.f,root:d,owner:this,pElement:this})),g=d.twoway,this.twoway===!1?g=!1:this.twoway===!0&&(g=!0),g&&(e=Dq(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath.str]||(this.root._twowayBindings[e.keypath.str]=[]),f.push(e)),c.v&&(this.eventHandlers=Uq(this,c.v)),c.o&&(this.decorator=new Zq(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function ef(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&E(e,"keypath",a,b)}function ff(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function gf(a){a.node.addEventListener("reset",jf,!1)}function hf(a){a.node.removeEventListener("reset",jf,!1)}function jf(){var a=this._ractive.proxy;Ni.start(),a.formBindings.forEach(kf),Ni.end()}function kf(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function lf(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new Bt({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new Bt({template:b.d,root:d,owner:a}),this.params=f.getArgsList(),f.unbind()),this._fn=l("transitions",d,e),this._fn||ri.error({debug:d.debug,message:"missingPlugin",args:{plugin:"transition",name:e}}))}function mf(a){return a}function nf(){Br.hidden=document[xr]}function of(){Br.hidden=!0}function pf(){Br.hidden=!1}function qf(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&rf(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function rf(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function sf(){var a,b,c,d=this,e=this.root;return a=tf(this),b=this.node=Ih(this.name,a),e.constructor.css&&this.parentFragment.getNode()===e.el&&this.node.setAttribute("data-ractive-css",e.constructor._guid),Vh(this.node,"_ractive",{value:{proxy:this,keypath:Fi(this.parentFragment),events:Uh(null),root:e}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=Mr,this.node.text=this.fragment.toString(!1),this.fragment.unrender=ci):"style"===this.name?(this.bubble=Lr,this.bubble(),this.fragment.unrender=ci):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=ci:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&uf(this),"img"===this.name?ff(this):"form"===this.name?gf(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&Ni.scheduleTask(function(){d.decorator.torndown||d.decorator.init()},!0),e.transitionsEnabled&&this.intro&&(c=new Nr(this,this.intro,!0),Ni.registerTransition(c),Ni.scheduleTask(function(){return c.start()},!0),this.transition=c),this.node.autofocus&&Ni.scheduleTask(function(){return d.node.focus()},!0),vf(this),this.node}function tf(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?Bh.svg:(d=a.parent)?"foreignObject"===d.name?Bh.html:d.node.namespaceURI:a.root.el.namespaceURI}function uf(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&e(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function vf(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function wf(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&e(c))for(d=c.length;d--;)if(c[d]==b)return!0}function xf(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function yf(a){var b=a.toString();return b?" "+b:""}function zf(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Q),"option"===this.name&&bf(this),this.attributes.forEach(Q),this.conditionalAttributes.forEach(Q)}function Af(a){var b,c,d;(d=this.transition)&&d.complete(),"option"===this.name?this.detach():a&&Ni.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath.str],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(R),this.decorator&&Ni.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(d=new Nr(this,this.outro,!1),Ni.registerTransition(d),Ni.scheduleTask(function(){return d.start()})),this.liveQueries&&Bf(this),"form"===this.name&&hf(this)}function Bf(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function Cf(a,b){var c=Vr.exec(b)[0];return null===a||c.length<a.length?c:a}function Df(a,b){var c;if(c=Ef(a,b))return c;if(c=Gn.fromId(b,{noThrow:!0})){c=Wr(c);var d=Gn.parse(c,Gn.getParseOptions(a));return a.partials[b]=d.t}}function Ef(a,b){var c=m("partials",a,b);if(c){var d,e=c.partials[b];if("function"==typeof e&&(d=e.bind(c),d.isOwner=c.partials.hasOwnProperty(b),e=d(c.data,Gn)),!e&&""!==e)return void ri.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:b}});if(!Gn.isParsed(e)){var f=Gn.parse(e,Gn.getParseOptions(c));f.p&&ri.warn({debug:a.debug,message:"noNestedPartials",args:{rname:b}});var g=d?c:Ff(c,b);g.partials[b]=e=f.t}return d&&(e._fn=d),e.v?e.t:e}}function Ff(a,b){return a.partials.hasOwnProperty(b)?a:Gf(a.constructor,b)}function Gf(a,b){return a?a.partials.hasOwnProperty(b)?a:Gf(a._Parent,b):void 0}function Hf(a,b){var c,d=m("components",a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(d.data),!c)return void ri.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:b}});"string"==typeof c&&(c=Hf(a,c)),c._fn=e,d.components[b]=c}return c}function If(){var a=this.instance.fragment.detach();return as.fire(this.instance),a}function Jf(a){return this.instance.fragment.find(a)}function Kf(a,b){return this.instance.fragment.findAll(a,b)}function Lf(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function Mf(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function Nf(){return this.parentFragment.findNextNode(this)}function Of(){return this.rendered?this.instance.fragment.firstNode():null}function Pf(a,b){var c,d,e,f,g=this.ractive;for(c=g.adapt.length,d=0;c>d;d+=1)if(e=g.adapt[d],e.filter(b,a,g))return f=this.wrapped[a]=e.wrap(g,b,a,Rf(a)),f.value=b,b;return b}function Qf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function Rf(a){var b;return is[a]||(b=a?a+".":"",is[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?Qf(c,a):c:void 0}),is[a]}function Sf(a){var b,c,d=[Ei];for(b=a.length;b--;)for(c=a[b].parent;c&&!c.isRoot;)t(d,c),c=c.parent;return d}function Tf(a,b,c){var d;Vf(a,b),c||(d=b.wildcardMatches(),d.forEach(function(c){Uf(a,c,b)}))}function Uf(a,b,c){var d,e,f;b=b.str||b,d=a.depsMap.patternObservers,e=d&&d[b],e&&e.forEach(function(b){f=c.join(b.lastKey),Vf(a,f),Uf(a,b,f)})}function Vf(a,b){a.patternObservers.forEach(function(a){a.regex.test(b.str)&&a.update(b)})}function Wf(){function a(c){var d,e;f.noCascade.hasOwnProperty(c.str)||((e=f.deps.computed[c.str])&&e.forEach(function(c){var d=c.key;c.viewmodel===f?(f.clearCache(d.str),c.invalidate(),b.push(d),a(d)):c.viewmodel.mark(d)}),(d=f.depsMap.computed[c.str])&&d.forEach(a))}var b,c,d,e=this,f=this,g={};return b=this.changes,b.length?(b.slice().forEach(a),c=ks(b),c.forEach(function(a){var c;-1===b.indexOf(a)&&(c=f.deps.computed[a.str])&&(e.changes.push(a),c.forEach(function(a){a.viewmodel.mark(a.key)}))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(a){return ls(e,a,!0)}),b.forEach(function(a){return ls(e,a)})),this.deps.observers&&(c.forEach(function(a){return Xf(e,null,a,"observers")}),Zf(this,b,"observers")),this.deps["default"]&&(d=[],c.forEach(function(a){return Xf(e,d,a,"default")}),d.length&&Yf(this,d,b),Zf(this,b,"default")),b.forEach(function(a){g[a.str]=e.get(a)}),this.implicitChanges={},this.noCascade={},g):void 0}function Xf(a,b,c,d){var e,f;(e=$f(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function Yf(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function Zf(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=$f(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b.str])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function $f(a,b,c){var d=a.deps[c];return d?d[b.str]:null}function _f(){this.captureGroups.push([])}function ag(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function bg(a){var b="var __ractive=this;return("+a.replace(ps,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(b)}function cg(a,b){var c=b.firstKey;return!(c in a.ractive.data||c in a.computations||c in a.mappings)}function dg(a,b){return b=qs(b),this.computations[a.str]=new us(this.ractive,a,b)}function eg(a,b){var c,d,e,f,g,h=this.ractive,i=this.cache,j=a.str;return b=b||xs,b.capture&&(g=this.captureGroups[this.captureGroups.length-1])&&(~g.indexOf(a)||g.push(a)),(c=this.mappings[a.firstKey])?c.get(a,b):a.isSpecial?a.value:(void 0===i[j]?((e=this.computations[j])&&!e.bypass?(d=e.get(),this.adapt(j,d)):(f=this.wrapped[j])?d=f.value:a.isRoot?(this.adapt("",h.data),d=h.data):d=fg(this,a),i[j]=d):d=i[j],!b.noUnwrap&&(f=this.wrapped[j])&&(d=f.get()),d===ws?void 0:d)}function fg(a,b){var c,d,e,f;return c=a.get(b.parent),(f=a.wrapped[b.parent.str])&&(c=f.get()),null!==c&&void 0!==c?((d=a.cacheMap[b.parent.str])?-1===d.indexOf(b.str)&&d.push(b.str):a.cacheMap[b.parent.str]=[b.str],"object"!=typeof c||b.lastKey in c?(e=c[b.lastKey],a.adapt(b.str,e,!1),a.cache[b.str]=e,e):a.cache[b.str]=ws):void 0}function gg(){var a,b,c=[];for(a in this.ractive.computed)b=this.compute(G(a),this.ractive.computed[a]),c.push(b),a in this.mappings&&ri.critical({message:"Cannot map to a computed property ('"+a+"')"});c.forEach(hg)}function hg(a){a.init()}function ig(a,b){this.keypath=a,this.viewmodel=b}function jg(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.deps=[],this.unresolved=[],this.trackData=b.trackData,this.resolved=!1}function kg(a,b){var c=this.mappings[a.str]=new Bs(a,b);return c.initViewmodel(this),c}function lg(a,b){var c,d=a.str;Ni.addViewmodel(this),b&&(b.implicit&&(this.implicitChanges[d]=!0),b.noCascade&&(this.noCascade[d]=!0)),(c=this.computations[d])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var e=b?b.dontTeardownWrapper:!1;this.clearCache(d,e)}function mg(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=og(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){if(this.debug)throw i;fi("Merge operation: comparison failed. Falling back to identity checking"),e=b,f=c}}else e=b,f=c;h=Es(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function ng(a){return JSON.stringify(a)}function og(a){if(a===!0)return ng;if("string"==typeof a)return Fs[a]||(Fs[a]=function(b){return b[a]}),Fs[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function pg(a,b,c){void 0===c&&(c="default");var d,e,f;b.isStatic||((d=this.mappings[a.firstKey])?d.register(a,b,c):(e=this.deps[c]||(this.deps[c]={}),f=e[a.str]||(e[a.str]=[]),f.push(b),a.isRoot||qg(this,a,c)))}function qg(a,b,c){for(var d,e,f;!b.isRoot;)d=a.depsMap[c]||(a.depsMap[c]={}),e=d[b.parent.str]||(d[b.parent.str]=[]),f=b.str,void 0===e["_"+f]&&(e["_"+f]=0,e.push(b)),e["_"+f]+=1,b=b.parent}function rg(){return this.captureGroups.pop()}function sg(a,b,c){void 0===c&&(c={});var d,e,f,g;if(!c.noMapping&&(d=this.mappings[a.firstKey]))return d.set(a,b);if(e=this.computations[a.str]){if(e.setting)return;e.set(b),b=e.get()}h(this.cache[a.str],b)||(f=this.wrapped[a.str],f&&f.reset&&(g=f.reset(b)!==!1,g&&(b=f.get())),e||g||tg(this,a,b),c.silent?this.clearCache(a.str):this.mark(a))}function tg(a,b,c){var d,e,f,g;f=function(){d.set?d.set(b.lastKey,c):(e=d.get(),g())},g=function(){e||(e=pk(b.lastKey),a.set(b.parent,e,{silent:!0})),e[b.lastKey]=c},d=a.wrapped[b.parent.str],d?f():(e=a.get(b.parent),(d=a.wrapped[b.parent.str])?f():g())}function ug(a,b,c){var d,e,f,g=this;if(e=c.length,c.forEach(function(b,c){-1===b&&g.mark(a.join(c),Ls)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a.str])&&d.filter(vg).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){for(this.mark(a.join("length"),Ks),f=e;f<b.length;f+=1)this.mark(a.join(f));for(f=b.length;e>f;f+=1)this.mark(a.join(f),Ls)}}function vg(a){return"function"==typeof a.shuffle}function wg(){var a,b=this;
for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function xg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.firstKey])return d.unregister(a,b,c);if(e=this.deps[c][a.str],f=e.indexOf(b),-1===f)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");e.splice(f,1),a.isRoot||yg(this,a,c)}}function yg(a,b,c){for(var d,e;!b.isRoot;)d=a.depsMap[c],e=d[b.parent.str],e["_"+b.str]-=1,e["_"+b.str]||(x(e,b),e["_"+b.str]=void 0),b=b.parent}function zg(a){this.hook=new ui(a),this.inProcess={},this.queue={}}function Ag(a,b){return a[b._guid]||(a[b._guid]=[])}function Bg(a,b){var c=Ag(a.queue,b);for(a.hook.fire(b);c.length;)Bg(a,c.shift());delete a.queue[b._guid]}function Cg(b,c,d){void 0===c&&(c={}),void 0===d&&(d={});var e;if(Dg(b,d),Ss.fire(Sn.getConstructTarget(b,c),c),Sn.init(b.constructor,b,c),b.magic&&!Ah)throw new Error("Getters and setters (magic mode) are not supported in this browser");Ts.fire(b),Us.begin(b),b.viewmodel=new Qs(b,d.mappings),b.viewmodel.init(),b.template&&(b.fragment=new Bt({template:b.template,root:b,owner:b})),Us.end(b),(e=a(b.el))&&b.render(e,b.append)}function Dg(a,b){a._guid="r-"+Vs++,a._subs=Uh(null),a._config={},a._twowayBindings=Uh(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function Eg(a,b,c){this.parameters=a,this.parentFragment=a.component.parentFragment,this.key=b,this.fragment=new Bt({template:c,root:a.component.root,owner:this}),this.parameters.addData(this.key.str,this.fragment.getValue())}function Fg(a,b){return b.parameters?Ah&&"legacy"!==b.parameters?Hg(a,b):Gg(a):a.data}function Gg(a){var b,c=a.mappings;for(b in c){var d=c[b];d.trackData=!0,d.updatable||a.addData(b,d.getValue())}return a.data}function Hg(a,b){var c=Ig(a,b);return new c(a)}function Ig(a,b){var c=b._parameters;return(!c.Constructor||a.newKeys.length)&&(c.Constructor=Jg(a,c.defined)),c.Constructor}function Jg(a,b){function c(a){this._mappings=a.mappings,this._data=a.data||{}}var d,e;return d=a.keys.reduce(function(a,b){return a[b]={get:function(){var a=this._mappings[b];return a?a.getValue():this._data[b]},set:function(a){var c=this._mappings[b];c?(Ni.start(),c.setValue(a),Ni.end()):this._data[b]=a},enumerable:!0},a},b),Wh(e={},d),e.constructor=c,c.prototype=e,c}function Kg(a,b,c){var d,e;this.parameters=a,this.key=b,this.resolved=this.ready=!1,d=a.component,e=this.resolve.bind(this),c.r?this.resolver=so(d,c.r,e):c.x?this.resolver=new wo(d,d.parentFragment,c.x,e):c.rx&&(this.resolver=new Ao(d,c.rx,e)),this.resolved||a.addMapping(b),this.ready=!0}function Lg(a,b,c){var d,e,f;return c?(b.parameters&&(f=Mg(b)),d=new Ng(a,c,f),e=Zs(d,b),{data:e,mappings:d.mappings}):{data:{}}}function Mg(a){return a._parameters?a._parameters.defined||(a._parameters.defined={}):a._parameters={defined:{}},a._parameters.defined}function Ng(a,b,c){var d=this;this.component=a,this.parentViewmodel=a.root.viewmodel,this.data={},this.mappings=Uh(null),this.newKeys=[],this.keys=Object.keys(b),this.keys.forEach(function(a){c&&!c[a]&&d.newKeys.push(a),d.add(G(a),b[a])})}function Og(a){return 1===a.length&&a[0].t===Lk}function Pg(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Qg(a.instance,a.root,c,b[c])}function Qg(a,b,c,d){"string"!=typeof d&&ri.error({debug:b.debug,message:"noComponentEventArguments"}),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),lj(b,d,{event:a,args:c}),!1})}function Rg(a,b){var c,d,e;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=Wk,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],e=_s(this,b.prototype,a.template.a),Xs(this,b,e,a.template.f,a.template.p),at(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&fi('The "intro", "outro" and "decorator" directives have no effect on components'),bt(this)}function Sg(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function Tg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function Ug(){return this.instance.fragment.toString()}function Vg(){var a=this.instance;this.resolvers.forEach(Q),Wg(this),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&x(a.el.__ractive_instances__,a),gt.fire(a)}function Wg(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function Xg(a){this.shouldDestroy=a,this.instance.unrender()}function Yg(a){if("string"==typeof a.template)return new go(a);switch(a.template.t){case Lk:return"yield"===a.template.r?new ot(a):new Go(a);case Nk:return new $o(a);case Mk:return new qp(a);case Qk:var b;return(b=_r(a.parentFragment.root,a.template.e))?new kt(a,b):new Tr(a);case Rk:return new $r(a);case Sk:return new mt(a);case Zk:return new qt(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Zg(a){var b,c=this;this.owner=a.owner,b=this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],a.template=w(a.template),this.items=a.template.map(function(b,d){return rt({parentFragment:c,pElement:a.pElement,template:b,index:d})}).filter($g),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function $g(a){if(!a)throw new Error("null item");return!0}function _g(a,b){E(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function ah(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function bh(a){return this.items?this.items.map(a?dh:ch).join(""):""}function ch(a){return a.toString()}function dh(a){return a.toString(!0)}function eh(){this.bound&&(this.items.forEach(fh),this.bound=!1)}function fh(a){a.unbind&&a.unbind()}function gh(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function hh(a){var b,c,d,e,f;if(a=a||{},"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((c=this.viewmodel.wrapped[""])&&c.reset?c.reset(a)===!1&&(this.data=a):this.data=a,d=Sn.reset(this),e=d.length;e--;)if(Ct.indexOf(d[e])>-1){f=!0;break}if(f){var g;this.viewmodel.mark(Ei),(g=this.component)&&(g.shouldDestroy=!0),this.unrender(),g&&(g.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new Bt({template:this.template,root:this,owner:this})),b=this.render(this.el,this.anchor)}else b=Ni.start(this,!0),this.viewmodel.mark(Ei),Ni.end();return Dt.fire(this,a),b}function ih(a){var b,c;In.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new Bt({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function jh(a,b){var c,d,e=this;if(d=Ni.start(this,!0),k(a)){c=a;for(a in c)c.hasOwnProperty(a)&&(b=c[a],a=G(J(a)),this.viewmodel.set(a,b))}else a=G(J(a)),It.test(a.str)?H(this,a.str).forEach(function(a){e.viewmodel.set(a,b)}):this.viewmodel.set(a,b);return Ni.end(),d}function kh(a,b){return ki(this,a,void 0===b?-1:-b)}function lh(){var a;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&x(this.el.__ractive_instances__,this),this.shouldDestroy=!0,a=this.fragment.rendered?this.unrender():Bi.resolve(),Ot.fire(this),this._boundFunctions.forEach(mh),a}function mh(a){delete a.fn[a.prop]}function nh(a,b){var c;return"string"!=typeof a&&ri.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:a}}),c=this.get(a),this.set(a,!c,b)}function oh(){return this.fragment.toString(!0)}function ph(){var a,b,c=this;if(!this.fragment.rendered)return ri.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"}),Bi.resolve();for(a=Ni.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&a.then(function(){_j.remove(c.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),x(this.el.__ractive_instances__,this),St.fire(this),Ni.end(),a}function qh(a){var b;return a=G(a)||Ei,b=Ni.start(this,!0),this.viewmodel.mark(a),Ni.end(),Vt.fire(this,a),b}function rh(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||G(d).equalsOrStartsWith(a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=sh(this,e),this.set(c)}function sh(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath.str]||a.changed()||(d.push(a.keypath),d[a.keypath.str]=a));b=a.attribute.value,e=a.getValue(),v(b,e)||h(b,e)||(c[a.keypath.str]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a.str],e=b.attribute.value,f=b.getValue(),v(e,f)||(c[a.str]=f)}),c}function th(a){for(var b={};a;)uh(a,b),wh(a,b),a=a._Parent!==cu?a._Parent:!1;return b}function uh(a,b){Pn.forEach(function(c){vh(c.useDefaults?a.prototype:a,b,c.name)})}function vh(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function wh(a,b){Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e,f=d._method;f&&(d=d._method),e=Hk(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}})}function xh(a){void 0===a&&(a={});var b,c,d=this;return a.prototype instanceof cu&&(a=Zt(a)),b=function(a){Ws(this,a)},c=Uh(d.prototype),c.constructor=b,Wh(b,{_guid:{value:$t++},defaults:{value:c},extend:{value:xh,writable:!0,configurable:!0},_Parent:{value:d}}),Sn.extend(d,c,a),b.prototype=c,b}var yh,zh,Ah,Bh,Ch,Dh,Eh={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1,debug:!1},Fh=Eh,Gh={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}};yh="object"==typeof document,zh="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),Ah=!0}catch(Hh){Ah=!1}Bh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ch="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),Dh=["o","ms","moz","webkit"];var Ih,Jh,Kh,Lh,Mh,Nh,Oh,Ph,Qh;if(Ih=Ch?function(a,b){return b&&b!==Bh.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==Bh.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)},yh){for(Kh=Ih("div"),Lh=["matches","matchesSelector"],Qh=function(a){return function(b,c){return b[a](c)}},Oh=Lh.length;Oh--&&!Jh;)if(Mh=Lh[Oh],Kh[Mh])Jh=Qh(Mh);else for(Ph=Dh.length;Ph--;)if(Nh=Dh[Oh]+Mh.substr(0,1).toUpperCase()+Mh.substring(1),Kh[Nh]){Jh=Qh(Nh);break}Jh||(Jh=function(a,b){var c,d,e;for(d=a.parentNode,d||(Kh.innerHTML="",d=Kh,a=a.cloneNode(),Kh.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else Jh=null;var Rh,Sh,Th;"undefined"==typeof window?Th=null:(Rh=window,Sh=Rh.document,Th={},Sh||(Th=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;for(void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0),c=this.length;c>b;b++)if(this.hasOwnProperty(b)&&this[b]===a)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f=this,g=[];for(f instanceof String&&(f=f.toString(),e=!0),c=0,d=f.length;d>c;c+=1)(f.hasOwnProperty(c)||e)&&(g[c]=a.call(b,f[c],c,f));return g}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){var c,d,e,f;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(e=this.length,f=!1,arguments.length>1&&(d=b,f=!0),c=0;e>c;c+=1)this.hasOwnProperty(c)?f&&(d=a(d,this[c],c,this)):(d=this[c],f=!0);if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e=[];for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)&&(e[e.length]=this[c]);return e}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=0;d>e;e+=1)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b,c,d,e,f=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return b=f.call(arguments,1),c=this,d=function(){},e=function(){var e=this instanceof d&&a?this:a;return c.apply(e,b.concat(f.call(arguments)))},d.prototype=this.prototype,e.prototype=new d,e}),Rh.addEventListener||!function(a,b){var c,d,e,f,g,h;a.appearsToBeIELessEqual8=!0,c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b,d.target=a.srcElement||b,d.timeStamp=+new Date,d.preventDefault=function(){a.returnValue=!1},d.stopPropagation=function(){a.cancelBubble=!0}},d=function(a,b){var d,e,f=this;d=f.listeners||(f.listeners=[]),e=d.length,d[e]=[b,function(a){b.call(f,new c(a,f))}],f.attachEvent("on"+a,d[e][1])},e=function(a,b){var c,d,e=this;if(e.listeners)for(c=e.listeners,d=c.length;d--;)c[d][0]===b&&e.detachEvent("on"+a,c[d][1])},a.addEventListener=b.addEventListener=d,a.removeEventListener=b.removeEventListener=e,"Element"in a?(a.Element.prototype.addEventListener=d,a.Element.prototype.removeEventListener=e):(h=b.createElement,b.createElement=function(a){var b=h(a);return b.addEventListener=d,b.removeEventListener=e,b},f=b.getElementsByTagName("head")[0],g=b.createElement("style"),f.insertBefore(g,f.firstChild))}(Rh,Sh),Rh.getComputedStyle||(Th.getComputedStyle=function(){function a(c,d,e,f){var g,h=d[e],i=parseFloat(h),j=h.split(/\d/)[0];return isNaN(i)&&/^thin|medium|thick$/.test(h)&&(i=b(h),j=""),f=null!=f?f:/%|em/.test(j)&&c.parentElement?a(c.parentElement,c.parentElement.currentStyle,"fontSize",null):16,g="fontSize"==e?f:/width/i.test(e)?c.clientWidth:c.clientHeight,"em"==j?i*f:"in"==j?96*i:"pt"==j?96*i/72:"%"==j?i/100*g:i}function b(a){var b,c;return f[a]||(b=document.createElement("div"),b.style.display="block",b.style.position="fixed",b.style.width=b.style.height="0",b.style.borderRight=a+" solid black",document.getElementsByTagName("body")[0].appendChild(b),c=b.getBoundingClientRect(),f[a]=c.right-c.left),f[a]}function c(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function d(b){var d,e,f,g;d=b.currentStyle,e=this,f=a(b,d,"fontSize",null);for(g in d)/width|height|margin.|padding.|border.+W/.test(g)?"auto"===d[g]?/^width|height/.test(g)?e[g]=("width"===g?b.clientWidth:b.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(g)&&(e[g]="0px"):e[g]=a(b,d,g,f)+"px":"styleFloat"===g?e["float"]=d[g]:e[g]=d[g];return c(e,"margin"),c(e,"padding"),c(e,"border"),e.fontSize=f+"px",e}function e(a){return new d(a)}var f={};return d.prototype={constructor:d,getPropertyPriority:function(){},getPropertyValue:function(a){return this[a]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},e}()));var Uh,Vh,Wh,Xh=Th,Yh=Array.prototype.slice;try{Object.defineProperty({},"test",{value:0}),yh&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Vh=Object.defineProperty}catch(Zh){Vh=function(a,b,c){a[b]=c.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Zh){throw Zh}yh&&Object.defineProperties(Ih("div"),{test:{value:0}}),Wh=Object.defineProperties}catch(Zh){Wh=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Vh(a,c,b[c])}}try{Object.create(null),Uh=Object.create}catch(Zh){Uh=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var $h,_h=Object.prototype.hasOwnProperty,ai=Object.prototype.toString,bi=/^\[object (?:Array|FileList)\]$/,ci=function(){},di={};$h=zh?function(a,b){if(!b){if(di[a])return;di[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:ci;var ei,fi=$h,gi=function(a,b,c,d){if(a===b)return n(b);if(d){var e=l("interpolators",c,d);if(e)return e(a,b)||n(b);fi('Missing "'+d+'" interpolator. You may need to download a plugin from [TODO]')}return ji.number(a,b)||ji.array(a,b)||ji.object(a,b)||n(b)},hi=gi,ii={number:function(a,b){var c;return j(a)&&j(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,f,g;if(!e(a)||!e(b))return null;for(c=[],d=[],g=f=Math.min(a.length,b.length);g--;)d[g]=hi(a[g],b[g]);for(g=f;g<a.length;g+=1)c[g]=a[g];for(g=f;g<b.length;g+=1)c[g]=b[g];return function(a){for(var b=f;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!k(a)||!k(b))return null;c=[],f={},e={};for(g in a)_h.call(a,g)&&(_h.call(b,g)?(c.push(g),e[g]=hi(a[g],b[g])):f[g]=a[g]);for(g in b)_h.call(b,g)&&!_h.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},ji=ii,ki=o,li=p;"undefined"==typeof window?ei=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(Dh,0,window),ei=window.requestAnimationFrame);var mi,ni=ei;mi="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var oi=mi,pi={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',noTwowayExpressions:"Two-way binding does not work with expressions. Encountered ( {expression} ) on element {element}.",computedCannotMapTo:'Computed property "{key}" cannot be mapped to "{other}" because {reason}.',notUsed:'prevents forgetting trailing "," in cut and paste of previous line :)'},qi={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(q(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(q(a));this.thrower(b)},logger:fi,thrower:function(a){throw a},consoleError:function(a){zh?console.error(a.err):this.thrower(a.err)}},ri=qi,si={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};s.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&ri.warnAlways({debug:a.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate}),b?a.fire(this.event,b):a.fire(this.event)};var ti,ui=s,vi={},wi={},xi={};"function"==typeof Promise?ti=Promise:(ti=function(a){var b,c,d,e,f,g,h=[],i=[],j=vi;d=function(a){return function(d){j===vi&&(b=d,j=a,c=A(j===wi?h:i,b),z(c))}},e=d(wi),f=d(xi);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new ti(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),B(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==vi&&z(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},ti.all=function(a){return new ti(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},ti.resolve=function(a){return new ti(function(b){b(a)})},ti.reject=function(a){return new ti(function(b,c){c(a)})});var yi,zi,Ai,Bi=ti,Ci={},Di=C;yi=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,zi={},Ai=function(a){var b=a.split(".");this.str=a,"@"===a[0]&&(this.isSpecial=!0,this.value=F(a)),this.firstKey=b[0],this.lastKey=b.pop(),this.parent=""===a?null:G(b.join(".")),this.isRoot=!a},Ai.prototype={equalsOrStartsWith:function(a){return a===this||this.startsWith(a)},join:function(a){return G(this.isRoot?String(a):this.str+"."+a)},replace:function(a,b){return this===a?b:this.startsWith(a)?null===b?b:G(this.str.replace(a.str+".",b.str+".")):void 0},startsWith:function(a){return a?a&&this.str.substr(0,a.str.length+1)===a.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Di(this.str))}};var Ei=G(""),Fi=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return Ei},Gi=K,Hi=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};Hi.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,U(this)},decrementTotal:function(){this.totalChildren-=1,U(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;x(b,a),U(this)},init:function(){this.ready=!0,U(this)},detachNodes:function(){this.decoratorQueue.forEach(P),this.detachQueue.forEach(S),this.children.forEach(T)}};var Ii,Ji,Ki=Hi,Li=[],Mi=new ui("change");Ji={start:function(a,b){var c,d;return b&&(c=new Bi(function(a){return d=a})),Ii={previousBatch:Ii,transitionManager:new Ki(d,Ii&&Ii.transitionManager),views:[],tasks:[],viewmodels:[],instance:a},a&&Ii.viewmodels.push(a.viewmodel),c},end:function(){V(),Ii.transitionManager.init(),!Ii.previousBatch&&Ii.instance&&(Ii.instance.viewmodel.changes=[]),Ii=Ii.previousBatch},addViewmodel:function(a){return Ii?-1===Ii.viewmodels.indexOf(a)?(Ii.viewmodels.push(a),!0):!1:(a.applyChanges(),!1)},registerTransition:function(a){a._manager=Ii.transitionManager,Ii.transitionManager.add(a)},registerDecorator:function(a){Ii.transitionManager.addDecorator(a)},addView:function(a){Ii.views.push(a)},addUnresolved:function(a){Li.push(a)},removeUnresolved:function(a){x(Li,a)},detachWhenReady:function(a){Ii.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(Ii){for(c=Ii;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var Ni=Ji,Oi=[],Pi={tick:function(){var a,b,c;for(c=oi(),Ni.start(),a=0;a<Oi.length;a+=1)b=Oi[a],b.tick(c)||Oi.splice(a--,1);Ni.end(),Oi.length?ni(Pi.tick):Pi.running=!1},add:function(a){Oi.push(a),Pi.running||(Pi.running=!0,ni(Pi.tick))},abort:function(a,b){for(var c,d=Oi.length;d--;)c=Oi[d],c.root===b&&c.keypath===a&&c.stop()}},Qi=Pi,Ri=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=hi(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};Ri.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(Ni.start(this.root),this.root.viewmodel.set(f,this.to),Ni.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&fi("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),Ni.start(this.root),this.root.viewmodel.set(f,c),Ni.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&fi("Animation was not found"),this.root._animations.splice(a,1)}};var Si=Ri,Ti={stop:ci},Ui=Y,Vi=new ui("detach"),Wi=$,Xi=_,Yi=function(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?Jh(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0},Zi=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},$i=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=bb(a.component||a._ractive.proxy),d=bb(b.component||b._ractive.proxy),e=c[c.length-1],f=d[d.length-1];e&&e===f;)c.pop(),d.pop(),g=e,e=c[c.length-1],f=d[d.length-1];if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},_i=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):$i(a,b)},aj=function(){this.sort(this._isComponentQuery?$i:_i),this._dirty=!1},bj=function(){var a=this;this._dirty||(this._dirty=!0,Ni.scheduleTask(function(){a._sort()}))},cj=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},dj=cb,ej=db,fj=eb,gj=fb,hj=gb,ij=hb,jj={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},kj=jj,lj=ib,mj=lb,nj={capture:!0,noUnwrap:!0},oj=mb,pj=new ui("insert"),qj=nb,rj=pb,sj=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};sj.prototype={init:function(a){this.value=this.root.get(this.keypath.str),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;h(a,this.value)||(this.value=a,this.defer&&this.ready?Ni.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var tj,uj=sj,vj=qb,wj=/\*/,xj=Array.prototype.slice;tj=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},tj.prototype={init:function(a){var b,c;if(b=vj(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(G(c));else this.values=b},update:function(a){var b,c=this;if(wj.test(a.str)){b=vj(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(G(a))}else if(!this.root.viewmodel.implicitChanges[a.str])return this.defer&&this.ready?void Ni.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d,e;return b=a.str,c=this.root.viewmodel.get(a),this.updating?void(this.values[b]=c):(this.updating=!0,h(c,this.values[b])&&this.ready||(d=xj.call(this.regex.exec(b),1),e=[c,this.values[b],b].concat(d),this.values[b]=c,this.callback.apply(this.context,e)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a.str]||(this.proxies[a.str]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a.str]}};var yj,zj,Aj,Bj,Cj,Dj,Ej=tj,Fj=/\*/,Gj={},Hj=rb,Ij=sb,Jj=tb,Kj=function(a){return a.trim()},Lj=function(a){return""!==a
},Mj=ub,Nj=vb,Oj=wb,Pj=xb,Qj=Array.prototype.slice,Rj=Array.prototype,Sj=function(a){return function(b){var c,d,f,g,h=Qj.call(arguments,1),i=[];if(b=G(J(b)),c=this.viewmodel.get(b),d=c.length,!e(c))throw new Error("Called ractive."+a+"('"+b+"'), but '"+b+"' does not refer to an array");return i=Pj(c,a,h),g=Rj[a].apply(c,h),f=Ni.start(this,!0).then(function(){return g}),i?this.viewmodel.smartUpdate(b,c,i):this.viewmodel.mark(b),Ni.end(),f}},Tj=Sj("pop"),Uj=Sj("push"),Vj="/* Ractive.js component styles */\n",Wj={},Xj=[];yh?(Aj=document.createElement("style"),Aj.type="text/css",Bj=document.getElementsByTagName("head")[0],Dj=!1,Cj=Aj.styleSheet,zj=function(){var a;Xj.length?(a=Vj+Xj.join(" "),Cj?Cj.cssText=a:Aj.innerHTML=a,Dj||(Bj.appendChild(Aj),Dj=!0)):Dj&&(Bj.removeChild(Aj),Dj=!1)},yj={add:function(a){a.css&&(Wj[a._guid]||(Wj[a._guid]=0,Xj.push(a.css),zj()),Wj[a._guid]+=1)},remove:function(a){a.css&&(Wj[a._guid]-=1,Wj[a._guid]||(x(Xj,a.css),Ni.scheduleTask(zj)))}}):yj=null;var Yj,Zj,$j,_j=yj,ak=new ui("render"),bk=new ui("complete"),ck=zb,dk=function(a,b,c,d){var e=a.root,f=a.keypath;return"sort"===c||"reverse"===c?void e.viewmodel.set(f,b):void e.viewmodel.smartUpdate(f,b,d)},ek=Array.prototype.slice,fk=[],gk=["pop","push","reverse","shift","sort","splice","unshift"];gk.forEach(function(a){var b=function(){var b,c,d,e,f=ek.call(arguments);for(b=Pj(this,a,f),c=Array.prototype[a].apply(this,arguments),Ni.start(),this._ractive.setting=!0,e=this._ractive.wrappers.length;e--;)d=this._ractive.wrappers[e],Ni.addViewmodel(d.root.viewmodel),dk(d,this,a,b);return Ni.end(),this._ractive.setting=!1,c};Vh(fk,a,{value:b})}),Yj={},Yj.__proto__?(Zj=function(a){a.__proto__=fk},$j=function(a){a.__proto__=Array.prototype}):(Zj=function(a){var b,c;for(b=gk.length;b--;)c=gk[b],Vh(a,c,{value:fk[c],configurable:!0})},$j=function(a){var b;for(b=gk.length;b--;)delete a[gk[b]]}),Zj.unpatch=$j;var hk,ik,jk,kk=Zj;hk={filter:function(a){return e(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new ik(a,b,c)}},ik=function(a,b,c){this.root=a,this.value=b,this.keypath=G(c),b._ractive||(Vh(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),kk(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},ik.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(jk);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(jk);d.splice(e,1)}}else delete a._ractive,kk.unpatch(this.value)}},jk="Something went wrong in a rather interesting way";var lk,mk,nk=hk,ok=/^\s*[0-9]+\s*$/,pk=function(a){return ok.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),lk={filter:function(a,b,c){var d,f;return b?(b=G(b),(d=c.viewmodel.wrapped[b.parent.str])&&!d.magic?!1:(f=c.viewmodel.get(b.parent),e(f)&&/^[0-9]+$/.test(b.lastKey)?!1:f&&("object"==typeof f||"function"==typeof f))):!1},wrap:function(a,b,c){return new mk(a,b,c)}},mk=function(a,b,c){var d,e,f;return c=G(c),this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,this.prop=c.lastKey,d=c.parent,this.obj=d.isRoot?a.data:a.viewmodel.get(d),e=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),e&&e.set&&(f=e.set._ractiveWrappers)?void(-1===f.indexOf(this)&&f.push(this)):void Bb(this,b,e)},mk.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,Ni.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{dontTeardownWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=pk(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(Zh){lk=!1}var qk,rk,sk=lk;sk&&(qk={filter:function(a,b,c){return sk.filter(a,b,c)&&nk.filter(a)},wrap:function(a,b,c){return new rk(a,b,c)}},rk=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=sk.wrap(a,b,c),this.arrayWrapper=nk.wrap(a,b,c)},rk.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var tk,uk,vk,wk=qk,xk={extend:function(a,b,c){b.adapt=Cb(b.adapt,w(c.adapt))},init:function(a,b,c){function d(a){return"string"==typeof a&&(a=l("adaptors",b,a),a||ri.critical({message:"missingPlugin",args:{plugin:"adaptor",name:a}})),a}var e,f;if(e=b.adapt.map(d),f=w(c.adapt).map(d),b.adapt=Cb(e,f),b.magic){if(!Ah)throw new Error("Getters and setters (magic mode) are not supported in this browser");b.modifyArrays&&b.adapt.push(wk),b.adapt.push(sk)}b.modifyArrays&&b.adapt.push(nk)}},yk=xk,zk=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Ak=/\/\*.*?\*\//g,Bk=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Ck=/^@media/,Dk=/\[data-ractive-css="[a-z0-9-]+"]/g,Ek=Db,Fk={name:"css",extend:function(a,b,c){var d,e=b.constructor._guid;(d=Gb(c.css,c,e)||Gb(a.css,a,e))&&(b.constructor.css=d)},init:function(){}},Gk=Fk,Hk=function(a,b,c){return c||Hb(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},Ik={name:"data",extend:function(a,b,c){b.data=Ib(a,b,c)},init:function(a,b,c){var d=c.data,e=Ib(a,b,c);return"function"==typeof e&&(e=e.call(b,d)||d),b.data=e||{}},reset:function(a){var b=this.init(a.constructor,a,a);return b?(a.data=b,!0):void 0}},Jk=Ik,Kk=1,Lk=2,Mk=3,Nk=4,Ok=5,Pk=6,Qk=7,Rk=8,Sk=9,Tk=10,Uk=13,Vk=14,Wk=15,Xk=16,Yk=17,Zk=18,$k=20,_k=21,al=22,bl=23,cl=24,dl=26,el=27,fl=30,gl=31,hl=32,il=33,jl=34,kl=35,ll=36,ml=40,nl=50,ol=51,pl=52,ql=53,rl=54,sl=55,tl="Expected a JavaScript expression",ul="Expected closing paren",vl=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,wl=function(a){var b;return(b=a.matchPattern(vl))?{t:$k,v:b}:null},xl=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:cl,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:cl,v:"false"}):null};tk=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,uk=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,vk=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var yl,zl,Al,Bl,Cl,Dl=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(tk)||b.matchPattern(uk)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(vk),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},El=Dl('"'),Fl=Dl("'"),Gl=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=Fl(a),a.matchString('"')?{t:_k,v:c}:(a.pos=b,null)):a.matchString("'")?(c=El(a),a.matchString("'")?{t:_k,v:c}:(a.pos=b,null)):null},Hl=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Il=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,Jl=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Kl=function(a){var b;return(b=Gl(a))?Jl.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=wl(a))?b.v:(b=a.matchPattern(Hl))?b:void 0},Ll=function(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=Kl(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=a.readExpression(),null===d?(a.pos=b,null):{t:el,k:c,v:d}):(a.pos=b,null))},Ml=Pb,Nl=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=Ml(a),a.allowWhitespace(),a.matchString("}")?{t:bl,m:c}:(a.pos=b,null)):(a.pos=b,null)},Ol=Qb,Pl=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=Ol(a),a.matchString("]")?{t:al,m:c}:(a.pos=b,null)):(a.pos=b,null)},Ql=function(a){var b=wl(a)||xl(a)||Gl(a)||Nl(a)||Pl(a);return b};yl=/^\.[a-zA-Z_$0-9]+/,Al=function(a){var b=a.matchPattern(zl);return b?"."+b:null},zl=/^\[(0|[1-9][0-9]*)\]/,Bl=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,Cl=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var Rl,Sl,Tl=function(a){var b,c,d,e,f,g,h,i;if(b=a.pos,a.matchString("~/"))c="~/";else for(c="";a.matchString("../");)c+="../";if(c||(e=a.matchString("./")||a.matchString(".")||""),i=a.relaxedNames?Il:Hl,d=a.matchPattern(/^@(?:keypath|index|key)/)||a.matchPattern(i)||"",!a.relaxedNames&&!e&&!c&&Cl.test(d))return a.pos=b,null;if(!c&&!e&&!a.relaxedNames&&Bl.test(d))return{t:dl,v:d};if(f=(c||e)+d,!f)return null;for(;g=a.matchPattern(yl)||Al(a);)f+=g;return a.matchString("(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:fl,n:f.replace(/^this\./,"./").replace(/^this$/,".")}},Ul=function(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=a.readExpression(),c||a.error(tl),a.allowWhitespace(),a.matchString(")")||a.error(ul),{t:jl,x:c}):null},Vl=function(a){return Ql(a)||Tl(a)||Ul(a)},Wl=Rb,Xl=function(a){var b,c,d,e;if(c=Vl(a),!c)return null;for(;c;)if(b=a.pos,d=Wl(a))c={t:hl,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=Ol(a),a.allowWhitespace(),a.matchString(")")||a.error(ul),c={t:ml,x:c},e&&(c.o=e)}return c};Sl=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=c.readExpression(),d||c.error(tl),{s:a,o:d,t:il}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=Xl,a=0,b=d.length;b>a;a+=1)c=Sl(d[a],e),e=c;Rl=e}();var Yl,Zl,$l=Rl;Zl=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:ll,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=$l,a=0,b=d.length;b>a;a+=1)c=Zl(d[a],e),e=c;Yl=e}();var _l,am,bm=Yl,cm=function(a){var b,c,d,e;return(c=bm(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(tl),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=a.readExpression(),e||a.error(tl),{t:kl,o:[c,d,e]}):(a.pos=b,c)):null},dm=function(a){var b,c=[];return Tb(a,c),b={r:c,s:Ub(this,a,c)}},em=/^\s+/;am=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},am.prototype=Error.prototype,_l=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},_l.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return cm(this)},flattenExpression:dm,getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b,c,d,e,f,g;throw b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=e+"\n"+new Array(b[1]).join(" ")+"^----",g=new am(a+" at line "+c+" character "+d+":\n"+f),g.line=b[0],g.character=b[1],g.shortMessage=a,g},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(em)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},_l.extend=function(a){var b,c,d=this;b=function(a,b){_l.call(this,a,b)},b.prototype=Uh(d.prototype);for(c in a)_h.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=_l.extend,b};var fm,gm=_l,hm=/^[^\s=]+/,im=/^\s+/,jm=function(a){var b,c,d;return a.matchString("=")?(b=a.pos,a.allowWhitespace(),(c=a.matchPattern(hm))?a.matchPattern(im)?(d=a.matchPattern(hm))?(a.allowWhitespace(),a.matchString("=")?[c,d]:(a.pos=b,null)):(a.pos=b,null):null:(a.pos=b,null)):null},km=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],lm={"#":Nk,"^":Ok,"/":Pk,">":Rk,"!":Sk,"&":Mk},mm=function(a){var b=lm[a.str.charAt(a.pos)];return b?(a.pos+=1,b):null},nm={each:pl,"if":nl,"if-with":rl,"with":ql,unless:ol,partial:sl},om=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,pm=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,qm=/^[0-9][1-9]*$/,rm=new RegExp("^("+Object.keys(nm).join("|")+")\\b");fm=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;var sm,tm,um,vm,wm,xm,ym,zm,Am=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(c=a.pos,e={},l=a[b.delimiters],b.isStatic&&(e.s=!0),b.isTriple)e.t=Mk;else{if("!"===a.remaining()[0]){try{h=a.readExpression(),a.allowWhitespace(),a.remaining().indexOf(l[1])?h=null:e.t=Lk}catch(n){}if(!h)return k=a.remaining().indexOf(l[1]),~k?a.pos+=k:a.error("Expected closing delimiter ('"+l[1]+"')"),{t:Sk}}if(!h)if(f=mm(a),e.t=f||Lk,f===Nk)(g=a.matchPattern(rm))&&(e.n=g),a.allowWhitespace();else if((f===Sk||f===Pk)&&(j=a.remaining(),k=j.indexOf(l[1]),-1!==k))return e.r=j.substr(0,k).split(" ")[0],a.pos+=k,e}if(!h){a.allowWhitespace(),f===Rk?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=m):e.t===Lk&&a.matchString("yield ")?(a.allowWhitespace(),e.r="yield",m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1,h&&h.t===fl?(e.yn=h.n,h=null):h&&a.error("Only names are supported with yield.")):e.t===Nk&&"partial"===e.n?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1):h=a.readExpression();var o;if(e.t===Rk&&h&&(o=a.readExpression())&&(e={contextPartialExpression:h},h=o),j=a.remaining(),j.substr(0,l[1].length)!==l[1]&&":"!==j.charAt(0)){if(d=a.pos,a.pos=c,j=a.remaining(),k=j.indexOf(l[1]),-1!==k)return e.r=j.substr(0,k).trim(),fm.test(e.r)||a.error("Expected a legal Mustache reference"),a.pos+=k,e;a.pos=d}}if(Vb(a,h,e),e.contextPartialExpression&&(e.contextPartialExpression=[Vb(a,e.contextPartialExpression,{t:Rk})]),i=a.matchPattern(om)){var p;e.i=(p=a.matchPattern(pm))?i+","+p:i}return e},Bm={t:Tk,exclude:!0},Cm=Xb,Dm="<!--",Em="-->",Fm=function(a){var b,c,d,e,f;return b=a.pos,a.matchString(Dm)?(d=a.remaining(),e=d.indexOf(Em),-1===e&&a.error("Illegal HTML - expected closing comment sequence ('-->')"),c=d.substr(0,e),a.pos+=e+3,f={t:Sk,c:c},a.includeLinePositions&&(f.p=a.getLinePos(b)),f):null};sm=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,tm=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,um={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},vm=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],wm=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(um).join("|")+"));?","g"),xm=/</g,ym=/>/g,zm=/&/g;var Gm,Hm,Im,Jm,Km,Lm,Mm,Nm=/[-/\\^$*+?.()|[\]{}]/g,Om=bc,Pm=cc,Qm=/^<!--\s*/,Rm=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Sm=/\s*-->/,Tm=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1},Um=function(a){var b,c,d,e;return c=a.remaining(),e=a.inside?"</"+a.inside:"<",a.inside&&!a.interpolate[a.inside]?b=c.indexOf(e):(d=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],a.inAttribute===!0?d.push('"',"'","=","<",">","`"):d.push(a.inAttribute?a.inAttribute:e),b=Tm(c,d)),b?(-1===b&&(b=c.length),a.pos+=b,a.inside?c.substr(0,b):$b(c.substr(0,b))):null},Vm=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Wm=function(a){var b;return a.matchString("</")?(b=a.matchPattern(Vm))?{t:Vk,e:b}:(a.pos-=2,void a.error("Illegal closing tag")):null},Xm=/^[^\s"'>\/=]+/,Ym=/^[^\s"'=<>`]+/,Zm=dc;Hm={"true":!0,"false":!1,undefined:void 0,"null":null},Im=new RegExp("^(?:"+Object.keys(Hm).join("|")+")"),Jm=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Km=/\$\{([^\}]+)\}/g,Lm=/^\$\{([^\}]+)\}/,Mm=/^\s*$/,Gm=gm.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&Mm.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(Lm),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(Im))?{v:Hm[b]}:void 0},function(a){var b;return(b=a.matchPattern(Jm))?{v:+b}:void 0},function(a){var b,c=Gl(a);return c&&(b=a.values)?{v:c.v.replace(Km,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=jc(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var $m,_m=function(a,b){var c=new Gm(a,{values:b});return c.result},an=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/;$m=gm.extend({converters:[cm]});var bn,cn,dn=function(a){var b,c,d,e,f,g,h,i,j;if("string"==typeof a){if(c=an.exec(a))return b={m:c[1]},e="["+a.slice(b.m.length+1,-1)+"]",d=new $m(e),b.a=dm(d.result[0]),b;if(-1===a.indexOf(":"))return a.trim();a=[a]}if(b={},h=[],i=[],a){for(;a.length;)if(f=a.shift(),"string"==typeof f){if(g=f.indexOf(":"),-1!==g){g&&h.push(f.substr(0,g)),f.length>g+1&&(i[0]=f.substring(g+1));break}h.push(f)}else h.push(f);i=i.concat(a)}return h.length?i.length||"string"!=typeof h?(b={n:1===h.length&&"string"==typeof h[0]?h[0]:h},1===i.length&&"string"==typeof i[0]?(j=_m("["+i[0]+"]"),b.a=j?j.value:i[0].trim()):b.d=i):b=h:b="",b},en=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,fn=/^[\s\n\/>]/,gn=/^on/,hn=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,jn=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,kn={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},ln={exclude:!0};bn=[Pm,Cm,Fm,kc,Um,Wm],cn={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var mn,nn,on=kc,pn=/^[ \t\f\r\n]+/,qn=/[ \t\f\r\n]+$/,rn=function(a,b,c){var d;b&&(d=a[0],"string"==typeof d&&(d=d.replace(pn,""),d?a[0]=d:a.shift())),c&&(d=a[a.length-1],"string"==typeof d&&(d=d.replace(qn,""),d?a[a.length-1]=d:a.pop()))},sn=/^\s*\r?\n/,tn=/\r?\n\s*$/,un=function(a){var b,c,d,e,f;for(b=1;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b-2],mc(c)&&nc(d)&&mc(e)&&tn.test(e)&&sn.test(c)&&(a[b-2]=e.replace(tn,"\n"),a[b]=c.replace(sn,"")),oc(c)&&mc(d)&&tn.test(d)&&mc(c.f[0])&&sn.test(c.f[0])&&(a[b-1]=d.replace(tn,"\n"),c.f[0]=c.f[0].replace(sn,"")),mc(c)&&oc(d)&&(f=d.f[d.f.length-1],mc(f)&&tn.test(f)&&sn.test(c)&&(d.f[d.f.length-1]=f.replace(tn,"\n"),a[b]=c.replace(sn,"")));return a},vn=pc,wn=/[ \t\f\r\n]+/g,xn=/^(?:pre|script|style|textarea)$/i,yn=/^\s+/,zn=/\s+$/;mn=gm.extend({init:function(a,b){tc(b,this),this.sectionDepth=0,this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1},b.sanitize===!0&&(b.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=b.sanitize&&b.sanitize.elements,this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes,this.includeLinePositions=b.includeLinePositions,this.StandardParser=mn},postProcess:function(a,b){return this.sectionDepth>0&&this.error("A section was left open"),sc(a,b.stripComments!==!1,b.preserveWhitespace,!b.preserveWhitespace,!b.preserveWhitespace,b.rewriteElse!==!1),a},converters:[Pm,Cm,Fm,on,Um]}),nn=function(a,b){void 0===b&&(b={});var c;tc(b),c={v:2},c.t=new mn(a,b).result;var d={};return vn(b.ractive?[b.ractive]:[],d,c.t),g(d)||(c.p=d),c};var An,Bn,Cn,Dn=nn,En=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],Fn={parse:vc,fromId:wc,isHashedId:xc,isParsed:yc,getParseOptions:zc,createHelper:uc},Gn=Fn,Hn={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:Dc(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=Bc(b,e),b._config.template={fn:e,result:d}),d=Dc(d,b),b.template=d.t,d.p&&Ec(b.partials,d.p)},reset:function(a){var b,c=Ac(a);return c?(b=Dc(c,a),a.template=b.t,Ec(a.partials,b.p,!0),!0):void 0}},In=Hn;An=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],Bn=function(a,b){this.name=a,this.useDefaults=b},Bn.prototype={constructor:Bn,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,b,c)},configure:function(a,b,c){var d,e=this.name,f=c[e];d=Uh(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c}},Cn=An.map(function(a){return new Bn(a,"computed"===a)});var Jn,Kn,Ln,Mn,Nn,On,Pn=Cn,Qn=Fc,Rn=Jc;Mn={adapt:yk,css:Gk,data:Jk,template:In},Ln=Object.keys(Fh),On=Mc(Ln.filter(function(a){return!Mn[a]})),Nn=Mc(Ln.concat(Pn.map(function(a){return a.name}))),Kn=[].concat(Ln.filter(function(a){return!Pn[a]&&!Mn[a]}),Pn,Mn.data,Mn.template,Mn.css),Jn={extend:function(a,b,c){return Kc("extend",a,b,c)},init:function(a,b,c){return Kc("init",a,b,c)},reset:function(a){return Kn.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},order:Kn,getConstructTarget:function(a,b){return b.onconstruct?{onconstruct:Qn(a,"onconstruct",b.onconstruct).bind(a),fire:a.fire.bind(a)}:a}};var Sn=Jn,Tn=Nc,Un=Oc,Vn=Pc,Wn=Qc,Xn=Rc,Yn=Sc,Zn=Tc,$n=Uc,_n=Vc,ao=Wc,bo=Xc,co=Yc,eo=function(){return b(this.node)},fo=function(a){this.type=Kk,this.text=a.template};fo.prototype={detach:eo,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?ac(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var go=fo,ho=Zc,io=$c,jo=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=Gi(a.root,b,a.parentFragment),void 0!=d?this.resolve(d):Ni.addUnresolved(this)};jo.prototype={resolve:function(a){this.keypath&&!a&&Ni.addUnresolved(this),this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(G(this.ref))},rebind:function(a,b){var c;void 0!=this.keypath&&(c=this.keypath.replace(a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||Ni.removeUnresolved(this)}};var ko=jo,lo=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},mo={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};lo.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=mo[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(G("@"+d.prefix+_c(this.cached,d)));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===pl&&void 0!==(a=_c(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback(G("@"+d.prefix+a));c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=_c(c,d)))return this.callback(G("@"+d.prefix+a.str));c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var no=lo,oo=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};oo.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback(G("@"+a))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var po=oo,qo=ad;ad.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var ro,so=bd,to={},uo=cd,vo=Function.prototype.bind;ro=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return so(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},ro.prototype={bubble:function(){this.ready&&(this.uniqueString=ed(this.str,this.keypaths),this.keypath=fd(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e,f=this;d=this.keypath,a=this.root.viewmodel.computations[d.str],a?this.root.viewmodel.mark(d):(e=uo(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:a.isSpecial?(b=a.value,function(){return b}):function(){var b=f.root.viewmodel.get(a,{noUnwrap:!0});return"function"==typeof b&&(b=hd(b,f.root)),b}}),c={deps:this.keypaths.filter(gd),get:function(){var a=b.map(dd);return e.apply(null,a)}},a=this.root.viewmodel.compute(d,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var wo=ro,xo=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===fl?this.refResolver=so(this,a.n,function(a){d.resolve(a)}):new wo(b,c,a,function(a){d.resolve(a)})};xo.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var yo=xo,zo=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=Gi(d,e,g))?this.base=f:this.baseResolver=new ko(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new yo(a,h,g)}),this.ready=!0,this.bubble()};zo.prototype={getKeypath:function(){var a=this.members.map(id);return!a.every(jd)||this.baseResolver?null:this.base.join(a.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Q)},rebind:function(a,b){var c;this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=G(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(kd),this.bubble()}};var Ao=zo,Bo=ld,Co=md,Do=nd,Eo={getValue:io,init:Bo,resolve:Co,rebind:Do},Fo=function(a){this.type=Lk,Eo.init(this,a)};Fo.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:Eo.resolve,rebind:Eo.rebind,detach:eo,unbind:ho,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&b(this.node)},getValue:Eo.getValue,setValue:function(a){var b;this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),h(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&Ni.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";
return a?ac(b):b}};var Go=Fo,Ho=od,Io=pd,Jo=qd,Ko=rd,Lo=sd,Mo=td,No=ud,Oo=vd,Po=wd,Qo=function(a,b){Eo.rebind.call(this,a,b)},Ro=yd,So=zd,To=Kd,Uo=Ld,Vo=Md,Wo=Pd,Xo=function(a){this.type=Nk,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===ol,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}})),this.renderedFragments=[],this.length=0,Eo.init(this,a)};Xo.prototype={bubble:Ho,detach:Io,find:Jo,findAll:Ko,findAllComponents:Lo,findComponent:Mo,findNextNode:No,firstNode:Oo,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:Eo.getValue,shuffle:Po,rebind:Qo,render:Ro,resolve:Eo.resolve,setValue:So,toString:To,unbind:Uo,unrender:Vo,update:Wo};var Yo,Zo,$o=Xo,_o=Qd,ap=Rd,bp=Sd,cp=Td,dp={};try{Ih("table").innerHTML="foo"}catch(Zh){Yo=!0,Zo={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var ep=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(Yo&&(e=Zo[b.tagName])?(d=Ud("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===Bh.svg?(d=Ud("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=Ud(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},fp=Vd,gp=Xd,hp=Yd,ip=Zd,jp=$d,kp=_d,lp=function(a){this.type=Mk,Eo.init(this,a)};lp.prototype={detach:_o,find:ap,findAll:bp,firstNode:cp,getValue:Eo.getValue,rebind:Eo.rebind,render:gp,resolve:Eo.resolve,setValue:hp,toString:ip,unbind:ho,unrender:jp,update:kp};var mp,np,op,pp,qp=lp,rp=function(){this.parentFragment.bubble()},sp=ae,tp=function(a){return this.node?Jh(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},up=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},vp=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},wp=function(a){return this.fragment?this.fragment.findComponent(a):void 0},xp=be,yp=ce,zp=de,Ap=/^true|on|yes|1$/i,Bp=/^[0-9]+$/,Cp=function(a,b){var c;c=b.twoway,void 0!==c&&(a.twoway=0===c||Ap.test(c),delete b.twoway),c=b.lazy,void 0!==c&&(a.lazy=0!==c&&Bp.test(c)?parseInt(c):0===c||Ap.test(c),delete b.lazy)},Dp=ee;mp="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),np="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),op=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},pp=op(mp.concat(np));var Ep=function(a){var b=a.toLowerCase();return pp[b]||b},Fp=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==Bh.html?Ep(b):b;else if(b=b.substring(c+1),a.name=Ep(b),a.namespace=Bh[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},Gp=fe,Hp=ge,Ip=he,Jp={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Kp=ie,Lp=je,Mp=le,Np=me,Op=ne,Pp=oe,Qp=pe,Rp=qe,Sp=re,Tp=se,Up=te,Vp=ue,Wp=ve,Xp=we,Yp=xe,Zp=ye,$p=function(a){this.init(a)};$p.prototype={bubble:Dp,init:Hp,rebind:Ip,render:Kp,toString:Lp,unbind:Mp,update:Zp};var _p,aq=$p,bq=function(a,b){var c,d,e=[];for(c in b)b.hasOwnProperty(c)&&(d=new aq({element:a,name:c,value:b[c],root:a.root}),e.push(e[c]=d));return e};"undefined"!=typeof document&&(_p=Ih("div"));var cq=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new Bt({root:a.root,owner:this,template:[b]})};cq.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===Bh.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=ze(a,this.isSvg),this.attributes.filter(function(a){return Ae(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var dq=cq,eq=function(a,b){return b?b.map(function(b){return new dq(a,b)}):[]},fq=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c.str.slice(-1))return ri.error({debug:this.root.debug,message:"noTwowayExpressions",args:{expression:c.str.slice(2,-1).replace("-","."),element:a.tagName}}),!1}else b.resolver.forceResolution(),c=b.keypath;this.attribute.isTwoway=!0,this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=Be(a))&&(this.resetValue=d,e.formBindings.push(this))};fq.prototype={handleChange:function(){var a=this;Ni.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),Ni.scheduleTask(function(){return a.attribute.locked=!1}),Ni.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(x(this.root._twowayBindings[b.str],this),this.keypath=c,a=this.root._twowayBindings[c.str]||(this.root._twowayBindings[c.str]=[]),a.push(this))},unbind:function(){}},fq.extend=function(a){var b,d=this;return b=function(a){fq.call(this,a),this.init&&this.init()},b.prototype=Uh(d.prototype),c(b.prototype,a),b.extend=fq.extend,b};var gq,hq=fq,iq=Ce,jq=hq.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",iq,!1),this.root.lazy||(a.addEventListener("input",iq,!1),a.attachEvent&&a.addEventListener("keyup",iq,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",iq,!1),a.removeEventListener("input",iq,!1),a.removeEventListener("keyup",iq,!1)},getValue:function(){return this.element.node.innerHTML}}),kq=jq,lq={},mq=De,nq=hq.extend({name:"checked",init:function(){this.siblings=mq(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",iq,!1),a.attachEvent&&a.addEventListener("click",iq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",iq,!1),a.removeEventListener("click",iq,!1)},handleChange:function(){Ni.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),Ni.end()},getValue:function(){return this.element.node.checked},unbind:function(){x(this.siblings,this)}}),oq=nq,pq=hq.extend({name:"name",init:function(){this.siblings=mq(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath.str+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",iq,!1),a.attachEvent&&a.addEventListener("click",iq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",iq,!1),a.removeEventListener("click",iq,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&hq.prototype.handleChange.call(this)},rebound:function(a,b){var c;hq.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath.str+"}}")},unbind:function(){x(this.siblings,this)}}),qq=pq,rq=hq.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.siblings=mq(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){x(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=e(a)?u(a,b):a==b,c.name="{{"+this.keypath.str+"}}",c.checked=this.isChecked,c.addEventListener("change",iq,!1),c.attachEvent&&c.addEventListener("click",iq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",iq,!1),a.removeEventListener("click",iq,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,hq.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(Ee).map(Fe)}}),sq=rq,tq=hq.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",iq,!1),a.attachEvent&&a.addEventListener("click",iq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",iq,!1),a.removeEventListener("click",iq,!1)},getValue:function(){return this.element.node.checked}}),uq=tq,vq=hq.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",iq,!1)},unrender:function(){this.element.node.removeEventListener("change",iq,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Ni.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),wq=vq,xq=wq.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",iq,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",iq,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&v(c,b)||wq.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Ni.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),yq=xq,zq=hq.extend({render:function(){this.element.node.addEventListener("change",iq,!1)},unrender:function(){this.element.node.removeEventListener("change",iq,!1)},getValue:function(){return this.element.node.files}}),Aq=zq;gq=hq.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:i(this.element.lazy)&&(a=!1,c=this.element.lazy),b.addEventListener("change",iq,!1),a||(b.addEventListener("input",c?He:iq,!1),b.attachEvent&&b.addEventListener("keyup",c?He:iq,!1)),b.addEventListener("blur",Ge,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",iq,!1),a.removeEventListener("input",iq,!1),a.removeEventListener("keyup",iq,!1),a.removeEventListener("blur",Ge,!1)}});var Bq=gq,Cq=Bq.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),Dq=Ie,Eq=Ke,Fq=Le,Gq=Me,Hq=/^event(?:\.(.+))?/,Iq=Ne,Jq=Re,Kq={},Lq={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Mq=Se,Nq=Ue,Oq=Ve,Pq=We,Qq=Xe,Rq=Ye,Sq=function(a,b,c){this.init(a,b,c)};Sq.prototype={bubble:Eq,fire:Fq,getAction:Gq,init:Iq,listen:Mq,rebind:Nq,render:Oq,resolve:Pq,unbind:Qq,unrender:Rq};var Tq=Sq,Uq=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new Tq(a,e[c],b[d]),g.push(f);return g},Vq=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new Bt({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new Bt({template:b.d,root:c,owner:a}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getArgsList(),f.ready&&f.update()}),this.fn=l("decorators",c,d),this.fn||ri.error({debug:c.debug,message:"missingPlugin",args:{plugin:"decorator",name:d}}))};Vq.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var Wq,Xq,Yq,Zq=Vq,$q=df,_q=ef,ar=lf,br=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};yh?(Xq={},Yq=Ih("div").style,Wq=function(a){var b,c,d;if(a=br(a),!Xq[a])if(void 0!==Yq[a])Xq[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=Dh.length;b--;)if(c=Dh[b],void 0!==Yq[c+d]){Xq[a]=c+d;break}return Xq[a]}):Wq=null;var cr,dr,er=Wq;yh?(dr=window.getComputedStyle||Xh.getComputedStyle,cr=function(a){var b,c,d,f,g;if(b=dr(this.node),"string"==typeof a)return g=b[er(a)],"0px"===g&&(g=0),g;if(!e(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)f=a[d],g=b[er(f)],"0px"===g&&(g=0),c[f]=g;return c}):cr=null;var fr=cr,gr=function(a,b){var c;if("string"==typeof a)this.node.style[er(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[er(c)]=a[c]);return this},hr=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(fi('Missing easing function ("'+a.easing+'"). You may need to download a plugin from [TODO]'),b=mf)):b="function"==typeof a.easing?a.easing:mf,this.easing=b,this.start=oi(),this.end=this.start+this.duration,this.running=!0,Qi.add(this)};hr.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var ir,jr,kr,lr,mr,nr,or,pr,qr=hr,rr=new RegExp("^-(?:"+Dh.join("|")+")-"),sr=function(a){return a.replace(rr,"")},tr=new RegExp("^(?:"+Dh.join("|")+")([A-Z])"),ur=function(a){var b;return a?(tr.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},vr={},wr={};yh?(jr=Ih("div").style,function(){void 0!==jr.transition?(kr="transition",lr="transitionend",mr=!0):void 0!==jr.webkitTransition?(kr="webkitTransition",lr="webkitTransitionEnd",mr=!0):mr=!1}(),kr&&(nr=kr+"Duration",or=kr+"Property",pr=kr+"TimingFunction"),ir=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[or]=d.map(er).map(ur).join(","),a.node.style[pr]=ur(c.easing||"linear"),a.node.style[nr]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(br(sr(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(lr,j,!1),h=!0,i())},a.node.addEventListener(lr,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,p=[];o--;)m=d[o],e=f+m,mr&&!wr[e]&&(a.node.style[er(m)]=b[m],vr[e]||(k=a.getStyle(m),vr[e]=a.getStyle(m)!=b[m],wr[e]=!vr[e],wr[e]&&(a.node.style[er(m)]=k))),(!mr||wr[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?fi("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],p.push({name:er(m),interpolator:hi(parseFloat(k),parseFloat(b[m])),suffix:n}));p.length?new qr({root:a.root,duration:c.duration,easing:br(c.easing||""),step:function(b){var c,d;for(d=p.length;d--;)c=p[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(lr,j,!1),h=!0,i())},0)},c.delay||0)}):ir=null;var xr,yr,zr,Ar,Br,Cr=ir;if("undefined"!=typeof document){if(xr="hidden",Br={},xr in document)zr="";else for(Ar=Dh.length;Ar--;)yr=Dh[Ar],xr=yr+"Hidden",xr in document&&(zr=yr);void 0!==zr?(document.addEventListener(zr+"visibilitychange",nf),nf()):("onfocusout"in document?(document.addEventListener("focusout",of),document.addEventListener("focusin",pf)):(window.addEventListener("pagehide",of),window.addEventListener("blur",of),window.addEventListener("pageshow",pf),window.addEventListener("focus",pf)),Br.hidden=!1)}var Dr,Er,Fr,Gr=Br;yh?(Er=window.getComputedStyle||Xh.getComputedStyle,Dr=function(a,b,c){var d,e=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(Gr.hidden)return this.setStyle(a,b),Fr||(Fr=Bi.resolve());"string"==typeof a?(d={},d[a]=b):(d=a,c=b),c||(fi('The "'+this.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),c=this);var f=new Bi(function(a){var b,f,g,h,i,j,k;if(!c.duration)return e.setStyle(d),void a();for(b=Object.keys(d),f=[],g=Er(e.node),i={},j=b.length;j--;)k=b[j],h=g[er(k)],"0px"===h&&(h=0),h!=d[k]&&(f.push(k),e.node.style[er(k)]=h);return f.length?void Cr(e,d,c,f,a):void a()});return f}):Dr=null;var Hr=Dr,Ir=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),d({},a,b)},Jr=qf,Kr=function(a,b,c){this.init(a,b,c)};Kr.prototype={init:ar,start:Jr,getStyle:fr,setStyle:gr,animateStyle:Hr,processParams:Ir};var Lr,Mr,Nr=Kr;Lr=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},Mr=function(){this.node.type&&"text/javascript"!==this.node.type||fi("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var Or=sf,Pr=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(yf).join("")+this.conditionalAttributes.map(yf).join(""),"option"===this.name&&wf(this)&&(a+=" selected"),"input"===this.name&&xf(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=ac(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),tm.test(this.template.e)||(a+="</"+this.template.e+">"),a)},Qr=zf,Rr=Af,Sr=function(a){this.init(a)};Sr.prototype={bubble:rp,detach:sp,find:tp,findAll:up,findAllComponents:vp,findComponent:wp,findNextNode:xp,firstNode:yp,getAttribute:zp,init:$q,rebind:_q,render:Or,toString:Pr,unbind:Qr,unrender:Rr};var Tr=Sr,Ur=/^\s*$/,Vr=/^\s*/,Wr=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&Ur.test(c)&&b.shift(),d=b[b.length-1],void 0!==d&&Ur.test(d)&&b.pop(),e=b.reduce(Cf,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},Xr=Df,Yr=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},Zr=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=Rk,this.index=a.index,this.name=a.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Eo.init(this,a),!this.keypath&&(c=Xr(this.root,this.name))&&(ho.call(this),this.isNamed=!0,this.setTemplate(c))};Zr.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||Do.call(this,a,b),this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Eo.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=Xr(this.root,""+a)),!b&&this.name&&(b=Xr(this.root,this.name))&&(ho.call(this),this.isNamed=!0),b||ri.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}}),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&Ni.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new Bt({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Kk?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?Yr(b,e[0]):b):b},unbind:function(){this.isNamed||ho.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var $r=Zr,_r=Hf,as=new ui("detach"),bs=If,cs=Jf,ds=Kf,es=Lf,fs=Mf,gs=Nf,hs=Of,is={},js=Pf,ks=Sf,ls=Tf,ms=Wf,ns=_f,os=ag,ps=/\$\{([^\}]+)\}/g,qs=function(a){return"function"==typeof a?{get:a}:"string"==typeof a?{get:bg(a)}:("object"==typeof a&&"string"==typeof a.get&&(a={get:bg(a.get),set:a.set}),a)},rs=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};rs.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a.str]=null,this.viewmodel.register(a,this.computation,"computed")}};var ss=rs,ts=function(a,b,c){var d=this;this.ractive=a,this.viewmodel=a.viewmodel,this.key=b,this.getter=c.get,this.setter=c.set,this.hardDeps=c.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(b){return a.viewmodel.register(b,d,"computed")}),this._dirty=this._firstRun=!0};ts.prototype={constructor:ts,init:function(){var a;this.bypass=!0,a=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==a&&this.set(a)},invalidate:function(){this._dirty=!0},get:function(){var a,b,c,d=this,e=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(a=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?e=!0:[this.hardDeps,this.softDeps].forEach(function(b){var c,f,g;if(!e)for(g=b.length;g--;)if(c=b[g],f=a.viewmodel.get(c),!h(f,d.depValues[c.str]))return d.depValues[c.str]=f,void(e=!0)}),e){a.viewmodel.capture();try{this.value=this.getter.call(a)}catch(f){ri.warn({debug:a.debug,message:"failedComputation",args:{key:this.key,err:f.message||f}}),this.value=void 0}b=a.viewmodel.release(),c=this.updateDependencies(b),c&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){d.depValues[b.str]=a.viewmodel.get(b)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,cg(this.viewmodel,d)&&!this.unresolvedDeps[d.str]?(f=new ss(this,d.str),a.splice(b,1),this.unresolvedDeps[d.str]=f,Ni.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var us=ts,vs=dg,ws={FAILED_LOOKUP:!0},xs={},ys=eg,zs=gg,As=ig;ig.prototype.setValue=function(a){this.viewmodel.set(this.keypath,a,{noMapping:!0})};var Bs=jg;jg.prototype={get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.setup()},map:function(a){return a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.resolved&&this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){if(!this.resolved)throw new Error("Something very odd happened. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new As(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);a.origin.register(c,b.dep,b.group),b.dep.setValue(a.origin.get(c))}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(a,b,c){for(var d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}};var Cs=kg,Ds=lg,Es=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},Fs={},Gs=mg,Hs=pg,Is=rg,Js=sg,Ks={implicit:!0},Ls={noCascade:!0},Ms=ug,Ns=wg,Os=xg,Ps=function(a,b){var c,d;this.ractive=a,this.mappings=b||Uh(null);for(c in b)b[c].initViewmodel(this);if(a.data&&a.parameters!==!0)for(c in a.data)(d=this.mappings[c])&&void 0===d.getValue()&&d.setValue(a.data[c]);this.cache={},this.cacheMap=Uh(null),this.deps={computed:Uh(null),"default":Uh(null)},this.depsMap={computed:Uh(null),"default":Uh(null)},this.patternObservers=[],this.specials=Uh(null),this.wrapped=Uh(null),this.computations=Uh(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={}};Ps.prototype={adapt:js,applyChanges:ms,capture:ns,clearCache:os,compute:vs,get:ys,init:zs,map:Cs,mark:Ds,merge:Gs,register:Hs,release:Is,set:Js,smartUpdate:Ms,teardown:Ns,unregister:Os};var Qs=Ps;zg.prototype={constructor:zg,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?Ag(this.queue,b).push(a):Bg(this,a),delete this.inProcess[a._guid]}};var Rs=zg,Ss=new ui("construct"),Ts=new ui("config"),Us=new Rs("init"),Vs=0,Ws=Cg,Xs=function(a,b,d,e,f){var g,h,i,j,k,l={};for(h=a.parentFragment,i=a.root,f=f||{},c(l,f||{}),f.content=e||[],l[""]=f.content,b.defaults.el&&ri.warn({debug:i.debug,message:"defaultElSpecified",args:{name:a.name}}),j=h;j;){if(j.owner.type===Xk){k=j.owner.container;break}j=j.parent}return g=Uh(b.prototype),Ws(g,{el:null,append:!0,data:d.data,partials:f,magic:i.magic||b.defaults.magic,modifyArrays:i.modifyArrays,adapt:i.adapt},{parent:i,component:a,container:k,mappings:d.mappings,inlinePartials:l}),g},Ys=Eg;Eg.prototype={bubble:function(){this.dirty||(this.dirty=!0,Ni.addView(this))},update:function(){var a=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key.str,this.fragment.getValue()),a.mark(this.key),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var Zs=Fg,$s=Kg;Kg.prototype={resolve:function(a){this.resolved=!0,this.ready?this.readyResolve(a):this.notReadyResolve(a)},notReadyResolve:function(a){if(a.isSpecial)this.parameters.addData(this.key.str,a.value);else{var b=this.parameters.addMapping(this.key,a);void 0===b.getValue()&&(b.updatable=!0)}},readyResolve:function(a){var b=this.parameters.component.instance.viewmodel;
a.isSpecial?(this.parameters.addData(this.key.str,a.value),b.mark(this.key)):b.reversedMappings&&b.reversedMappings[this.key.str]?b.reversedMappings[this.key.str].rebind(a):b.mappings[this.key.str].resolve(a)}};var _s=Lg;Ng.prototype={add:function(a,b){if("string"==typeof b){var c=_m(b);this.addData(a.str,c?c.value:b)}else if(0===b)this.addData(a.str);else{var d;d=Og(b)?new $s(this,a,b[0]).resolver:new Ys(this,a,b),this.component.resolvers.push(d)}},addData:function(a,b){this.data[a]=b},addMapping:function(a,b){var c;return b&&(c=this.parentViewmodel.mappings[b.str]),this.mappings[a.str]=new Bs(a,{origin:c?c.origin:this.parentViewmodel,keypath:c?c.keypath:b})}};var at=Pg,bt=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},ct=Rg,dt=Sg,et=Tg,ft=Ug,gt=new ui("teardown"),ht=Vg,it=Xg,jt=function(a,b){this.init(a,b)};jt.prototype={detach:bs,find:cs,findAll:ds,findAllComponents:es,findComponent:fs,findNextNode:gs,firstNode:hs,init:ct,rebind:dt,render:et,toString:ft,unbind:ht,unrender:it};var kt=jt,lt=function(a){this.type=Sk,this.value=a.template.c};lt.prototype={detach:eo,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var mt=lt,nt=function(a){var b,c;this.type=Xk,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.yn||"";this.fragment=new Bt({owner:this,root:b.parent,template:b._inlinePartials[d]||[],pElement:this.containerFragment.pElement}),e(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],Ni.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};nt.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),x(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var ot=nt,pt=function(a){this.declaration=a.template.a};pt.prototype={init:ci,render:ci,unrender:ci,teardown:ci,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var qt=pt,rt=Yg,st=Zg,tt=_g,ut=ah,vt=bh,wt=eh,xt=gh,yt=function(a){this.init(a)};yt.prototype={bubble:Tn,detach:Un,find:Vn,findAll:Wn,findAllComponents:Xn,findComponent:Yn,findNextNode:Zn,firstNode:$n,getArgsList:ao,getNode:bo,getValue:co,init:st,rebind:tt,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:ut,toString:vt,unbind:wt,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:xt};var zt,At,Bt=yt,Ct=["template","partials","components","decorators","events"],Dt=new ui("reset"),Et=hh,Ft=function(a,b){function c(b,d,f){f&&f.partials[a]||b.forEach(function(b){b.type===Rk&&b.getPartialName()===a&&d.push(b),b.fragment&&c(b.fragment.items,d,f),e(b.fragments)?c(b.fragments,d,f):e(b.items)?c(b.items,d,f):b.type===Wk&&b.instance&&c(b.instance.fragment.items,d,b.instance),b.type===Qk&&(e(b.attributes)&&c(b.attributes,d,f),e(b.conditionalAttributes)&&c(b.conditionalAttributes,d,f))})}var d,f=[];return c(this.fragment.items,f),this.partials[a]=b,d=Ni.start(this,!0),f.forEach(function(b){b.value=void 0,b.setValue(a)}),Ni.end(),d},Gt=ih,Ht=Sj("reverse"),It=/\*/,Jt=jh,Kt=Sj("shift"),Lt=Sj("sort"),Mt=Sj("splice"),Nt=kh,Ot=new ui("teardown"),Pt=lh,Qt=nh,Rt=oh,St=new ui("unrender"),Tt=ph,Ut=Sj("unshift"),Vt=new ui("update"),Wt=qh,Xt=rh,Yt={add:li,animate:Ui,detach:Wi,find:Xi,findAll:ej,findAllComponents:fj,findComponent:gj,findContainer:hj,findParent:ij,fire:mj,get:oj,insert:qj,merge:rj,observe:Ij,observeOnce:Jj,off:Mj,on:Nj,once:Oj,pop:Tj,push:Uj,render:ck,reset:Et,resetPartial:Ft,resetTemplate:Gt,reverse:Ht,set:Jt,shift:Kt,sort:Lt,splice:Mt,subtract:Nt,teardown:Pt,toggle:Qt,toHTML:Rt,toHtml:Rt,unrender:Tt,unshift:Ut,update:Wt,updateModel:Xt},Zt=th,$t=1,_t=xh,au=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath.str,d.index={},(c=qo(b.proxy.parentFragment))&&(d.index=qo.resolve(c)),d):d};zt=function(a){Ws(this,a)},At={extend:{value:_t},getNodeInfo:{value:au},parse:{value:Dn},Promise:{value:Bi},svg:{value:Ch},magic:{value:Ah},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:Gh},events:{writable:!0,value:{}},interpolators:{writable:!0,value:ji},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},Wh(zt,At),zt.prototype=c(Yt,Fh),zt.prototype.constructor=zt,zt.defaults=zt.prototype;var bu="function";if(typeof Date.now!==bu||typeof String.prototype.trim!==bu||typeof Object.keys!==bu||typeof Array.prototype.indexOf!==bu||typeof Array.prototype.forEach!==bu||typeof Array.prototype.map!==bu||typeof Array.prototype.filter!==bu||"undefined"!=typeof window&&typeof window.addEventListener!==bu)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var cu=zt;return cu});