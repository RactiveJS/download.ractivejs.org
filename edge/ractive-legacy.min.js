/*
	ractive-legacy.min.js v0.6.1
	2014-12-11 - commit 209b5456 

	http://ractivejs.org
	http://twitter.com/RactiveJS

	Released under the MIT License.
*/

!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports&&"function"==typeof require?module.exports=b():a.Ractive=b()}("undefined"!=typeof window?window:this,function(){"use strict";function a(a,d){var e,f,g;return f='[data-ractive-css="'+d+'"]',g=function(a){var b,d,e,g,h,i,j,k=[];for(b=[];d=Lh.exec(a);)b.push({str:d[0],base:d[1],modifiers:d[2]});for(g=b.map(c),j=b.length;j--;)i=g.slice(),e=b[j],i[j]=e.base+f+e.modifiers||"",h=g.slice(),h[j]=f+" "+h[j],k.push(i.join(" "),h.join(" "));return k.join(", ")},e=Nh.test(a)?a.replace(Nh,f):a.replace(Kh,"").replace(Jh,function(a,c){var d,e;return Mh.test(c)?a:(d=c.split(",").map(b),e=d.map(g).join(", ")+" ",a.replace(c,e))})}function b(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function c(a){return a.str}function d(a,b,c){var d,f=b.constructor._guid;(d=e(c.css,c,f)||e(a.css,a,f))&&(b.constructor.css=d)}function e(a,b,c){return a?b.noCssTransform?a:Oh(a,c):void 0}function f(a,b){return"function"==typeof b&&/_super/.test(a)}function g(a,b,c){var d=c.data||{},e=k(a.prototype.data);if("object"!=typeof d&&"function"!=typeof d)throw new TypeError('data option must be an object or a function, "'+d+'" is not valid');return l(e,d)}function h(a,b,c){b.data=g(a,b,c)}function i(a,b,c){var d=c.data,e=g(a,b,c);return"function"==typeof e&&(e=e.call(b,d)||d),b.data=e||{}}function j(a){var b=this.init(a.constructor,a,a);return b?(a.data=b,!0):void 0}function k(a){if("function"!=typeof a||!Object.keys(a).length)return a;var b={};return m(a,b),l(a,b)}function l(a,b){return"function"==typeof b?p(b,a):"function"==typeof a?o(b,a):n(b,a)}function m(a,b,c){for(var d in a)!(b._mappings&&b._mappings[d]&&b._mappings[d].updatable)&&c&&d in b||(b[d]=a[d])}function n(a,b){return a=a||{},b?(m(b,a,!0),a):a}function o(a,b){return function(c){var d;if(a){d=[];for(var e in a)c&&e in c||d.push(e)}return c=b.call(this,c)||c,d&&d.length&&(c=c||{},d.forEach(function(b){c[b]=a[b]})),c}}function p(a,b){var c;return c="function"!=typeof b?function(a){n(a,b)}:function(a){return b=Rh(b,function(){},!0),b.call(this,a)||a},Rh(a,c)}function q(a){var b,c,d,e;return b=a.pos,d=ri(a),null===d?null:(c=[d],a.matchString(",")?(e=q(a),e?c.concat(e):(a.pos=b,null)):c)}function r(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=a.readExpression(),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=r(a),null===f&&a.error(bi.expectedExpression),f.forEach(b)),d)}function s(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(oi.name))return{t:Xh.REFINEMENT,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(bi.expectedExpression),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:Xh.REFINEMENT,x:d}):null}function t(a){return JSON.stringify(String(a))}function u(a,b){var c,d;if(a.t===Xh.REFERENCE&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(Eh(d))u(d,b);else for(c=d.length;c--;)u(d[c],b);a.x&&u(a.x,b),a.r&&u(a.r,b),a.v&&u(a.v,b)}function v(a,b,c){var d=function(b){return v(a,b,c)};switch(b.t){case Xh.BOOLEAN_LITERAL:case Xh.GLOBAL:case Xh.NUMBER_LITERAL:return b.v;case Xh.STRING_LITERAL:return t(b.v);case Xh.ARRAY_LITERAL:return"["+(b.m?b.m.map(d).join(","):"")+"]";case Xh.OBJECT_LITERAL:return"{"+(b.m?b.m.map(d).join(","):"")+"}";case Xh.KEY_VALUE_PAIR:return b.k+":"+v(a,b.v,c);case Xh.PREFIX_OPERATOR:return("typeof"===b.s?"typeof ":b.s)+v(a,b.o,c);case Xh.INFIX_OPERATOR:return v(a,b.o[0],c)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+v(a,b.o[1],c);case Xh.INVOCATION:return v(a,b.x,c)+"("+(b.o?b.o.map(d).join(","):"")+")";case Xh.BRACKETED:return"("+v(a,b.x,c)+")";case Xh.MEMBER:return v(a,b.x,c)+v(a,b.r,c);case Xh.REFINEMENT:return b.n?"."+b.n:"["+v(a,b.x,c)+"]";case Xh.CONDITIONAL:return v(a,b.o[0],c)+"?"+v(a,b.o[1],c)+":"+v(a,b.o[2],c);case Xh.REFERENCE:return"_"+c.indexOf(b.n);default:a.error("Expected legal JavaScript")}}function w(a,b,c){var d;if(b){for(;b.t===Xh.BRACKETED&&b.x;)b=b.x;return b.t===Xh.REFERENCE?c.r=b.n:b.t===Xh.NUMBER_LITERAL&&aj.test(b.v)?c.r=b.v:(d=x(a,b))?c.rx=d:c.x=a.flattenExpression(b),c}}function x(a,b){for(var c,d=[];b.t===Xh.MEMBER&&b.r.t===Xh.REFINEMENT;)c=b.r,d.unshift(c.x?c.x.t===Xh.REFERENCE?c.x:a.flattenExpression(c.x):c.n),b=b.x;return b.t!==Xh.REFERENCE?null:{r:b.n,m:d}}function y(a){var b;return a.interpolate[a.inside]===!1?null:(b=Ui.slice().sort(function(b,c){return a[c.delimiters][0].length-a[b.delimiters][0].length}),function c(d){return d?z(a,d)||c(b.shift()):null}(b.shift()))}function z(a,b){var c,d,e,f,g,h,i,j;if(c=a.pos,e=a[b.delimiters],!a.matchString(e[0]))return null;if(d=Ti(a))return a.matchString(e[1])?(a[b.delimiters]=d,gj):null;if(a.allowWhitespace(),d=fj(a,b),null===d)return a.pos=c,null;if(a.allowWhitespace(),a.matchString(e[1])||a.error("Expected closing delimiter '"+e[1]+"' after reference"),d.t===Xh.COMMENT&&(d.exclude=!0),d.t===Xh.CLOSING&&(a.sectionDepth-=1,a.sectionDepth<0&&(a.pos=c,a.error("Attempted to close a section that wasn't open"))),d.contextPartialExpression)d.f=d.contextPartialExpression,d.t=Xh.SECTION,d.n="with",delete d.contextPartialExpression;else if(A(d)){for(a.sectionDepth+=1,f=[],i=f,g=d.n;j=a.read();){if(j.t===Xh.CLOSING){g&&j.r!==g&&a.error("Expected {{/"+g+"}}");break}if(j.t===Xh.INTERPOLATOR&&"else"===j.r){if("unless"!==d.n){i=h=[];continue}a.error("{{else}} not allowed in {{#unless}}")}i.push(j)}f.length&&(d.f=f),h&&h.length&&(d.l=h,"with"===d.n&&(d.n="if-with"))}return a.includeLinePositions&&(d.p=a.getLinePos(c)),d.n?d.n=Xi[d.n]:d.t===Xh.INVERTED&&(d.t=Xh.SECTION,d.n=Xh.SECTION_UNLESS),d.n===Xh.SECTION_PARTIAL?(d.r&&-1===d.r.indexOf(".")||a.error("Invalid partial name "+d.r+"."),{n:d.r,f:d.f,t:Xh.INLINE_PARTIAL}):d}function A(a){return a.t===Xh.SECTION||a.t===Xh.INVERTED}function B(a){return a.replace(nj,"\\$&")}function C(a){var b=a.remaining(),c=a.pos,d=a.matchPattern(qj),e=a.options.delimiters[0],f=a.options.delimiters[1];if(d&&a.matchString(e)){var g=a.matchPattern(rj);if(!a.matchString(f)||!a.matchPattern(sj))return a.pos=c,null;var h=new RegExp("<!--\\s*"+oj(e)+"\\s*\\/\\s*"+g+"\\s*"+oj(f)+"\\s*-->");b=a.remaining();var i=h.exec(b);if(!i)throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+g+'", but '+(i?'instead found "'+i[1]+'"':" no closing found"));var j={t:Xh.INLINE_PARTIAL,f:new a.StandardParser(b.substr(0,i.index),a.options).result,n:g};return a.pos+=i.index+i[0].length,j}return a.pos=c,null}function D(a){return a.replace(ej,function(a,b){var c;return c="#"!==b[0]?cj[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(E(c)):a})}function E(a){return a?10===a?32:128>a?a:159>=a?dj[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function F(a){var b,c,d;return a.allowWhitespace(),(c=a.matchPattern(Fj))?(b={name:c},d=G(a),d&&(b.value=d),b):null}function G(a){var b,c,d,e;return b=a.pos,a.allowWhitespace(),a.matchString("=")?(a.allowWhitespace(),c=a.pos,d=a.sectionDepth,e=J(a,"'")||J(a,'"')||I(a),a.sectionDepth!==d&&(a.pos=c,a.error("An attribute value must contain as many opening section tags as closing section tags")),null===e?(a.pos=b,null):e.length?1===e.length&&"string"==typeof e[0]?Bj(e[0]):e:null):(a.pos=b,null)}function H(a){var b,c,d,e,f;return b=a.pos,(c=a.matchPattern(Gj))?(d=c,e=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],-1!==(f=tj(d,e))&&(c=c.substr(0,f),a.pos=b+c.length),c):null}function I(a){var b,c;for(a.inAttribute=!0,b=[],c=hj(a)||H(a);null!==c;)b.push(c),c=hj(a)||H(a);return b.length?(a.inAttribute=!1,b):null}function J(a,b){var c,d,e;if(c=a.pos,!a.matchString(b))return null;for(a.inAttribute=b,d=[],e=hj(a)||K(a,b);null!==e;)d.push(e),e=hj(a)||K(a,b);return a.matchString(b)?(a.inAttribute=!1,d):(a.pos=c,null)}function K(a,b){var c,d,e,f;return c=a.pos,e=a.remaining(),f=[b,a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],d=tj(e,f),-1===d&&a.error("Quoted attribute value must have a closing quote"),d?(a.pos+=d,e.substr(0,d)):null}function L(a){var b,c,d;return a.allowWhitespace(),(b=qi(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function M(a){var b,c,d,e,f,g,h,i,j,k,l;if(b=a.pos,a.inside||a.inAttribute)return null;if(!a.matchString("<"))return null;if("/"===a.nextChar())return null;if(c={},a.includeLinePositions&&(c.p=a.getLinePos(b)),a.matchString("!"))return c.t=Xh.DOCTYPE,a.matchPattern(/^doctype/i)||a.error("Expected DOCTYPE declaration"),c.a=a.matchPattern(/^(.+?)>/),c;if(c.t=Xh.ELEMENT,c.e=a.matchPattern(Oj),!c.e)return null;for(Pj.test(a.nextChar())||a.error("Illegal tag name"),g=function(b,d){var e=d.n||d;Sj.test(e)&&(a.pos-=e.length,a.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),c.v[b]=d},a.allowWhitespace();h=hj(a)||Hj(a);)h.name?(e=Tj[h.name])?c[e]=Nj(h.value):(f=Rj.exec(h.name))?(c.v||(c.v={}),i=Nj(h.value),g(f[1],i)):a.sanitizeEventAttributes&&Qj.test(h.name)||(c.a||(c.a={}),c.a[h.name]=h.value||0):(c.m||(c.m=[]),c.m.push(h)),a.allowWhitespace();if(a.allowWhitespace(),a.matchString("/")&&(j=!0),!a.matchString(">"))return null;if(d=c.e.toLowerCase(),!j&&!mj.test(c.e)){for(("script"===d||"style"===d)&&(a.inside=d),k=[];N(d,a.remaining())&&(l=a.read(Lj))&&l.t!==Xh.CLOSING&&l.t!==Xh.CLOSING_TAG;)k.push(l);k.length&&(c.f=k)}return a.inside=null,a.sanitizeElements&&-1!==a.sanitizeElements.indexOf(d)?Uj:c}function N(a,b){var c,d;return c=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(b),d=Mj[a],c&&d?!~d.indexOf(c[1].toLowerCase()):!0}function O(a){return"string"==typeof a}function P(a){return a.t===Xh.COMMENT||a.t===Xh.DELIMCHANGE}function Q(a){return(a.t===Xh.SECTION||a.t===Xh.INVERTED)&&a.f}function R(a,b,c){for(var d,e,f=c.length;f--;)d=c[f],S(d)?(b[d.n]=d.f,c.splice(f,1)):Ch(d.f)&&((e=T(a,d))?(a.push(e),R(a,d.p={},d.f),a.pop()):Ch(d.f)&&R(a,b,d.f))}function S(a){return a.t===Xh.INLINE_PARTIAL}function T(a,b){var c,d,e=b.e;if(b.e)for(c=0;c<a.length;c++)if(d=(a[c].components||{})[e])return d}function U(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(bk(a),g=a.length;g--;)h=a[g],h.exclude?a.splice(g,1):b&&h.t===Xh.COMMENT&&a.splice(g,1);for($j(a,d,e),g=a.length;g--;)if(h=a[g],h.f&&(k=c||h.t===Xh.ELEMENT&&fk.test(h.e),k||(i=a[g-1],j=a[g+1],(!i||"string"==typeof i&&hk.test(i))&&(l=!0),(!j||"string"==typeof j&&gk.test(j))&&(m=!0)),U(h.f,b,k,l,m,f)),h.l&&(U(h.l,b,c,l,m,f),f&&(n={t:4,n:Xh.SECTION_UNLESS,f:h.l},h.r&&(n.r=h.r),h.x&&(n.x=h.x),h.rx&&(n.rx=h.rx),a.splice(g+1,0,n),delete h.l)),h.a)for(o in h.a)h.a.hasOwnProperty(o)&&"string"!=typeof h.a[o]&&U(h.a[o],b,c,l,m,f);for(g=a.length;g--;)"string"==typeof a[g]&&("string"==typeof a[g+1]&&(a[g]=a[g]+a[g+1],a.splice(g+1,1)),c||(a[g]=a[g].replace(ek," ")),""===a[g]&&a.splice(g,1))}function V(a,b){return void 0===b&&(b=a),function(){b.delimiters=a.delimiters||["{{","}}"],b.tripleDelimiters=a.tripleDelimiters||["{{{","}}}"],b.staticDelimiters=a.staticDelimiters||["[[","]]"],b.staticTripleDelimiters=a.staticTripleDelimiters||["[[[","]]]"]}()}function W(a,b){var c=a.map(b);return a.forEach(function(a,b){c[a]=c[b]}),c}function X(a){var b=ai(nk);return b.parse=function(b,c){return Y(b,c||a)},b}function Y(a,b){if(!kk)throw new Error(Uh.missingParser);return kk(a,b||this.options)}function Z(a,b){var c;if(!Wh){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if($(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.innerHTML}function $(a){return a&&"#"===a.charAt(0)}function _(a){return!("string"==typeof a)}function ab(a){return a.defaults&&(a=a.defaults),mk.reduce(function(b,c){return b[c]=a[c],b},{ractive:a})}function bb(a){var b,c=a._config.template;if(c&&c.fn)return b=cb(a,c.fn),b!==c.result?(c.result=b,b=db(b,a)):void 0}function cb(a,b){var c=ok.createHelper(ok.getParseOptions(a));return b.call(a,a.data,c)}function db(a,b){if("string"==typeof a)"#"===a[0]&&(a=ok.fromId(a)),a=kk(a,ok.getParseOptions(b));else if(2!==a.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return a}function eb(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function fb(a,b){this.name=a,this.useDefaults=b}function gb(a,b){var c;return b.test(a)?b.getValue(a):!a.isolated&&(c=a.parent)?gb(c,b):void 0}function hb(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=ib(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function ib(a,b){var c;return b in a?!function(){var d=a[b];c="function"==typeof d?d:function(){return d}}():c=zk,c}function jb(a,b,c){if(b in a){if(c in a)throw new Error(kb(b,c,!0));Ih(kb(b,c)),a[c]=a[b]}}function kb(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function lb(a){jb(a,"eventDefinitions","events")}function mb(a){Ch(a.adaptors)&&jb(a,"adaptors","adapt")}function nb(a){jb(a,"beforeInit","onconstruct"),jb(a,"init","onrender"),jb(a,"complete","oncomplete"),lb(a),mb(a)}function ob(a,b,c,d,e){rk[b][a](c,d,e)}function pb(a){return a in yh&&!(a in tk.parseOptions)&&!(a in rk)}function qb(a,b,c,d){Bk(d),ob(a,"data",b,c,d),tk.parseOptions.forEach(function(a){a in d&&(c[a]=d[a])});for(var e in d)if(pb(e)){var f=d[e];c[e]="function"==typeof f?Ak(b.prototype,e,f):f}tk.registries.forEach(function(e){e[a](b,c,d)}),ob(a,"template",b,c,d),ob(a,"css",b,c,d),rb(b.prototype,c,d)}function rb(a,b,c){for(var d in c)if(!(d in uk)&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=Ak(a,d,e)),b[d]=e}}function sb(a){return function(){return a}}function tb(a){var b=Uh[a.message]||a.message||"";return ub(b,a.args)}function ub(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function vb(a){this.event=a,this.method="on"+a,this.deprecate=Nk[a]}function wb(a){setTimeout(a,0)}function xb(a,b){return function(){for(var c;c=a.shift();)c(b)}}function yb(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof Ok)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,yb(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function zb(a){return(a||"").replace(Vk,".$1")}function Ab(a,b){var c;if("."===b)return a;if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),c.join(".")}return a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,"")}function Bb(a,b,c){return b=Wk(b),"~/"===b.substr(0,2)?(b=b.substring(2),Db(a,Fb(b),c),b):"."===b[0]?(b=Yk(Xk(c),b),b&&Db(a,Fb(b),c),b):Cb(a,b,c)}function Cb(a,b,c,d){var e,f,g,h,i;for(f=Fb(b);c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e+"."+b;return Eb(a,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,i=Cb(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function Db(a,b){var c;!a.parent||a.isolated||Eb(a,b)||(c=Cb(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c})}function Eb(a,b){return b in a.data||b in a.viewmodel.computations||b in a.viewmodel.mappings}function Fb(a){var b=a.indexOf(".");return~b?a.slice(0,b):a}function Gb(a){a.teardown()}function Hb(a){a.detach()}function Ib(a){a.detachNodes()}function Jb(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function Kb(){for(var a,b,c;_k.viewmodels.length;)b=_k.viewmodels.pop(),c=b.applyChanges(),c&&dl.fire(b.ractive,c);for(Lb(),a=0;a<_k.views.length;a+=1)_k.views[a].update();for(_k.views.length=0,a=0;a<_k.tasks.length;a+=1)_k.tasks[a]();return _k.tasks.length=0,_k.viewmodels.length?Kb():void 0}function Lb(){var a,b,c,d;for(a=cl.length;a--;)b=cl[a],b.keypath&&cl.splice(a,1),(c=Zk(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),cl.splice(a,1));d&&d.forEach(Mb)}function Mb(a){a.item.resolve(a.keypath)}function Nb(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,gl.start(d),d.viewmodel.mark(c),gl.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function Ob(a,b,c){var d;if("string"!=typeof b||!Fh(c))throw new Error("Bad arguments");if(d=+a.get(b)||0,!Fh(d))throw new Error("Cannot add to a non-numeric value");return a.set(b,d+c)}function Pb(a,b){return tl(this,a,void 0===b?1:+b)}function Qb(a){return Wk(a).replace(Nl,"")}function Rb(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;if(d=new Uk(function(a){e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(n={},c.step=null,c.complete=null,m=function(a){return function(b,c){n[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(o=m(f),c={easing:i,duration:j},k&&(c.step=o)),c.complete=l?o:Pl,h.push(Sb(this,f,a[f],c)));return q={easing:i,duration:j},k&&(q.step=function(a){k(a,n)}),l&&d.then(function(a){l(a,n)}).then(null,function(a){Mk.consoleError({debug:r.debug,err:a})}),q.complete=e,p=Sb(this,null,null,q),h.push(p),d.stop=function(){for(var a;a=h.pop();)a.stop();p&&p.stop()},d}return c=c||{},c.complete&&d.then(c.complete).then(null,function(a){Mk.consoleError({debug:r.debug,err:a})}),c.complete=e,g=Sb(this,a,b,c),d.stop=function(){g.stop()},d}function Sb(a,b,c,d){var e,f,g,h;return b&&(b=Ol(b)),null!==b&&(h=a.viewmodel.get(b)),Bl.abort(b,a),Ml(h,c)?(d.complete&&d.complete(d.to),Ql):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new Ll({keypath:b,from:h,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),Bl.add(g),a._animations.push(g),g)}function Tb(){return this.detached?this.detached:(this.el&&Qk(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Sl.fire(this),this.detached)}function Ub(a){return this.el?this.fragment.find(a):null}function Vb(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function Wb(a){var b,c;for(b=[a],c=Vb(a);c;)b.push(c),c=Vb(c);return b}function Xb(a,b,c,d){var e=[];return sl(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:Wl}}),c?(sl(e,{cancel:{value:Xl},_root:{value:a},_sort:{value:$l},_makeDirty:{value:_l},_remove:{value:am},_dirty:{value:!1,writable:!0}}),e):e}function Yb(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=bm(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function Zb(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=bm(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function $b(a){return this.fragment.findComponent(a)}function _b(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function ac(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function bc(a){var b,c,d,e,f,g;for(b=a.split("."),(c=jm[b.length])||(c=cc(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function cc(a){var b,c,d,e,f,g="";if(!jm[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}jm[a]=d}return jm[a]}function dc(a,b,c){if(void 0===c&&(c={}),b){c.event?c.event.name=b:c.event={name:b,context:a.data,keypath:"",_noArg:!0};var d=km(b);ec(a,d,c.event,c.args,!0)}}function ec(a,b,c,d,e){void 0===e&&(e=!1);var f,g,h=!0;for(im.enqueue(a,c),g=b.length;g>=0;g--)f=a._subs[b[g]],f&&(h=fc(a,f,c,d)&&h);if(im.dequeue(a),a.parent&&h){if(e&&a.component){var i=a.component.name+"."+b[b.length-1];b=km(i),c&&(c.component=a)}ec(a.parent,b,c,d)}}function fc(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function gc(a){var b={args:Array.prototype.slice.call(arguments,1)};lm(this,a,b)}function hc(a){var b;return a=Ol(a),b=this.viewmodel.get(a,nm),void 0===b&&this.parent&&!this.isolated&&Zk(this,a,this.fragment)&&(b=this.viewmodel.get(a)),b}function ic(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function jc(a,b){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(a=pm(a),b=pm(b)||null,!a)throw new Error("You must specify a valid target to insert into");a.insertBefore(this.detach(),b),this.el=a,(a.__ractive_instances__||(a.__ractive_instances__=[])).push(this),this.detached=null,kc(this)}function kc(a){qm.fire(a),a.findAllComponents("*").forEach(function(a){kc(a.instance)})}function lc(a,b,c){var d,e,f=this;return a=Ol(a),d=this.viewmodel.get(a),Ch(d)&&Ch(b)?(e=gl.start(this,!0),this.viewmodel.merge(a,d,b,c),gl.end(),c&&c.complete&&(Mk.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.merge"}}),e.then(c.complete).then(null,function(a){Mk.consoleError({debug:f.debug,err:a})})),e):this.set(a,b,c&&c.complete)}function mc(a,b){function c(b,c){var d,e,f;d=a.viewmodel.wrapped[c]?a.viewmodel.wrapped[c].get():a.get(c);for(e in d)!d.hasOwnProperty(e)||"_ractive"===e&&Ch(d)||(f=c?c+"."+e:e,b.push(f));return b}function d(a){return function(b){return b?b+"."+a:a}}var e,f,g;for(e=b.split("."),g=[""];f=e.shift();)"*"===f?g=g.reduce(c,[]):""===g[0]?g[0]=f:g=g.map(d(f));return g}function nc(a,b){var c,d;return c=wm(a,b),d={},c.forEach(function(b){d[b]=a.get(b)}),d}function oc(a,b,c,d){var e,f,g;return b=Ol(b),d=d||Im,Hm.test(b)?(e=new Gm(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new vm(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0,{cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}}}function pc(a,b,c){var d,e,f,g;if(Eh(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",Jm(this,a,b,c);if(f=a.split(" "),1===f.length)return Jm(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(Jm(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function qc(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function rc(a,b){var c,d=this;if(a)c=a.split(" ").map(Mm).filter(Nm),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function sc(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(Mm).filter(Nm),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function tc(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function uc(a,b,c){var d,e,f,g,h,i,j=[];if(d=vc(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j}function vc(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}function wc(a,b){var c,d,e,f=this;if(e=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),c=gl.start(this,!0),gl.scheduleTask(function(){return _m.fire(f)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(a=pm(a)||this.el,b=pm(b)||this.anchor,this.el=a,this.anchor=b,!this.append&&a){var g=a.__ractive_instances__;g&&g.length&&xc(g),a.innerHTML=""}return this.constructor.css&&$m.add(this.constructor),a&&((d=a.__ractive_instances__)?d.push(this):a.__ractive_instances__=[this],b?a.insertBefore(this.fragment.render(),b):a.appendChild(this.fragment.render())),gl.end(),this.transitionsEnabled=e,c.then(function(){return an.fire(f)}).then(null,function(a){Mk.consoleError({debug:f.debug,err:a})}),c}function xc(a){try{a.splice(0,a.length).forEach(function(a){return a.teardown()})}catch(b){}}function yc(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function zc(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function Ac(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function Bc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function Cc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function Dc(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function Ec(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function Fc(){return this.items&&this.items[0]?this.items[0].firstNode():null}function Gc(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function Hc(a){var b=this;return void 0===a&&(a=mn),function(){var c,d,e,f,g,h,i;return c=a.args,g=c?"argsList":"value",h=c?"dirtyArgs":"dirtyValue",b[h]&&(e=Ic(b.items,d={},b.root._guid),f=Jj(c?"["+e+"]":e,d),i=f?f.value:c?[b.toString()]:b.toString(),b[g]=i,b[h]=!1),b[g]}()}function Ic(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return Ic(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=(f=a.root.viewmodel.wrapped[a.keypath])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function Jc(a){return a.replace(qn,"&amp;").replace(on,"&lt;").replace(pn,"&gt;")}function Kc(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a}function Lc(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Mc(){return this.value}function Nc(a,b){return a&&b&&a.substr(0,b.length+1)===b+"."}function Oc(a,b,c){return a===b?void 0!==c?c:null:yn(a,b)?null===c?c:a.replace(b+".",c+"."):void 0}function Pc(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function Qc(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function Rc(a,b,c){var d;return"@"===b.charAt(0)?new En(a,b,c):(d=Hn(a.parentFragment,b))?new Gn(a,d,c):new Bn(a,b,c)}function Sc(a){var b=a.slice(2);return"i"===a[1]&&Fh(b)?+b:b}function Tc(a,b){var c,d;if(Ln[a])return Ln[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),Ln[a]=c,c}function Uc(a){return a.call()}function Vc(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return d=b[c],void 0===d?"undefined":"@"===d[0]?(e=d.slice(1),Fh(e)?e:'"'+e+'"'):d})}function Wc(a){return"${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}"}function Xc(a){return void 0!==a&&"@"!==a[0]}function Yc(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){ql(a,d,{value:Nn.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return ql(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function Zc(a){return a.value}function $c(a){return void 0!=a}function _c(a){a.unbind()}function ad(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!==c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.key=b.key,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=Jn(a,e,c)),b.template.x&&(a.resolver=new On(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new Sn(a,b.template.rx,d)),a.template.n!==Xh.SECTION_UNLESS||a.hasOwnProperty("value")||a.setValue(void 0)}function bd(a){var b,c,d;return a&&"@"===a[0]?(this.keypath=a,void this.setValue(Kn(a))):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function cd(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function dd(){this.parentFragment.bubble()}function ed(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)}function fd(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function gd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function hd(a,b){var c,d;
for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function id(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function jd(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function kd(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function ld(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Xh.SECTION_EACH){if(this.shuffling=!0,gl.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath+"."+b,h=i.keypath+"."+a,d.index=a,(j=d.registeredIndexRefs)&&j.forEach(md),d.rebind(g,h),void(f[a]=d)))}),e=this.root.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&gl.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function md(a){a.rebind("","")}function nd(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function od(a){return jo.test(ko.call(a))}function pd(a){var b,c,d=this;this.updating||(this.updating=!0,(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=Ad(d.keypath,a),c.index=a,b=new Wt(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):rd(this,a)&&(this.bubble(),this.rendered&&gl.addView(this)),this.value=a,this.updating=!1)}function qd(a,b,c){if(b===Xh.SECTION_EACH&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function rd(a,b){var c={template:a.template.f,root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.subtype)switch(a.subtype){case Xh.SECTION_IF:return wd(a,b,!1,c);case Xh.SECTION_UNLESS:return wd(a,b,!0,c);case Xh.SECTION_WITH:return vd(a,c);case Xh.SECTION_IF_WITH:return ud(a,b,c);case Xh.SECTION_EACH:if(Eh(b))return qd(a,a.subtype,!0),td(a,b,c)}return a.ordered=!!lo(b),a.ordered?(qd(a,Xh.SECTION_EACH,!1),sd(a,b,c)):Eh(b)||"function"==typeof b?a.template.i?(qd(a,Xh.SECTION_EACH,!0),td(a,b,c)):(qd(a,Xh.SECTION_WITH,!1),vd(a,c)):(qd(a,Xh.SECTION_IF,!1),wd(a,b,!1,c))}function sd(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(yd);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=Ad(a.keypath,d),c.index=d,f=new Wt(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function td(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(Bd));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=Ad(a.keypath,d),c.key=d,c.index=e++,g=new Wt(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function ud(a,b,c){return b?vd(a,c):xd(a)}function vd(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new Wt(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function wd(a,b,c,d){var e,f,g,h,i;if(f=lo(b)&&0===b.length,g=!1,!lo(b)&&Eh(b)){g=!0;for(i in b){g=!1;break}}return e=c?f||g||!b:b&&!f&&!g,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(yd),!0):void 0:(d.index=0,h=new Wt(d),a.fragmentsToRender.push(a.fragments[0]=h),a.length=1,!0):xd(a)}function xd(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(zd),a.fragmentsToUnrender.forEach(yd),a.length=a.fragmentsToRender.length=0,!0):void 0}function yd(a){a.unbind()}function zd(a){return a.rendered}function Ad(a,b){return(a?a+".":"")+b}function Bd(a){a.rebind("","")}function Cd(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function Dd(){var a=this;this.fragments.forEach(Ed),this.fragmentsToRender.forEach(function(b){return Qk(a.fragments,b)}),this.fragmentsToRender=[],wn.call(this),this.length=0,this.unbound=!0}function Ed(a){a.unbind()}function Fd(a){this.fragments.forEach(a?Gd:Hd),this.renderedFragments=[],this.rendered=!1}function Gd(a){a.unrender(!0)}function Hd(a){a.unrender(!1)}function Id(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function Jd(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function Kd(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(Vl(d,a))return d;if(e=d.querySelector(a))return e}return null}function Ld(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(Vl(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function Md(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function Nd(a){return zo[a]||(zo[a]=ol(a))}function Od(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function Pd(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=Bo(a.node.options).filter(Qd),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function Qd(a){return a.selected}function Rd(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Ao(this.value,this.parentFragment.getNode(),this.docFrag),Co(this.pElement),this.rendered=!0,this.docFrag}function Sd(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&gl.addView(this))}function Td(){return void 0!=this.value?Bj(""+this.value):""}function Ud(a){this.rendered&&a&&(this.nodes.forEach(sn),this.rendered=!1)}function Vd(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=Ao(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Co(this.pElement)}}function Wd(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function Xd(){return null}function Yd(){return this.node}function Zd(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function $d(){var a=this.fragment.getValue();Ml(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&gl.addView(this))}function _d(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Xh.INTERPOLATOR?b[0]:void 0}function ae(a){return this.type=Xh.ATTRIBUTE,this.element=a.element,this.root=a.root,cp(this,a.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new Wt({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=dp(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,fp(this,a),void(this.ready=!0)):void(this.value=bp.test(this.name)?!0:a.value||"")}function be(a,b){this.fragment&&this.fragment.rebind(a,b)}function ce(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==ml.html||(b=ip[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(bp.test(b)||"value"===b)&&(this.useProperty=!0),"value"===b&&(this.useProperty=!0,a._ractive.value=this.value)),this.rendered=!0,this.update()}function de(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;return"value"===b&&("select"===this.element.name||"textarea"===this.element.name)||"value"===b&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===b&&"input"===this.element.name&&e?"name={{"+(e.keypath||e.ref)+"}}":bp.test(b)?d?b:"":(f&&(d=f.toString()),c&&(b=c+":"+b),d?b+'="'+ee(d)+'"':b)}function ee(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function fe(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function ge(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function he(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function ie(){var a,b,c,d,e=this.value;for(Ch(e)||(e=[e]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=np(e,d)}function je(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function ke(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return gl.addViewmodel(b.root.viewmodel),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function le(){var a,b,c=this,d=c.element,e=c.node,f=c.value;if(a=d.getAttribute("value"),Ch(f)){for(b=f.length;b--;)if(a==f[b])return void(e.checked=!0);e.checked=!1}else e.checked=f==a}function me(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b}function ne(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function oe(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function pe(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function qe(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function re(){this.locked||(this.node[this.propertyName]=this.value)}function se(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):bp.test(d)?e?b.setAttribute(d,""):b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function te(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=tp:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?op:mp:"textarea"===e.name?b=wp:null!=e.getAttribute("contenteditable")?b=vp:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?zk:"radio"===a&&e.binding&&"name"===e.binding.name?qp:wp):this.twoway&&"name"===d?"radio"===f.type?b=pp:"checkbox"===f.type&&(b=rp):"style"===d&&f.style.setAttribute?b=up:"class"!==d||f.namespaceURI&&f.namespaceURI!==ml.html?this.useProperty&&(b=xp):b=sp,b||(b=yp),this.update=b,this.update()}function ue(a,b){var c=b?"svg":"div";return Bp.innerHTML="<"+c+" "+a+"></"+c+">",Bo(Bp.childNodes[0].attributes)}function ve(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function we(a){for(;a=a.parent;)if("form"===a.name)return a}function xe(){this._ractive.binding.handleChange()}function ye(a,b,c){var d=a+b+c;return Pp[d]||(Pp[d]=[])}function ze(a){return a.isChecked}function Ae(a){return a.element.getAttribute("value")}function Be(){var a;Mp.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function Ce(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&Mp.call(b),a._timeout=void 0},a.element.lazy)}function De(a){var b,c,d,e,f=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||f.contenteditable&&Ee(f.contenteditable))&&Ee(f.value)?c=Op:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=Ee(f.name),e=Ee(f.checked),d&&e&&Mk.error({message:"badRadioInputBinding"}),d?c="radio"===b?Up:Wp:e&&(c="radio"===b?Sp:Yp)):"file"===b&&Ee(f.value)?c=dq:Ee(f.value)&&(c="number"===b||"range"===b?hq:gq)):"select"===a.name&&Ee(f.value)?c=a.getAttribute("multiple")?bq:$p:"textarea"===a.name&&Ee(f.value)&&(c=gq),c?new c(a):void 0}function Ee(a){return a&&a.isBindable}function Fe(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function Ge(a){lm(this.root,this.getAction(),{event:a})}function He(){return this.action.toString().trim()}function Ie(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&(Mk.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:a.tagName,event:b}}),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=Mn(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c;(c=nq.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(Jn(g,a,function(a){return g.resolve(b,a)}))}),this.fire=Je):(d=c.n||c,"string"!=typeof d&&(d=new Wt({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new Wt({template:c.d,root:this.root,owner:this.element}),this.fire=Le):c.a&&(this.params=c.a,this.fire=Ke))}function Je(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),im.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),im.dequeue(b)}function Ke(a){lm(this.root,this.getAction(),{event:a,args:this.params})}function Le(a){var b=this.dynamicParams.getValue(mq);"string"==typeof b&&(b=b.substr(1,b.length-2)),lm(this.root,this.getAction(),{event:a,args:b})}function Me(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=Hn(c.element.parentFragment))&&(e=Hn.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath,context:b.root.get(b.keypath)})}function Ne(){var a,b=this.name;if(!this.invalid){if(a=Ek.registries.events.find(this.root,b))this.custom=a(this.node,Oe(b));else{if(!("on"+b in this.node||window&&"on"+b in window))return void(rq[b]||Mk.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:b}}));this.node.addEventListener(b,pq,!1)}this.hasListener=!0}}function Oe(a){return qq[a]||(qq[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath,b.context=c.root.get(c.keypath),c.events[a].fire(b)}),qq[a]}function Pe(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function Qe(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Re(a,b){this.keypaths[a]=b}function Se(){return this.method?void this.refResolvers.forEach(Te):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Te(a){a.unbind()}function Ue(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,pq,!1),this.hasListener=!1}function Ve(a){var b,c,d,e,f;b=a.node,b&&(e=Bo(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?We(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function We(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function Xe(){var a=this;this.dirty||(this.dirty=!0,gl.scheduleTask(function(){Hq(a),a.dirty=!1})),this.parentFragment.bubble()}function Ye(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function Ze(a,b){a.select=Jq(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function $e(a){var b,c,d,e,f,g;this.type=Xh.ELEMENT,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=Xo(c.e),"option"===this.name&&Kq(this,c),"select"===this.name&&(this.options=[],this.bubble=Iq),"form"===this.name&&(this.formBindings=[]),$o(this,c.a||{}),this.attributes=Dp(this,c.a),this.conditionalAttributes=Gp(this,c.m),c.f&&(this.fragment=new Wt({template:c.f,root:d,owner:this,pElement:this})),g=d.twoway,this.twoway===!1?g=!1:this.twoway===!0&&(g=!0),g&&(e=iq(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath]||(this.root._twowayBindings[e.keypath]=[]),f.push(e)),c.v&&(this.eventHandlers=Cq(this,c.v)),c.o&&(this.decorator=new Gq(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function _e(a,b){return a===b||yn(a,b)}function af(a,b,c,d){var e=a[b];if(e&&!Mq(e,d)&&Mq(e,c))return a[b]=zn(e,c,d),!0}function bf(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&Nq(e,"keypath",a,b)}function cf(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function df(){var a=this._ractive.proxy;gl.start(),a.formBindings.forEach(ef),gl.end()}function ef(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function ff(a){a.node.addEventListener("reset",Qq,!1)}function gf(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new Wt({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new Wt({template:b.d,root:d,owner:a}),this.params=f.getValue(Sq),f.unbind()),this._fn=Ek.registries.transitions.find(d,e),this._fn||Mk.error({debug:d.debug,message:"missingPlugin",args:{plugin:"transition",name:e}}))}function hf(a){return a}function jf(){sr.hidden=document[or]}function kf(){sr.hidden=!0}function lf(){sr.hidden=!1}function mf(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&nf(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function nf(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function of(){var a,b,c=this,d=this.root;return a=pf(this),b=this.node=ol(this.name,a),d.constructor.css&&this.parentFragment.getNode()===d.el&&this.node.setAttribute("data-ractive-css",d.constructor._guid),ql(this.node,"_ractive",{value:{proxy:this,keypath:Xk(this.parentFragment),events:ai(null),root:d}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=Fr,this.node.text=this.fragment.toString(!1),this.fragment.unrender=zk):"style"===this.name?(this.bubble=Er,this.bubble(),this.fragment.unrender=zk):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=zk:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&qf(this),"img"===this.name?Pq(this):"form"===this.name?Rq(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&gl.scheduleTask(function(){c.decorator.torndown||c.decorator.init()},!0),d.transitionsEnabled&&this.intro&&!function(){var a=new Gr(c,c.intro,!0);gl.registerTransition(a),gl.scheduleTask(function(){return a.start()},!0),c.transition=a}(),this.node.autofocus&&gl.scheduleTask(function(){return c.node.focus()},!0),rf(this),this.node}function pf(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?ml.svg:(d=a.parent)?"foreignObject"===d.name?ml.html:d.node.namespaceURI:a.root.el.namespaceURI}function qf(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&Ch(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function rf(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function sf(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&Ch(c))for(d=c.length;d--;)if(c[d]==b)return!0}function tf(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function uf(a){var b=a.toString();return b?" "+b:""}function vf(a){a.select&&Qk(a.select.options,a)}function wf(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(xf),"option"===this.name&&Jr(this),this.attributes.forEach(xf),this.conditionalAttributes.forEach(xf)}function xf(a){a.unbind()}function yf(a){a.node.removeEventListener("reset",Qq,!1)}function zf(a){var b,c,d=this;this.transition&&this.transition.complete(),"option"===this.name?this.detach():a&&gl.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.unrender()}),this.decorator&&gl.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&!function(){var a=new Gr(d,d.outro,!1);gl.registerTransition(a),gl.scheduleTask(function(){return a.start()})}(),this.liveQueries&&Af(this),"form"===this.name&&Lr(this)}function Af(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function Bf(a,b){var c=Qr.exec(b)[0];return null===a||c.length<a.length?c:a}function Cf(a,b){var c;if(c=Df(a,b))return c;if(c=ok.fromId(b,{noThrow:!0})){c=Rr(c);var d=ok.parse(c,ok.getParseOptions(a));return a.partials[b]=d.t}}function Df(a,b){var c=Ek.registries.partials,d=c.findInstance(a,b);if(d){var e,f=d.partials[b];if("function"==typeof f&&(e=f.bind(d),e.isOwner=d.partials.hasOwnProperty(b),f=e(d.data,ok)),!f&&""!==f)return void Mk.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:b}});if(!ok.isParsed(f)){var g=ok.parse(f,ok.getParseOptions(d));g.p&&Mk.warn({debug:a.debug,message:"noNestedPartials",args:{rname:b}});var h=e?d:c.findOwner(d,b);h.partials[b]=f=g.t}return e&&(f._fn=e),f.v?f.t:f}}function Ef(a,b){var c,d=Ek.registries.components.findInstance(a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(d.data),!c)return void Mk.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:b}});"string"==typeof c&&(c=Ef(a,c)),c._fn=e,d.components[b]=c}return c}function Ff(){var a=this.instance.fragment.detach();return Xr.fire(this.instance),a}function Gf(a){return this.instance.fragment.find(a)}function Hf(a,b){return this.instance.fragment.findAll(a,b)}function If(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function Jf(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function Kf(){return this.parentFragment.findNextNode(this)}function Lf(){return this.rendered?this.instance.fragment.firstNode():null}function Mf(a){this.hook=new Pk(a),this.inProcess={},this.queue={}}function Nf(a,b){return a[b._guid]||(a[b._guid]=[])}function Of(a,b){var c=Nf(a.queue,b);for(a.hook.fire(b);c.length;)Of(a,c.shift());delete a.queue[b._guid]}function Pf(a,b){var c,d,e,f,g=this.ractive;for(c=g.adapt.length,d=0;c>d;d+=1){if(e=g.adapt[d],"string"==typeof e){var h=Ek.registries.adaptors.find(g,e);if(!h)return Mk.critical({debug:g.debug,message:"missingPlugin",args:{plugin:"adaptor",name:e}});e=g.adapt[d]=h}if(e.filter(b,a,g))return f=this.wrapped[a]=e.wrap(g,b,a,Rf(a)),f.value=b,b}return g.magic?us.filter(b,a,g)?this.wrapped[a]=us.wrap(g,b,a):kl.filter(b,a,g)&&(this.wrapped[a]=kl.wrap(g,b,a)):g.modifyArrays&&ts.filter(b,a,g)&&(this.wrapped[a]=ts.wrap(g,b,a)),b}function Qf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function Rf(a){var b;return vs[a]||(b=a?a+".":"",vs[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?Qf(c,a):c:void 0}),vs[a]}function Sf(a){var b,c,d,e,f=[""];for(b=a.length;b--;)for(c=a[b],d=c.split(".");d.length>1;)d.pop(),e=d.join("."),-1===f.indexOf(e)&&f.push(e);return f}function Tf(a){var b,c,d,e;return b=a.split("."),c=Uf(b.length),d=function(a,c){return a?"*":b[c]},e=c.map(function(a){return a.map(d).join(".")})}function Uf(a){var b,c,d,e,f,g="";if(!ys[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}ys[a]=d}return ys[a]}function Vf(a,b,c){var d;Xf(a,b),c||(d=zs(b),d.forEach(function(c){Wf(a,c,b)}))}function Wf(a,b,c){var d,e,f;d=a.depsMap.patternObservers,d&&(e=d[b])&&e.forEach(function(b){var d=As.exec(b)[0];f=c?c+"."+d:d,Xf(a,f),Wf(a,b,f)})}function Xf(a,b){a.patternObservers.forEach(function(a){a.regex.test(b)&&a.update(b)})}function Yf(){function a(c){var d,f;e.noCascade.hasOwnProperty(c)||((f=e.deps.computed[c])&&f.forEach(function(c){c.viewmodel===e?(e.clearCache(c.key),c.invalidate(),b.push(c.key),a(c.key)):c.viewmodel.mark(c.key)}),(d=e.depsMap.computed[c])&&d.forEach(a))}var b,c,d=this,e=this,f={};return b=this.changes,b.length?(b.slice().forEach(a),c=xs(b),c.forEach(function(a){var c;-1===b.indexOf(a)&&(c=e.deps.computed[a])&&(d.changes.push(a),c.forEach(function(a){a.viewmodel.mark(a.key)}))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(a){return Bs(d,a,!0)}),b.forEach(function(a){return Bs(d,a)})),this.deps.observers&&(c.forEach(function(a){return Zf(d,null,a,"observers")}),_f(this,b,"observers")),this.deps["default"]&&!function(){var a=[];c.forEach(function(b){return Zf(d,a,b,"default")}),a.length&&$f(d,a,b),_f(d,b,"default")}(),b.forEach(function(a){f[a]=d.get(a)}),this.implicitChanges={},this.noCascade={},f):void 0}function Zf(a,b,c,d){var e,f;(e=ag(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function $f(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function _f(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=ag(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function ag(a,b,c){var d=a.deps[c];return d?d[b]:null}function bg(){this.captureGroups.push([])}function cg(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function dg(a){var b="var __ractive=this;return("+a.replace(Fs,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(b)}function eg(a,b){var c=b.split(".")[0];return!(c in a.ractive.data||c in a.computations||c in a.mappings)}function fg(a,b){return b=Gs(b),this.computations[a]=new Ls(this.ractive,a,b)}function gg(a,b){var c=this;return void 0===b&&(b=Os),function(){var d,e,f,g,h,i=c.ractive,j=c.cache;return b.capture&&(h=c.captureGroups[c.captureGroups.length-1])&&(~h.indexOf(a)||h.push(a)),(d=c.mappings[a.split(".")[0]])?d.get(a,b):"@"===a[0]?Kn(a):(void 0===j[a]?((f=c.computations[a])&&!f.bypass?(e=f.get(),c.adapt(a,e)):(g=c.wrapped[a])?e=g.value:a?e=hg(c,a):(c.adapt("",i.data),e=i.data),j[a]=e):e=j[a],!b.noUnwrap&&(g=c.wrapped[a])&&(e=g.get()),e===Ns?void 0:e)}()}function hg(a,b){var c,d,e,f,g,h,i;return c=b.split("."),d=c.pop(),e=c.join("."),f=a.get(e),(i=a.wrapped[e])&&(f=i.get()),null!==f&&void 0!==f?((g=a.cacheMap[e])?-1===g.indexOf(b)&&g.push(b):a.cacheMap[e]=[b],"object"!=typeof f||d in f?(h=f[d],a.adapt(b,h,!1),a.cache[b]=h,h):a.cache[b]=Ns):void 0}function ig(a){var b=Uh[a.message]||a.message||"";return jg(b,a.args)}function jg(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function kg(){var a,b,c=[];for(a in this.ractive.computed)b=this.compute(a,this.ractive.computed[a]),c.push(b),a in this.mappings&&Ts.critical({message:"Cannot map to a computed property ('"+a+"')"});c.forEach(lg)}function lg(a){a.init()}function mg(a,b){this.keypath=a,this.viewmodel=b}function ng(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.trackData=b.trackData,this.resolved=!1}function og(a,b){var c=new Ws(a,b);return c.initViewmodel(this),c}function pg(a,b){var c;gl.addViewmodel(this),b&&(b.implicit&&(this.implicitChanges[a]=!0),b.noCascade&&(this.noCascade[a]=!0)),(c=this.computations[a])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var d=b?b.dontTeardownWrapper:!1;this.clearCache(a,d)}function qg(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=sg(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){if(this.debug)throw i;Ih("Merge operation: comparison failed. Falling back to identity checking"),e=b,f=c}}else e=b,f=c;h=Zs(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function rg(a){return JSON.stringify(a)}function sg(a){if(a===!0)return rg;if("string"==typeof a)return $s[a]||($s[a]=function(b){return b[a]}),$s[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function tg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.register(a,b,c);e=this.deps[c]||(this.deps[c]={}),f=e[a]||(e[a]=[]),f.push(b),a&&ug(this,a,c)}}function ug(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c]||(a.depsMap[c]={}),g=f[e]||(f[e]=[]),void 0===g[b]&&(g[b]=0,g.push(b)),g[b]+=1,b=e
}function vg(){return this.captureGroups.pop()}function wg(a,b,c){void 0===c&&(c={});var d,e,f,g;if(!c.noMapping&&(d=this.mappings[a.split(".")[0]]))return d.set(a,b);if(e=this.computations[a]){if(e.setting)return;e.set(b),b=e.get()}Ml(this.cache[a],b)||(f=this.wrapped[a],f&&f.reset&&(g=f.reset(b)!==!1,g&&(b=f.get())),e||g||xg(this,a,b),c.silent?this.clearCache(a):this.mark(a))}function xg(a,b,c){var d,e,f,g,h,i,j;i=function(){g.set?g.set(e,c):(h=g.get(),j())},j=function(){h||(h=il(e),a.set(f,h,{silent:!0})),h[e]=c},d=b.split("."),e=d.pop(),f=d.join("."),g=a.wrapped[f],g?i():(h=a.get(f),(g=a.wrapped[f])?i():j())}function yg(a,b,c){var d,e,f=this;if(e=c.length,c.forEach(function(b,c){-1===b&&f.mark(a+"."+c,et)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a])&&d.filter(zg).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){this.mark(a+".length",dt);for(var g=e;g<b.length;g+=1)this.mark(a+"."+g);for(var g=b.length;e>g;g+=1)this.mark(a+"."+g,et)}}function zg(a){return"function"==typeof a.shuffle}function Ag(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function Bg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.unregister(a,b,c);if(e=this.deps[c][a],f=e.indexOf(b),-1===f)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");e.splice(f,1),a&&Cg(this,a,c)}}function Cg(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c],g=f[e],g[b]-=1,g[b]||(Qk(g,b),g[b]=void 0),b=e}function Dg(a){return"string"==typeof a&&(a=[a]),a}function Eg(a,b,c){void 0===b&&(b={}),void 0===c&&(c={});var d;Fg(a,c),mt.fire(Ek.getConstructTarget(a,b),b),Ek.init(a.constructor,a,b),nt.fire(a),ot.begin(a),a.viewmodel=new lt(a,c.mappings),a.viewmodel.init(),a.template&&(a.fragment=new Wt({template:a.template,root:a,owner:a})),ot.end(a),(d=pm(a.el))&&a.render(d,a.append)}function Fg(a,b){a._guid=es(),a._subs=ai(null),a._config={},a._twowayBindings=ai(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function Gg(a,b,c){this.parameters=a,this.parentFragment=a.component.parentFragment,this.key=b,this.fragment=new Wt({template:c,root:a.component.root,owner:this}),this.parameters.addData(this.key,this.fragment.getValue())}function Hg(a,b){return b.parameters?ll&&"legacy"!==b.parameters?Jg(a,b):Ig(a):a.data}function Ig(a){var b,c=a.mappings;for(b in c){var d=c[b];d.trackData=!0,d.updatable||a.addData(b,d.getValue())}return a.data}function Jg(a,b){var c=Kg(a,b);return new c(a)}function Kg(a,b){var c=b._parameters;return(!c.Constructor||a.newKeys.length)&&(c.Constructor=Lg(a,c.defined)),c.Constructor}function Lg(a,b){function c(a){this._mappings=a.mappings,this._data=a.data||{}}var d,e;return d=a.keys.reduce(function(a,b){return a[b]={get:function(){var a=this._mappings[b];return a?a.getValue():this._data[b]},set:function(a){var c=this._mappings[b];c?(gl.start(),c.setValue(a),gl.end()):this._data[b]=a},enumerable:!0},a},b),sl(e={},d),e.constructor=c,c.prototype=e,c}function Mg(a,b,c){var d,e;this.parameters=a,this.key=b,this.resolved=this.ready=!1,d=a.component,e=this.resolve.bind(this),c.r?this.resolver=Jn(d,c.r,e):c.x?this.resolver=new On(d,d.parentFragment,c.x,e):c.rx&&(this.resolver=new Sn(d,c.rx,e)),this.resolved||a.addMapping(b),this.ready=!0}function Ng(a,b,c){var d,e,f;return c?(b.parameters&&(f=Og(b)),d=new Pg(a,c,f),e=st(d,b),{data:e,mappings:d.mappings}):{data:{}}}function Og(a){return a._parameters?a._parameters.defined||(a._parameters.defined={}):a._parameters={defined:{}},a._parameters.defined}function Pg(a,b,c){var d=this;this.component=a,this.parentViewmodel=a.root.viewmodel,this.data={},this.mappings=ai(null),this.newKeys=[],this.keys=Object.keys(b),this.keys.forEach(function(a){c&&!c[a]&&d.newKeys.push(a),d.add(a,b[a])})}function Qg(a){return 1===a.length&&a[0].t===Xh.INTERPOLATOR}function Rg(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Sg(a.instance,a.root,c,b[c])}function Sg(a,b,c,d){"string"!=typeof d&&Mk.error({debug:b.debug,message:"noComponentEventArguments"}),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),lm(b,d,{event:a,args:c}),!1})}function Tg(a,b){var c,d,e;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=Xh.COMPONENT,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],e=ut(this,b.prototype,a.template.a),qt(this,b,e,a.template.f,a.template.p),vt(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&Rs('The "intro", "outro" and "decorator" directives have no effect on components'),wt(this)}function Ug(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function Vg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function Wg(){return this.instance.fragment.toString()}function Xg(){var a=this.instance;this.resolvers.forEach(Yg),Zg(this),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&Qk(a.el.__ractive_instances__,a),Bt.fire(a)}function Yg(a){a.unbind()}function Zg(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function $g(a){this.shouldDestroy=a,this.instance.unrender()}function _g(a){if("string"==typeof a.template)return new vn(a);switch(a.template.t){case Xh.INTERPOLATOR:return"yield"===a.template.r?new Jt(a):new Yn(a);case Xh.SECTION:return new uo(a);case Xh.TRIPLE:return new No(a);case Xh.ELEMENT:var b;return(b=Wr(a.parentFragment.root,a.template.e))?new Ft(a,b):new Or(a);case Xh.PARTIAL:return new Vr(a);case Xh.COMMENT:return new Ht(a);case Xh.DOCTYPE:return new Lt(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function ah(a){var b,c=this;this.owner=a.owner,b=this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],"string"==typeof a.template?a.template=[a.template]:a.template||(a.template=[]),this.items=a.template.map(function(b,d){return Mt({parentFragment:c,pElement:a.pElement,template:b,index:d})}).filter(function(a){return null!==a}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function bh(a,b){Nq(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function ch(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function dh(a){return this.items?this.items.map(function(b){return b.toString(a)}).join(""):""}function eh(){this.bound&&(this.items.forEach(fh),this.bound=!1)}function fh(a){a.unbind&&a.unbind()}function gh(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function hh(a,b){var c,d,e,f,g,h=this;if("function"!=typeof a||b?a=a||{}:(b=a,a={}),"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((d=this.viewmodel.wrapped[""])&&d.reset?d.reset(a)===!1&&(this.data=a):this.data=a,e=Ek.reset(this),f=e.length;f--;)if(Xt.indexOf(e[f])>-1){g=!0;break}if(g){var i;this.viewmodel.mark(""),(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new Wt({template:this.template,root:this,owner:this})),c=this.render(this.el,this.anchor)}else c=gl.start(this,!0),this.viewmodel.mark(""),gl.end();return Yt.fire(this,a),b&&(Mk.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.reset"}}),c.then(b).then(null,function(a){Mk.consoleError({debug:h.debug,err:a})})),c}function ih(a){var b,c;Ek.template.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new Wt({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function jh(a,b,c){var d,e,f=this;if(e=gl.start(this,!0),Eh(a)){d=a,c=b;for(a in d)d.hasOwnProperty(a)&&(b=d[a],a=Ol(a),this.viewmodel.set(a,b))}else a=Ol(a),bu.test(a)?wm(this,a).forEach(function(a){f.viewmodel.set(a,b)}):this.viewmodel.set(a,b);return gl.end(),c&&(Mk.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.set"}}),e.then(c.bind(this)).then(null,function(a){Mk.consoleError({debug:f.debug,err:a})})),e}function kh(a,b){return tl(this,a,void 0===b?-1:-b)}function lh(a){var b,c=this;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&Qk(this.el.__ractive_instances__,this),this.shouldDestroy=!0,b=this.fragment.rendered?this.unrender():Uk.resolve(),hu.fire(this),a&&(Mk.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),b.then(a.bind(this)).then(null,function(a){Mk.consoleError({debug:c.debug,err:a})})),this._boundFunctions.forEach(mh),b}function mh(a){delete a.fn[a.prop]}function nh(a,b){var c;return"string"!=typeof a&&Mk.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:a}}),c=this.get(a),this.set(a,!c,b)}function oh(){return this.fragment.toString(!0)}function ph(){var a,b,c=this;if(!this.fragment.rendered)return Mk.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"}),Uk.resolve();for(a=gl.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&a.then(function(){$m.remove(c.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),Qk(this.el.__ractive_instances__,this),lu.fire(this),gl.end(),a}function qh(a,b){var c,d=this;return"function"==typeof a?(b=a,a=""):a=a||"",c=gl.start(this,!0),this.viewmodel.mark(a),gl.end(),ou.fire(this,a),b&&(Mk.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),c.then(b.bind(this)).then(null,function(a){Mk.consoleError({debug:d.debug,err:a})})),c}function rh(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||Mq(d,a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=sh(this,e),this.set(c)}function sh(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath]||a.changed()||(d.push(a.keypath),d[a.keypath]=a));b=a.attribute.value,e=a.getValue(),_p(b,e)||Ml(b,e)||(c[a.keypath]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a],e=b.attribute.value,f=b.getValue(),_p(e,f)||(c[a]=f)}),c}function th(a){if(!(a.prototype instanceof xu))return a;for(var b={};a;)Ek.registries.forEach(function(c){uh(c.useDefaults?a.prototype:a,b,c.name)}),Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e,f=d._method;f&&(d=d._method),e=Rh(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}}),a=a._Parent!==xu?a._Parent:!1;return b}function uh(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function vh(a){void 0===a&&(a={});var b,c,d,e=this;return a=su(a),b=function(a,b){pt(this,a,b)},c=ai(e.prototype),c.constructor=b,d={_guid:{value:tu++},defaults:{value:c},extend:{value:vh,writable:!0,configurable:!0},_Parent:{value:e}},sl(b,d),Ek.extend(e,c,a),lt.extend(e,c),b.prototype=c,b}var wh,xh={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,noCssTransform:!1,debug:!1},yh=xh,zh={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}},Ah=Object.prototype.hasOwnProperty,Bh=Object.prototype.toString,Ch=function(a){return"[object Array]"===Bh.call(a)},Dh=Object.prototype.toString,Eh=function(a){return a&&"[object Object]"===Dh.call(a)},Fh=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},Gh={};wh="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(a,b){if(!b){if(Gh[a])return;Gh[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:function(){};var Hh,Ih=wh,Jh=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Kh=/\/\*.*?\*\//g,Lh=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Mh=/^@media/,Nh=/\[data-ractive-css="[a-z0-9-]+"]/g,Oh=a,Ph={name:"css",extend:d,init:function(){}},Qh=Ph,Rh=function(a,b,c){return c||f(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},Sh={name:"data",extend:h,init:i,reset:j},Th=Sh,Uh={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',usePromise:"{method} now returns a Promise, use {method}(...).then(callback) instead.",noTwowayExpressions:"Two-way binding does not work with expressions. Encountered ( {expression} ) on element {element}.",computedCannotMapTo:'Computed property "{key}" cannot be mapped to "{other}" because {reason}.',notUsed:'prevents forgetting trailing "," in cut and paste of previous line :)'},Vh="object"==typeof document,Wh=Vh,Xh={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,YIELDER:16,INLINE_PARTIAL:17,DOCTYPE:18,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53,SECTION_IF_WITH:54,SECTION_PARTIAL:55};try{Object.create(null),Hh=Object.create}catch(Yh){Hh=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var Zh,$h,_h,ai=Hh,bi={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},ci=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,di=function(a){var b;return(b=a.matchPattern(ci))?{t:Xh.NUMBER_LITERAL,v:b}:null},ei=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:Xh.BOOLEAN_LITERAL,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:Xh.BOOLEAN_LITERAL,v:"false"}):null};Zh=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,$h=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,_h=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var fi,gi,hi,ii,ji,ki=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(Zh)||b.matchPattern($h)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(_h),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},li=ki('"'),mi=ki("'"),ni=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=mi(a),a.matchString('"')?{t:Xh.STRING_LITERAL,v:c}:(a.pos=b,null)):a.matchString("'")?(c=li(a),a.matchString("'")?{t:Xh.STRING_LITERAL,v:c}:(a.pos=b,null)):null},oi={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/,relaxedName:/^[a-zA-Z_$][-a-zA-Z_$0-9]*/},pi=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,qi=function(a){var b;return(b=ni(a))?pi.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=di(a))?b.v:(b=a.matchPattern(oi.name))?b:void 0},ri=function(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=qi(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=a.readExpression(),null===d?(a.pos=b,null):{t:Xh.KEY_VALUE_PAIR,k:c,v:d}):(a.pos=b,null))},si=q,ti=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=si(a),a.allowWhitespace(),a.matchString("}")?{t:Xh.OBJECT_LITERAL,m:c}:(a.pos=b,null)):(a.pos=b,null)},ui=r,vi=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=ui(a),a.matchString("]")?{t:Xh.ARRAY_LITERAL,m:c}:(a.pos=b,null)):(a.pos=b,null)},wi=function(a){var b=di(a)||ei(a)||ni(a)||ti(a)||vi(a);return b};fi=/^\.[a-zA-Z_$0-9]+/,hi=function(a){var b=a.matchPattern(gi);return b?"."+b:null},gi=/^\[(0|[1-9][0-9]*)\]/,ii=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,ji=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var xi,yi,zi=function(a){var b,c,d,e,f,g,h,i;if(b=a.pos,a.matchString("~/"))c="~/";else for(c="";a.matchString("../");)c+="../";if(c||(e=a.matchString("./")||a.matchString(".")||""),i=a.relaxedNames?oi.relaxedName:oi.name,d=a.matchPattern(/^@(?:keypath|index|key)/)||a.matchPattern(i)||"",!a.relaxedNames&&!e&&!c&&ji.test(d))return a.pos=b,null;if(!c&&!e&&!a.relaxedNames&&ii.test(d))return{t:Xh.GLOBAL,v:d};if(f=(c||e)+d,!f)return null;for(;g=a.matchPattern(fi)||hi(a);)f+=g;return a.matchString("(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:Xh.REFERENCE,n:f.replace(/^this\./,"./").replace(/^this$/,".")}},Ai=function(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=a.readExpression(),c||a.error(bi.expectedExpression),a.allowWhitespace(),a.matchString(")")||a.error(bi.expectedParen),{t:Xh.BRACKETED,x:c}):null},Bi=function(a){return wi(a)||zi(a)||Ai(a)},Ci=s,Di=function(a){var b,c,d,e;if(c=Bi(a),!c)return null;for(;c;)if(b=a.pos,d=Ci(a))c={t:Xh.MEMBER,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=ui(a),a.allowWhitespace(),a.matchString(")")||a.error(bi.expectedParen),c={t:Xh.INVOCATION,x:c},e&&(c.o=e)}return c};yi=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=c.readExpression(),d||c.error(bi.expectedExpression),{s:a,o:d,t:Xh.PREFIX_OPERATOR}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=Di,a=0,b=d.length;b>a;a+=1)c=yi(d[a],e),e=c;xi=e}();var Ei,Fi,Gi=xi;Fi=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:Xh.INFIX_OPERATOR,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=Gi,a=0,b=d.length;b>a;a+=1)c=Fi(d[a],e),e=c;Ei=e}();var Hi,Ii,Ji=Ei,Ki=function(a){var b,c,d,e;return(c=Ji(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(bi.expectedExpression),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=a.readExpression(),e||a.error(bi.expectedExpression),{t:Xh.CONDITIONAL,o:[c,d,e]}):(a.pos=b,c)):null},Li=function(a){var b,c=[];return u(a,c),b={r:c,s:v(this,a,c)}},Mi=/^\s+/;Ii=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},Ii.prototype=Error.prototype,Hi=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},Hi.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return Ki(this)},flattenExpression:Li,getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b,c,d,e,f,g;throw b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=e+"\n"+new Array(b[1]).join(" ")+"^----",g=new Ii(a+" at line "+c+" character "+d+":\n"+f),g.line=b[0],g.character=b[1],g.shortMessage=a,g},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(Mi)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Hi.extend=function(a){var b,c,d=this;b=function(a,b){Hi.call(this,a,b)},b.prototype=ai(d.prototype);for(c in a)Ah.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=Hi.extend,b};var Ni,Oi,Pi,Qi=Hi,Ri=/^[^\s=]+/,Si=/^\s+/,Ti=function(a){var b,c,d;return a.matchString("=")?(b=a.pos,a.allowWhitespace(),(c=a.matchPattern(Ri))?a.matchPattern(Si)?(d=a.matchPattern(Ri))?(a.allowWhitespace(),a.matchString("=")?[c,d]:(a.pos=b,null)):(a.pos=b,null):null:(a.pos=b,null)):null},Ui=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],Vi={"#":Xh.SECTION,"^":Xh.INVERTED,"/":Xh.CLOSING,">":Xh.PARTIAL,"!":Xh.COMMENT,"&":Xh.TRIPLE},Wi=function(a){var b=Vi[a.str.charAt(a.pos)];return b?(a.pos+=1,b):null},Xi={each:Xh.SECTION_EACH,"if":Xh.SECTION_IF,"if-with":Xh.SECTION_IF_WITH,"with":Xh.SECTION_WITH,unless:Xh.SECTION_UNLESS,partial:Xh.SECTION_PARTIAL};"undefined"==typeof window?Pi=null:(Ni=window,Oi=Ni.document,Pi={},Oi||(Pi=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;for(void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0),c=this.length;c>b;b++)if(this.hasOwnProperty(b)&&this[b]===a)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f=this,g=[];for(f instanceof String&&(f=f.toString(),e=!0),c=0,d=f.length;d>c;c+=1)(f.hasOwnProperty(c)||e)&&(g[c]=a.call(b,f[c],c,f));return g}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){var c,d,e,f;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(e=this.length,f=!1,arguments.length>1&&(d=b,f=!0),c=0;e>c;c+=1)this.hasOwnProperty(c)?f&&(d=a(d,this[c],c,this)):(d=this[c],f=!0);if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e=[];for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)&&(e[e.length]=this[c]);return e}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=0;d>e;e+=1)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b,c,d,e,f=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return b=f.call(arguments,1),c=this,d=function(){},e=function(){var e=this instanceof d&&a?this:a;return c.apply(e,b.concat(f.call(arguments)))},d.prototype=this.prototype,e.prototype=new d,e}),Ni.addEventListener||!function(a,b){var c,d,e,f,g,h;a.appearsToBeIELessEqual8=!0,c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b,d.target=a.srcElement||b,d.timeStamp=+new Date,d.preventDefault=function(){a.returnValue=!1},d.stopPropagation=function(){a.cancelBubble=!0}},d=function(a,b){var d,e,f=this;d=f.listeners||(f.listeners=[]),e=d.length,d[e]=[b,function(a){b.call(f,new c(a,f))}],f.attachEvent("on"+a,d[e][1])},e=function(a,b){var c,d,e=this;if(e.listeners)for(c=e.listeners,d=c.length;d--;)c[d][0]===b&&e.detachEvent("on"+a,c[d][1])},a.addEventListener=b.addEventListener=d,a.removeEventListener=b.removeEventListener=e,"Element"in a?(a.Element.prototype.addEventListener=d,a.Element.prototype.removeEventListener=e):(h=b.createElement,b.createElement=function(a){var b=h(a);return b.addEventListener=d,b.removeEventListener=e,b},f=b.getElementsByTagName("head")[0],g=b.createElement("style"),f.insertBefore(g,f.firstChild))}(Ni,Oi),Ni.getComputedStyle||(Pi.getComputedStyle=function(){function a(c,d,e,f){var g,h=d[e],i=parseFloat(h),j=h.split(/\d/)[0];return isNaN(i)&&/^thin|medium|thick$/.test(h)&&(i=b(h),j=""),f=null!=f?f:/%|em/.test(j)&&c.parentElement?a(c.parentElement,c.parentElement.currentStyle,"fontSize",null):16,g="fontSize"==e?f:/width/i.test(e)?c.clientWidth:c.clientHeight,"em"==j?i*f:"in"==j?96*i:"pt"==j?96*i/72:"%"==j?i/100*g:i}function b(a){var b,c;return f[a]||(b=document.createElement("div"),b.style.display="block",b.style.position="fixed",b.style.width=b.style.height="0",b.style.borderRight=a+" solid black",document.getElementsByTagName("body")[0].appendChild(b),c=b.getBoundingClientRect(),f[a]=c.right-c.left),f[a]}function c(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function d(b){var d,e,f,g;d=b.currentStyle,e=this,f=a(b,d,"fontSize",null);for(g in d)/width|height|margin.|padding.|border.+W/.test(g)?"auto"===d[g]?/^width|height/.test(g)?e[g]=("width"===g?b.clientWidth:b.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(g)&&(e[g]="0px"):e[g]=a(b,d,g,f)+"px":"styleFloat"===g?e["float"]=d[g]:e[g]=d[g];return c(e,"margin"),c(e,"padding"),c(e,"border"),e.fontSize=f+"px",e}function e(a){return new d(a)}var f={};return d.prototype={constructor:d,getPropertyPriority:function(){},getPropertyValue:function(a){return this[a]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},e}()));var Yi,Zi=Pi,$i=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,_i=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,aj=/^[0-9][1-9]*$/,bj=new RegExp("^("+Object.keys(Xi).join("|")+")\\b");Yi=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;var cj,dj,ej,fj=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(c=a.pos,e={},l=a[b.delimiters],b.isStatic&&(e.s=!0),b.isTriple)e.t=Xh.TRIPLE;else{if("!"===a.remaining()[0]){try{h=a.readExpression(),a.allowWhitespace(),a.remaining().indexOf(l[1])?h=null:e.t=Xh.INTERPOLATOR}catch(n){}if(!h)return k=a.remaining().indexOf(l[1]),~k?a.pos+=k:a.error("Expected closing delimiter ('"+l[1]+"')"),{t:Xh.COMMENT}}if(!h)if(f=Wi(a),e.t=f||Xh.INTERPOLATOR,f===Xh.SECTION)(g=a.matchPattern(bj))&&(e.n=g),a.allowWhitespace();else if((f===Xh.COMMENT||f===Xh.CLOSING)&&(j=a.remaining(),k=j.indexOf(l[1]),-1!==k))return e.r=j.substr(0,k).split(" ")[0],a.pos+=k,e}if(!h){a.allowWhitespace(),f===Xh.PARTIAL?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=m):e.t===Xh.INTERPOLATOR&&a.matchString("yield ")?(a.allowWhitespace(),e.r="yield",m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1,h&&h.t===Xh.REFERENCE?(e.yn=h.n,h=null):h&&a.error("Only names are supported with yield.")):e.t===Xh.SECTION&&"partial"===e.n?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1):h=a.readExpression();var o;if(e.t===Xh.PARTIAL&&h&&(o=a.readExpression())&&(e={contextPartialExpression:h},h=o),j=a.remaining(),j.substr(0,l[1].length)!==l[1]&&":"!==j.charAt(0)){if(d=a.pos,a.pos=c,j=a.remaining(),k=j.indexOf(l[1]),-1!==k)return e.r=j.substr(0,k).trim(),Yi.test(e.r)||a.error("Expected a legal Mustache reference"),a.pos+=k,e;a.pos=d}}if(w(a,h,e),e.contextPartialExpression&&(e.contextPartialExpression=[w(a,e.contextPartialExpression,{t:Xh.PARTIAL})]),i=a.matchPattern($i)){var p;e.i=(p=a.matchPattern(_i))?i+","+p:i}return e},gj={t:Xh.DELIMCHANGE,exclude:!0},hj=y,ij="<!--",jj="-->",kj=function(a){var b,c,d,e,f;return b=a.pos,a.matchString(ij)?(d=a.remaining(),e=d.indexOf(jj),-1===e&&a.error("Illegal HTML - expected closing comment sequence ('-->')"),c=d.substr(0,e),a.pos+=e+3,f={t:Xh.COMMENT,c:c},a.includeLinePositions&&(f.p=a.getLinePos(b)),f):null},lj=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,mj=lj,nj=/[-/\\^$*+?.()|[\]{}]/g,oj=B,pj=C,qj=/^<!--\s*/,rj=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,sj=/\s*-->/,tj=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1};cj={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},dj=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],ej=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(cj).join("|")+"));?","g");
var uj,vj,wj,xj,yj,zj,Aj,Bj=D,Cj=function(a){var b,c,d,e;return c=a.remaining(),e=a.inside?"</"+a.inside:"<",a.inside&&!a.interpolate[a.inside]?b=c.indexOf(e):(d=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],a.inAttribute===!0?d.push('"',"'","=","<",">","`"):d.push(a.inAttribute?a.inAttribute:e),b=tj(c,d)),b?(-1===b&&(b=c.length),a.pos+=b,a.inside?c.substr(0,b):Bj(c.substr(0,b))):null},Dj=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Ej=function(a){var b;return a.matchString("</")?(b=a.matchPattern(Dj))?{t:Xh.CLOSING_TAG,e:b}:(a.pos-=2,void a.error("Illegal closing tag")):null},Fj=/^[^\s"'>\/=]+/,Gj=/^[^\s"'=<>`]+/,Hj=F;vj={"true":!0,"false":!1,undefined:void 0,"null":null},wj=new RegExp("^(?:"+Object.keys(vj).join("|")+")"),xj=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,yj=/\$\{([^\}]+)\}/g,zj=/^\$\{([^\}]+)\}/,Aj=/^\s*$/,uj=Qi.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&Aj.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(zj),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(wj))?{v:vj[b]}:void 0},function(a){var b;return(b=a.matchPattern(xj))?{v:+b}:void 0},function(a){var b,c=ni(a);return c&&(b=a.values)?{v:c.v.replace(yj,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=L(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var Ij,Jj=function(a,b){var c=new uj(a,{values:b});return c.result},Kj=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/;Ij=Qi.extend({converters:[Ki]});var Lj,Mj,Nj=function(a){var b,c,d,e,f,g,h,i,j;if("string"==typeof a){if(c=Kj.exec(a))return b={m:c[1]},e="["+a.slice(b.m.length+1,-1)+"]",d=new Ij(e),b.a=Li(d.result[0]),b;if(-1===a.indexOf(":"))return a.trim();a=[a]}if(b={},h=[],i=[],a){for(;a.length;)if(f=a.shift(),"string"==typeof f){if(g=f.indexOf(":"),-1!==g){g&&h.push(f.substr(0,g)),f.length>g+1&&(i[0]=f.substring(g+1));break}h.push(f)}else h.push(f);i=i.concat(a)}return h.length?i.length||"string"!=typeof h?(b={n:1===h.length&&"string"==typeof h[0]?h[0]:h},1===i.length&&"string"==typeof i[0]?(j=Jj("["+i[0]+"]"),b.a=j?j.value:i[0].trim()):b.d=i):b=h:b="",b},Oj=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Pj=/^[\s\n\/>]/,Qj=/^on/,Rj=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Sj=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Tj={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Uj={exclude:!0};Lj=[pj,hj,kj,M,Cj,Ej],Mj={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Vj,Wj,Xj=M,Yj=/^[ \t\f\r\n]+/,Zj=/[ \t\f\r\n]+$/,$j=function(a,b,c){var d;b&&(d=a[0],"string"==typeof d&&(d=d.replace(Yj,""),d?a[0]=d:a.shift())),c&&(d=a[a.length-1],"string"==typeof d&&(d=d.replace(Zj,""),d?a[a.length-1]=d:a.pop()))},_j=/^\s*\r?\n/,ak=/\r?\n\s*$/,bk=function(a){var b,c,d,e,f;for(b=1;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b-2],O(c)&&P(d)&&O(e)&&ak.test(e)&&_j.test(c)&&(a[b-2]=e.replace(ak,"\n"),a[b]=c.replace(_j,"")),Q(c)&&O(d)&&ak.test(d)&&O(c.f[0])&&_j.test(c.f[0])&&(a[b-1]=d.replace(ak,"\n"),c.f[0]=c.f[0].replace(_j,"")),O(c)&&Q(d)&&(f=d.f[d.f.length-1],O(f)&&ak.test(f)&&_j.test(c)&&(d.f[d.f.length-1]=f.replace(ak,"\n"),a[b]=c.replace(_j,"")));return a},ck=R,dk=function(a){if(!Eh(a))return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},ek=/[ \t\f\r\n]+/g,fk=/^(?:pre|script|style|textarea)$/i,gk=/^\s+/,hk=/\s+$/;Vj=Qi.extend({init:function(a,b){V(b,this),this.sectionDepth=0,this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1},b.sanitize===!0&&(b.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=b.sanitize&&b.sanitize.elements,this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes,this.includeLinePositions=b.includeLinePositions,this.StandardParser=Vj},postProcess:function(a,b){return this.sectionDepth>0&&this.error("A section was left open"),U(a,b.stripComments!==!1,b.preserveWhitespace,!b.preserveWhitespace,!b.preserveWhitespace,b.rewriteElse!==!1),a},converters:[pj,hj,kj,Xj,Cj]}),Wj=function(a,b){void 0===b&&(b={});var c;V(b),c={v:2},c.t=new Vj(a,b).result;var d={};return ck(b.ractive?[b.ractive]:[],d,c.t),dk(d)||(c.p=d),c};var ik,jk,kk=Wj,lk=W;ik=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],jk=lk(ik,function(a){return a});var mk=jk,nk={parse:Y,fromId:Z,isHashedId:$,isParsed:_,getParseOptions:ab,createHelper:X},ok=nk,pk={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:db(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=cb(b,e),b._config.template={fn:e,result:d}),d=db(d,b),b.template=d.t,d.p&&eb(b.partials,d.p)},reset:function(a){var b,c=bb(a);return c?(b=db(c,a),a.template=b.t,eb(a.partials,b.p,!0),!0):void 0}},qk=pk;fb.prototype={constructor:fb,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,b,c)},configure:function(a,b,c){var d,e=this.name,f=c[e];d=ai(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c},findOwner:function(a,b){return a[this.name].hasOwnProperty(b)?a:this.findConstructor(a.constructor,b)},findConstructor:function(a,b){return a?a[this.name].hasOwnProperty(b)?a:this.findConstructor(a._Parent,b):void 0},find:function(a,b){var c=this;return gb(a,{test:function(a){return b in a[c.name]},getValue:function(a){return a[c.name][b]}})},findInstance:function(a,b){var c=this;return gb(a,{test:function(a){return b in a[c.name]},getValue:function(a){return a}})}};var rk,sk,tk,uk,vk=fb,wk=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],xk=lk(wk,function(a){return new vk(a,"computed"===a)}),yk=xk,zk=function(){},Ak=hb,Bk=nb;rk={data:Th,template:qk,css:Qh},sk=Object.keys(yh).filter(function(a){return!yk[a]&&!rk[a]&&!mk[a]}),tk=[].concat(rk.data,mk,sk,yk,rk.template,rk.css);for(var Ck in rk)tk[Ck]=rk[Ck];tk.keys=Object.keys(yh).concat(yk.map(function(a){return a.name})).concat(["css"]),uk=tk.keys.reduce(function(a,b){return a[b]=!0,a},{}),tk.parseOptions=mk,tk.registries=yk,tk.extend=function(a,b,c){qb("extend",a,b,c)},tk.init=function(a,b,c){qb("init",a,b,c)},tk.reset=function(a){return tk.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},tk.getConstructTarget=function(a,b){return b.onconstruct?{onconstruct:Ak(a,"onconstruct",b.onconstruct).bind(a),fire:a.fire.bind(a)}:a};var Dk,Ek=tk,Fk=function(a,b,c,d){if(a===b)return sb(b);if(d){var e=Ek.registries.interpolators.find(c,d);if(e)return e(a,b)||sb(b);Ih('Missing "'+d+'" interpolator. You may need to download a plugin from [TODO]')}return Ik.number(a,b)||Ik.array(a,b)||Ik.object(a,b)||sb(b)},Gk=Fk,Hk={number:function(a,b){var c;return Fh(a)&&Fh(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,e,f;if(!Ch(a)||!Ch(b))return null;for(c=[],d=[],f=e=Math.min(a.length,b.length);f--;)d[f]=Gk(a[f],b[f]);for(f=e;f<a.length;f+=1)c[f]=a[f];for(f=e;f<b.length;f+=1)c[f]=b[f];return function(a){for(var b=e;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!Eh(a)||!Eh(b))return null;c=[],f={},e={};for(g in a)Ah.call(a,g)&&(Ah.call(b,g)?(c.push(g),e[g]=Gk(a[g],b[g])):f[g]=a[g]);for(g in b)Ah.call(b,g)&&!Ah.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},Ik=Hk;Dk="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");var Jk=Dk,Kk="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply,Lk={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(tb(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(tb(a));this.thrower(b)},logger:Ih,thrower:function(a){throw a},consoleError:function(a){Kk?console.error(a.err):this.thrower(a.err)}},Mk=Lk,Nk={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};vb.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&Mk.warnAlways({debug:a.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate}),b?a.fire(this.event,b):a.fire(this.event)};var Ok,Pk=vb,Qk=function(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)},Rk={},Sk={},Tk={};"function"==typeof Promise?Ok=Promise:(Ok=function(a){var b,c,d,e,f,g,h=[],i=[],j=Rk;d=function(a){return function(d){j===Rk&&(b=d,j=a,c=xb(j===Sk?h:i,b),wb(c))}},e=d(Sk),f=d(Tk);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new Ok(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),yb(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==Rk&&wb(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},Ok.all=function(a){return new Ok(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},Ok.resolve=function(a){return new Ok(function(b){b(a)})},Ok.reject=function(a){return new Ok(function(b,c){c(a)})});var Uk=Ok,Vk=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Wk=zb,Xk=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return""},Yk=Ab,Zk=Bb,$k=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};$k.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Jb(this)},decrementTotal:function(){this.totalChildren-=1,Jb(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;Qk(b,a),Jb(this)},init:function(){this.ready=!0,Jb(this)},detachNodes:function(){this.decoratorQueue.forEach(Gb),this.detachQueue.forEach(Hb),this.children.forEach(Ib)}};var _k,al,bl=$k,cl=[],dl=new Pk("change");al={start:function(a,b){var c,d;return b&&(c=new Uk(function(a){return d=a})),_k={previousBatch:_k,transitionManager:new bl(d,_k&&_k.transitionManager),views:[],tasks:[],viewmodels:[],instance:a},a&&_k.viewmodels.push(a.viewmodel),c},end:function(){Kb(),_k.transitionManager.init(),!_k.previousBatch&&_k.instance&&(_k.instance.viewmodel.changes=[]),_k=_k.previousBatch},addViewmodel:function(a){return _k?-1===_k.viewmodels.indexOf(a)?(_k.viewmodels.push(a),!0):!1:(a.applyChanges(),!1)},registerTransition:function(a){a._manager=_k.transitionManager,_k.transitionManager.add(a)},registerDecorator:function(a){_k.transitionManager.addDecorator(a)},addView:function(a){_k.views.push(a)},addUnresolved:function(a){cl.push(a)},removeUnresolved:function(a){Qk(cl,a)},detachWhenReady:function(a){_k.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(_k){for(c=_k;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var el,fl,gl=al,hl=/^\s*[0-9]+\s*$/,il=function(a){return hl.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),el={filter:function(a,b,c){var d,e,f,g,h;return b?(d=b.split("."),e=d.pop(),f=d.join("."),(g=c.viewmodel.wrapped[f])&&!g.magic?!1:(h=c.get(f),Ch(h)&&/^[0-9]+$/.test(e)?!1:h&&("object"==typeof h||"function"==typeof h))):!1},wrap:function(a,b,c){return new fl(a,b,c)}},fl=function(a,b,c){var d,e,f,g;return this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,d=c.split("."),this.prop=d.pop(),e=d.join("."),this.obj=e?a.get(e):a.data,f=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),f&&f.set&&(g=f.set._ractiveWrappers)?void(-1===g.indexOf(this)&&g.push(this)):void Nb(this,b,f)},fl.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,gl.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{dontTeardownWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=il(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(Yh){el=!1}var jl,kl=el,ll=!!kl,ml={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};jl=Jk?function(a,b){return b&&b!==ml.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==ml.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)};var nl,ol=jl;try{Object.defineProperty({},"test",{value:0}),Wh&&Object.defineProperty(document.createElement("div"),"test",{value:0}),nl=Object.defineProperty}catch(Yh){nl=function(a,b,c){a[b]=c.value}}var pl,ql=nl;try{try{Object.defineProperties({},{test:{value:0}})}catch(Yh){throw Yh}Wh&&Object.defineProperties(ol("div"),{test:{value:0}}),pl=Object.defineProperties}catch(Yh){pl=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&ql(a,c,b[c])}}var rl,sl=pl,tl=Ob,ul=Pb,vl=["o","ms","moz","webkit"];"undefined"==typeof window?rl=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(vl,0,window),rl=window.requestAnimationFrame);var wl,xl=rl;wl="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var yl=wl,zl=[],Al={tick:function(){var a,b,c;for(c=yl(),gl.start(),a=0;a<zl.length;a+=1)b=zl[a],b.tick(c)||zl.splice(a--,1);gl.end(),zl.length?xl(Al.tick):Al.running=!1},add:function(a){zl.push(a),Al.running||(Al.running=!0,xl(Al.tick))},abort:function(a,b){for(var c,d=zl.length;d--;)c=zl[d],c.root===b&&c.keypath===a&&c.stop()}},Bl=Al,Cl=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=Gk(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};Cl.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(gl.start(this.root),this.root.viewmodel.set(f,this.to),gl.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&Ih("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),gl.start(this.root),this.root.viewmodel.set(f,c),gl.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&Ih("Animation was not found"),this.root._animations.splice(a,1)}};var Dl,El,Fl,Gl,Hl,Il,Jl,Kl,Ll=Cl,Ml=function(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b},Nl=/^\.+/,Ol=Qb,Pl=function(){},Ql={stop:Pl},Rl=Rb,Sl=new Pk("detach"),Tl=Tb,Ul=Ub;if(Wh){for(El=ol("div"),Fl=["matches","matchesSelector"],Kl=function(a){return function(b,c){return b[a](c)}},Il=Fl.length;Il--&&!Dl;)if(Gl=Fl[Il],El[Gl])Dl=Kl(Gl);else for(Jl=vl.length;Jl--;)if(Hl=vl[Il]+Gl.substr(0,1).toUpperCase()+Gl.substring(1),El[Hl]){Dl=Kl(Hl);break}Dl||(Dl=function(a,b){var c,d,e;for(d=a.parentNode,d||(El.innerHTML="",d=El,a=a.cloneNode(),El.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else Dl=null;var Vl=Dl,Wl=function(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?Vl(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0},Xl=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},Yl=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=Wb(a.component||a._ractive.proxy),d=Wb(b.component||b._ractive.proxy),e=c[c.length-1],f=d[d.length-1];e&&e===f;)c.pop(),d.pop(),g=e,e=c[c.length-1],f=d[d.length-1];if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Zl=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):Yl(a,b)},$l=function(){this.sort(this._isComponentQuery?Yl:Zl),this._dirty=!1},_l=function(){var a=this;this._dirty||(this._dirty=!0,gl.scheduleTask(function(){a._sort()}))},am=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},bm=Xb,cm=Yb,dm=Zb,em=$b,fm=_b,gm=ac,hm={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},im=hm,jm={},km=bc,lm=dc,mm=gc,nm={capture:!0,noUnwrap:!0},om=hc,pm=ic,qm=new Pk("insert"),rm=jc,sm=lc,tm=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};tm.prototype={init:function(a){this.value=this.root.get(this.keypath),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;Ml(a,this.value)||(this.value=a,this.defer&&this.ready?gl.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}};var um,vm=tm,wm=mc,xm=nc,ym=/\*/,zm=Array.prototype.slice;um=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},um.prototype={init:function(a){var b,c;if(b=xm(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(c);else this.values=b},update:function(a){var b,c=this;if(ym.test(a)){b=xm(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(a)}else if(!this.root.viewmodel.implicitChanges[a])return this.defer&&this.ready?void gl.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d;return b=this.root.viewmodel.get(a),this.updating?void(this.values[a]=b):(this.updating=!0,Ml(b,this.values[a])&&this.ready||(c=zm.call(this.regex.exec(a),1),d=[b,this.values[a],a].concat(c),this.values[a]=b,this.callback.apply(this.context,d)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a]||(this.proxies[a]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a]}};var Am,Bm,Cm,Dm,Em,Fm,Gm=um,Hm=/\*/,Im={},Jm=oc,Km=pc,Lm=qc,Mm=function(a){return a.trim()},Nm=function(a){return""!==a},Om=rc,Pm=sc,Qm=tc,Rm=uc,Sm=Array.prototype.slice,Tm=Array.prototype,Um=function(a){return function(b){var c,d,e,f,g=Sm.call(arguments,1),h=[];if(c=this.get(b),d=c.length,!Ch(c))throw new Error("Called ractive."+a+"('"+b+"'), but '"+b+"' does not refer to an array");return h=Rm(c,a,g),f=Tm[a].apply(c,g),e=gl.start(this,!0).then(function(){return f}),h?this.viewmodel.smartUpdate(b,c,h):this.viewmodel.mark(b),gl.end(),e}},Vm=Um("pop"),Wm=Um("push"),Xm="/* Ractive.js component styles */\n",Ym={},Zm=[];Wh?(Cm=document.createElement("style"),Cm.type="text/css",Dm=document.getElementsByTagName("head")[0],Fm=!1,Em=Cm.styleSheet,Bm=function(){var a;Zm.length?(a=Xm+Zm.join(" "),Em?Em.cssText=a:Cm.innerHTML=a,Fm||(Dm.appendChild(Cm),Fm=!0)):Fm&&(Dm.removeChild(Cm),Fm=!1)},Am={add:function(a){a.css&&(Ym[a._guid]||(Ym[a._guid]=0,Zm.push(a.css),Bm()),Ym[a._guid]+=1)},remove:function(a){a.css&&(Ym[a._guid]-=1,Ym[a._guid]||(Qk(Zm,a.css),gl.scheduleTask(Bm)))}}):Am=null;var $m=Am,_m=new Pk("render"),an=new Pk("complete"),bn=wc,cn=yc,dn=zc,en=Ac,fn=Bc,gn=Cc,hn=Dc,jn=Ec,kn=Fc,ln=Gc,mn={},nn=Hc,on=/</g,pn=/>/g,qn=/&/g,rn=Jc,sn=Kc,tn=function(){return sn(this.node)},un=function(a){this.type=Xh.TEXT,this.text=a.template};un.prototype={detach:tn,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?rn(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var vn=un,wn=Lc,xn=Mc,yn=Nc,zn=Oc,An=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=Zk(a.root,b,a.parentFragment),void 0!==d?this.resolve(d):gl.addUnresolved(this)};An.prototype={resolve:function(a){this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(this.ref)},rebind:function(a,b){var c;void 0!==this.keypath&&(c=zn(this.keypath,a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||gl.removeUnresolved(this)}};var Bn=An,Cn=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},Dn={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Cn.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=Dn[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback("@"+d.prefix+Pc(this.cached,d));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===Xh.SECTION_EACH&&void 0!==(a=Pc(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback("@"+d.prefix+a);c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=Pc(c,d)))return this.callback("@"+d.prefix+a);c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var En=Cn,Fn=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};Fn.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback("@"+a)},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Gn=Fn,Hn=Qc;Qc.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var In,Jn=Rc,Kn=Sc,Ln={},Mn=Tc,Nn=Function.prototype.bind;In=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return Jn(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},In.prototype={bubble:function(){this.ready&&(this.uniqueString=Vc(this.str,this.keypaths),this.keypath=Wc(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e=this;a=this.root.viewmodel.computations[this.keypath],a?this.root.viewmodel.mark(this.keypath):(d=Mn(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:"@"===a[0]?(b=Kn(a),function(){return b}):function(){var b=e.root.viewmodel.get(a,{noUnwrap:!0});return"function"==typeof b&&(b=Yc(b,e.root)),b}}),c={deps:this.keypaths.filter(Xc),get:function(){var a=b.map(Uc);return d.apply(null,a)}},a=this.root.viewmodel.compute(this.keypath,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var On=In,Pn=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===Xh.REFERENCE?this.refResolver=Jn(this,a.n,function(a){d.resolve(a)}):new On(b,c,a,function(a){d.resolve(a)})};Pn.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Qn=Pn,Rn=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=Zk(d,e,g))?this.base=f:this.baseResolver=new Bn(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new Qn(a,h,g)}),this.ready=!0,this.bubble()};Rn.prototype={getKeypath:function(){var a=this.members.map(Zc);return!a.every($c)||this.baseResolver?null:this.base+"."+a.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(_c)},rebind:function(a,b){var c;this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(function(a){return a.forceResolution()}),this.bubble()}};var Sn=Rn,Tn=ad,Un=bd,Vn=cd,Wn={getValue:xn,init:Tn,resolve:Un,rebind:Vn},Xn=function(a){this.type=Xh.INTERPOLATOR,Wn.init(this,a)};Xn.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:Wn.resolve,rebind:Wn.rebind,detach:tn,unbind:wn,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&sn(this.node)},getValue:Wn.getValue,setValue:function(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),Ml(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&gl.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";return a?rn(b):b}};var Yn=Xn,Zn=dd,$n=ed,_n=fd,ao=gd,bo=hd,co=id,eo=jd,fo=kd,go=ld,ho=function(a,b){Wn.rebind.call(this,a,b)},io=nd,jo=/^\[object (?:Array|FileList)\]$/,ko=Object.prototype.toString,lo=od,mo=pd,no=Cd,oo=Dd,po=Fd,qo=Id,ro=function(a){this.type=Xh.SECTION,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===Xh.SECTION_UNLESS,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}})),this.renderedFragments=[],this.length=0,Wn.init(this,a)};ro.prototype={bubble:Zn,detach:$n,find:_n,findAll:ao,findAllComponents:bo,findComponent:co,findNextNode:eo,firstNode:fo,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:Wn.getValue,shuffle:go,rebind:ho,render:io,resolve:Wn.resolve,setValue:mo,toString:no,unbind:oo,unrender:po,update:qo};var so,to,uo=ro,vo=Jd,wo=Kd,xo=Ld,yo=Md,zo={};try{ol("table").innerHTML="foo"}catch(Yh){so=!0,to={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Ao=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(so&&(e=to[b.tagName])?(d=Nd("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===ml.svg?(d=Nd("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=Nd(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},Bo=Od,Co=Pd,Do=Rd,Eo=Sd,Fo=Td,Go=Ud,Ho=Vd,Io=function(a){this.type=Xh.TRIPLE,Wn.init(this,a)};Io.prototype={detach:vo,find:wo,findAll:xo,firstNode:yo,getValue:Wn.getValue,rebind:Wn.rebind,render:Do,resolve:Wn.resolve,setValue:Eo,toString:Fo,unbind:wn,unrender:Go,update:Ho};var Jo,Ko,Lo,Mo,No=Io,Oo=function(){this.parentFragment.bubble()},Po=Wd,Qo=function(a){return this.node?Vl(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},Ro=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},So=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},To=function(a){return this.fragment?this.fragment.findComponent(a):void 0},Uo=Xd,Vo=Yd,Wo=Zd;Jo="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Ko="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Lo=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];
return b},Mo=Lo(Jo.concat(Ko));var Xo=function(a){var b=a.toLowerCase();return Mo[b]||b},Yo=/^true|on|yes|1$/i,Zo=/^[0-9]+$/,$o=function(a,b){var c;c=b.twoway,void 0!==c&&(a.twoway=0===c||Yo.test(c),delete b.twoway),c=b.lazy,void 0!==c&&(a.lazy=0!==c&&Zo.test(c)?parseInt(c):0===c||Yo.test(c),delete b.lazy)},_o=$d,ap=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,bp=ap,cp=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==ml.html?Xo(b):b;else if(b=b.substring(c+1),a.name=Xo(b),a.namespace=ml[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},dp=_d,ep={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},fp=function(a,b){var c;!a.pNode||a.namespace||b.pNode.namespaceURI&&b.pNode.namespaceURI!==ml.html||(c=ep[a.name]||a.name,void 0!==b.pNode[c]&&(a.propertyName=c),(bp.test(c)||"value"===c)&&(a.useProperty=!0))},gp=ae,hp=be,ip={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},jp=ce,kp=de,lp=fe,mp=ge,np=he,op=ie,pp=je,qp=ke,rp=le,sp=me,tp=ne,up=oe,vp=pe,wp=qe,xp=re,yp=se,zp=te,Ap=function(a){this.init(a)};Ap.prototype={bubble:_o,init:gp,rebind:hp,render:jp,toString:kp,unbind:lp,update:zp};var Bp,Cp=Ap,Dp=function(a,b){var c,d,e=[];for(c in b)b.hasOwnProperty(c)&&(d=new Cp({element:a,name:c,value:b[c],root:a.root}),e.push(e[c]=d));return e};"undefined"!=typeof document&&(Bp=ol("div"));var Ep=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new Wt({root:a.root,owner:this,template:[b]})};Ep.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===ml.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=ue(a,this.isSvg),this.attributes.filter(function(a){return ve(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var Fp=Ep,Gp=function(a,b){return b?b.map(function(b){return new Fp(a,b)}):[]},Hp=Array.prototype.slice,Ip=function(a){for(var b,c,d=Hp.call(arguments,1);c=d.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a},Jp=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c[c.length-1])return Mk.error({debug:this.root.debug,message:"noTwowayExpressions",args:{expression:c.slice(2,-1).replace("-","."),element:a.tagName}}),!1}else b.resolver.forceResolution(),c=b.keypath;this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=we(a))&&(this.resetValue=d,e.formBindings.push(this))};Jp.prototype={handleChange:function(){var a=this;gl.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),gl.scheduleTask(function(){return a.attribute.locked=!1}),gl.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(Qk(this.root._twowayBindings[b],this),this.keypath=c,a=this.root._twowayBindings[c]||(this.root._twowayBindings[c]=[]),a.push(this))},unbind:function(){}},Jp.extend=function(a){var b,c=this;return b=function(a){Jp.call(this,a),this.init&&this.init()},b.prototype=ai(c.prototype),Ip(b.prototype,a),b.extend=Jp.extend,b};var Kp,Lp=Jp,Mp=xe,Np=Lp.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",Mp,!1),this.root.lazy||(a.addEventListener("input",Mp,!1),a.attachEvent&&a.addEventListener("keyup",Mp,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",Mp,!1),a.removeEventListener("input",Mp,!1),a.removeEventListener("keyup",Mp,!1)},getValue:function(){return this.element.node.innerHTML}}),Op=Np,Pp={},Qp=ye,Rp=Lp.extend({name:"checked",init:function(){this.siblings=Qp(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",Mp,!1),a.attachEvent&&a.addEventListener("click",Mp,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Mp,!1),a.removeEventListener("click",Mp,!1)},handleChange:function(){gl.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),gl.end()},getValue:function(){return this.element.node.checked},unbind:function(){Qk(this.siblings,this)}}),Sp=Rp,Tp=Lp.extend({name:"name",init:function(){this.siblings=Qp(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",Mp,!1),a.attachEvent&&a.addEventListener("click",Mp,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Mp,!1),a.removeEventListener("click",Mp,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&Lp.prototype.handleChange.call(this)},rebound:function(a,b){var c;Lp.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath+"}}")},unbind:function(){Qk(this.siblings,this)}}),Up=Tp,Vp=Lp.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.attribute.twoway=!0,this.siblings=Qp(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){Qk(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=Ch(a)?np(a,b):a==b,c.name="{{"+this.keypath+"}}",c.checked=this.isChecked,c.addEventListener("change",Mp,!1),c.attachEvent&&c.addEventListener("click",Mp,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Mp,!1),a.removeEventListener("click",Mp,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,Lp.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ze).map(Ae)}}),Wp=Vp,Xp=Lp.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",Mp,!1),a.attachEvent&&a.addEventListener("click",Mp,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Mp,!1),a.removeEventListener("click",Mp,!1)},getValue:function(){return this.element.node.checked}}),Yp=Xp,Zp=Lp.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",Mp,!1)},unrender:function(){this.element.node.removeEventListener("change",Mp,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,gl.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),$p=Zp,_p=function(a,b){var c;if(!Ch(a)||!Ch(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0},aq=$p.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",Mp,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Mp,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&_p(c,b)||$p.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,gl.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),bq=aq,cq=Lp.extend({render:function(){this.element.node.addEventListener("change",Mp,!1)},unrender:function(){this.element.node.removeEventListener("change",Mp,!1)},getValue:function(){return this.element.node.files}}),dq=cq,eq=Object.prototype.toString,fq=function(a){return"number"==typeof a||"object"==typeof a&&"[object Number]"===eq.call(a)};Kp=Lp.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:fq(this.element.lazy)&&(a=!1,c=this.element.lazy),b.addEventListener("change",Mp,!1),a||(b.addEventListener("input",c?Ce:Mp,!1),b.attachEvent&&b.addEventListener("keyup",c?Ce:Mp,!1)),b.addEventListener("blur",Be,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",Mp,!1),a.removeEventListener("input",Mp,!1),a.removeEventListener("keyup",Mp,!1),a.removeEventListener("blur",Be,!1)}});var gq=Kp,hq=gq.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),iq=De,jq=Fe,kq=Ge,lq=He,mq={args:!0},nq=/^event(?:\.(.+))?/,oq=Ie,pq=Me,qq={},rq={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},sq=Ne,tq=Pe,uq=Qe,vq=Re,wq=Se,xq=Ue,yq=function(a,b,c){this.init(a,b,c)};yq.prototype={bubble:jq,fire:kq,getAction:lq,init:oq,listen:sq,rebind:tq,render:uq,resolve:vq,unbind:wq,unrender:xq};var zq,Aq,Bq=yq,Cq=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new Bq(a,e[c],b[d]),g.push(f);return g};zq={args:!0},Aq=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new Wt({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new Wt({template:b.d,root:c,owner:a}),this.params=this.fragment.getValue(zq),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getValue(zq),f.ready&&f.update()}),this.fn=Ek.registries.decorators.find(c,d),this.fn||Mk.error({debug:c.debug,message:"missingPlugin",args:{plugin:"decorator",name:d}}))},Aq.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var Dq,Eq,Fq,Gq=Aq,Hq=Ve,Iq=Xe,Jq=Ye,Kq=Ze,Lq=$e,Mq=_e,Nq=af,Oq=bf,Pq=cf,Qq=df,Rq=ff,Sq={},Tq=gf,Uq=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};Wh?(Eq={},Fq=ol("div").style,Dq=function(a){var b,c,d;if(a=Uq(a),!Eq[a])if(void 0!==Fq[a])Eq[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=vl.length;b--;)if(c=vl[b],void 0!==Fq[c+d]){Eq[a]=c+d;break}return Eq[a]}):Dq=null;var Vq,Wq,Xq=Dq;Wh?(Wq=window.getComputedStyle||Zi.getComputedStyle,Vq=function(a){var b,c,d,e,f;if(b=Wq(this.node),"string"==typeof a)return f=b[Xq(a)],"0px"===f&&(f=0),f;if(!Ch(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)e=a[d],f=b[Xq(e)],"0px"===f&&(f=0),c[e]=f;return c}):Vq=null;var Yq=Vq,Zq=function(a,b){var c;if("string"==typeof a)this.node.style[Xq(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[Xq(c)]=a[c]);return this},$q=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(Ih('Missing easing function ("'+a.easing+'"). You may need to download a plugin from [TODO]'),b=hf)):b="function"==typeof a.easing?a.easing:hf,this.easing=b,this.start=yl(),this.end=this.start+this.duration,this.running=!0,Bl.add(this)};$q.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var _q,ar,br,cr,dr,er,fr,gr,hr=$q,ir=new RegExp("^-(?:"+vl.join("|")+")-"),jr=function(a){return a.replace(ir,"")},kr=new RegExp("^(?:"+vl.join("|")+")([A-Z])"),lr=function(a){var b;return a?(kr.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},mr={},nr={};Wh?(ar=ol("div").style,function(){void 0!==ar.transition?(br="transition",cr="transitionend",dr=!0):void 0!==ar.webkitTransition?(br="webkitTransition",cr="webkitTransitionEnd",dr=!0):dr=!1}(),br&&(er=br+"Duration",fr=br+"Property",gr=br+"TimingFunction"),_q=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[fr]=d.map(Xq).map(lr).join(","),a.node.style[gr]=lr(c.easing||"linear"),a.node.style[er]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(Uq(jr(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(cr,j,!1),h=!0,i())},a.node.addEventListener(cr,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,p=[];o--;)m=d[o],e=f+m,dr&&!nr[e]&&(a.node.style[Xq(m)]=b[m],mr[e]||(k=a.getStyle(m),mr[e]=a.getStyle(m)!=b[m],nr[e]=!mr[e],nr[e]&&(a.node.style[Xq(m)]=k))),(!dr||nr[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?Ih("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],p.push({name:Xq(m),interpolator:Gk(parseFloat(k),parseFloat(b[m])),suffix:n}));p.length?new hr({root:a.root,duration:c.duration,easing:Uq(c.easing||""),step:function(b){var c,d;for(d=p.length;d--;)c=p[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(cr,j,!1),h=!0,i())},0)},c.delay||0)}):_q=null;var or,pr,qr,rr,sr,tr=_q;if("undefined"!=typeof document){if(or="hidden",sr={},or in document)qr="";else for(rr=vl.length;rr--;)pr=vl[rr],or=pr+"Hidden",or in document&&(qr=pr);void 0!==qr?(document.addEventListener(qr+"visibilitychange",jf),jf()):("onfocusout"in document?(document.addEventListener("focusout",kf),document.addEventListener("focusin",lf)):(window.addEventListener("pagehide",kf),window.addEventListener("blur",kf),window.addEventListener("pageshow",lf),window.addEventListener("focus",lf)),sr.hidden=!1)}var ur,vr,wr,xr=sr;Wh?(vr=window.getComputedStyle||Zi.getComputedStyle,ur=function(a,b,c,d){var e,f=this;if(xr.hidden)return this.setStyle(a,b),wr||(wr=Uk.resolve());"string"==typeof a?(e={},e[a]=b):(e=a,d=c,c=b),c||(Ih('The "'+this.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),c=this,d=this.complete);var g=new Uk(function(a){var b,d,g,h,i,j,k;if(!c.duration)return f.setStyle(e),void a();for(b=Object.keys(e),d=[],g=vr(f.node),i={},j=b.length;j--;)k=b[j],h=g[Xq(k)],"0px"===h&&(h=0),h!=e[k]&&(d.push(k),f.node.style[Xq(k)]=h);return d.length?void tr(f,e,c,d,a):void a()});return d&&(Mk.warn({debug:!0,message:"usePromise",args:{method:"t.animateStyle"}}),g.then(d).then(null,function(a){Mk.consoleError({debug:!0,err:a})})),g}):ur=null;var yr=ur,zr=Array.prototype.slice,Ar=function(a){var b=zr.call(arguments,1);return b.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a},Br=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),Ar({},a,b)},Cr=mf,Dr=function(a,b,c){this.init(a,b,c)};Dr.prototype={init:Tq,start:Cr,getStyle:Yq,setStyle:Zq,animateStyle:yr,processParams:Br};var Er,Fr,Gr=Dr;Er=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},Fr=function(){this.node.type&&"text/javascript"!==this.node.type||Ih("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var Hr=of,Ir=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(uf).join("")+this.conditionalAttributes.map(uf).join(""),"option"===this.name&&sf(this)&&(a+=" selected"),"input"===this.name&&tf(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=rn(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),mj.test(this.template.e)||(a+="</"+this.template.e+">"),a)},Jr=vf,Kr=wf,Lr=yf,Mr=zf,Nr=function(a){this.init(a)};Nr.prototype={bubble:Oo,detach:Po,find:Qo,findAll:Ro,findAllComponents:So,findComponent:To,findNextNode:Uo,firstNode:Vo,getAttribute:Wo,init:Lq,rebind:Oq,render:Hr,toString:Ir,unbind:Kr,unrender:Mr};var Or=Nr,Pr=/^\s*$/,Qr=/^\s*/,Rr=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&Pr.test(c)&&b.shift(),d=b[b.length-1],void 0!==d&&Pr.test(d)&&b.pop(),e=b.reduce(Bf,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},Sr=Cf,Tr=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},Ur=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=Xh.PARTIAL,this.index=a.index,this.name=a.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Wn.init(this,a),!this.keypath&&(c=Sr(this.root,this.name))&&(wn.call(this),this.isNamed=!0,this.setTemplate(c))};Ur.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||Vn.call(this,a,b),this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Wn.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=Sr(this.root,""+a)),!b&&this.name&&(b=Sr(this.root,this.name))&&(wn.call(this),this.isNamed=!0),b||Mk.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}}),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&gl.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new Wt({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Xh.TEXT?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?Tr(b,e[0]):b):b},unbind:function(){this.isNamed||wn.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var Vr=Ur,Wr=Ef,Xr=new Pk("detach"),Yr=Ff,Zr=Gf,$r=Hf,_r=If,as=Jf,bs=Kf,cs=Lf,ds=0,es=function(){return"r-"+ds++};Mf.prototype={constructor:Mf,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?Nf(this.queue,b).push(a):Of(this,a),delete this.inProcess[a._guid]}};var fs,gs,hs,is=Mf,js=function(a,b,c,d){var e=a.root,f=a.keypath;return"sort"===c||"reverse"===c?void e.viewmodel.set(f,b):void e.viewmodel.smartUpdate(f,b,d)},ks=Array.prototype.slice,ls=[],ms=["pop","push","reverse","shift","sort","splice","unshift"];ms.forEach(function(a){var b=function(){var b,c,d,e,f=ks.call(arguments);for(b=Rm(this,a,f),c=Array.prototype[a].apply(this,arguments),gl.start(),this._ractive.setting=!0,e=this._ractive.wrappers.length;e--;)d=this._ractive.wrappers[e],gl.addViewmodel(d.root.viewmodel),js(d,this,a,b);return gl.end(),this._ractive.setting=!1,c};ql(ls,a,{value:b})}),fs={},fs.__proto__?(gs=function(a){a.__proto__=ls},hs=function(a){a.__proto__=Array.prototype}):(gs=function(a){var b,c;for(b=ms.length;b--;)c=ms[b],ql(a,c,{value:ls[c],configurable:!0})},hs=function(a){var b;for(b=ms.length;b--;)delete a[ms[b]]}),gs.unpatch=hs;var ns,os,ps,qs=gs;ns={filter:function(a){return Ch(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new os(a,b,c)}},os=function(a,b,c){this.root=a,this.value=b,this.keypath=c,b._ractive||(ql(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),qs(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},os.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(ps);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(ps);d.splice(e,1)}}else delete a._ractive,qs.unpatch(this.value)}},ps="Something went wrong in a rather interesting way";var rs,ss,ts=ns;kl&&(rs={filter:function(a,b,c){return kl.filter(a,b,c)&&ts.filter(a)},wrap:function(a,b,c){return new ss(a,b,c)}},ss=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=kl.wrap(a,b,c),this.arrayWrapper=ts.wrap(a,b,c)},ss.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var us=rs,vs={},ws=Pf,xs=Sf,ys={},zs=Tf,As=/[^\.]+$/,Bs=Vf,Cs=Yf,Ds=bg,Es=cg,Fs=/\$\{([^\}]+)\}/g,Gs=function(a){return"function"==typeof a?{get:a}:"string"==typeof a?{get:dg(a)}:("object"==typeof a&&"string"==typeof a.get&&(a={get:dg(a.get),set:a.set}),a)},Hs=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};Hs.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a]=null,this.viewmodel.register(a,this.computation,"computed")}};var Is=Hs,Js=function(a,b,c){var d=this;this.ractive=a,this.viewmodel=a.viewmodel,this.key=b,this.getter=c.get,this.setter=c.set,this.hardDeps=c.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(b){return a.viewmodel.register(b,d,"computed")}),this._dirty=this._firstRun=!0};Js.prototype={constructor:Js,init:function(){var a;this.bypass=!0,a=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key),this.bypass=!1,this.setter&&void 0!==a&&this.set(a)},invalidate:function(){this._dirty=!0},get:function(){var a,b,c,d=this,e=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(a=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?e=!0:[this.hardDeps,this.softDeps].forEach(function(b){var c,f,g;if(!e)for(g=b.length;g--;)if(c=b[g],f=a.viewmodel.get(c),!Ml(f,d.depValues[c]))return d.depValues[c]=f,void(e=!0)}),e){a.viewmodel.capture();try{this.value=this.getter.call(a)}catch(f){Mk.warn({debug:a.debug,message:"failedComputation",args:{key:this.key,err:f.message||f}}),this.value=void 0}b=a.viewmodel.release(),c=this.updateDependencies(b),c&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){d.depValues[b]=a.viewmodel.get(b)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,eg(this.viewmodel,d)&&!this.unresolvedDeps[d]?(f=new Is(this,d),a.splice(b,1),this.unresolvedDeps[d]=f,gl.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var Ks,Ls=Js,Ms=fg,Ns={FAILED_LOOKUP:!0},Os={},Ps=gg,Qs={};Ks=Kk?function(a,b){if(!b){if(Qs[a])return;Qs[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:function(){};var Rs=Ks,Ss={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(ig(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(ig(a));this.thrower(b)},logger:Rs,thrower:function(a){throw a}},Ts=Ss,Us=kg,Vs=mg;mg.prototype.setValue=function(a){this.viewmodel.set(this.keypath,a,{noMapping:!0})};var Ws=ng;ng.prototype={get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.deps=[],this.local.mappings[this.localKey]=this,this.setup()},map:function(a){return a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){if(!this.resolved)throw new Error("Something very odd happened. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new Vs(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);a.origin.register(c,b.dep,b.group),b.dep.setValue(a.origin.get(c))}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(a,b,c){for(var d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}};var Xs=og,Ys=pg,Zs=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},$s={},_s=qg,at=tg,bt=vg,ct=wg,dt={implicit:!0},et={noCascade:!0},ft=yg,gt=Ag,ht=Bg,it={lookup:function(a,b){var c,d=a.adapt;if(!d||!d.length)return d;if(b&&Object.keys(b).length&&(c=d.length))for(;c--;){var e=d[c];"string"==typeof e&&(d[c]=b[e]||e)}return d},combine:function(a,b){return a=Dg(a),b=Dg(b),a&&a.length?b&&b.length?(a.forEach(function(a){-1===b.indexOf(a)&&b.push(a)}),b):a.slice():b}},jt=it,kt=function(a,b){var c=this;return void 0===b&&(b=ai(null)),function(){var d,e;c.ractive=a,kt.extend(a.constructor,a),c.mappings=b;for(d in b)b[d].initViewmodel(c);if(a.data&&a.parameters!==!0)for(d in a.data)(e=c.mappings[d])&&void 0===e.getValue()&&e.setValue(a.data[d]);c.cache={},c.cacheMap=ai(null),c.deps={computed:ai(null),"default":ai(null)},c.depsMap={computed:ai(null),"default":ai(null)},c.patternObservers=[],c.specials=ai(null),c.wrapped=ai(null),c.computations=ai(null),c.captureGroups=[],c.unresolvedImplicitDependencies=[],c.changes=[],c.implicitChanges={},c.noCascade={}}()};kt.extend=function(a,b){if(b.magic&&!ll)throw new Error("Getters and setters (magic mode) are not supported in this browser");b.adapt=jt.combine(a.prototype.adapt,b.adapt)||[],b.adapt=jt.lookup(b,b.adaptors)},kt.prototype={adapt:ws,applyChanges:Cs,capture:Ds,clearCache:Es,compute:Ms,get:Ps,init:Us,map:Xs,mark:Ys,merge:_s,register:at,release:bt,set:ct,smartUpdate:ft,teardown:gt,unregister:ht};var lt=kt,mt=new Pk("construct"),nt=new Pk("config"),ot=new is("init"),pt=Eg,qt=function(a,b,c,d,e){var f,g,h,i,j,k={};
for(g=a.parentFragment,h=a.root,e=e||{},Ip(k,e||{}),e.content=d||[],k[""]=e.content,b.defaults.el&&Mk.warn({debug:h.debug,message:"defaultElSpecified",args:{name:a.name}}),i=g;i;){if(i.owner.type===Xh.YIELDER){j=i.owner.container;break}i=i.parent}return f=ai(b.prototype),pt(f,{el:null,append:!0,data:c.data,partials:e,magic:h.magic||b.defaults.magic,modifyArrays:h.modifyArrays,adapt:h.adapt},{parent:h,component:a,container:j,mappings:c.mappings,inlinePartials:k}),f},rt=Gg;Gg.prototype={bubble:function(){this.dirty||(this.dirty=!0,gl.addView(this))},update:function(){var a=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key,this.fragment.getValue()),a.mark(this.key),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var st=Hg,tt=Mg;Mg.prototype={resolve:function(a){this.resolved=!0,this.specialRef="@"===a[0],this.ready?this.readyResolve(a):this.notReadyResolve(a)},notReadyResolve:function(a){if(this.specialRef)this.parameters.addData(this.key,Kn(a));else{var b=this.parameters.addMapping(this.key,a);void 0===b.getValue()&&(b.updatable=!0)}},readyResolve:function(a){var b=this.parameters.component.instance.viewmodel;this.specialRef?(this.parameters.addData(this.key,Kn(a)),b.mark(this.key)):b.reversedMappings&&b.reversedMappings[this.key]?b.reversedMappings[this.key].rebind(a):b.mappings[this.key].resolve(a)}};var ut=Ng;Pg.prototype={add:function(a,b){if("string"==typeof b){var c=Jj(b);this.addData(a,c?c.value:b)}else if(0===b)this.addData(a);else{var d;d=Qg(b)?new tt(this,a,b[0]).resolver:new rt(this,a,b),this.component.resolvers.push(d)}},addData:function(a,b){this.data[a]=b},addMapping:function(a,b){var c=this.parentViewmodel.mappings[b];return this.mappings[a]=new Ws(a,{origin:c?c.origin:this.parentViewmodel,keypath:c?c.keypath:b})}};var vt=Rg,wt=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},xt=Tg,yt=Ug,zt=Vg,At=Wg,Bt=new Pk("teardown"),Ct=Xg,Dt=$g,Et=function(a,b){this.init(a,b)};Et.prototype={detach:Yr,find:Zr,findAll:$r,findAllComponents:_r,findComponent:as,findNextNode:bs,firstNode:cs,init:xt,rebind:yt,render:zt,toString:At,unbind:Ct,unrender:Dt};var Ft=Et,Gt=function(a){this.type=Xh.COMMENT,this.value=a.template.c};Gt.prototype={detach:tn,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var Ht=Gt,It=function(a){var b,c;this.type=Xh.YIELDER,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.yn||"";this.fragment=new Wt({owner:this,root:b.parent,template:b._inlinePartials[d]||[],pElement:this.containerFragment.pElement}),Ch(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],gl.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};It.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),Qk(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var Jt=It,Kt=function(a){this.declaration=a.template.a};Kt.prototype={init:zk,render:zk,unrender:zk,teardown:zk,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var Lt=Kt,Mt=_g,Nt=ah,Ot=bh,Pt=ch,Qt=dh,Rt=eh,St=gh,Tt=function(a){this.init(a)};Tt.prototype={bubble:cn,detach:dn,find:en,findAll:fn,findAllComponents:gn,findComponent:hn,findNextNode:jn,firstNode:kn,getNode:ln,getValue:nn,init:Nt,rebind:Ot,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:Pt,toString:Qt,unbind:Rt,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:St};var Ut,Vt,Wt=Tt,Xt=["template","partials","components","decorators","events"],Yt=new Pk("reset"),Zt=hh,$t=function(a,b,c){function d(b,c,e){e&&e.partials[a]||b.forEach(function(b){b.type===Xh.PARTIAL&&b.getPartialName()===a&&c.push(b),b.fragment&&d(b.fragment.items,c,e),Ch(b.fragments)?d(b.fragments,c,e):Ch(b.items)?d(b.items,c,e):b.type===Xh.COMPONENT&&b.instance&&d(b.instance.fragment.items,c,b.instance),b.type===Xh.ELEMENT&&(Ch(b.attributes)&&d(b.attributes,c,e),Ch(b.conditionalAttributes)&&d(b.conditionalAttributes,c,e))})}var e,f=this,g=[];return d(this.fragment.items,g),this.partials[a]=b,e=gl.start(this,!0),g.forEach(function(b){b.value=void 0,b.setValue(a)}),gl.end(),c&&(Mk.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.resetPartial"}}),e.then(c.bind(this)).then(null,function(a){Mk.consoleError({debug:f.debug,err:a})})),e},_t=ih,au=Um("reverse"),bu=/\*/,cu=jh,du=Um("shift"),eu=Um("sort"),fu=Um("splice"),gu=kh,hu=new Pk("teardown"),iu=lh,ju=nh,ku=oh,lu=new Pk("unrender"),mu=ph,nu=Um("unshift"),ou=new Pk("update"),pu=qh,qu=rh,ru={add:ul,animate:Rl,detach:Tl,find:Ul,findAll:cm,findAllComponents:dm,findComponent:em,findContainer:fm,findParent:gm,fire:mm,get:om,insert:rm,merge:sm,observe:Km,observeOnce:Lm,off:Om,on:Pm,once:Qm,pop:Vm,push:Wm,render:bn,reset:Zt,resetPartial:$t,resetTemplate:_t,reverse:au,set:cu,shift:du,sort:eu,splice:fu,subtract:gu,teardown:iu,toggle:ju,toHTML:ku,toHtml:ku,unrender:mu,unshift:nu,update:pu,updateModel:qu},su=th,tu=1,uu=vh,vu=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath,d.index={},(c=Hn(b.proxy.parentFragment))&&(d.index=Hn.resolve(c)),d):d};Ut=function(a){pt(this,a)},Vt={extend:{value:uu},getNodeInfo:{value:vu},parse:{value:kk},Promise:{value:Uk},svg:{value:Jk},magic:{value:ll},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:zh},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Ik},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},sl(Ut,Vt),Ut.prototype=Ip(ru,yh),Ut.prototype.constructor=Ut,Ut.defaults=Ut.prototype;var wu="function";if(typeof Date.now!==wu||typeof String.prototype.trim!==wu||typeof Object.keys!==wu||typeof Array.prototype.indexOf!==wu||typeof Array.prototype.forEach!==wu||typeof Array.prototype.map!==wu||typeof Array.prototype.filter!==wu||"undefined"!=typeof window&&typeof window.addEventListener!==wu)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var xu=Ut;return xu});