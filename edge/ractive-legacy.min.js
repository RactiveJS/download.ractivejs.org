!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports&&"function"==typeof require?module.exports=b():a.Ractive=b()}("undefined"!=typeof window?window:this,function(){"use strict";function a(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function b(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a}function c(a){for(var b,c,d=_h.call(arguments,1);c=d.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a}function d(a){var b=_h.call(arguments,1);return b.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a}function e(a){return"[object Array]"===ei.call(a)}function f(a){return fi.test(ei.call(a))}function g(a){if(!k(a))return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function h(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function i(a){return"number"==typeof a||"object"==typeof a&&"[object Number]"===ei.call(a)}function j(a){return!isNaN(parseFloat(a))&&isFinite(a)}function k(a){return a&&"[object Object]"===ei.call(a)}function l(a,b){return a.replace(/%s/g,function(){return b.shift()})}function m(a){if(!Ch)throw a;console.error(a)}function n(a){var b=hi.call(arguments,1);throw a=l(a,b),new Error(a)}function o(a){var b=hi.call(arguments,1);a=l(a,b),ci(a,b)}function p(a){var b=hi.call(arguments,1);a=l(a,b),ii[a]||(ii[a]=!0,ci(a,b))}function q(a,b,c){var d=r(a,b,c);return d?d[a][c]:null}function r(a,b,c){for(;b;){if(c in b[a])return b;if(b.isolated)return null;b=b.parent}}function s(a){return function(){return a}}function t(a,b,c){var d;if("string"!=typeof b||!j(c))throw new Error("Bad arguments");if(d=+a.get(b)||0,!j(d))throw new Error("Cannot add to a non-numeric value");return a.set(b,d+c)}function u(a,b){return ri(this,a,void 0===b?1:+b)}function v(a){this.event=a,this.method="on"+a,this.deprecate=wi[a]}function w(a,b){var c=a.indexOf(b);-1===c&&a.push(b)}function x(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function y(a,b){var c;if(!e(a)||!e(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function z(a){return"string"==typeof a?[a]:void 0===a?[]:a}function A(a){return a[a.length-1]}function B(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)}function C(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function D(a){setTimeout(a,0)}function E(a,b){return function(){for(var c;c=a.shift();)c(b)}}function F(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof xi)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,F(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function G(a){var b,c,d,e,f,g;for(b=a.split("."),(c=Gi[b.length])||(c=H(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function H(a){var b,c,d,e,f,g="";if(!Gi[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}Gi[a]=d}return Gi[a]}function I(a,b,c,d){var e=a[b];if(!e||!e.equalsOrStartsWith(d)&&e.equalsOrStartsWith(c))return a[b]=e?e.replace(c,d):d,!0}function J(a){var b=a.slice(2);return"i"===a[1]&&j(b)?+b:b}function K(a){return null==a?a:Di[a]||(Di[a]=new Ei(a))}function L(a,b){function c(b,c){var d,f,g;d=a.viewmodel.wrapped[c.str],f=d?d.get():a.viewmodel.get(c);for(g in f)!f.hasOwnProperty(g)||"_ractive"===g&&e(f)||b.push(c.join(g));return b}var d,f,g;for(d=b.split("."),g=[Ii];f=d.shift();)"*"===f?g=g.reduce(c,[]):g[0]===Ii?g[0]=K(f):g=g.map(M(f));return g}function M(a){return function(b){return b.join(a)}}function N(a){return a?a.replace(Ci,".$1"):""}function O(a,b,c){var d;return b=N(b),"~/"===b.substr(0,2)?(d=K(b.substring(2)),R(a,d.firstKey,c)):"."===b[0]?(d=P(Ji(c),b),d&&R(a,d.firstKey,c)):d=Q(a,K(b),c),d}function P(a,b){var c;if(void 0!=a&&"string"!=typeof a&&(a=a.str),"."===b)return K(a);if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),K(c.join("."))}return K(a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,""))}function Q(a,b,c,d){var e,f,g,h,i;if(b.isRoot)return b;for(f=b.firstKey;c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e.join(b.str);return S(a,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,f=K(f),i=Q(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function R(a,b){var c;!a.parent||a.isolated||S(a,b)||(b=K(b),(c=Q(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c}))}function S(a,b){return b in a.data||b in a.viewmodel.computations||b in a.viewmodel.mappings}function T(a){a.teardown()}function U(a){a.unbind()}function V(a){a.unrender()}function W(a){a.detach()}function X(a){a.detachNodes()}function Y(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function Z(){for(var a,b,c;Mi.viewmodels.length;)b=Mi.viewmodels.pop(),c=b.applyChanges(),c&&Qi.fire(b.ractive,c);for($(),a=0;a<Mi.views.length;a+=1)Mi.views[a].update();for(Mi.views.length=0,a=0;a<Mi.tasks.length;a+=1)Mi.tasks[a]();return Mi.tasks.length=0,Mi.viewmodels.length?Z():void 0}function $(){var a,b,c,d;for(a=Pi.length;a--;)b=Pi[a],b.keypath&&Pi.splice(a,1),(c=Ki(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),Pi.splice(a,1));d&&d.forEach(_)}function _(a){a.item.resolve(a.keypath)}function ab(a,b,c){var d,e,f,g,h,i,j,k,l,n,o,p,q,r;if(d=new Fi(function(a){e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(o={},c.step=null,c.complete=null,n=function(a){return function(b,c){o[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(p=n(f),c={easing:i,duration:j},k&&(c.step=p)),c.complete=l?p:gi,h.push(bb(this,f,a[f],c)));return r={easing:i,duration:j},k&&(r.step=function(a){k(a,o)}),l&&d.then(function(a){l(a,o)}).then(null,m),r.complete=e,q=bb(this,null,null,r),h.push(q),d.stop=function(){for(var a;a=h.pop();)a.stop();q&&q.stop()},d}return c=c||{},c.complete&&d.then(c.complete).then(null,m),c.complete=e,g=bb(this,a,b,c),d.stop=function(){g.stop()},d}function bb(a,b,c,d){var e,f,g,i;return b&&(b=K(N(b))),null!==b&&(i=a.viewmodel.get(b)),Ui.abort(b,a),h(i,c)?(d.complete&&d.complete(d.to),Xi):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new Wi({keypath:b,from:i,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),Ui.add(g),a._animations.push(g),g)}function cb(){return this.detached?this.detached:(this.el&&B(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Zi.fire(this),this.detached)}function db(a){return this.el?this.fragment.find(a):null}function eb(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function fb(a){var b,c;for(b=[a],c=eb(a);c;)b.push(c),c=eb(c);return b}function gb(a,b,c,d){var e=[];return Zh(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:aj}}),c?(Zh(e,{cancel:{value:bj},_root:{value:a},_sort:{value:ej},_makeDirty:{value:fj},_remove:{value:gj},_dirty:{value:!1,writable:!0}}),e):e}function hb(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=hj(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function ib(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=hj(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function jb(a){return this.fragment.findComponent(a)}function kb(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function lb(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function mb(a,b,c){if(void 0===c&&(c={}),b){c.event?c.event.name=b:c.event={name:b,context:a.data,keypath:"",_noArg:!0};var d=K(b).wildcardMatches();nb(a,d,c.event,c.args,!0)}}function nb(a,b,c,d,e){void 0===e&&(e=!1);var f,g,h=!0;for(oj.enqueue(a,c),g=b.length;g>=0;g--)f=a._subs[b[g]],f&&(h=ob(a,f,c,d)&&h);if(oj.dequeue(a),a.parent&&h){if(e&&a.component){var i=a.component.name+"."+b[b.length-1];b=K(i).wildcardMatches(),c&&(c.component=a)}nb(a.parent,b,c,d)}}function ob(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function pb(a){var b={args:Array.prototype.slice.call(arguments,1)};pj(this,a,b)}function qb(a){var b;return a=K(N(a)),b=this.viewmodel.get(a,rj),void 0===b&&this.parent&&!this.isolated&&Ki(this,a.str,this.component.parentFragment)&&(b=this.viewmodel.get(a)),b}function rb(b,c){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(b=a(b),c=a(c)||null,!b)throw new Error("You must specify a valid target to insert into");b.insertBefore(this.detach(),c),this.el=b,(b.__ractive_instances__||(b.__ractive_instances__=[])).push(this),this.detached=null,sb(this)}function sb(a){tj.fire(a),a.findAllComponents("*").forEach(function(a){sb(a.instance)})}function tb(a,b,c){var d,f;return a=K(N(a)),d=this.viewmodel.get(a),e(d)&&e(b)?(f=Ri.start(this,!0),this.viewmodel.merge(a,d,b,c),Ri.end(),f):this.set(a,b,c&&c.complete)}function ub(a,b){var c,d;return c=L(a,b.str),d={},c.forEach(function(b){d[b.str]=a.get(b.str)}),d}function vb(a,b,c,d){var e,f,g;return b=K(N(b)),d=d||Kj,Jj.test(b.str)?(e=new Ij(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new yj(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0,{cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}}}function wb(a,b,c){var d,e,f,g;if(k(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",Lj(this,a,b,c);if(f=a.split(" "),1===f.length)return Lj(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(Lj(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function xb(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function yb(a,b){var c,d=this;if(a)c=a.split(" ").map(Oj).filter(Pj),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function zb(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(Oj).filter(Pj),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function Ab(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function Bb(a,b,c){var d,e,f,g,h,i,j=[];if(d=Cb(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j}function Cb(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}function Db(b,c){var d,e,f,g=this;if(f=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),d=Ri.start(this,!0),Ri.scheduleTask(function(){return ek.fire(g)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(b=a(b)||this.el,c=a(c)||this.anchor,this.el=b,this.anchor=c,!this.append&&b){var h=b.__ractive_instances__;h&&h.length&&Eb(h),b.innerHTML=""}return this.constructor.css&&dk.add(this.constructor),b&&((e=b.__ractive_instances__)?e.push(this):b.__ractive_instances__=[this],c?b.insertBefore(this.fragment.render(),c):b.appendChild(this.fragment.render())),Ri.end(),this.transitionsEnabled=f,d.then(function(){return fk.fire(g)}).then(null,m),d}function Eb(a){try{a.splice(0,a.length).forEach(function(a){return a.teardown()})}catch(b){}}function Fb(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,Ri.start(d),d.viewmodel.mark(c),Ri.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function Gb(a,b){for(var c=a.slice(),d=b.length;d--;)~c.indexOf(b[d])||c.push(b[d]);return c}function Hb(a,b){var c,d,e;return d='[data-ractive-css="'+b+'"]',e=function(a){var b,c,e,f,g,h,i,j=[];for(b=[];c=Fk.exec(a);)b.push({str:c[0],base:c[1],modifiers:c[2]});for(f=b.map(Jb),i=b.length;i--;)h=f.slice(),e=b[i],h[i]=e.base+d+e.modifiers||"",g=f.slice(),g[i]=d+" "+g[i],j.push(h.join(" "),g.join(" "));return j.join(", ")},c=Hk.test(a)?a.replace(Hk,d):a.replace(Ek,"").replace(Dk,function(a,b){var c,d;return Gk.test(b)?a:(c=b.split(",").map(Ib),d=c.map(e).join(", ")+" ",a.replace(b,d))})}function Ib(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function Jb(a){return a.str}function Kb(a,b,c){return a?b.noCssTransform?a:Ik(a,c):void 0}function Lb(a,b){return"function"==typeof b&&/_super/.test(a)}function Mb(a,b,c){var d=c.data||{},e=Nb(a.prototype.data);if("object"!=typeof d&&"function"!=typeof d)throw new TypeError('data option must be an object or a function, "'+d+'" is not valid');return Ob(e,d)}function Nb(a){if("function"!=typeof a||!Object.keys(a).length)return a;var b={};return Pb(a,b),Ob(a,b)}function Ob(a,b){return"function"==typeof b?Sb(b,a):"function"==typeof a?Rb(b,a):Qb(b,a)}function Pb(a,b,c){for(var d in a)!(b._mappings&&b._mappings[d]&&b._mappings[d].updatable)&&c&&d in b||(b[d]=a[d])}function Qb(a,b){return a=a||{},b?(Pb(b,a,!0),a):a}function Rb(a,b){return function(c){var d;if(a){d=[];for(var e in a)c&&e in c||d.push(e)}return c=b.call(this,c)||c,d&&d.length&&(c=c||{},d.forEach(function(b){c[b]=a[b]})),c}}function Sb(a,b){var c;return c="function"!=typeof b?function(a){Qb(a,b)}:function(a){return b=Lk(b,function(){},!0),b.call(this,a)||a},Lk(a,c)}function Tb(a){var b,c,d,e;return b=a.pos,d=Pl(a),null===d?null:(c=[d],a.matchString(",")?(e=Tb(a),e?c.concat(e):(a.pos=b,null)):c)}function Ub(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=a.readExpression(),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=Ub(a),null===f&&a.error(xl),f.forEach(b)),d)}function Vb(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(Ll))return{t:kl,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(xl),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:kl,x:d}):null}function Wb(a){return JSON.stringify(String(a))}function Xb(a,b){var c,d;if(a.t===jl&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(k(d))Xb(d,b);else for(c=d.length;c--;)Xb(d[c],b);a.x&&Xb(a.x,b),a.r&&Xb(a.r,b),a.v&&Xb(a.v,b)}function Yb(a,b,c){var d=function(b){return Yb(a,b,c)};switch(b.t){case gl:case hl:case cl:return b.v;case dl:return Wb(b.v);case el:return"["+(b.m?b.m.map(d).join(","):"")+"]";case fl:return"{"+(b.m?b.m.map(d).join(","):"")+"}";case il:return b.k+":"+Yb(a,b.v,c);case ml:return("typeof"===b.s?"typeof ":b.s)+Yb(a,b.o,c);case pl:return Yb(a,b.o[0],c)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+Yb(a,b.o[1],c);case ql:return Yb(a,b.x,c)+"("+(b.o?b.o.map(d).join(","):"")+")";case nl:return"("+Yb(a,b.x,c)+")";case ll:return Yb(a,b.x,c)+Yb(a,b.r,c);case kl:return b.n?"."+b.n:"["+Yb(a,b.x,c)+"]";case ol:return Yb(a,b.o[0],c)+"?"+Yb(a,b.o[1],c)+":"+Yb(a,b.o[2],c);case jl:return"_"+c.indexOf(b.n);default:a.error("Expected legal JavaScript")}}function Zb(a,b,c){var d;if(b){for(;b.t===nl&&b.x;)b=b.x;return b.t===jl?c.r=b.n:b.t===cl&&um.test(b.v)?c.r=b.v:(d=$b(a,b))?c.rx=d:c.x=a.flattenExpression(b),c}}function $b(a,b){for(var c,d=[];b.t===ll&&b.r.t===kl;)c=b.r,d.unshift(c.x?c.x.t===jl?c.x:a.flattenExpression(c.x):c.n),b=b.x;return b.t!==jl?null:{r:b.n,m:d}}function _b(a){var b;return a.interpolate[a.inside]===!1?null:(b=om.slice().sort(function(b,c){return a[c.delimiters][0].length-a[b.delimiters][0].length}),function c(d){return d?ac(a,d)||c(b.shift()):null}(b.shift()))}function ac(a,b){var c,d,e,f,g,h,i,j;if(c=a.pos,e=a[b.delimiters],!a.matchString(e[0]))return null;if(d=nm(a))return a.matchString(e[1])?(a[b.delimiters]=d,Fm):null;if(a.allowWhitespace(),d=Em(a,b),null===d)return a.pos=c,null;if(a.allowWhitespace(),a.matchString(e[1])||a.error("Expected closing delimiter '"+e[1]+"' after reference"),d.t===Wk&&(d.exclude=!0),d.t===Tk&&(a.sectionDepth-=1,a.sectionDepth<0&&(a.pos=c,a.error("Attempted to close a section that wasn't open"))),d.contextPartialExpression)d.f=d.contextPartialExpression,d.t=Rk,d.n="with",delete d.contextPartialExpression;else if(bc(d)){for(a.sectionDepth+=1,f=[],i=f,g=d.n;j=a.read();){if(j.t===Tk){g&&j.r!==g&&a.error("Expected {{/"+g+"}}");break}if(j.t===Pk&&"else"===j.r){if("unless"!==d.n){i=h=[];continue}a.error("{{else}} not allowed in {{#unless}}")}i.push(j)}f.length&&(d.f=f),h&&h.length&&(d.l=h,"with"===d.n&&(d.n="if-with"))}return a.includeLinePositions&&(d.p=a.getLinePos(c)),d.n?d.n=rm[d.n]:d.t===Sk&&(d.t=Rk,d.n=sl),d.n===wl?(d.r&&-1===d.r.indexOf(".")||a.error("Invalid partial name "+d.r+"."),{n:d.r,f:d.f,t:al}):d}function bc(a){return a.t===Rk||a.t===Sk}function cc(a){return a.replace(Am,function(a,b){var c;return c="#"!==b[0]?ym[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(dc(c)):a})}function dc(a){return a?10===a?32:128>a?a:159>=a?zm[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function ec(a){return a.replace(Dm,"&amp;").replace(Bm,"&lt;").replace(Cm,"&gt;")}function fc(a){return a.replace(Rm,"\\$&")}function gc(a){var b=a.remaining(),c=a.pos,d=a.matchPattern(Um),e=a.options.delimiters[0],f=a.options.delimiters[1];if(d&&a.matchString(e)){var g=a.matchPattern(Vm);if(!a.matchString(f)||!a.matchPattern(Wm))return a.pos=c,null;var h=new RegExp("<!--\\s*"+Sm(e)+"\\s*\\/\\s*"+g+"\\s*"+Sm(f)+"\\s*-->");b=a.remaining();var i=h.exec(b);if(!i)throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+g+'", but '+(i?'instead found "'+i[1]+'"':" no closing found"));var j={t:al,f:new a.StandardParser(b.substr(0,i.index),a.options).result,n:g};return a.pos+=i.index+i[0].length,j}return a.pos=c,null}function hc(a){var b,c,d;return a.allowWhitespace(),(c=a.matchPattern(_m))?(b={name:c},d=ic(a),d&&(b.value=d),b):null}function ic(a){var b,c,d,e;return b=a.pos,a.allowWhitespace(),a.matchString("=")?(a.allowWhitespace(),c=a.pos,d=a.sectionDepth,e=lc(a,"'")||lc(a,'"')||kc(a),a.sectionDepth!==d&&(a.pos=c,a.error("An attribute value must contain as many opening section tags as closing section tags")),null===e?(a.pos=b,null):e.length?1===e.length&&"string"==typeof e[0]?cc(e[0]):e:null):(a.pos=b,null)}function jc(a){var b,c,d,e,f;return b=a.pos,(c=a.matchPattern(an))?(d=c,e=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],-1!==(f=Xm(d,e))&&(c=c.substr(0,f),a.pos=b+c.length),c):null}function kc(a){var b,c;for(a.inAttribute=!0,b=[],c=Gm(a)||jc(a);null!==c;)b.push(c),c=Gm(a)||jc(a);return b.length?(a.inAttribute=!1,b):null}function lc(a,b){var c,d,e;if(c=a.pos,!a.matchString(b))return null;for(a.inAttribute=b,d=[],e=Gm(a)||mc(a,b);null!==e;)d.push(e),e=Gm(a)||mc(a,b);return a.matchString(b)?(a.inAttribute=!1,d):(a.pos=c,null)}function mc(a,b){var c,d,e,f;return c=a.pos,e=a.remaining(),f=[b,a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],d=Xm(e,f),-1===d&&a.error("Quoted attribute value must have a closing quote"),d?(a.pos+=d,e.substr(0,d)):null}function nc(a){var b,c,d;return a.allowWhitespace(),(b=Ol(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function oc(a){var b,c,d,e,f,g,h,i,j,k,l;if(b=a.pos,a.inside||a.inAttribute)return null;if(!a.matchString("<"))return null;if("/"===a.nextChar())return null;if(c={},a.includeLinePositions&&(c.p=a.getLinePos(b)),a.matchString("!"))return c.t=bl,a.matchPattern(/^doctype/i)||a.error("Expected DOCTYPE declaration"),c.a=a.matchPattern(/^(.+?)>/),c;if(c.t=Uk,c.e=a.matchPattern(jn),!c.e)return null;for(kn.test(a.nextChar())||a.error("Illegal tag name"),g=function(b,d){var e=d.n||d;nn.test(e)&&(a.pos-=e.length,a.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),c.v[b]=d},a.allowWhitespace();h=Gm(a)||bn(a);)h.name?(e=on[h.name])?c[e]=hn(h.value):(f=mn.exec(h.name))?(c.v||(c.v={}),i=hn(h.value),g(f[1],i)):a.sanitizeEventAttributes&&ln.test(h.name)||(c.a||(c.a={}),c.a[h.name]=h.value||0):(c.m||(c.m=[]),c.m.push(h)),a.allowWhitespace();if(a.allowWhitespace(),a.matchString("/")&&(j=!0),!a.matchString(">"))return null;if(d=c.e.toLowerCase(),!j&&!xm.test(c.e)){for(("script"===d||"style"===d)&&(a.inside=d),k=[];pc(d,a.remaining())&&(l=a.read(fn))&&l.t!==Tk&&l.t!==Zk;)k.push(l);k.length&&(c.f=k)}return a.inside=null,a.sanitizeElements&&-1!==a.sanitizeElements.indexOf(d)?pn:c}function pc(a,b){var c,d;return c=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(b),d=gn[a],c&&d?!~d.indexOf(c[1].toLowerCase()):!0}function qc(a){return"string"==typeof a}function rc(a){return a.t===Wk||a.t===Xk}function sc(a){return(a.t===Rk||a.t===Sk)&&a.f}function tc(a,b,c){for(var d,f,g=c.length;g--;)d=c[g],uc(d)?(b[d.n]=d.f,c.splice(g,1)):e(d.f)&&((f=vc(a,d))?(a.push(f),tc(a,d.p={},d.f),a.pop()):e(d.f)&&tc(a,b,d.f))}function uc(a){return a.t===al}function vc(a,b){var c,d,e=b.e;if(b.e)for(c=0;c<a.length;c++)if(d=(a[c].components||{})[e])return d}function wc(a,b,c,d,f,g){var h,i,j,k,l,m,n,o,p;for(yn(a),h=a.length;h--;)i=a[h],i.exclude?a.splice(h,1):b&&i.t===Wk&&a.splice(h,1);for(vn(a,d,f),h=a.length;h--;){if(i=a[h],i.f&&(l=c||i.t===Uk&&Bn.test(i.e),l||(j=a[h-1],k=a[h+1],(!j||"string"==typeof j&&Dn.test(j))&&(m=!0),(!k||"string"==typeof k&&Cn.test(k))&&(n=!0)),wc(i.f,b,l,m,n,g)),i.l&&(wc(i.l,b,c,m,n,g),g&&(o={t:4,n:sl,f:i.l},i.r&&(o.r=i.r),i.x&&(o.x=i.x),i.rx&&(o.rx=i.rx),a.splice(h+1,0,o),delete i.l)),i.a)for(p in i.a)i.a.hasOwnProperty(p)&&"string"!=typeof i.a[p]&&wc(i.a[p],b,c,m,n,g);if(i.v)for(p in i.v)i.v.hasOwnProperty(p)&&(e(i.v[p].n)&&wc(i.v[p].n,b,c,m,n,g),e(i.v[p].d)&&wc(i.v[p].d,b,c,m,n,g))}for(h=a.length;h--;)"string"==typeof a[h]&&("string"==typeof a[h+1]&&(a[h]=a[h]+a[h+1],a.splice(h+1,1)),c||(a[h]=a[h].replace(An," ")),""===a[h]&&a.splice(h,1))}function xc(a,b){b=b||a,b.delimiters=a.delimiters||["{{","}}"],b.tripleDelimiters=a.tripleDelimiters||["{{{","}}}"],b.staticDelimiters=a.staticDelimiters||["[[","]]"],b.staticTripleDelimiters=a.staticTripleDelimiters||["[[[","]]]"]}function yc(a){var b=Xh(Jn);return b.parse=function(b,c){return zc(b,c||a)},b}function zc(a,b){if(!Hn)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Hn(a,b||this.options)}function Ac(a,b){var c;if(!Bh){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if(Bc(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.innerHTML}function Bc(a){return a&&"#"===a.charAt(0)}function Cc(a){return!("string"==typeof a)}function Dc(a){return a.defaults&&(a=a.defaults),In.reduce(function(b,c){return b[c]=a[c],b},{ractive:a})}function Ec(a){var b,c=a._config.template;if(c&&c.fn)return b=Fc(a,c.fn),b!==c.result?(c.result=b,b=Hc(b,a)):void 0}function Fc(a,b){var c=Gc(Kn.getParseOptions(a));return b.call(a,a.data,c)}function Gc(a){var b=Xh(Kn);return b.parse=function(b,c){return Kn.parse(b,c||a)},b}function Hc(a,b){if("string"==typeof a)"#"===a[0]&&(a=Kn.fromId(a)),a=Hn(a,Kn.getParseOptions(b));else if(2!==a.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return a}function Ic(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function Jc(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=Kc(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function Kc(a,b){var c,d;return b in a?(c=a[b],d="function"==typeof c?c:function(){return c}):d=gi,d}function Lc(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function Mc(a,b,c){if(b in a){if(c in a)throw new Error(Lc(b,c,!0));o(Lc(b,c)),a[c]=a[b]}}function Nc(a){Mc(a,"beforeInit","onconstruct"),Mc(a,"init","onrender"),Mc(a,"complete","oncomplete"),Mc(a,"eventDefinitions","events"),e(a.adaptors)&&Mc(a,"adaptors","adapt")}function Oc(a,b,c,d){Vn(d);for(var e in d)if(Sn[e]){var f=d[e];"function"==typeof f&&(f=Un(b.prototype,e,f)),c[e]=f}Tn.forEach(function(e){e[a](b,c,d)}),Ck[a](b,c,d),Nk[a](b,c,d),Mn[a](b,c,d),Kk[a](b,c,d),Pc(b.prototype,c,d)}function Pc(a,b,c){for(var d in c)if(!Rn[d]&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=Un(a,d,e)),b[d]=e}}function Qc(a){var b={};return a.forEach(function(a){return b[a]=!0}),b}function Rc(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function Sc(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function Tc(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function Uc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function Vc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function Wc(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function Xc(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function Yc(){return this.items&&this.items[0]?this.items[0].firstNode():null}function Zc(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return Zc(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=a.keypath&&(f=a.root.viewmodel.wrapped[a.keypath.str])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function $c(){var a,b,c,d;return this.dirtyArgs&&(b=eo(this.items,a={},this.root._guid),c=dn("["+b+"]",a),d=c?c.value:[this.toString()],this.argsList=d,this.dirtyArgs=!1),this.argsList}function _c(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function ad(){var a,b,c,d;return this.dirtyValue&&(b=eo(this.items,a={},this.root._guid),c=dn(b,a),d=c?c.value:this.toString(),this.value=d,this.dirtyValue=!1),this.value}function bd(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function cd(){return this.value}function dd(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function ed(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function fd(a,b,c){var d;return"@"===b.charAt(0)?new ro(a,b,c):(d=uo(a.parentFragment,b))?new to(a,d,c):new oo(a,b,c)}function gd(a,b){var c,d;if(xo[a])return xo[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),xo[a]=c,c}function hd(a){return a.call()}function id(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return d=b[c],void 0===d?"undefined":d.isSpecial?(e=d.value,"number"==typeof e?e:'"'+e+'"'):d.str})}function jd(a){return K("${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function kd(a){return void 0!==a&&"@"!==a[0]}function ld(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){Yh(a,d,{value:zo.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return Yh(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function md(a){return a.value}function nd(a){return void 0!=a}function od(a){a.forceResolution()}function pd(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!=c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=wo(a,e,c)),b.template.x&&(a.resolver=new Ao(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new Eo(a,b.template.rx,d)),a.template.n!==sl||a.hasOwnProperty("value")||a.setValue(void 0)}function qd(a){var b,c,d;return a&&a.isSpecial?(this.keypath=a,void this.setValue(a.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function rd(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)
}),this.resolver&&this.resolver.rebind(a,b)}function sd(){this.parentFragment.bubble()}function td(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)}function ud(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function vd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function wd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function xd(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function yd(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function zd(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function Ad(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===tl){if(this.shuffling=!0,Ri.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath.join(b),h=i.keypath.join(a),d.index=a,(j=d.registeredIndexRefs)&&j.forEach(Bd),d.rebind(g,h),void(f[a]=d)))}),e=this.root.viewmodel.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&Ri.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function Bd(a){a.rebind("","")}function Cd(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function Dd(a){var b,c,d=this;this.updating||(this.updating=!0,this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=d.keypath.join(a),c.index=a,b=new Et(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):Fd(this,a)&&(this.bubble(),this.rendered&&Ri.addView(this)),this.value=a,this.updating=!1)}function Ed(a,b,c){if(b===tl&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function Fd(a,b){var c={template:a.template.f,root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.subtype)switch(a.subtype){case rl:return Kd(a,b,!1,c);case sl:return Kd(a,b,!0,c);case ul:return Jd(a,c);case vl:return Id(a,b,c);case tl:if(k(b))return Ed(a,a.subtype,!0),Hd(a,b,c)}return a.ordered=!!f(b),a.ordered?(Ed(a,tl,!1),Gd(a,b,c)):k(b)||"function"==typeof b?a.template.i?(Ed(a,tl,!0),Hd(a,b,c)):(Ed(a,ul,!1),Jd(a,c)):(Ed(a,rl,!1),Kd(a,b,!1,c))}function Gd(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(U);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=a.keypath.join(d),c.index=d,f=new Et(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function Hd(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(Nd));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=a.keypath.join(d),c.key=d,c.index=e++,g=new Et(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function Id(a,b,c){return b?Jd(a,c):Ld(a)}function Jd(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new Et(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function Kd(a,b,c,d){var e,g,h,i,j;if(g=f(b)&&0===b.length,h=!1,!f(b)&&k(b)){h=!0;for(j in b){h=!1;break}}return e=c?g||h||!b:b&&!g&&!h,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(U),!0):void 0:(d.index=0,i=new Et(d),a.fragmentsToRender.push(a.fragments[0]=i),a.length=1,!0):Ld(a)}function Ld(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(Md),a.fragmentsToUnrender.forEach(U),a.length=a.fragmentsToRender.length=0,!0):void 0}function Md(a){return a.rendered}function Nd(a){a.rebind("","")}function Od(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function Pd(){var a=this;this.fragments.forEach(U),this.fragmentsToRender.forEach(function(b){return B(a.fragments,b)}),this.fragmentsToRender=[],lo.call(this),this.length=0,this.unbound=!0}function Qd(a){this.fragments.forEach(a?Rd:Sd),this.renderedFragments=[],this.rendered=!1}function Rd(a){a.unrender(!0)}function Sd(a){a.unrender(!1)}function Td(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function Ud(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function Vd(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(Mh(d,a))return d;if(e=d.querySelector(a))return e}return null}function Wd(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(Mh(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function Xd(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function Yd(a){return hp[a]||(hp[a]=Lh(a))}function Zd(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=C(a.node.options).filter($d),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function $d(a){return a.selected}function _d(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=ip(this.value,this.parentFragment.getNode(),this.docFrag),jp(this.pElement),this.rendered=!0,this.docFrag}function ae(a){var b;(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&Ri.addView(this))}function be(){return void 0!=this.value?cc(""+this.value):""}function ce(a){this.rendered&&a&&(this.nodes.forEach(b),this.rendered=!1)}function de(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=ip(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),jp(this.pElement)}}function ee(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function fe(){return null}function ge(){return this.node}function he(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function ie(){var a=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();h(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&Ri.addView(this))}function je(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Pk?b[0]:void 0}function ke(a){return this.type=Yk,this.element=a.element,this.root=a.root,Jp(this,a.name),this.isBoolean=wm.test(this.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new Et({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=Kp(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:a.value||"")}function le(a,b){this.fragment&&this.fragment.rebind(a,b)}function me(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==Eh.html||(b=Np[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===b&&(a._ractive.value=this.value)),this.rendered=!0,this.update()}function ne(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;return"value"===b&&("select"===this.element.name||"textarea"===this.element.name)||"value"===b&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===b&&"input"===this.element.name&&e?"name={{"+(e.keypath.str||e.ref)+"}}":this.isBoolean?d?b:"":(f&&(d=f.toString()),c&&(b=c+":"+b),d?b+'="'+oe(d)+'"':b)}function oe(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function pe(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function qe(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function re(){var a,b,c,d,f=this.value;for(e(f)||(f=[f]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=x(f,d)}function se(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function te(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return Ri.addViewmodel(b.root.viewmodel),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function ue(){var a,b,c=this,d=c.element,f=c.node,g=c.value;if(a=d.getAttribute("value"),e(g)){for(b=g.length;b--;)if(a==g[b])return void(f.checked=!0);f.checked=!1}else f.checked=g==a}function ve(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b}function we(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function xe(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function ye(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function ze(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function Ae(){this.locked||(this.node[this.propertyName]=this.value)}function Be(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):this.isBoolean?e?b.setAttribute(d,""):b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function Ce(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=Xp:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?Sp:Rp:"textarea"===e.name?b=$p:null!=e.getAttribute("contenteditable")?b=Zp:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?gi:"radio"===a&&e.binding&&"name"===e.binding.name?Up:$p):this.isTwoway&&"name"===d?"radio"===f.type?b=Tp:"checkbox"===f.type&&(b=Vp):"style"===d&&f.style.setAttribute?b=Yp:"class"!==d||f.namespaceURI&&f.namespaceURI!==Eh.html?this.useProperty&&(b=_p):b=Wp,b||(b=aq),this.update=b,this.update()}function De(a,b){var c=b?"svg":"div";return dq.innerHTML="<"+c+" "+a+"></"+c+">",C(dq.childNodes[0].attributes)}function Ee(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function Fe(a){for(;a=a.parent;)if("form"===a.name)return a}function Ge(){this._ractive.binding.handleChange()}function He(a,b,c){var d=a+b+c;return pq[d]||(pq[d]=[])}function Ie(a){return a.isChecked}function Je(a){return a.element.getAttribute("value")}function Ke(){var a;mq.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function Le(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&mq.call(b),a._timeout=void 0},a.element.lazy)}function Me(a){var b,c,d,e,f,g=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||g.contenteditable&&Ne(g.contenteditable))&&Ne(g.value)?c=oq:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=Ne(g.name),e=Ne(g.checked),d&&e&&o("A radio input can have two-way binding on its name attribute, or its checked attribute - not both"),d?c="radio"===b?uq:wq:e&&(c="radio"===b?sq:yq)):"file"===b&&Ne(g.value)?c=Eq:Ne(g.value)&&(c="number"===b||"range"===b?Gq:Fq)):"select"===a.name&&Ne(g.value)?c=a.getAttribute("multiple")?Cq:Aq:"textarea"===a.name&&Ne(g.value)&&(c=Fq),c&&(f=new c(a))&&f.keypath?f:void 0}function Ne(a){return a&&a.isBindable}function Oe(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function Pe(a){pj(this.root,this.getAction(),{event:a})}function Qe(){return this.action.toString().trim()}function Re(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&((this.root.debug?n:o)('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',a.name,b),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=yo(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c;(c=Lq.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(wo(g,a,function(a){return g.resolve(b,a)}))}),this.fire=Se):(d=c.n||c,"string"!=typeof d&&(d=new Et({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new Et({template:c.d,root:this.root,owner:this.element}),this.fire=Ue):c.a&&(this.params=c.a,this.fire=Te))}function Se(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),oj.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),oj.dequeue(b)}function Te(a){pj(this.root,this.getAction(),{event:a,args:this.params})}function Ue(a){var b=this.dynamicParams.getArgsList();"string"==typeof b&&(b=b.substr(1,b.length-2)),pj(this.root,this.getAction(),{event:a,args:b})}function Ve(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=uo(c.element.parentFragment))&&(e=uo.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath.str,context:b.root.viewmodel.get(b.keypath)})}function We(){var a,b=this.name;if(!this.invalid){if(a=q("events",this.root,b))this.custom=a(this.node,Xe(b));else{if(!("on"+b in this.node||window&&"on"+b in window))return void(Pq[b]||p(mi(b,"event")));this.node.addEventListener(b,Nq,!1)}this.hasListener=!0}}function Xe(a){return Oq[a]||(Oq[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath.str,b.context=c.root.viewmodel.get(c.keypath),c.events[a].fire(b)}),Oq[a]}function Ye(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function Ze(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function $e(a,b){this.keypaths[a]=b}function _e(){return this.method?void this.refResolvers.forEach(U):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function af(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,Nq,!1),this.hasListener=!1}function bf(){var a=this;this.dirty||(this.dirty=!0,Ri.scheduleTask(function(){cf(a),a.dirty=!1})),this.parentFragment.bubble()}function cf(a){var b,c,d,e,f;b=a.node,b&&(e=C(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?df(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function df(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function ef(a,b){a.select=gf(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function ff(a){a.select&&B(a.select.options,a)}function gf(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function hf(a){var b,c,d,e,f,g;this.type=Uk,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=Ip(c.e),"option"===this.name&&ef(this,c),"select"===this.name&&(this.options=[],this.bubble=bf),"form"===this.name&&(this.formBindings=[]),Gp(this,c.a||{}),this.attributes=fq(this,c.a),this.conditionalAttributes=iq(this,c.m),c.f&&(this.fragment=new Et({template:c.f,root:d,owner:this,pElement:this})),g=d.twoway,this.twoway===!1?g=!1:this.twoway===!0&&(g=!0),g&&(e=Hq(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath.str]||(this.root._twowayBindings[e.keypath.str]=[]),f.push(e)),c.v&&(this.eventHandlers=Yq(this,c.v)),c.o&&(this.decorator=new br(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function jf(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&I(e,"keypath",a,b)}function kf(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function lf(a){a.node.addEventListener("reset",nf,!1)}function mf(a){a.node.removeEventListener("reset",nf,!1)}function nf(){var a=this._ractive.proxy;Ri.start(),a.formBindings.forEach(of),Ri.end()}function of(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function pf(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new Et({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new Et({template:b.d,root:d,owner:a}),this.params=f.getArgsList(),f.unbind()),this._fn=q("transitions",d,e),this._fn||p(mi(e,"transition")))}function qf(a){return a}function rf(){Fr.hidden=document[Br]}function sf(){Fr.hidden=!0}function tf(){Fr.hidden=!1}function uf(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&vf(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function vf(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function wf(){var a,b,c,d=this,e=this.root;return a=xf(this),b=this.node=Lh(this.name,a),e.constructor.css&&this.parentFragment.getNode()===e.el&&this.node.setAttribute("data-ractive-css",e.constructor._guid),Yh(this.node,"_ractive",{value:{proxy:this,keypath:Ji(this.parentFragment),events:Xh(null),root:e}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=Qr,this.node.text=this.fragment.toString(!1),this.fragment.unrender=gi):"style"===this.name?(this.bubble=Pr,this.bubble(),this.fragment.unrender=gi):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=gi:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&yf(this),"img"===this.name?kf(this):"form"===this.name?lf(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&Ri.scheduleTask(function(){d.decorator.torndown||d.decorator.init()},!0),e.transitionsEnabled&&this.intro&&(c=new Rr(this,this.intro,!0),Ri.registerTransition(c),Ri.scheduleTask(function(){return c.start()},!0),this.transition=c),this.node.autofocus&&Ri.scheduleTask(function(){return d.node.focus()},!0),zf(this),this.node}function xf(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?Eh.svg:(d=a.parent)?"foreignObject"===d.name?Eh.html:d.node.namespaceURI:a.root.el.namespaceURI}function yf(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&e(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function zf(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function Af(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&e(c))for(d=c.length;d--;)if(c[d]==b)return!0}function Bf(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function Cf(a){var b=a.toString();return b?" "+b:""}function Df(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(U),"option"===this.name&&ff(this),this.attributes.forEach(U),this.conditionalAttributes.forEach(U)}function Ef(a){var b,c,d;(d=this.transition)&&d.complete(),"option"===this.name?this.detach():a&&Ri.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath.str],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(V),this.decorator&&Ri.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(d=new Rr(this,this.outro,!1),Ri.registerTransition(d),Ri.scheduleTask(function(){return d.start()})),this.liveQueries&&Ff(this),"form"===this.name&&mf(this)}function Ff(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function Gf(a,b){var c=Zr.exec(b)[0];return null===a||c.length<a.length?c:a}function Hf(a,b){var c;if(c=If(a,b))return c;if(c=Kn.fromId(b,{noThrow:!0})){c=$r(c);var d=Kn.parse(c,Kn.getParseOptions(a));return a.partials[b]=d.t}}function If(a,b){var c=r("partials",a,b);if(c){var d,e=c.partials[b];if("function"==typeof e&&(d=e.bind(c),d.isOwner=c.partials.hasOwnProperty(b),e=d(c.data,Kn)),!e&&""!==e)return void o(li,b,"partial","partial");if(!Kn.isParsed(e)){var f=Kn.parse(e,Kn.getParseOptions(c));f.p&&o("Partials ({{>%s}}) cannot contain nested inline partials",b);var g=d?c:Jf(c,b);g.partials[b]=e=f.t}return d&&(e._fn=d),e.v?e.t:e}}function Jf(a,b){return a.partials.hasOwnProperty(b)?a:Kf(a.constructor,b)}function Kf(a,b){return a?a.partials.hasOwnProperty(b)?a:Kf(a._Parent,b):void 0}function Lf(a,b){var c,d=r("components",a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(d.data),!c)return void(a.debug&&o(li,b,"component","component"));"string"==typeof c&&(c=Lf(a,c)),c._fn=e,d.components[b]=c}return c}function Mf(){var a=this.instance.fragment.detach();return es.fire(this.instance),a}function Nf(a){return this.instance.fragment.find(a)}function Of(a,b){return this.instance.fragment.findAll(a,b)}function Pf(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function Qf(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function Rf(){return this.parentFragment.findNextNode(this)}function Sf(){return this.rendered?this.instance.fragment.firstNode():null}function Tf(a,b){var c,d,e,f,g=this.ractive;for(c=g.adapt.length,d=0;c>d;d+=1)if(e=g.adapt[d],e.filter(b,a,g))return f=this.wrapped[a]=e.wrap(g,b,a,Vf(a)),f.value=b,b;return b}function Uf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function Vf(a){var b;return ms[a]||(b=a?a+".":"",ms[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?Uf(c,a):c:void 0}),ms[a]}function Wf(a){var b,c,d=[Ii];for(b=a.length;b--;)for(c=a[b].parent;c&&!c.isRoot;)w(d,c),c=c.parent;return d}function Xf(a,b,c){var d;Zf(a,b),c||(d=b.wildcardMatches(),d.forEach(function(c){Yf(a,c,b)}))}function Yf(a,b,c){var d,e,f;b=b.str||b,d=a.depsMap.patternObservers,e=d&&d[b],e&&e.forEach(function(b){f=c.join(b.lastKey),Zf(a,f),Yf(a,b,f)})}function Zf(a,b){a.patternObservers.forEach(function(a){a.regex.test(b.str)&&a.update(b)})}function $f(){function a(c){var d,e;f.noCascade.hasOwnProperty(c.str)||((e=f.deps.computed[c.str])&&e.forEach(function(c){var d=c.key;c.viewmodel===f?(f.clearCache(d.str),c.invalidate(),b.push(d),a(d)):c.viewmodel.mark(d)}),(d=f.depsMap.computed[c.str])&&d.forEach(a))}var b,c,d,e=this,f=this,g={};return b=this.changes,b.length?(b.slice().forEach(a),c=os(b),c.forEach(function(a){var c;-1===b.indexOf(a)&&(c=f.deps.computed[a.str])&&(e.changes.push(a),c.forEach(function(a){a.viewmodel.mark(a.key)}))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(a){return ps(e,a,!0)}),b.forEach(function(a){return ps(e,a)})),this.deps.observers&&(c.forEach(function(a){return _f(e,null,a,"observers")}),bg(this,b,"observers")),this.deps["default"]&&(d=[],c.forEach(function(a){return _f(e,d,a,"default")}),d.length&&ag(this,d,b),bg(this,b,"default")),b.forEach(function(a){g[a.str]=e.get(a)}),this.implicitChanges={},this.noCascade={},g):void 0}function _f(a,b,c,d){var e,f;(e=cg(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function ag(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function bg(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=cg(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b.str])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function cg(a,b,c){var d=a.deps[c];return d?d[b.str]:null}function dg(){this.captureGroups.push([])}function eg(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function fg(a){var b="var __ractive=this;return("+a.replace(ts,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(b)}function gg(a,b){var c=b.firstKey;return!(c in a.ractive.data||c in a.computations||c in a.mappings)}function hg(a,b){return b=us(b),this.computations[a.str]=new ys(this.ractive,a,b)}function ig(a,b){var c,d,e,f,g,h=this.ractive,i=this.cache,j=a.str;return b=b||Bs,b.capture&&(g=A(this.captureGroups))&&(~g.indexOf(a)||g.push(a)),(c=this.mappings[a.firstKey])?c.get(a,b):a.isSpecial?a.value:(void 0===i[j]?((e=this.computations[j])&&!e.bypass?(d=e.get(),this.adapt(j,d)):(f=this.wrapped[j])?d=f.value:a.isRoot?(this.adapt("",h.data),d=h.data):d=jg(this,a),i[j]=d):d=i[j],!b.noUnwrap&&(f=this.wrapped[j])&&(d=f.get()),d===As?void 0:d)}function jg(a,b){var c,d,e,f;return c=a.get(b.parent),(f=a.wrapped[b.parent.str])&&(c=f.get()),null!==c&&void 0!==c?((d=a.cacheMap[b.parent.str])?-1===d.indexOf(b.str)&&d.push(b.str):a.cacheMap[b.parent.str]=[b.str],"object"!=typeof c||b.lastKey in c?(e=c[b.lastKey],a.adapt(b.str,e,!1),a.cache[b.str]=e,e):a.cache[b.str]=As):void 0}function kg(){var a,b,c=[];for(a in this.ractive.computed)b=this.compute(K(a),this.ractive.computed[a]),c.push(b),a in this.mappings&&n("Cannot map to a computed property ('%s')",a);c.forEach(lg)}function lg(a){a.init()}function mg(a,b){this.keypath=a,this.viewmodel=b}function ng(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.deps=[],this.unresolved=[],this.trackData=b.trackData,this.resolved=!1}function og(a,b){var c=this.mappings[a.str]=new Fs(a,b);return c.initViewmodel(this),c}function pg(a,b){var c,d=a.str;Ri.addViewmodel(this),b&&(b.implicit&&(this.implicitChanges[d]=!0),b.noCascade&&(this.noCascade[d]=!0)),(c=this.computations[d])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var e=b?b.dontTeardownWrapper:!1;this.clearCache(d,e)}function qg(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=sg(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){if(this.debug)throw i;o("Merge operation: comparison failed. Falling back to identity checking"),e=b,f=c}}else e=b,f=c;h=Is(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function rg(a){return JSON.stringify(a)}function sg(a){if(a===!0)return rg;if("string"==typeof a)return Js[a]||(Js[a]=function(b){return b[a]}),Js[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function tg(a,b,c){void 0===c&&(c="default");var d,e,f;b.isStatic||((d=this.mappings[a.firstKey])?d.register(a,b,c):(e=this.deps[c]||(this.deps[c]={}),f=e[a.str]||(e[a.str]=[]),f.push(b),a.isRoot||ug(this,a,c)))}function ug(a,b,c){for(var d,e,f;!b.isRoot;)d=a.depsMap[c]||(a.depsMap[c]={}),e=d[b.parent.str]||(d[b.parent.str]=[]),f=b.str,void 0===e["_"+f]&&(e["_"+f]=0,e.push(b)),e["_"+f]+=1,b=b.parent}function vg(){return this.captureGroups.pop()}function wg(a,b,c){void 0===c&&(c={});var d,e,f,g;if(!c.noMapping&&(d=this.mappings[a.firstKey]))return d.set(a,b);if(e=this.computations[a.str]){if(e.setting)return;e.set(b),b=e.get()}h(this.cache[a.str],b)||(f=this.wrapped[a.str],f&&f.reset&&(g=f.reset(b)!==!1,g&&(b=f.get())),e||g||xg(this,a,b),c.silent?this.clearCache(a.str):this.mark(a))}function xg(a,b,c){var d,e,f,g;f=function(){d.set?d.set(b.lastKey,c):(e=d.get(),g())},g=function(){e||(e=tk(b.lastKey),a.set(b.parent,e,{silent:!0})),e[b.lastKey]=c},d=a.wrapped[b.parent.str],d?f():(e=a.get(b.parent),(d=a.wrapped[b.parent.str])?f():g())}function yg(a,b,c){var d,e,f,g=this;if(e=c.length,c.forEach(function(b,c){-1===b&&g.mark(a.join(c),Ps)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a.str])&&d.filter(zg).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){for(this.mark(a.join("length"),Os),f=e;f<b.length;f+=1)this.mark(a.join(f));for(f=b.length;e>f;f+=1)this.mark(a.join(f),Ps)}}function zg(a){return"function"==typeof a.shuffle
}function Ag(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function Bg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.firstKey])return d.unregister(a,b,c);if(e=this.deps[c][a.str],f=e.indexOf(b),-1===f)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");e.splice(f,1),a.isRoot||Cg(this,a,c)}}function Cg(a,b,c){for(var d,e;!b.isRoot;)d=a.depsMap[c],e=d[b.parent.str],e["_"+b.str]-=1,e["_"+b.str]||(B(e,b),e["_"+b.str]=void 0),b=b.parent}function Dg(a){this.hook=new yi(a),this.inProcess={},this.queue={}}function Eg(a,b){return a[b._guid]||(a[b._guid]=[])}function Fg(a,b){var c=Eg(a.queue,b);for(a.hook.fire(b);c.length;)Fg(a,c.shift());delete a.queue[b._guid]}function Gg(b,c,d){void 0===c&&(c={}),void 0===d&&(d={});var e;if(Hg(b,d),Ws.fire(Wn.getConstructTarget(b,c),c),Wn.init(b.constructor,b,c),b.magic&&!Dh)throw new Error("Getters and setters (magic mode) are not supported in this browser");Xs.fire(b),Ys.begin(b),b.viewmodel=new Us(b,d.mappings),b.viewmodel.init(),b.template&&(b.fragment=new Et({template:b.template,root:b,owner:b})),Ys.end(b),(e=a(b.el))&&b.render(e,b.append)}function Hg(a,b){a._guid="r-"+Zs++,a._subs=Xh(null),a._config={},a._twowayBindings=Xh(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function Ig(a,b,c){this.parameters=a,this.parentFragment=a.component.parentFragment,this.key=b,this.fragment=new Et({template:c,root:a.component.root,owner:this}),this.parameters.addData(this.key.str,this.fragment.getValue())}function Jg(a,b){return b.parameters?Dh&&"legacy"!==b.parameters?Lg(a,b):Kg(a):a.data}function Kg(a){var b,c=a.mappings;for(b in c){var d=c[b];d.trackData=!0,d.updatable||a.addData(b,d.getValue())}return a.data}function Lg(a,b){var c=Mg(a,b);return new c(a)}function Mg(a,b){var c=b._parameters;return(!c.Constructor||a.newKeys.length)&&(c.Constructor=Ng(a,c.defined)),c.Constructor}function Ng(a,b){function c(a){this._mappings=a.mappings,this._data=a.data||{}}var d,e;return d=a.keys.reduce(function(a,b){return a[b]={get:function(){var a=this._mappings[b];return a?a.getValue():this._data[b]},set:function(a){var c=this._mappings[b];c?(Ri.start(),c.setValue(a),Ri.end()):this._data[b]=a},enumerable:!0},a},b),Zh(e={},d),e.constructor=c,c.prototype=e,c}function Og(a,b,c){var d,e;this.parameters=a,this.key=b,this.resolved=this.ready=!1,d=a.component,e=this.resolve.bind(this),c.r?this.resolver=wo(d,c.r,e):c.x?this.resolver=new Ao(d,d.parentFragment,c.x,e):c.rx&&(this.resolver=new Eo(d,c.rx,e)),this.resolved||a.addMapping(b),this.ready=!0}function Pg(a,b,c){var d,e,f;return c?(b.parameters&&(f=Qg(b)),d=new Rg(a,c,f),e=bt(d,b),{data:e,mappings:d.mappings}):{data:{}}}function Qg(a){return a._parameters?a._parameters.defined||(a._parameters.defined={}):a._parameters={defined:{}},a._parameters.defined}function Rg(a,b,c){var d=this;this.component=a,this.parentViewmodel=a.root.viewmodel,this.data={},this.mappings=Xh(null),this.newKeys=[],this.keys=Object.keys(b),this.keys.forEach(function(a){c&&!c[a]&&d.newKeys.push(a),d.add(K(a),b[a])})}function Sg(a){return 1===a.length&&a[0].t===Pk}function Tg(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Ug(a.instance,a.root,c,b[c])}function Ug(a,b,c,d){"string"!=typeof d&&o("Components currently only support simple events - you cannot include arguments. Sorry!"),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),pj(b,d,{event:a,args:c}),!1})}function Vg(a,b){var c,d,e;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=$k,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],e=dt(this,b.prototype,a.template.a),_s(this,b,e,a.template.f,a.template.p),et(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&o('The "intro", "outro" and "decorator" directives have no effect on components'),ft(this)}function Wg(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function Xg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function Yg(){return this.instance.fragment.toString()}function Zg(){var a=this.instance;this.resolvers.forEach(U),$g(this),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&B(a.el.__ractive_instances__,a),kt.fire(a)}function $g(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function _g(a){this.shouldDestroy=a,this.instance.unrender()}function ah(a){var b=this;this.owner=a.owner,this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],this.items=a.template.map(function(c,d){return bh({parentFragment:b,pElement:a.pElement,template:c,index:d})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function bh(a){if("string"==typeof a.template)return new ko(a);switch(a.template.t){case Pk:return"yield"===a.template.r?new st(a):new Ko(a);case Rk:return new cp(a);case Qk:return new up(a);case Uk:var b;return(b=ds(a.parentFragment.root,a.template.e))?new ot(a,b):new Xr(a);case Vk:return new cs(a);case Wk:return new qt(a);case bl:return new ut(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function ch(a,b){I(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function dh(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function eh(a){return this.items?this.items.map(a?gh:fh).join(""):""}function fh(a){return a.toString()}function gh(a){return a.toString(!0)}function hh(){this.bound&&(this.items.forEach(ih),this.bound=!1)}function ih(a){a.unbind&&a.unbind()}function jh(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function kh(a){var b,c,d,e,f;if(a=a||{},"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((c=this.viewmodel.wrapped[""])&&c.reset?c.reset(a)===!1&&(this.data=a):this.data=a,d=Wn.reset(this),e=d.length;e--;)if(Ft.indexOf(d[e])>-1){f=!0;break}if(f){var g;this.viewmodel.mark(Ii),(g=this.component)&&(g.shouldDestroy=!0),this.unrender(),g&&(g.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new Et({template:this.template,root:this,owner:this})),b=this.render(this.el,this.anchor)}else b=Ri.start(this,!0),this.viewmodel.mark(Ii),Ri.end();return Gt.fire(this,a),b}function lh(a){var b,c;Mn.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new Et({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function mh(a,b){var c,d,e=this;if(d=Ri.start(this,!0),k(a)){c=a;for(a in c)c.hasOwnProperty(a)&&(b=c[a],a=K(N(a)),this.viewmodel.set(a,b))}else a=K(N(a)),Lt.test(a.str)?L(this,a.str).forEach(function(a){e.viewmodel.set(a,b)}):this.viewmodel.set(a,b);return Ri.end(),d}function nh(a,b){return ri(this,a,void 0===b?-1:-b)}function oh(){var a;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&B(this.el.__ractive_instances__,this),this.shouldDestroy=!0,a=this.fragment.rendered?this.unrender():Fi.resolve(),Rt.fire(this),this._boundFunctions.forEach(ph),a}function ph(a){delete a.fn[a.prop]}function qh(a){if("string"!=typeof a)throw new TypeError(ki);return this.set(a,!this.get(a))}function rh(){return this.fragment.toString(!0)}function sh(){var a,b,c=this;if(!this.fragment.rendered)return o("ractive.unrender() was called on a Ractive instance that was not rendered"),Fi.resolve();for(a=Ri.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&a.then(function(){dk.remove(c.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),B(this.el.__ractive_instances__,this),Vt.fire(this),Ri.end(),a}function th(a){var b;return a=K(a)||Ii,b=Ri.start(this,!0),this.viewmodel.mark(a),Ri.end(),Yt.fire(this,a),b}function uh(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||K(d).equalsOrStartsWith(a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=vh(this,e),this.set(c)}function vh(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath.str]||a.changed()||(d.push(a.keypath),d[a.keypath.str]=a));b=a.attribute.value,e=a.getValue(),y(b,e)||h(b,e)||(c[a.keypath.str]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a.str],e=b.attribute.value,f=b.getValue(),y(e,f)||(c[a.str]=f)}),c}function wh(a){for(var b={};a;)xh(a,b),zh(a,b),a=a._Parent!==fu?a._Parent:!1;return b}function xh(a,b){Tn.forEach(function(c){yh(c.useDefaults?a.prototype:a,b,c.name)})}function yh(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function zh(a,b){Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e,f=d._method;f&&(d=d._method),e=Lk(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}})}function Ah(a){void 0===a&&(a={});var b,c,d=this;return a.prototype instanceof fu&&(a=au(a)),b=function(a){$s(this,a)},c=Xh(d.prototype),c.constructor=b,Zh(b,{_guid:{value:bu++},defaults:{value:c},extend:{value:Ah,writable:!0,configurable:!0},_Parent:{value:d}}),Wn.extend(d,c,a),b.prototype=c,b}var Bh,Ch,Dh,Eh,Fh,Gh,Hh={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1,debug:!1},Ih=Hh,Jh={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}};Bh="object"==typeof document,Ch="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),Dh=!0}catch(Kh){Dh=!1}Eh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Fh="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),Gh=["o","ms","moz","webkit"];var Lh,Mh,Nh,Oh,Ph,Qh,Rh,Sh,Th;if(Lh=Fh?function(a,b){return b&&b!==Eh.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==Eh.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)},Bh){for(Nh=Lh("div"),Oh=["matches","matchesSelector"],Th=function(a){return function(b,c){return b[a](c)}},Rh=Oh.length;Rh--&&!Mh;)if(Ph=Oh[Rh],Nh[Ph])Mh=Th(Ph);else for(Sh=Gh.length;Sh--;)if(Qh=Gh[Rh]+Ph.substr(0,1).toUpperCase()+Ph.substring(1),Nh[Qh]){Mh=Th(Qh);break}Mh||(Mh=function(a,b){var c,d,e;for(d=a.parentNode,d||(Nh.innerHTML="",d=Nh,a=a.cloneNode(),Nh.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else Mh=null;var Uh,Vh,Wh;"undefined"==typeof window?Wh=null:(Uh=window,Vh=Uh.document,Wh={},Vh||(Wh=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;for(void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0),c=this.length;c>b;b++)if(this.hasOwnProperty(b)&&this[b]===a)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f=this,g=[];for(f instanceof String&&(f=f.toString(),e=!0),c=0,d=f.length;d>c;c+=1)(f.hasOwnProperty(c)||e)&&(g[c]=a.call(b,f[c],c,f));return g}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){var c,d,e,f;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(e=this.length,f=!1,arguments.length>1&&(d=b,f=!0),c=0;e>c;c+=1)this.hasOwnProperty(c)?f&&(d=a(d,this[c],c,this)):(d=this[c],f=!0);if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e=[];for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)&&(e[e.length]=this[c]);return e}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=0;d>e;e+=1)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b,c,d,e,f=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return b=f.call(arguments,1),c=this,d=function(){},e=function(){var e=this instanceof d&&a?this:a;return c.apply(e,b.concat(f.call(arguments)))},d.prototype=this.prototype,e.prototype=new d,e}),Uh.addEventListener||!function(a,b){var c,d,e,f,g,h;a.appearsToBeIELessEqual8=!0,c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b,d.target=a.srcElement||b,d.timeStamp=+new Date,d.preventDefault=function(){a.returnValue=!1},d.stopPropagation=function(){a.cancelBubble=!0}},d=function(a,b){var d,e,f=this;d=f.listeners||(f.listeners=[]),e=d.length,d[e]=[b,function(a){b.call(f,new c(a,f))}],f.attachEvent("on"+a,d[e][1])},e=function(a,b){var c,d,e=this;if(e.listeners)for(c=e.listeners,d=c.length;d--;)c[d][0]===b&&e.detachEvent("on"+a,c[d][1])},a.addEventListener=b.addEventListener=d,a.removeEventListener=b.removeEventListener=e,"Element"in a?(a.Element.prototype.addEventListener=d,a.Element.prototype.removeEventListener=e):(h=b.createElement,b.createElement=function(a){var b=h(a);return b.addEventListener=d,b.removeEventListener=e,b},f=b.getElementsByTagName("head")[0],g=b.createElement("style"),f.insertBefore(g,f.firstChild))}(Uh,Vh),Uh.getComputedStyle||(Wh.getComputedStyle=function(){function a(c,d,e,f){var g,h=d[e],i=parseFloat(h),j=h.split(/\d/)[0];return isNaN(i)&&/^thin|medium|thick$/.test(h)&&(i=b(h),j=""),f=null!=f?f:/%|em/.test(j)&&c.parentElement?a(c.parentElement,c.parentElement.currentStyle,"fontSize",null):16,g="fontSize"==e?f:/width/i.test(e)?c.clientWidth:c.clientHeight,"em"==j?i*f:"in"==j?96*i:"pt"==j?96*i/72:"%"==j?i/100*g:i}function b(a){var b,c;return f[a]||(b=document.createElement("div"),b.style.display="block",b.style.position="fixed",b.style.width=b.style.height="0",b.style.borderRight=a+" solid black",document.getElementsByTagName("body")[0].appendChild(b),c=b.getBoundingClientRect(),f[a]=c.right-c.left),f[a]}function c(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function d(b){var d,e,f,g;d=b.currentStyle,e=this,f=a(b,d,"fontSize",null);for(g in d)/width|height|margin.|padding.|border.+W/.test(g)?"auto"===d[g]?/^width|height/.test(g)?e[g]=("width"===g?b.clientWidth:b.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(g)&&(e[g]="0px"):e[g]=a(b,d,g,f)+"px":"styleFloat"===g?e["float"]=d[g]:e[g]=d[g];return c(e,"margin"),c(e,"padding"),c(e,"border"),e.fontSize=f+"px",e}function e(a){return new d(a)}var f={};return d.prototype={constructor:d,getPropertyPriority:function(){},getPropertyValue:function(a){return this[a]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},e}()));var Xh,Yh,Zh,$h=Wh,_h=Array.prototype.slice;try{Object.defineProperty({},"test",{value:0}),Bh&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Yh=Object.defineProperty}catch(ai){Yh=function(a,b,c){a[b]=c.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(ai){throw ai}Bh&&Object.defineProperties(Lh("div"),{test:{value:0}}),Zh=Object.defineProperties}catch(ai){Zh=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Yh(a,c,b[c])}}try{Object.create(null),Xh=Object.create}catch(ai){Xh=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var bi,ci,di=Object.prototype.hasOwnProperty,ei=Object.prototype.toString,fi=/^\[object (?:Array|FileList)\]$/,gi=function(){},hi=Array.prototype.slice,ii={};Ch?(ci=function(a,b){console.warn.apply(console,["%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(b))},bi=console.log.bind(console)):ci=bi=gi;var ji,ki="Bad arguments",li='A function was specified for "%s" %s, but no %s was returned',mi=function(a,b){return'Missing "'+a+'" '+b+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+b+"s"},ni=function(a,b,c,d){if(a===b)return s(b);if(d){var e=q("interpolators",c,d);if(e)return e(a,b)||s(b);p(mi(d,"interpolator"))}return qi.number(a,b)||qi.array(a,b)||qi.object(a,b)||s(b)},oi=ni,pi={number:function(a,b){var c;return j(a)&&j(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,f,g;if(!e(a)||!e(b))return null;for(c=[],d=[],g=f=Math.min(a.length,b.length);g--;)d[g]=oi(a[g],b[g]);for(g=f;g<a.length;g+=1)c[g]=a[g];for(g=f;g<b.length;g+=1)c[g]=b[g];return function(a){for(var b=f;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!k(a)||!k(b))return null;c=[],f={},e={};for(g in a)di.call(a,g)&&(di.call(b,g)?(c.push(g),e[g]=oi(a[g],b[g])):f[g]=a[g]);for(g in b)di.call(b,g)&&!di.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},qi=pi,ri=t,si=u;"undefined"==typeof window?ji=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(Gh,0,window),ji=window.requestAnimationFrame);var ti,ui=ji;ti="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var vi=ti,wi={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};v.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&(this.deprecate.message?o(this.deprecate.message):o('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),b?a.fire(this.event,b):a.fire(this.event)};var xi,yi=v,zi={},Ai={},Bi={};"function"==typeof Promise?xi=Promise:(xi=function(a){var b,c,d,e,f,g,h=[],i=[],j=zi;d=function(a){return function(d){j===zi&&(b=d,j=a,c=E(j===Ai?h:i,b),D(c))}},e=d(Ai),f=d(Bi);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new xi(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),F(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==zi&&D(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},xi.all=function(a){return new xi(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},xi.resolve=function(a){return new xi(function(b){b(a)})},xi.reject=function(a){return new xi(function(b,c){c(a)})});var Ci,Di,Ei,Fi=xi,Gi={},Hi=G;Ci=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Di={},Ei=function(a){var b=a.split(".");this.str=a,"@"===a[0]&&(this.isSpecial=!0,this.value=J(a)),this.firstKey=b[0],this.lastKey=b.pop(),this.parent=""===a?null:K(b.join(".")),this.isRoot=!a},Ei.prototype={equalsOrStartsWith:function(a){return a===this||this.startsWith(a)},join:function(a){return K(this.isRoot?String(a):this.str+"."+a)},replace:function(a,b){return this===a?b:this.startsWith(a)?null===b?b:K(this.str.replace(a.str+".",b.str+".")):void 0},startsWith:function(a){return a?a&&this.str.substr(0,a.str.length+1)===a.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Hi(this.str))}};var Ii=K(""),Ji=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return Ii},Ki=O,Li=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};Li.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Y(this)},decrementTotal:function(){this.totalChildren-=1,Y(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;B(b,a),Y(this)},init:function(){this.ready=!0,Y(this)},detachNodes:function(){this.decoratorQueue.forEach(T),this.detachQueue.forEach(W),this.children.forEach(X)}};var Mi,Ni,Oi=Li,Pi=[],Qi=new yi("change");Ni={start:function(a,b){var c,d;return b&&(c=new Fi(function(a){return d=a})),Mi={previousBatch:Mi,transitionManager:new Oi(d,Mi&&Mi.transitionManager),views:[],tasks:[],viewmodels:[],instance:a},a&&Mi.viewmodels.push(a.viewmodel),c},end:function(){Z(),Mi.transitionManager.init(),!Mi.previousBatch&&Mi.instance&&(Mi.instance.viewmodel.changes=[]),Mi=Mi.previousBatch},addViewmodel:function(a){return Mi?-1===Mi.viewmodels.indexOf(a)?(Mi.viewmodels.push(a),!0):!1:(a.applyChanges(),!1)},registerTransition:function(a){a._manager=Mi.transitionManager,Mi.transitionManager.add(a)},registerDecorator:function(a){Mi.transitionManager.addDecorator(a)},addView:function(a){Mi.views.push(a)},addUnresolved:function(a){Pi.push(a)},removeUnresolved:function(a){B(Pi,a)},detachWhenReady:function(a){Mi.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(Mi){for(c=Mi;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var Ri=Ni,Si=[],Ti={tick:function(){var a,b,c;for(c=vi(),Ri.start(),a=0;a<Si.length;a+=1)b=Si[a],b.tick(c)||Si.splice(a--,1);Ri.end(),Si.length?ui(Ti.tick):Ti.running=!1},add:function(a){Si.push(a),Ti.running||(Ti.running=!0,ui(Ti.tick))},abort:function(a,b){for(var c,d=Si.length;d--;)c=Si[d],c.root===b&&c.keypath===a&&c.stop()}},Ui=Ti,Vi=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=oi(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};Vi.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(Ri.start(this.root),this.root.viewmodel.set(f,this.to),Ri.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&o("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),Ri.start(this.root),this.root.viewmodel.set(f,c),Ri.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&o("Animation was not found"),this.root._animations.splice(a,1)}};var Wi=Vi,Xi={stop:gi},Yi=ab,Zi=new yi("detach"),$i=cb,_i=db,aj=function(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?Mh(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0},bj=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},cj=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=fb(a.component||a._ractive.proxy),d=fb(b.component||b._ractive.proxy),e=A(c),f=A(d);e&&e===f;)c.pop(),d.pop(),g=e,e=A(c),f=A(d);if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},dj=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):cj(a,b)},ej=function(){this.sort(this._isComponentQuery?cj:dj),this._dirty=!1},fj=function(){var a=this;this._dirty||(this._dirty=!0,Ri.scheduleTask(function(){a._sort()}))},gj=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},hj=gb,ij=hb,jj=ib,kj=jb,lj=kb,mj=lb,nj={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},oj=nj,pj=mb,qj=pb,rj={capture:!0,noUnwrap:!0},sj=qb,tj=new yi("insert"),uj=rb,vj=tb,wj=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};wj.prototype={init:function(a){this.value=this.root.get(this.keypath.str),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;h(a,this.value)||(this.value=a,this.defer&&this.ready?Ri.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var xj,yj=wj,zj=ub,Aj=/\*/,Bj=Array.prototype.slice;xj=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},xj.prototype={init:function(a){var b,c;if(b=zj(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(K(c));else this.values=b},update:function(a){var b,c=this;if(Aj.test(a.str)){b=zj(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(K(a))}else if(!this.root.viewmodel.implicitChanges[a.str])return this.defer&&this.ready?void Ri.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d,e;return b=a.str,c=this.root.viewmodel.get(a),this.updating?void(this.values[b]=c):(this.updating=!0,h(c,this.values[b])&&this.ready||(d=Bj.call(this.regex.exec(b),1),e=[c,this.values[b],b].concat(d),this.values[b]=c,this.callback.apply(this.context,e)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a.str]||(this.proxies[a.str]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a.str]}};var Cj,Dj,Ej,Fj,Gj,Hj,Ij=xj,Jj=/\*/,Kj={},Lj=vb,Mj=wb,Nj=xb,Oj=function(a){return a.trim()},Pj=function(a){return""!==a},Qj=yb,Rj=zb,Sj=Ab,Tj=Bb,Uj=Array.prototype.slice,Vj=Array.prototype,Wj=function(a){return function(b){var c,d,f,g,h=Uj.call(arguments,1),i=[];if(b=K(N(b)),c=this.viewmodel.get(b),d=c.length,!e(c))throw new Error("Called ractive."+a+"('"+b+"'), but '"+b+"' does not refer to an array");return i=Tj(c,a,h),g=Vj[a].apply(c,h),f=Ri.start(this,!0).then(function(){return g}),i?this.viewmodel.smartUpdate(b,c,i):this.viewmodel.mark(b),Ri.end(),f}},Xj=Wj("pop"),Yj=Wj("push"),Zj="/* Ractive.js component styles */\n",$j={},_j=[];Bh?(Ej=document.createElement("style"),Ej.type="text/css",Fj=document.getElementsByTagName("head")[0],Hj=!1,Gj=Ej.styleSheet,Dj=function(){var a;_j.length?(a=Zj+_j.join(" "),Gj?Gj.cssText=a:Ej.innerHTML=a,Hj||(Fj.appendChild(Ej),Hj=!0)):Hj&&(Fj.removeChild(Ej),Hj=!1)},Cj={add:function(a){a.css&&($j[a._guid]||($j[a._guid]=0,_j.push(a.css),Dj()),$j[a._guid]+=1)},remove:function(a){a.css&&($j[a._guid]-=1,$j[a._guid]||(B(_j,a.css),Ri.scheduleTask(Dj)))}}):Cj=null;var ak,bk,ck,dk=Cj,ek=new yi("render"),fk=new yi("complete"),gk=Db,hk=function(a,b,c,d){var e=a.root,f=a.keypath;return"sort"===c||"reverse"===c?void e.viewmodel.set(f,b):void e.viewmodel.smartUpdate(f,b,d)},ik=Array.prototype.slice,jk=[],kk=["pop","push","reverse","shift","sort","splice","unshift"];kk.forEach(function(a){var b=function(){var b,c,d,e,f=ik.call(arguments);for(b=Tj(this,a,f),c=Array.prototype[a].apply(this,arguments),Ri.start(),this._ractive.setting=!0,e=this._ractive.wrappers.length;e--;)d=this._ractive.wrappers[e],Ri.addViewmodel(d.root.viewmodel),hk(d,this,a,b);return Ri.end(),this._ractive.setting=!1,c};Yh(jk,a,{value:b})}),ak={},ak.__proto__?(bk=function(a){a.__proto__=jk},ck=function(a){a.__proto__=Array.prototype}):(bk=function(a){var b,c;for(b=kk.length;b--;)c=kk[b],Yh(a,c,{value:jk[c],configurable:!0})},ck=function(a){var b;for(b=kk.length;b--;)delete a[kk[b]]}),bk.unpatch=ck;var lk,mk,nk,ok=bk;lk={filter:function(a){return e(a)&&(!a._ractive||!a._ractive.setting)
},wrap:function(a,b,c){return new mk(a,b,c)}},mk=function(a,b,c){this.root=a,this.value=b,this.keypath=K(c),b._ractive||(Yh(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),ok(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},mk.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(nk);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(nk);d.splice(e,1)}}else delete a._ractive,ok.unpatch(this.value)}},nk="Something went wrong in a rather interesting way";var pk,qk,rk=lk,sk=/^\s*[0-9]+\s*$/,tk=function(a){return sk.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),pk={filter:function(a,b,c){var d,f;return b?(b=K(b),(d=c.viewmodel.wrapped[b.parent.str])&&!d.magic?!1:(f=c.viewmodel.get(b.parent),e(f)&&/^[0-9]+$/.test(b.lastKey)?!1:f&&("object"==typeof f||"function"==typeof f))):!1},wrap:function(a,b,c){return new qk(a,b,c)}},qk=function(a,b,c){var d,e,f;return c=K(c),this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,this.prop=c.lastKey,d=c.parent,this.obj=d.isRoot?a.data:a.viewmodel.get(d),e=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),e&&e.set&&(f=e.set._ractiveWrappers)?void(-1===f.indexOf(this)&&f.push(this)):void Fb(this,b,e)},qk.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,Ri.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{dontTeardownWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=tk(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(ai){pk=!1}var uk,vk,wk=pk;wk&&(uk={filter:function(a,b,c){return wk.filter(a,b,c)&&rk.filter(a)},wrap:function(a,b,c){return new vk(a,b,c)}},vk=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=wk.wrap(a,b,c),this.arrayWrapper=rk.wrap(a,b,c)},vk.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var xk,yk,zk,Ak=uk,Bk={extend:function(a,b,c){b.adapt=Gb(b.adapt,z(c.adapt))},init:function(a,b,c){function d(a){return"string"==typeof a&&(a=q("adaptors",b,a),a||n(mi(a,"adaptor"))),a}var e,f;if(e=b.adapt.map(d),f=z(c.adapt).map(d),b.adapt=Gb(e,f),b.magic){if(!Dh)throw new Error("Getters and setters (magic mode) are not supported in this browser");b.modifyArrays&&b.adapt.push(Ak),b.adapt.push(wk)}b.modifyArrays&&b.adapt.push(rk)}},Ck=Bk,Dk=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Ek=/\/\*.*?\*\//g,Fk=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Gk=/^@media/,Hk=/\[data-ractive-css="[a-z0-9-]+"]/g,Ik=Hb,Jk={name:"css",extend:function(a,b,c){var d,e=b.constructor._guid;(d=Kb(c.css,c,e)||Kb(a.css,a,e))&&(b.constructor.css=d)},init:function(){}},Kk=Jk,Lk=function(a,b,c){return c||Lb(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},Mk={name:"data",extend:function(a,b,c){b.data=Mb(a,b,c)},init:function(a,b,c){var d=c.data,e=Mb(a,b,c);return"function"==typeof e&&(e=e.call(b,d)||d),b.data=e||{}},reset:function(a){var b=this.init(a.constructor,a,a);return b?(a.data=b,!0):void 0}},Nk=Mk,Ok=1,Pk=2,Qk=3,Rk=4,Sk=5,Tk=6,Uk=7,Vk=8,Wk=9,Xk=10,Yk=13,Zk=14,$k=15,_k=16,al=17,bl=18,cl=20,dl=21,el=22,fl=23,gl=24,hl=26,il=27,jl=30,kl=31,ll=32,ml=33,nl=34,ol=35,pl=36,ql=40,rl=50,sl=51,tl=52,ul=53,vl=54,wl=55,xl="Expected a JavaScript expression",yl="Expected closing paren",zl=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Al=function(a){var b;return(b=a.matchPattern(zl))?{t:cl,v:b}:null},Bl=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:gl,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:gl,v:"false"}):null};xk=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,yk=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,zk=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Cl,Dl,El,Fl,Gl,Hl=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(xk)||b.matchPattern(yk)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(zk),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},Il=Hl('"'),Jl=Hl("'"),Kl=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=Jl(a),a.matchString('"')?{t:dl,v:c}:(a.pos=b,null)):a.matchString("'")?(c=Il(a),a.matchString("'")?{t:dl,v:c}:(a.pos=b,null)):null},Ll=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Ml=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,Nl=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Ol=function(a){var b;return(b=Kl(a))?Nl.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=Al(a))?b.v:(b=a.matchPattern(Ll))?b:void 0},Pl=function(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=Ol(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=a.readExpression(),null===d?(a.pos=b,null):{t:il,k:c,v:d}):(a.pos=b,null))},Ql=Tb,Rl=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=Ql(a),a.allowWhitespace(),a.matchString("}")?{t:fl,m:c}:(a.pos=b,null)):(a.pos=b,null)},Sl=Ub,Tl=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=Sl(a),a.matchString("]")?{t:el,m:c}:(a.pos=b,null)):(a.pos=b,null)},Ul=function(a){var b=Al(a)||Bl(a)||Kl(a)||Rl(a)||Tl(a);return b};Cl=/^\.[a-zA-Z_$0-9]+/,El=function(a){var b=a.matchPattern(Dl);return b?"."+b:null},Dl=/^\[(0|[1-9][0-9]*)\]/,Fl=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,Gl=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var Vl,Wl,Xl=function(a){var b,c,d,e,f,g,h,i;if(b=a.pos,a.matchString("~/"))c="~/";else for(c="";a.matchString("../");)c+="../";if(c||(e=a.matchString("./")||a.matchString(".")||""),i=a.relaxedNames?Ml:Ll,d=a.matchPattern(/^@(?:keypath|index|key)/)||a.matchPattern(i)||"",!a.relaxedNames&&!e&&!c&&Gl.test(d))return a.pos=b,null;if(!c&&!e&&!a.relaxedNames&&Fl.test(d))return{t:hl,v:d};if(f=(c||e)+d,!f)return null;for(;g=a.matchPattern(Cl)||El(a);)f+=g;return a.matchString("(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:jl,n:f.replace(/^this\./,"./").replace(/^this$/,".")}},Yl=function(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=a.readExpression(),c||a.error(xl),a.allowWhitespace(),a.matchString(")")||a.error(yl),{t:nl,x:c}):null},Zl=function(a){return Ul(a)||Xl(a)||Yl(a)},$l=Vb,_l=function(a){var b,c,d,e;if(c=Zl(a),!c)return null;for(;c;)if(b=a.pos,d=$l(a))c={t:ll,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=Sl(a),a.allowWhitespace(),a.matchString(")")||a.error(yl),c={t:ql,x:c},e&&(c.o=e)}return c};Wl=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=c.readExpression(),d||c.error(xl),{s:a,o:d,t:ml}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=_l,a=0,b=d.length;b>a;a+=1)c=Wl(d[a],e),e=c;Vl=e}();var am,bm,cm=Vl;bm=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:pl,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=cm,a=0,b=d.length;b>a;a+=1)c=bm(d[a],e),e=c;am=e}();var dm,em,fm=am,gm=function(a){var b,c,d,e;return(c=fm(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(xl),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=a.readExpression(),e||a.error(xl),{t:ol,o:[c,d,e]}):(a.pos=b,c)):null},hm=function(a){var b,c=[];return Xb(a,c),b={r:c,s:Yb(this,a,c)}},im=/^\s+/;em=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},em.prototype=Error.prototype,dm=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},dm.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return gm(this)},flattenExpression:hm,getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b,c,d,e,f,g;throw b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=e+"\n"+new Array(b[1]).join(" ")+"^----",g=new em(a+" at line "+c+" character "+d+":\n"+f),g.line=b[0],g.character=b[1],g.shortMessage=a,g},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(im)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},dm.extend=function(a){var b,c,d=this;b=function(a,b){dm.call(this,a,b)},b.prototype=Xh(d.prototype);for(c in a)di.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=dm.extend,b};var jm,km=dm,lm=/^[^\s=]+/,mm=/^\s+/,nm=function(a){var b,c,d;return a.matchString("=")?(b=a.pos,a.allowWhitespace(),(c=a.matchPattern(lm))?a.matchPattern(mm)?(d=a.matchPattern(lm))?(a.allowWhitespace(),a.matchString("=")?[c,d]:(a.pos=b,null)):(a.pos=b,null):null:(a.pos=b,null)):null},om=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],pm={"#":Rk,"^":Sk,"/":Tk,">":Vk,"!":Wk,"&":Qk},qm=function(a){var b=pm[a.str.charAt(a.pos)];return b?(a.pos+=1,b):null},rm={each:tl,"if":rl,"if-with":vl,"with":ul,unless:sl,partial:wl},sm=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,tm=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,um=/^[0-9][1-9]*$/,vm=new RegExp("^("+Object.keys(rm).join("|")+")\\b");jm=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;var wm,xm,ym,zm,Am,Bm,Cm,Dm,Em=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(c=a.pos,e={},l=a[b.delimiters],b.isStatic&&(e.s=!0),b.isTriple)e.t=Qk;else{if("!"===a.remaining()[0]){try{h=a.readExpression(),a.allowWhitespace(),a.remaining().indexOf(l[1])?h=null:e.t=Pk}catch(n){}if(!h)return k=a.remaining().indexOf(l[1]),~k?a.pos+=k:a.error("Expected closing delimiter ('"+l[1]+"')"),{t:Wk}}if(!h)if(f=qm(a),e.t=f||Pk,f===Rk)(g=a.matchPattern(vm))&&(e.n=g),a.allowWhitespace();else if((f===Wk||f===Tk)&&(j=a.remaining(),k=j.indexOf(l[1]),-1!==k))return e.r=j.substr(0,k).split(" ")[0],a.pos+=k,e}if(!h){a.allowWhitespace(),f===Vk?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=m):e.t===Pk&&a.matchString("yield ")?(a.allowWhitespace(),e.r="yield",m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1,h&&h.t===jl?(e.yn=h.n,h=null):h&&a.error("Only names are supported with yield.")):e.t===Rk&&"partial"===e.n?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1):h=a.readExpression();var o;if(e.t===Vk&&h&&(o=a.readExpression())&&(e={contextPartialExpression:h},h=o),j=a.remaining(),j.substr(0,l[1].length)!==l[1]&&":"!==j.charAt(0)){if(d=a.pos,a.pos=c,j=a.remaining(),k=j.indexOf(l[1]),-1!==k)return e.r=j.substr(0,k).trim(),jm.test(e.r)||a.error("Expected a legal Mustache reference"),a.pos+=k,e;a.pos=d}}if(Zb(a,h,e),e.contextPartialExpression&&(e.contextPartialExpression=[Zb(a,e.contextPartialExpression,{t:Vk})]),i=a.matchPattern(sm)){var p;e.i=(p=a.matchPattern(tm))?i+","+p:i}return e},Fm={t:Xk,exclude:!0},Gm=_b,Hm="<!--",Im="-->",Jm=function(a){var b,c,d,e,f;return b=a.pos,a.matchString(Hm)?(d=a.remaining(),e=d.indexOf(Im),-1===e&&a.error("Illegal HTML - expected closing comment sequence ('-->')"),c=d.substr(0,e),a.pos+=e+3,f={t:Wk,c:c},a.includeLinePositions&&(f.p=a.getLinePos(b)),f):null};wm=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,xm=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,ym={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},zm=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Am=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(ym).join("|")+"));?","g"),Bm=/</g,Cm=/>/g,Dm=/&/g;var Km,Lm,Mm,Nm,Om,Pm,Qm,Rm=/[-/\\^$*+?.()|[\]{}]/g,Sm=fc,Tm=gc,Um=/^<!--\s*/,Vm=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Wm=/\s*-->/,Xm=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1},Ym=function(a){var b,c,d,e;return c=a.remaining(),e=a.inside?"</"+a.inside:"<",a.inside&&!a.interpolate[a.inside]?b=c.indexOf(e):(d=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],a.inAttribute===!0?d.push('"',"'","=","<",">","`"):d.push(a.inAttribute?a.inAttribute:e),b=Xm(c,d)),b?(-1===b&&(b=c.length),a.pos+=b,a.inside?c.substr(0,b):cc(c.substr(0,b))):null},Zm=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,$m=function(a){var b;return a.matchString("</")?(b=a.matchPattern(Zm))?{t:Zk,e:b}:(a.pos-=2,void a.error("Illegal closing tag")):null},_m=/^[^\s"'>\/=]+/,an=/^[^\s"'=<>`]+/,bn=hc;Lm=function(a){return a["true"]=!0,a["false"]=!1,a.undefined=void 0,a["null"]=null,a}({}),Mm=new RegExp("^(?:"+Object.keys(Lm).join("|")+")"),Nm=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Om=/\$\{([^\}]+)\}/g,Pm=/^\$\{([^\}]+)\}/,Qm=/^\s*$/,Km=km.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&Qm.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(Pm),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(Mm))?{v:Lm[b]}:void 0},function(a){var b;return(b=a.matchPattern(Nm))?{v:+b}:void 0},function(a){var b,c=Kl(a);return c&&(b=a.values)?{v:c.v.replace(Om,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=nc(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var cn,dn=function(a,b){var c=new Km(a,{values:b});return c.result},en=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/;cn=km.extend({converters:[gm]});var fn,gn,hn=function(a){var b,c,d,e,f,g,h,i,j;if("string"==typeof a){if(c=en.exec(a))return b={m:c[1]},e="["+a.slice(b.m.length+1,-1)+"]",d=new cn(e),b.a=hm(d.result[0]),b;if(-1===a.indexOf(":"))return a.trim();a=[a]}if(b={},h=[],i=[],a){for(;a.length;)if(f=a.shift(),"string"==typeof f){if(g=f.indexOf(":"),-1!==g){g&&h.push(f.substr(0,g)),f.length>g+1&&(i[0]=f.substring(g+1));break}h.push(f)}else h.push(f);i=i.concat(a)}return h.length?i.length||"string"!=typeof h?(b={n:1===h.length&&"string"==typeof h[0]?h[0]:h},1===i.length&&"string"==typeof i[0]?(j=dn("["+i[0]+"]"),b.a=j?j.value:i[0].trim()):b.d=i):b=h:b="",b},jn=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,kn=/^[\s\n\/>]/,ln=/^on/,mn=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,nn=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,on={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},pn={exclude:!0};fn=[Tm,Gm,Jm,oc,Ym,$m],gn={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var qn,rn,sn=oc,tn=/^[ \t\f\r\n]+/,un=/[ \t\f\r\n]+$/,vn=function(a,b,c){var d;b&&(d=a[0],"string"==typeof d&&(d=d.replace(tn,""),d?a[0]=d:a.shift())),c&&(d=A(a),"string"==typeof d&&(d=d.replace(un,""),d?a[a.length-1]=d:a.pop()))},wn=/^\s*\r?\n/,xn=/\r?\n\s*$/,yn=function(a){var b,c,d,e,f;for(b=1;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b-2],qc(c)&&rc(d)&&qc(e)&&xn.test(e)&&wn.test(c)&&(a[b-2]=e.replace(xn,"\n"),a[b]=c.replace(wn,"")),sc(c)&&qc(d)&&xn.test(d)&&qc(c.f[0])&&wn.test(c.f[0])&&(a[b-1]=d.replace(xn,"\n"),c.f[0]=c.f[0].replace(wn,"")),qc(c)&&sc(d)&&(f=A(d.f),qc(f)&&xn.test(f)&&wn.test(c)&&(d.f[d.f.length-1]=f.replace(xn,"\n"),a[b]=c.replace(wn,"")));return a},zn=tc,An=/[ \t\f\r\n]+/g,Bn=/^(?:pre|script|style|textarea)$/i,Cn=/^\s+/,Dn=/\s+$/;qn=km.extend({init:function(a,b){xc(b,this),this.sectionDepth=0,this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1},b.sanitize===!0&&(b.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=b.sanitize&&b.sanitize.elements,this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes,this.includeLinePositions=b.includeLinePositions,this.StandardParser=qn},postProcess:function(a,b){return this.sectionDepth>0&&this.error("A section was left open"),wc(a,b.stripComments!==!1,b.preserveWhitespace,!b.preserveWhitespace,!b.preserveWhitespace,b.rewriteElse!==!1),a},converters:[Tm,Gm,Jm,sn,Ym]}),rn=function(a,b){void 0===b&&(b={});var c;xc(b),c={v:2},c.t=new qn(a,b).result;var d={};return zn(b.ractive?[b.ractive]:[],d,c.t),g(d)||(c.p=d),c};var En,Fn,Gn,Hn=rn,In=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],Jn={parse:zc,fromId:Ac,isHashedId:Bc,isParsed:Cc,getParseOptions:Dc,createHelper:yc},Kn=Jn,Ln={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:Hc(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=Fc(b,e),b._config.template={fn:e,result:d}),d=Hc(d,b),b.template=d.t,d.p&&Ic(b.partials,d.p)},reset:function(a){var b,c=Ec(a);return c?(b=Hc(c,a),a.template=b.t,Ic(a.partials,b.p,!0),!0):void 0}},Mn=Ln;En=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],Fn=function(a,b){this.name=a,this.useDefaults=b},Fn.prototype={constructor:Fn,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,b,c)},configure:function(a,b,c){var d,e=this.name,f=c[e];d=Xh(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c}},Gn=En.map(function(a){return new Fn(a,"computed"===a)});var Nn,On,Pn,Qn,Rn,Sn,Tn=Gn,Un=Jc,Vn=Nc;Qn={adapt:Ck,css:Kk,data:Nk,template:Mn},Pn=Object.keys(Ih),Sn=Qc(Pn.filter(function(a){return!Qn[a]})),Rn=Qc(Pn.concat(Tn.map(function(a){return a.name}))),On=[].concat(Pn.filter(function(a){return!Tn[a]&&!Qn[a]}),Tn,Qn.data,Qn.template,Qn.css),Nn={extend:function(a,b,c){return Oc("extend",a,b,c)},init:function(a,b,c){return Oc("init",a,b,c)},reset:function(a){return On.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},order:On,getConstructTarget:function(a,b){return b.onconstruct?{onconstruct:Un(a,"onconstruct",b.onconstruct).bind(a),fire:a.fire.bind(a)}:a}};var Wn=Nn,Xn=Rc,Yn=Sc,Zn=Tc,$n=Uc,_n=Vc,ao=Wc,bo=Xc,co=Yc,eo=Zc,fo=$c,go=_c,ho=ad,io=function(){return b(this.node)},jo=function(a){this.type=Ok,this.text=a.template};jo.prototype={detach:io,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?ec(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var ko=jo,lo=bd,mo=cd,no=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=Ki(a.root,b,a.parentFragment),void 0!=d?this.resolve(d):Ri.addUnresolved(this)};no.prototype={resolve:function(a){this.keypath&&!a&&Ri.addUnresolved(this),this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(K(this.ref))},rebind:function(a,b){var c;void 0!=this.keypath&&(c=this.keypath.replace(a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||Ri.removeUnresolved(this)}};var oo=no,po=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},qo={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};po.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=qo[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(K("@"+d.prefix+dd(this.cached,d)));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===tl&&void 0!==(a=dd(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback(K("@"+d.prefix+a));c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=dd(c,d)))return this.callback(K("@"+d.prefix+a.str));c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var ro=po,so=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};so.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback(K("@"+a))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var to=so,uo=ed;ed.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var vo,wo=fd,xo={},yo=gd,zo=Function.prototype.bind;vo=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return wo(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},vo.prototype={bubble:function(){this.ready&&(this.uniqueString=id(this.str,this.keypaths),this.keypath=jd(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e,f=this;d=this.keypath,a=this.root.viewmodel.computations[d.str],a?this.root.viewmodel.mark(d):(e=yo(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:a.isSpecial?(b=a.value,function(){return b}):function(){var b=f.root.viewmodel.get(a,{noUnwrap:!0});return"function"==typeof b&&(b=ld(b,f.root)),b}}),c={deps:this.keypaths.filter(kd),get:function(){var a=b.map(hd);return e.apply(null,a)}},a=this.root.viewmodel.compute(d,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var Ao=vo,Bo=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===jl?this.refResolver=wo(this,a.n,function(a){d.resolve(a)}):new Ao(b,c,a,function(a){d.resolve(a)})};Bo.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Co=Bo,Do=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=Ki(d,e,g))?this.base=f:this.baseResolver=new oo(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new Co(a,h,g)}),this.ready=!0,this.bubble()};Do.prototype={getKeypath:function(){var a=this.members.map(md);return!a.every(nd)||this.baseResolver?null:this.base.join(a.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(U)},rebind:function(a,b){var c;this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=K(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(od),this.bubble()}};var Eo=Do,Fo=pd,Go=qd,Ho=rd,Io={getValue:mo,init:Fo,resolve:Go,rebind:Ho},Jo=function(a){this.type=Pk,Io.init(this,a)};Jo.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:Io.resolve,rebind:Io.rebind,detach:io,unbind:lo,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&b(this.node)},getValue:Io.getValue,setValue:function(a){var b;this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),h(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&Ri.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";return a?ec(b):b}};var Ko=Jo,Lo=sd,Mo=td,No=ud,Oo=vd,Po=wd,Qo=xd,Ro=yd,So=zd,To=Ad,Uo=function(a,b){Io.rebind.call(this,a,b)},Vo=Cd,Wo=Dd,Xo=Od,Yo=Pd,Zo=Qd,$o=Td,_o=function(a){this.type=Rk,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===sl,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}})),this.renderedFragments=[],this.length=0,Io.init(this,a)};_o.prototype={bubble:Lo,detach:Mo,find:No,findAll:Oo,findAllComponents:Po,findComponent:Qo,findNextNode:Ro,firstNode:So,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:Io.getValue,shuffle:To,rebind:Uo,render:Vo,resolve:Io.resolve,setValue:Wo,toString:Xo,unbind:Yo,unrender:Zo,update:$o};var ap,bp,cp=_o,dp=Ud,ep=Vd,fp=Wd,gp=Xd,hp={};try{Lh("table").innerHTML="foo"}catch(ai){ap=!0,bp={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var ip=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(ap&&(e=bp[b.tagName])?(d=Yd("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===Eh.svg?(d=Yd("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=Yd(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},jp=Zd,kp=_d,lp=ae,mp=be,np=ce,op=de,pp=function(a){this.type=Qk,Io.init(this,a)};pp.prototype={detach:dp,find:ep,findAll:fp,firstNode:gp,getValue:Io.getValue,rebind:Io.rebind,render:kp,resolve:Io.resolve,setValue:lp,toString:mp,unbind:lo,unrender:np,update:op};
var qp,rp,sp,tp,up=pp,vp=function(){this.parentFragment.bubble()},wp=ee,xp=function(a){return this.node?Mh(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},yp=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},zp=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},Ap=function(a){return this.fragment?this.fragment.findComponent(a):void 0},Bp=fe,Cp=ge,Dp=he,Ep=/^true|on|yes|1$/i,Fp=/^[0-9]+$/,Gp=function(a,b){var c;c=b.twoway,void 0!==c&&(a.twoway=0===c||Ep.test(c),delete b.twoway),c=b.lazy,void 0!==c&&(a.lazy=0!==c&&Fp.test(c)?parseInt(c):0===c||Ep.test(c),delete b.lazy)},Hp=ie;qp="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),rp="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),sp=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},tp=sp(qp.concat(rp));var Ip=function(a){var b=a.toLowerCase();return tp[b]||b},Jp=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==Eh.html?Ip(b):b;else if(b=b.substring(c+1),a.name=Ip(b),a.namespace=Eh[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},Kp=je,Lp=ke,Mp=le,Np={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Op=me,Pp=ne,Qp=pe,Rp=qe,Sp=re,Tp=se,Up=te,Vp=ue,Wp=ve,Xp=we,Yp=xe,Zp=ye,$p=ze,_p=Ae,aq=Be,bq=Ce,cq=function(a){this.init(a)};cq.prototype={bubble:Hp,init:Lp,rebind:Mp,render:Op,toString:Pp,unbind:Qp,update:bq};var dq,eq=cq,fq=function(a,b){var c,d,e=[];for(c in b)b.hasOwnProperty(c)&&(d=new eq({element:a,name:c,value:b[c],root:a.root}),e.push(e[c]=d));return e};"undefined"!=typeof document&&(dq=Lh("div"));var gq=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new Et({root:a.root,owner:this,template:[b]})};gq.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===Eh.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=De(a,this.isSvg),this.attributes.filter(function(a){return Ee(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var hq=gq,iq=function(a,b){return b?b.map(function(b){return new hq(a,b)}):[]},jq=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c.str.slice(-1))return o("Two-way binding does not work with expressions (`%s` on <%s>)",b.resolver.uniqueString,a.name),!1}else b.resolver.forceResolution(),c=b.keypath;this.attribute.isTwoway=!0,this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=Fe(a))&&(this.resetValue=d,e.formBindings.push(this))};jq.prototype={handleChange:function(){var a=this;Ri.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),Ri.scheduleTask(function(){return a.attribute.locked=!1}),Ri.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(B(this.root._twowayBindings[b.str],this),this.keypath=c,a=this.root._twowayBindings[c.str]||(this.root._twowayBindings[c.str]=[]),a.push(this))},unbind:function(){}},jq.extend=function(a){var b,d=this;return b=function(a){jq.call(this,a),this.init&&this.init()},b.prototype=Xh(d.prototype),c(b.prototype,a),b.extend=jq.extend,b};var kq,lq=jq,mq=Ge,nq=lq.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",mq,!1),this.root.lazy||(a.addEventListener("input",mq,!1),a.attachEvent&&a.addEventListener("keyup",mq,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",mq,!1),a.removeEventListener("input",mq,!1),a.removeEventListener("keyup",mq,!1)},getValue:function(){return this.element.node.innerHTML}}),oq=nq,pq={},qq=He,rq=lq.extend({name:"checked",init:function(){this.siblings=qq(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",mq,!1),a.attachEvent&&a.addEventListener("click",mq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",mq,!1),a.removeEventListener("click",mq,!1)},handleChange:function(){Ri.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),Ri.end()},getValue:function(){return this.element.node.checked},unbind:function(){B(this.siblings,this)}}),sq=rq,tq=lq.extend({name:"name",init:function(){this.siblings=qq(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath.str+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",mq,!1),a.attachEvent&&a.addEventListener("click",mq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",mq,!1),a.removeEventListener("click",mq,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&lq.prototype.handleChange.call(this)},rebound:function(a,b){var c;lq.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath.str+"}}")},unbind:function(){B(this.siblings,this)}}),uq=tq,vq=lq.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.siblings=qq(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){B(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=e(a)?x(a,b):a==b,c.name="{{"+this.keypath.str+"}}",c.checked=this.isChecked,c.addEventListener("change",mq,!1),c.attachEvent&&c.addEventListener("click",mq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",mq,!1),a.removeEventListener("click",mq,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,lq.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(Ie).map(Je)}}),wq=vq,xq=lq.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",mq,!1),a.attachEvent&&a.addEventListener("click",mq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",mq,!1),a.removeEventListener("click",mq,!1)},getValue:function(){return this.element.node.checked}}),yq=xq,zq=lq.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",mq,!1)},unrender:function(){this.element.node.removeEventListener("change",mq,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Ri.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),Aq=zq,Bq=Aq.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",mq,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",mq,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&y(c,b)||Aq.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Ri.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Cq=Bq,Dq=lq.extend({render:function(){this.element.node.addEventListener("change",mq,!1)},unrender:function(){this.element.node.removeEventListener("change",mq,!1)},getValue:function(){return this.element.node.files}}),Eq=Dq;kq=lq.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:i(this.element.lazy)&&(a=!1,c=this.element.lazy),b.addEventListener("change",mq,!1),a||(b.addEventListener("input",c?Le:mq,!1),b.attachEvent&&b.addEventListener("keyup",c?Le:mq,!1)),b.addEventListener("blur",Ke,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",mq,!1),a.removeEventListener("input",mq,!1),a.removeEventListener("keyup",mq,!1),a.removeEventListener("blur",Ke,!1)}});var Fq=kq,Gq=Fq.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),Hq=Me,Iq=Oe,Jq=Pe,Kq=Qe,Lq=/^event(?:\.(.+))?/,Mq=Re,Nq=Ve,Oq={},Pq={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Qq=We,Rq=Ye,Sq=Ze,Tq=$e,Uq=_e,Vq=af,Wq=function(a,b,c){this.init(a,b,c)};Wq.prototype={bubble:Iq,fire:Jq,getAction:Kq,init:Mq,listen:Qq,rebind:Rq,render:Sq,resolve:Tq,unbind:Uq,unrender:Vq};var Xq=Wq,Yq=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new Xq(a,e[c],b[d]),g.push(f);return g},Zq=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new Et({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new Et({template:b.d,root:c,owner:a}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getArgsList(),f.ready&&f.update()}),this.fn=q("decorators",c,d),this.fn||o(mi(d,"decorator")))};Zq.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var $q,_q,ar,br=Zq,cr=hf,dr=jf,er=pf,fr=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};Bh?(_q={},ar=Lh("div").style,$q=function(a){var b,c,d;if(a=fr(a),!_q[a])if(void 0!==ar[a])_q[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=Gh.length;b--;)if(c=Gh[b],void 0!==ar[c+d]){_q[a]=c+d;break}return _q[a]}):$q=null;var gr,hr,ir=$q;Bh?(hr=window.getComputedStyle||$h.getComputedStyle,gr=function(a){var b,c,d,f,g;if(b=hr(this.node),"string"==typeof a)return g=b[ir(a)],"0px"===g&&(g=0),g;if(!e(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)f=a[d],g=b[ir(f)],"0px"===g&&(g=0),c[f]=g;return c}):gr=null;var jr=gr,kr=function(a,b){var c;if("string"==typeof a)this.node.style[ir(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[ir(c)]=a[c]);return this},lr=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(p(mi(a.easing,"easing")),b=qf)):b="function"==typeof a.easing?a.easing:qf,this.easing=b,this.start=vi(),this.end=this.start+this.duration,this.running=!0,Ui.add(this)};lr.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var mr,nr,or,pr,qr,rr,sr,tr,ur=lr,vr=new RegExp("^-(?:"+Gh.join("|")+")-"),wr=function(a){return a.replace(vr,"")},xr=new RegExp("^(?:"+Gh.join("|")+")([A-Z])"),yr=function(a){var b;return a?(xr.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},zr={},Ar={};Bh?(nr=Lh("div").style,function(){void 0!==nr.transition?(or="transition",pr="transitionend",qr=!0):void 0!==nr.webkitTransition?(or="webkitTransition",pr="webkitTransitionEnd",qr=!0):qr=!1}(),or&&(rr=or+"Duration",sr=or+"Property",tr=or+"TimingFunction"),mr=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[sr]=d.map(ir).map(yr).join(","),a.node.style[tr]=yr(c.easing||"linear"),a.node.style[rr]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(fr(wr(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(pr,j,!1),h=!0,i())},a.node.addEventListener(pr,j,!1),setTimeout(function(){for(var e,k,l,m,n,p=d.length,q=[];p--;)m=d[p],e=f+m,qr&&!Ar[e]&&(a.node.style[ir(m)]=b[m],zr[e]||(k=a.getStyle(m),zr[e]=a.getStyle(m)!=b[m],Ar[e]=!zr[e],Ar[e]&&(a.node.style[ir(m)]=k))),(!qr||Ar[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?o("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!"):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],q.push({name:ir(m),interpolator:oi(parseFloat(k),parseFloat(b[m])),suffix:n}));q.length?new ur({root:a.root,duration:c.duration,easing:fr(c.easing||""),step:function(b){var c,d;for(d=q.length;d--;)c=q[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(pr,j,!1),h=!0,i())},0)},c.delay||0)}):mr=null;var Br,Cr,Dr,Er,Fr,Gr=mr;if("undefined"!=typeof document){if(Br="hidden",Fr={},Br in document)Dr="";else for(Er=Gh.length;Er--;)Cr=Gh[Er],Br=Cr+"Hidden",Br in document&&(Dr=Cr);void 0!==Dr?(document.addEventListener(Dr+"visibilitychange",rf),rf()):("onfocusout"in document?(document.addEventListener("focusout",sf),document.addEventListener("focusin",tf)):(window.addEventListener("pagehide",sf),window.addEventListener("blur",sf),window.addEventListener("pageshow",tf),window.addEventListener("focus",tf)),Fr.hidden=!1)}var Hr,Ir,Jr,Kr=Fr;Bh?(Ir=window.getComputedStyle||$h.getComputedStyle,Hr=function(a,b,c){var d,e=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(Kr.hidden)return this.setStyle(a,b),Jr||(Jr=Fi.resolve());"string"==typeof a?(d={},d[a]=b):(d=a,c=b),c||(o('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),c=this);var f=new Fi(function(a){var b,f,g,h,i,j,k;if(!c.duration)return e.setStyle(d),void a();for(b=Object.keys(d),f=[],g=Ir(e.node),i={},j=b.length;j--;)k=b[j],h=g[ir(k)],"0px"===h&&(h=0),h!=d[k]&&(f.push(k),e.node.style[ir(k)]=h);return f.length?void Gr(e,d,c,f,a):void a()});return f}):Hr=null;var Lr=Hr,Mr=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),d({},a,b)},Nr=uf,Or=function(a,b,c){this.init(a,b,c)};Or.prototype={init:er,start:Nr,getStyle:jr,setStyle:kr,animateStyle:Lr,processParams:Mr};var Pr,Qr,Rr=Or;Pr=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},Qr=function(){this.node.type&&"text/javascript"!==this.node.type||o("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var Sr=wf,Tr=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(Cf).join("")+this.conditionalAttributes.map(Cf).join(""),"option"===this.name&&Af(this)&&(a+=" selected"),"input"===this.name&&Bf(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=ec(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),xm.test(this.template.e)||(a+="</"+this.template.e+">"),a)},Ur=Df,Vr=Ef,Wr=function(a){this.init(a)};Wr.prototype={bubble:vp,detach:wp,find:xp,findAll:yp,findAllComponents:zp,findComponent:Ap,findNextNode:Bp,firstNode:Cp,getAttribute:Dp,init:cr,rebind:dr,render:Sr,toString:Tr,unbind:Ur,unrender:Vr};var Xr=Wr,Yr=/^\s*$/,Zr=/^\s*/,$r=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&Yr.test(c)&&b.shift(),d=A(b),void 0!==d&&Yr.test(d)&&b.pop(),e=b.reduce(Gf,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},_r=Hf,as=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},bs=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=Vk,this.index=a.index,this.name=a.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Io.init(this,a),!this.keypath&&(c=_r(this.root,this.name))&&(lo.call(this),this.isNamed=!0,this.setTemplate(c))};bs.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||Ho.call(this,a,b),this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Io.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=_r(this.root,""+a)),!b&&this.name&&(b=_r(this.root,this.name))&&(lo.call(this),this.isNamed=!0),b||(this.root.debug?n:p)('Could not find template for partial "%s"',this.name),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&Ri.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new Et({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Ok?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?as(b,e[0]):b):b},unbind:function(){this.isNamed||lo.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var cs=bs,ds=Lf,es=new yi("detach"),fs=Mf,gs=Nf,hs=Of,is=Pf,js=Qf,ks=Rf,ls=Sf,ms={},ns=Tf,os=Wf,ps=Xf,qs=$f,rs=dg,ss=eg,ts=/\$\{([^\}]+)\}/g,us=function(a){return"function"==typeof a?{get:a}:"string"==typeof a?{get:fg(a)}:("object"==typeof a&&"string"==typeof a.get&&(a={get:fg(a.get),set:a.set}),a)},vs=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};vs.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a.str]=null,this.viewmodel.register(a,this.computation,"computed")}};var ws=vs,xs=function(a,b,c){var d=this;this.ractive=a,this.viewmodel=a.viewmodel,this.key=b,this.getter=c.get,this.setter=c.set,this.hardDeps=c.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(b){return a.viewmodel.register(b,d,"computed")}),this._dirty=this._firstRun=!0};xs.prototype={constructor:xs,init:function(){var a;this.bypass=!0,a=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==a&&this.set(a)},invalidate:function(){this._dirty=!0},get:function(){var a,b,c,d=this,e=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(a=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?e=!0:[this.hardDeps,this.softDeps].forEach(function(b){var c,f,g;if(!e)for(g=b.length;g--;)if(c=b[g],f=a.viewmodel.get(c),!h(f,d.depValues[c.str]))return d.depValues[c.str]=f,void(e=!0)}),e){a.viewmodel.capture();try{this.value=this.getter.call(a)}catch(f){a.debug&&(o('Failed to compute "%s"',this.key.str),bi(f.stack||f)),this.value=void 0}b=a.viewmodel.release(),c=this.updateDependencies(b),c&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){d.depValues[b.str]=a.viewmodel.get(b)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,gg(this.viewmodel,d)&&!this.unresolvedDeps[d.str]?(f=new ws(this,d.str),a.splice(b,1),this.unresolvedDeps[d.str]=f,Ri.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var ys=xs,zs=hg,As={FAILED_LOOKUP:!0},Bs={},Cs=ig,Ds=kg,Es=mg;mg.prototype.setValue=function(a){this.viewmodel.set(this.keypath,a,{noMapping:!0})};var Fs=ng;ng.prototype={get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.setup()},map:function(a){return a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.resolved&&this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){if(!this.resolved)throw new Error("Something very odd happened. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new Es(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);a.origin.register(c,b.dep,b.group),b.dep.setValue(a.origin.get(c))}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(a,b,c){for(var d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}};var Gs=og,Hs=pg,Is=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},Js={},Ks=qg,Ls=tg,Ms=vg,Ns=wg,Os={implicit:!0},Ps={noCascade:!0},Qs=yg,Rs=Ag,Ss=Bg,Ts=function(a,b){var c,d;this.ractive=a,this.mappings=b||Xh(null);for(c in b)b[c].initViewmodel(this);if(a.data&&a.parameters!==!0)for(c in a.data)(d=this.mappings[c])&&void 0===d.getValue()&&d.setValue(a.data[c]);this.cache={},this.cacheMap=Xh(null),this.deps={computed:Xh(null),"default":Xh(null)},this.depsMap={computed:Xh(null),"default":Xh(null)},this.patternObservers=[],this.specials=Xh(null),this.wrapped=Xh(null),this.computations=Xh(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={}};Ts.prototype={adapt:ns,applyChanges:qs,capture:rs,clearCache:ss,compute:zs,get:Cs,init:Ds,map:Gs,mark:Hs,merge:Ks,register:Ls,release:Ms,set:Ns,smartUpdate:Qs,teardown:Rs,unregister:Ss};var Us=Ts;Dg.prototype={constructor:Dg,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?Eg(this.queue,b).push(a):Fg(this,a),delete this.inProcess[a._guid]}};var Vs=Dg,Ws=new yi("construct"),Xs=new yi("config"),Ys=new Vs("init"),Zs=0,$s=Gg,_s=function(a,b,d,e,f){var g,h,i,j,k,l={};for(h=a.parentFragment,i=a.root,f=f||{},c(l,f||{}),f.content=e||[],l[""]=f.content,b.defaults.el&&o("The <%s/> component has a default `el` property; it has been disregarded",a.name),j=h;j;){if(j.owner.type===_k){k=j.owner.container;break}j=j.parent}return g=Xh(b.prototype),$s(g,{el:null,append:!0,data:d.data,partials:f,magic:i.magic||b.defaults.magic,modifyArrays:i.modifyArrays,adapt:i.adapt},{parent:i,component:a,container:k,mappings:d.mappings,inlinePartials:l}),g},at=Ig;Ig.prototype={bubble:function(){this.dirty||(this.dirty=!0,Ri.addView(this))},update:function(){var a=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key.str,this.fragment.getValue()),a.mark(this.key),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var bt=Jg,ct=Og;Og.prototype={resolve:function(a){this.resolved=!0,this.ready?this.readyResolve(a):this.notReadyResolve(a)},notReadyResolve:function(a){if(a.isSpecial)this.parameters.addData(this.key.str,a.value);else{var b=this.parameters.addMapping(this.key,a);void 0===b.getValue()&&(b.updatable=!0)}},readyResolve:function(a){var b=this.parameters.component.instance.viewmodel;a.isSpecial?(this.parameters.addData(this.key.str,a.value),b.mark(this.key)):b.reversedMappings&&b.reversedMappings[this.key.str]?b.reversedMappings[this.key.str].rebind(a):b.mappings[this.key.str].resolve(a)}};var dt=Pg;Rg.prototype={add:function(a,b){if("string"==typeof b){var c=dn(b);this.addData(a.str,c?c.value:b)}else if(0===b)this.addData(a.str);else{var d;d=Sg(b)?new ct(this,a,b[0]).resolver:new at(this,a,b),this.component.resolvers.push(d)}},addData:function(a,b){this.data[a]=b},addMapping:function(a,b){var c;return b&&(c=this.parentViewmodel.mappings[b.str]),this.mappings[a.str]=new Fs(a,{origin:c?c.origin:this.parentViewmodel,keypath:c?c.keypath:b})}};var et=Tg,ft=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},gt=Vg,ht=Wg,it=Xg,jt=Yg,kt=new yi("teardown"),lt=Zg,mt=_g,nt=function(a,b){this.init(a,b)};nt.prototype={detach:fs,find:gs,findAll:hs,findAllComponents:is,findComponent:js,findNextNode:ks,firstNode:ls,init:gt,rebind:ht,render:it,toString:jt,unbind:lt,unrender:mt};var ot=nt,pt=function(a){this.type=Wk,this.value=a.template.c};pt.prototype={detach:io,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var qt=pt,rt=function(a){var b,c;this.type=_k,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.yn||"";this.fragment=new Et({owner:this,root:b.parent,template:b._inlinePartials[d]||[],pElement:this.containerFragment.pElement}),e(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],Ri.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};rt.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)
},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),B(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var st=rt,tt=function(a){this.declaration=a.template.a};tt.prototype={init:gi,render:gi,unrender:gi,teardown:gi,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var ut=tt,vt=ah,wt=ch,xt=dh,yt=eh,zt=hh,At=jh,Bt=function(a){this.init(a)};Bt.prototype={bubble:Xn,detach:Yn,find:Zn,findAll:$n,findAllComponents:_n,findComponent:ao,findNextNode:bo,firstNode:co,getArgsList:fo,getNode:go,getValue:ho,init:vt,rebind:wt,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:xt,toString:yt,unbind:zt,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:At};var Ct,Dt,Et=Bt,Ft=["template","partials","components","decorators","events"],Gt=new yi("reset"),Ht=kh,It=function(a,b){function c(b,d,f){f&&f.partials[a]||b.forEach(function(b){b.type===Vk&&b.getPartialName()===a&&d.push(b),b.fragment&&c(b.fragment.items,d,f),e(b.fragments)?c(b.fragments,d,f):e(b.items)?c(b.items,d,f):b.type===$k&&b.instance&&c(b.instance.fragment.items,d,b.instance),b.type===Uk&&(e(b.attributes)&&c(b.attributes,d,f),e(b.conditionalAttributes)&&c(b.conditionalAttributes,d,f))})}var d,f=[];return c(this.fragment.items,f),this.partials[a]=b,d=Ri.start(this,!0),f.forEach(function(b){b.value=void 0,b.setValue(a)}),Ri.end(),d},Jt=lh,Kt=Wj("reverse"),Lt=/\*/,Mt=mh,Nt=Wj("shift"),Ot=Wj("sort"),Pt=Wj("splice"),Qt=nh,Rt=new yi("teardown"),St=oh,Tt=qh,Ut=rh,Vt=new yi("unrender"),Wt=sh,Xt=Wj("unshift"),Yt=new yi("update"),Zt=th,$t=uh,_t={add:si,animate:Yi,detach:$i,find:_i,findAll:ij,findAllComponents:jj,findComponent:kj,findContainer:lj,findParent:mj,fire:qj,get:sj,insert:uj,merge:vj,observe:Mj,observeOnce:Nj,off:Qj,on:Rj,once:Sj,pop:Xj,push:Yj,render:gk,reset:Ht,resetPartial:It,resetTemplate:Jt,reverse:Kt,set:Mt,shift:Nt,sort:Ot,splice:Pt,subtract:Qt,teardown:St,toggle:Tt,toHTML:Ut,toHtml:Ut,unrender:Wt,unshift:Xt,update:Zt,updateModel:$t},au=wh,bu=1,cu=Ah,du=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath.str,d.index={},(c=uo(b.proxy.parentFragment))&&(d.index=uo.resolve(c)),d):d};Ct=function(a){$s(this,a)},Dt={extend:{value:cu},getNodeInfo:{value:du},parse:{value:Hn},Promise:{value:Fi},svg:{value:Fh},magic:{value:Dh},VERSION:{value:"<%= pkg.version %>"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:Jh},events:{writable:!0,value:{}},interpolators:{writable:!0,value:qi},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},Zh(Ct,Dt),Ct.prototype=c(_t,Ih),Ct.prototype.constructor=Ct,Ct.defaults=Ct.prototype;var eu="function";if(typeof Date.now!==eu||typeof String.prototype.trim!==eu||typeof Object.keys!==eu||typeof Array.prototype.indexOf!==eu||typeof Array.prototype.forEach!==eu||typeof Array.prototype.map!==eu||typeof Array.prototype.filter!==eu||"undefined"!=typeof window&&typeof window.addEventListener!==eu)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var fu=Ct;return fu});