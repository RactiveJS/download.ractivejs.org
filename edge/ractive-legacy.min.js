!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ractive=e()}(this,function(){"use strict";function t(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function e(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){return null!=t&&t.toString?t:""}function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];for(var i,s;s=n.shift();)for(i in s)Fa.call(s,i)&&(t[i]=s[i]);return t}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function s(t){return"[object Array]"===ja.call(t)}function o(t){return Ra.test(ja.call(t))}function a(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)}function h(t){return t&&"[object Object]"===ja.call(t)}function c(t,e){return t.replace(/%s/g,function(){return e.shift()})}function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];throw t=c(t,n),new Error(t)}function f(){Hw.DEBUG&&Oa.apply(null,arguments)}function d(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];t=c(t,n),Pa(t,n)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];t=c(t,n),Na[t]||(Na[t]=!0,Pa(t,n))}function m(){Hw.DEBUG&&d.apply(null,arguments)}function v(){Hw.DEBUG&&p.apply(null,arguments)}function g(t,e,n){var r=y(t,e,n);return r?r[t][n]:null}function y(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function w(t){return function(){return t}}function b(t){var e,n,r,i,s,o;for(e=t.split("."),(n=Ba[e.length])||(n=x(e.length)),s=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)o=n[i].map(r).join("."),s.hasOwnProperty(o)||(s.push(o),s[o]=!0);return s}function x(t){var e,n,r,i,s,o,a,u,h="";if(!Ba[t]){for(r=[];h.length<t;)h+=1;for(e=parseInt(h,2),i=function(t){return"1"===t},s=0;e>=s;s+=1){for(n=s.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,o=0;a>o;o++)u.push(i(n[o]));r[s]=u}Ba[t]=r}return Ba[t]}function k(t,e,n,r){var i=t[e];if(!i||!i.equalsOrStartsWith(r)&&i.equalsOrStartsWith(n))return t[e]=i?i.replace(n,r):r,!0}function E(t){var e=t.slice(2);return"i"===t[1]&&u(e)?+e:e}function _(t){return null==t?t:(Qa.hasOwnProperty(t)||(Qa[t]=new Za(t)),Qa[t])}function A(t,e){function n(e,n){var r,i,o;return n.isRoot?o=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(r=t.viewmodel.wrapped[n.str],i=r?r.get():t.viewmodel.get(n),o=i?Object.keys(i):null),o&&o.forEach(function(t){"_ractive"===t&&s(i)||e.push(n.join(t))}),e}var r,i,o;for(r=e.str.split("."),o=[Ka];i=r.shift();)"*"===i?o=o.reduce(n,[]):o[0]===Ka?o[0]=_(i):o=o.map(S(i));return o}function S(t){return function(e){return e.join(t)}}function C(t){return t?t.replace($a,".$1"):""}function O(t,e,n){if("string"!=typeof e||!u(n))throw new Error("Bad arguments");var r=void 0,i=void 0;if(/\*/.test(e))return i={},A(t,_(C(e))).forEach(function(e){var r=t.viewmodel.get(e);if(!u(r))throw new Error(Ya);i[e.str]=r+n}),t.set(i);if(r=t.get(e),!u(r))throw new Error(Ya);return t.set(e,+r+n)}function P(t,e){return Ga(this,t,void 0===e?1:+e)}function T(t){this.event=t,this.method="on"+t,this.deprecate=nu[t]}function F(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function j(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]==e)return!0;return!1}function R(t,e){var n;if(!s(t)||!s(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function N(t){return"string"==typeof t?[t]:void 0===t?[]:t}function L(t){return t[t.length-1]}function D(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function I(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function V(t){setTimeout(t,0)}function W(t,e){return function(){for(var n;n=t.shift();)n(e)}}function U(t,e,n,r){var i;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof ru)e.then(n,r);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{i=e.then}catch(s){return void r(s)}if("function"==typeof i){var o,a,u;a=function(e){o||(o=!0,U(t,e,n,r))},u=function(t){o||(o=!0,r(t))};try{i.call(e,a,u)}catch(s){if(!o)return r(s),void(o=!0)}}else n(e)}}function M(t,e,n){var r;return e=C(e),"~/"===e.substr(0,2)?(r=_(e.substring(2)),$(t,r.firstKey,n)):"."===e[0]?(r=z(hu(n),e),r&&$(t,r.firstKey,n)):r=B(t,_(e),n),r}function z(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return _(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),_(n.join("."))}return _(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function B(t,e,n,r){var i,s,o,a,u;if(e.isRoot)return e;for(s=e.firstKey;n;)if(i=n.context,n=n.parent,i&&(a=!0,o=t.viewmodel.get(i),o&&("object"==typeof o||"function"==typeof o)&&s in o))return i.join(e.str);return q(t.viewmodel,s)?e:t.parent&&!t.isolated&&(a=!0,n=t.component.parentFragment,s=_(s),u=B(t.parent,s,n,!0))?(t.viewmodel.map(s,{origin:t.parent.viewmodel,keypath:u}),e):r||a?void 0:(t.viewmodel.set(e,void 0),e)}function $(t,e){var n;!t.parent||t.isolated||q(t.viewmodel,e)||(e=_(e),(n=B(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function q(t,e){return""===e||e in t.data||e in t.computations||e in t.mappings}function Q(t){t.teardown()}function Z(t){t.unbind()}function H(t){t.unrender()}function K(t){t.detach()}function G(t){t.detachNodes()}function Y(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function J(){for(var t,e,n;fu.ractives.length;)e=fu.ractives.pop(),n=e.viewmodel.applyChanges(),n&&vu.fire(e,n);for(X(),t=0;t<fu.views.length;t+=1)fu.views[t].update();for(fu.views.length=0,t=0;t<fu.tasks.length;t+=1)fu.tasks[t]();return fu.tasks.length=0,fu.ractives.length?J():void 0}function X(){var t,e,n,r;for(t=mu.length;t--;)e=mu[t],e.keypath?mu.splice(t,1):(n=cu(e.root,e.ref,e.parentFragment))&&((r||(r=[])).push({item:e,keypath:n}),mu.splice(t,1));r&&r.forEach(tt)}function tt(t){t.item.resolve(t.keypath)}function et(t,e,n){var r,i,s,o,a,u,h,c,l,f,d,p,m,v;if(r=new uu(function(t){return i=t}),"object"==typeof t){n=e||{},u=n.easing,h=n.duration,a=[],c=n.step,l=n.complete,(c||l)&&(d={},n.step=null,n.complete=null,f=function(t){return function(e,n){d[t]=n}});for(s in t)t.hasOwnProperty(s)&&((c||l)&&(p=f(s),n={easing:u,duration:h},c&&(n.step=p)),n.complete=l?p:ka,a.push(nt(this,s,t[s],n)));return v={easing:u,duration:h},c&&(v.step=function(t){return c(t,d)}),l&&r.then(function(t){return l(t,d)}),v.complete=i,m=nt(this,null,null,v),a.push(m),r.stop=function(){for(var t;t=a.pop();)t.stop();m&&m.stop()},r}return n=n||{},n.complete&&r.then(n.complete),n.complete=i,o=nt(this,t,e,n),r.stop=function(){return o.stop()},r}function nt(t,e,n,r){var i,s,o,u;return e&&(e=_(C(e))),null!==e&&(u=t.viewmodel.get(e)),bu.abort(e,t),a(u,n)?(r.complete&&r.complete(r.to),_u):(r.easing&&(i="function"==typeof r.easing?r.easing:t.easing[r.easing],"function"!=typeof i&&(i=null)),s=void 0===r.duration?400:r.duration,o=new ku({keypath:e,from:u,to:n,root:t,duration:s,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),bu.add(o),t._animations.push(o),o)}function rt(){return this.detached?this.detached:(this.el&&D(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Su.fire(this),this.detached)}function it(t){return this.el?this.fragment.find(t):null}function st(t,e){var n;return n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?la(t.node,this.selector):null,n?(this.push(t.node||t.instance),e||this._makeDirty(),!0):void 0}function ot(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function at(t){var e,n;for(e=[t],n=ot(t);n;)e.push(n),n=ot(n);return e}function ut(t,e,n,r){var i=[];return Aa(i,{selector:{value:e},live:{value:n},_isComponentQuery:{value:r},_test:{value:Ou}}),n?(Aa(i,{cancel:{value:Pu},_root:{value:t},_sort:{value:ju},_makeDirty:{value:Ru},_remove:{value:Nu},_dirty:{value:!1,writable:!0}}),i):i}function ht(t,e){var n,r;return this.el?(e=e||{},n=this._liveQueries,(r=n[t])?e&&e.live?r:r.slice():(r=Lu(this,t,!!e.live,!1),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAll(t,r),r)):[]}function ct(t,e){var n,r;return e=e||{},n=this._liveComponentQueries,(r=n[t])?e&&e.live?r:r.slice():(r=Lu(this,t,!!e.live,!0),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAllComponents(t,r),r)}function lt(t){return this.fragment.findComponent(t)}function ft(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function dt(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function pt(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var r=_(e).wildcardMatches();mt(t,r,n.event,n.args,!0)}}function mt(t,e,n,r){var i,s,o=void 0===arguments[4]?!1:arguments[4],a=!0;for(zu.enqueue(t,n),s=e.length;s>=0;s--)i=t._subs[e[s]],i&&(a=vt(t,i,n,r)&&a);if(zu.dequeue(t),t.parent&&a){if(o&&t.component){var u=t.component.name+"."+e[e.length-1];e=_(u).wildcardMatches(),n&&(n.component=t)}mt(t.parent,e,n,r)}}function vt(t,e,n,r){var i=null,s=!1;n&&!n._noArg&&(r=[n].concat(r)),e=e.slice();for(var o=0,a=e.length;a>o;o+=1)e[o].apply(t,r)===!1&&(s=!0);return n&&!n._noArg&&s&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!s}function gt(t){var e={args:Array.prototype.slice.call(arguments,1)};Bu(this,t,e)}function yt(t){var e;return t=_(C(t)),e=this.viewmodel.get(t,Qu),void 0===e&&this.parent&&!this.isolated&&cu(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function wt(e,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,bt(this)}function bt(t){Hu.fire(t),t.findAllComponents("*").forEach(function(t){bt(t.instance)})}function xt(t,e,n){var r,i;return t=_(C(t)),r=this.viewmodel.get(t),s(r)&&s(e)?(i=gu.start(this,!0),this.viewmodel.merge(t,r,e,n),gu.end(),i):this.set(t,e,n&&n.complete)}function kt(t,e){var n,r;return n=A(t,e),r={},n.forEach(function(e){r[e.str]=t.get(e.str)}),r}function Et(t,e,n,r){var i,s,o;return e=_(C(e)),r=r||hh,e.isPattern?(i=new ah(t,e,n,r),t.viewmodel.patternObservers.push(i),s=!0):i=new Ju(t,e,n,r),i.init(r.init),t.viewmodel.register(e,i,s?"patternObservers":"observers"),i.ready=!0,{cancel:function(){var n;o||(s?(n=t.viewmodel.patternObservers.indexOf(i),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,i,"patternObservers")):t.viewmodel.unregister(e,i,"observers"),o=!0)}}}function _t(t,e,n){var r,i,s,o;if(h(t)){n=e,i=t,r=[];for(t in i)i.hasOwnProperty(t)&&(e=i[t],r.push(this.observe(t,e,n)));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",uh(this,t,e,n);if(s=t.split(" "),1===s.length)return uh(this,t,e,n);for(r=[],o=s.length;o--;)t=s[o],t&&r.push(uh(this,t,e,n));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}function At(t,e,n){var r=this.observe(t,function(){e.apply(this,arguments),r.cancel()},{init:!1,defer:n&&n.defer});return r}function St(t,e){var n,r=this;if(t)n=t.split(" ").map(fh).filter(dh),n.forEach(function(t){var n,i;(n=r._subs[t])&&(e?(i=n.indexOf(e),-1!==i&&n.splice(i,1)):r._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Ct(t,e){var n,r,i,s=this;if("object"==typeof t){n=[];for(r in t)t.hasOwnProperty(r)&&n.push(this.on(r,t[r]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return i=t.split(" ").map(fh).filter(dh),i.forEach(function(t){(s._subs[t]||(s._subs[t]=[])).push(e)}),{cancel:function(){return s.off(t,e)}}}function Ot(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function Pt(t,e,n){var r,i,s,o,a,u,h=[];if(r=Tt(t,e,n),!r)return null;for(i=t.length,a=r.length-2-r[1],s=Math.min(i,r[0]),o=s+r[1],u=0;s>u;u+=1)h.push(u);for(;o>u;u+=1)h.push(-1);for(;i>u;u+=1)h.push(u+a);return h.touchedFrom=0!==a?r[0]:t.length,h}function Tt(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t.length+Math.max(n[0],-t.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(n);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(n)}}function Ft(e,n){var r,i,s,o=this;if(s=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),r=gu.start(this,!0),gu.scheduleTask(function(){return Ph.fire(o)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var a=e.__ractive_instances__;a&&a.length&&jt(a),e.innerHTML=""}return this.cssId&&Ch.apply(),e&&((i=e.__ractive_instances__)?i.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),gu.end(),this.transitionsEnabled=s,r.then(function(){return Th.fire(o)})}function jt(t){t.splice(0,t.length).forEach(Q)}function Rt(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function Nt(t,e){var n,r,i;return r='[data-ractive-css~="{'+e+'}"]',i=function(t){var e,n,i,s,o,a,u,h=[];for(e=[];n=Dh.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(s=e.map(Dt),u=e.length;u--;)a=s.slice(),i=e[u],a[u]=i.base+r+i.modifiers||"",o=s.slice(),o[u]=r+" "+o[u],h.push(a.join(" "),o.join(" "));return h.join(", ")},n=Vh.test(t)?t.replace(Vh,r):t.replace(Lh,"").replace(Nh,function(t,e){var n,r;return Ih.test(e)?t:(n=e.split(",").map(Lt),r=n.map(i).join(", ")+" ",t.replace(e,r))})}function Lt(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function Dt(t){return t.str}function It(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?l("data option must be an object or a function, `"+t+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Vt(t,e){It(e);var n="function"==typeof t,r="function"==typeof e;return e||n||(e={}),n||r?function(){var i=r?Wt(e,this):e,s=n?Wt(t,this):t;return Ut(i,s)}:Ut(e,t)}function Wt(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&l("Data function must return an object"),n.constructor!==Object&&v("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Ut(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function Mt(t){var e,n,r;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(Lc))?t.matchPattern(Dc)?(r=t.matchPattern(Lc))?(t.allowWhitespace(),t.matchString("=")?[n,r]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}function zt(t){var e;return(e=t.matchPattern(Vc))?{t:vc,v:e}:null}function Bt(t){var e,n;if(t.interpolate[t.inside]===!1)return null;for(n=0;n<t.tags.length;n+=1)if(e=$t(t,t.tags[n]))return e}function $t(t,e){var n,r,i,s;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(r=Nc(t))return t.matchString(e.close)?(e.open=r[0],e.close=r[1],t.sortMustacheTags(),Uc):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var o=t.pos;Ic(t)?t.pos=o:(t.pos=o-e.close.length,t.error("Attempted to close a section that wasn't open"))}for(s=0;s<e.readers.length;s+=1)if(i=e.readers[s],r=i(t,e))return e.isStatic&&(r.s=!0),t.includeLinePositions&&(r.p=t.getLinePos(n)),r;return t.pos=n,null}function qt(t){var e;return(e=t.matchPattern($c))?{t:lc,v:e}:null}function Qt(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:mc,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:mc,v:"false"}):null}function Zt(t){var e;return(e=Yc(t))?tl.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=Bc(t))?e.v:(e=t.matchPattern(Jc))?e:void 0}function Ht(t){var e,n,r;return e=t.pos,t.allowWhitespace(),n=Xc(t),null===n?(t.pos=e,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),r=Tl(t),null===r?(t.pos=e,null):{t:yc,k:n,v:r}):(t.pos=e,null))}function Kt(t){var e,n,r,i;return e=t.pos,r=el(t),null===r?null:(n=[r],t.matchString(",")?(i=Kt(t),i?n.concat(i):(t.pos=e,null)):n)}function Gt(t){function e(t){r.push(t)}var n,r,i,s;return n=t.pos,t.allowWhitespace(),i=Tl(t),null===i?null:(r=[i],t.allowWhitespace(),t.matchString(",")&&(s=Gt(t),null===s&&t.error(Mc),s.forEach(e)),r)}function Yt(t){return Bc(t)||qc(t)||Yc(t)||rl(t)||sl(t)||Ic(t)}function Jt(t){var e,n,r,i,s,o;return e=t.pos,r=t.matchPattern(/^@(?:keypath|index|key)/),r||(n=t.matchPattern(ul)||"",r=!n&&t.relaxedNames&&t.matchPattern(fl)||t.matchPattern(ll),r||"."!==n||(n="",r=".")),r?n||t.relaxedNames||!Zc.test(r)?!n&&Qc.test(r)?(i=Qc.exec(r)[0],t.pos=e+i.length,{t:gc,v:i}):(s=(n||"")+C(r),t.matchString("(")&&(o=s.lastIndexOf("."),-1!==o?(s=s.substr(0,o),t.pos=e+s.length):t.pos-=1),{t:wc,n:s.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=e,null):null}function Xt(t){var e,n;return e=t.pos,t.matchString("(")?(t.allowWhitespace(),n=Tl(t),n||t.error(Mc),t.allowWhitespace(),t.matchString(")")||t.error(zc),{t:Ec,x:n}):null}function te(t){var e,n,r;if(e=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(Jc))return{t:bc,n:n};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),r=Tl(t),r||t.error(Mc),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:bc,x:r}):null}function ee(t){var e,n,r,i;return(n=Ol(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),r=Tl(t),r||t.error(Mc),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),i=Tl(t),i||t.error(Mc),{t:_c,o:[n,r,i]}):(t.pos=e,n)):null}function ne(t){return Pl(t)}function re(t){function e(t){switch(t.t){case mc:case gc:case lc:case vc:return t.v;case fc:return JSON.stringify(String(t.v));case dc:return"["+(t.m?t.m.map(e).join(","):"")+"]";case pc:return"{"+(t.m?t.m.map(e).join(","):"")+"}";case yc:return t.k+":"+e(t.v);case kc:return("typeof"===t.s?"typeof ":t.s)+e(t.o);case Ac:return e(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+e(t.o[1]);case Sc:return e(t.x)+"("+(t.o?t.o.map(e).join(","):"")+")";case Ec:return"("+e(t.x)+")";case xc:return e(t.x)+e(t.r);case bc:return t.n?"."+t.n:"["+e(t.x)+"]";case _c:return e(t.o[0])+"?"+e(t.o[1])+":"+e(t.o[2]);case wc:return"_"+n.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var n;return ie(t,n=[]),{r:n,s:e(t)}}function ie(t,e){var n,r;if(t.t===wc&&-1===e.indexOf(t.n)&&e.unshift(t.n),r=t.o||t.m)if(h(r))ie(r,e);else for(n=r.length;n--;)ie(r[n],e);t.x&&ie(t.x,e),t.r&&ie(t.r,e),t.v&&ie(t.v,e)}function se(t,e){var n;if(t){for(;t.t===Ec&&t.x;)t=t.x;return t.t===wc?e.r=t.n:t.t===lc&&Rl.test(t.v)?e.r=t.v:(n=oe(t))?e.rx=n:e.x=Fl(t),e}}function oe(t){for(var e,n=[];t.t===xc&&t.r.t===bc;)e=t.r,n.unshift(e.x?e.x.t===wc?e.x:Fl(e.x):e.n),t=t.x;return t.t!==wc?null:{r:t.n,m:n}}function ae(t,e){var n,r=Tl(t);return r?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),n={t:Yh},jl(r,n),n):null}function ue(t,e){var n,r;return t.matchString("&")?(t.allowWhitespace(),(n=Tl(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),r={t:Yh},jl(n,r),r):null):null}function he(t,e){var n,r,i,s,o;return n=t.pos,t.matchString(">")?(t.allowWhitespace(),r=t.pos,t.relaxedNames=!0,i=Tl(t),t.relaxedNames=!1,t.allowWhitespace(),s=Tl(t),t.allowWhitespace(),i?(o={t:nc},jl(i,o),t.allowWhitespace(),s&&(o={t:Jh,n:Tc,f:[o]},jl(s,o)),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):null):null}function ce(t,e){var n;return t.matchString("!")?(n=t.remaining().indexOf(e.close),-1!==n?(t.pos+=n+e.close.length,{t:rc}):void 0):null}function le(t,e){var n,r,i;if(n=t.pos,r=Tl(t),!r)return null;for(i=0;i<e.length;i+=1)if(t.remaining().substr(0,e[i].length)===e[i])return r;return t.pos=n,al(t)}function fe(t,e){var n,r,i,s;n=t.pos;try{r=Vl(t,[e.close])}catch(o){s=o}if(!r){if("!"===t.str.charAt(n))return t.pos=n,null;if(s)throw s}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!r)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return i={t:Gh},jl(r,i),i}function de(t,e){var n,r,i;return t.matchPattern(Ml)?(n=t.pos,r=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name"),i={t:uc},r&&(i.n=r),i):null}function pe(t,e){var n,r,i,s;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),r=t.remaining(),i=r.indexOf(e.close),-1!==i?(s={t:tc,r:r.substr(0,i).split(" ")[0]},t.pos+=i,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),s):(t.pos=n,null)):(t.pos=n,null)):null}function me(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern($l)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:jc}):(t.pos=n,null):null}function ve(t,e){var n,r=t.pos;return t.matchString(e.open)?t.matchPattern(Ql)?(n=Tl(t),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Rc,x:n}):(t.pos=r,null):null}function ge(t,e){var n,r,i,s,o,a,u,h,c,l,f,d;if(n=t.pos,t.matchString("^"))i={t:Jh,f:[],n:Oc};else{if(!t.matchString("#"))return null;i={t:Jh,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(Yl))&&(d=u,i.n=Zl[u])}if(t.allowWhitespace(),r=Tl(t),r||t.error("Expected expression"),f=t.matchPattern(Kl)){var p=void 0;i.i=(p=t.matchPattern(Gl))?f+","+p:f}t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,o=i.f,c=[];do if(s=zl(t,e))d&&s.r!==d&&t.error("Expected "+e.open+"/"+d+e.close),t.sectionDepth-=1,l=!0;else if(s=ql(t,e))i.n===Oc&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),h||(h=ye(r,i.n)),h.f.push({t:Jh,n:Cc,x:Fl(be(c.concat(s.x))),f:o=[]}),c.push(we(s.x));else if(s=Bl(t,e))i.n===Oc&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,h?h.f.push({t:Jh,n:Cc,x:Fl(be(c)),f:o=[]}):(h=ye(r,i.n),o=h.f);else{if(s=t.read(nd),!s)break;o.push(s)}while(!l);return h&&(i.n===Tc&&(i.n=Fc),i.l=h),jl(r,i),i.f.length||delete i.f,i}function ye(t,e){var n;return e===Tc?(n={t:Jh,n:Cc,f:[]},jl(we(t),n)):(n={t:Jh,n:Oc,f:[]},jl(t,n)),n}function we(t){return t.t===kc&&"!"===t.s?t.o:{t:kc,s:"!",o:xe(t)}}function be(t){return 1===t.length?t[0]:{t:Ac,s:"&&",o:[xe(t[0]),xe(be(t.slice(1)))]}}function xe(t){return{t:Ec,x:t}}function ke(t){var e,n,r,i,s;return e=t.pos,t.matchString(Xl)?(r=t.remaining(),i=r.indexOf(tf),-1===i&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),n=r.substr(0,i),t.pos+=i+3,s={t:rc,c:n},t.includeLinePositions&&(s.p=t.getLinePos(e)),s):null}function Ee(t){return t.replace(_l,function(t,e){var n;return n="#"!==e[0]?kl[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(_e(n)):t})}function _e(t){return t?10===t?32:128>t?t:159>=t?El[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function Ae(t){return t.replace(Cl,"&amp;").replace(Al,"&lt;").replace(Sl,"&gt;")}function Se(t){return"string"==typeof t}function Ce(t){return t.t===rc||t.t===ic}function Oe(t){return(t.t===Jh||t.t===Xh)&&t.f}function Pe(t,e,n,r,i){var o,a,u,h,c,l,f,d;for(lf(t),o=t.length;o--;)a=t[o],a.exclude?t.splice(o,1):e&&a.t===rc&&t.splice(o,1);for(pf(t,r,i),o=t.length;o--;){if(a=t[o],a.f&&(c=n||a.t===ec&&gf.test(a.e),c||(u=t[o-1],h=t[o+1],(!u||"string"==typeof u&&wf.test(u))&&(l=!0),(!h||"string"==typeof h&&yf.test(h))&&(f=!0)),Pe(a.f,e,c,l,f)),a.l&&(Pe(a.l.f,e,n,l,f),t.splice(o+1,0,a.l),delete a.l),a.a)for(d in a.a)a.a.hasOwnProperty(d)&&"string"!=typeof a.a[d]&&Pe(a.a[d],e,n,l,f);if(a.m&&Pe(a.m,e,n,l,f),a.v)for(d in a.v)a.v.hasOwnProperty(d)&&(s(a.v[d].n)&&Pe(a.v[d].n,e,n,l,f),s(a.v[d].d)&&Pe(a.v[d].d,e,n,l,f))}for(o=t.length;o--;)"string"==typeof t[o]&&("string"==typeof t[o+1]&&(t[o]=t[o]+t[o+1],t.splice(o+1,1)),n||(t[o]=t[o].replace(vf," ")),""===t[o]&&t.splice(o,1))}function Te(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(xf))?t.inside&&n!==t.inside?(t.pos=e,null):{t:oc,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Fe(t){var e,n,r;return t.allowWhitespace(),(n=t.matchPattern(_f))?(e={name:n},r=je(t),null!=r&&(e.value=r),e):null}function je(t){var e,n,r,i;return e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,r=t.sectionDepth,i=Le(t,"'")||Le(t,'"')||Ne(t),null===i&&t.error("Expected valid attribute value"),t.sectionDepth!==r&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),i.length?1===i.length&&"string"==typeof i[0]?Ee(i[0]):i:""):(t.pos=e,null)}function Re(t){var e,n,r,i,s;return e=t.pos,(n=t.matchPattern(Af))?(r=n,i=t.tags.map(function(t){return t.open}),-1!==(s=kf(r,i))&&(n=n.substr(0,s),t.pos=e+n.length),n):null}function Ne(t){var e,n;for(t.inAttribute=!0,e=[],n=Wc(t)||Re(t);null!==n;)e.push(n),n=Wc(t)||Re(t);return e.length?(t.inAttribute=!1,e):null}function Le(t,e){var n,r,i;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,r=[],i=Wc(t)||De(t,e);null!==i;)r.push(i),i=Wc(t)||De(t,e);return t.matchString(e)?(t.inAttribute=!1,r):(t.pos=n,null)}function De(t,e){var n,r,i,s;return n=t.pos,i=t.remaining(),s=t.tags.map(function(t){return t.open}),s.push(e),r=kf(i,s),-1===r&&t.error("Quoted attribute value must have a closing quote"),r?(t.pos+=r,i.substr(0,r)):null}function Ie(t){var e,n,r;return t.allowWhitespace(),(e=Xc(t))?(r={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(r.value=n.v,r):null):null):null}function Ve(t,e){var n,r,i,s,o,a,u,h,c;if("string"==typeof t){if(r=Pf.exec(t)){var l=t.lastIndexOf(")");return Tf.test(t)||e.error("Invalid input after method call expression '"+t.slice(l+1)+"'"),n={m:r[1]},s="["+t.slice(n.m.length+1,l)+"]",i=new Sf(s),n.a=Fl(i.result[0]),n}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(n={},u=[],h=[],t){for(;t.length;)if(o=t.shift(),"string"==typeof o){if(a=o.indexOf(":"),-1!==a){a&&u.push(o.substr(0,a)),o.length>a+1&&(h[0]=o.substring(a+1));break}u.push(o)}else u.push(o);h=h.concat(t)}return u.length?h.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===h.length&&"string"==typeof h[0]?(c=Cf("["+h[0]+"]"),n.a=c?c.value:h[0].trim()):n.d=h):n=u:n="",n}function We(t){var e,n,r,i,s,o,a,u,h,c,l,f,d,p,m,v;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=cc,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=ec,n.e=t.matchPattern(jf),!n.e)return null;for(Rf.test(t.nextChar())||t.error("Illegal tag name"),s=function(e,r){var i=r.n||r;Df.test(i)&&(t.pos-=i.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[e]=r},t.allowWhitespace();o=Wc(t)||Ef(t);)o.name?(r=If[o.name])?n[r]=Of(o.value,t):(i=Lf.exec(o.name))?(n.v||(n.v={}),a=Of(o.value,t),s(i[1],a)):t.sanitizeEventAttributes&&Nf.test(o.name)||(n.a||(n.a={}),n.a[o.name]=o.value||(""===o.value?"":0)):(n.m||(n.m=[]),n.m.push(o)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(u=!0),!t.matchString(">"))return null;var g=n.e.toLowerCase(),y=t.preserveWhitespace;if(!u&&!xl.test(n.e)){t.elementStack.push(g),("script"===g||"style"===g)&&(t.inside=g),h=[],c=Ea(null);do if(p=t.pos,m=t.remaining(),Ue(g,m))if(v=bf(t)){d=!0;var w=v.e.toLowerCase();if(w!==g&&(t.pos=p,!~t.elementStack.indexOf(w))){var b="Unexpected closing tag";xl.test(w)&&(b+=" (<"+w+"> is a void element - it cannot contain children)"),t.error(b)}}else(f=zl(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(d=!0,t.pos=p):(f=t.read(rd))?(c[f.n]&&(t.pos=p,t.error("Duplicate partial definition")),mf(f.f,t.stripComments,y,!y,!y),c[f.n]=f.f,l=!0):(f=t.read(nd))?h.push(f):d=!0;else d=!0;while(!d);h.length&&(n.f=h),l&&(n.p=c),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(g)?Vf:n}function Ue(t,e){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),r=Ff[t],n&&r?!~r.indexOf(n[1].toLowerCase()):!0}function Me(t){var e,n,r,i;return n=t.remaining(),i=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(i):(r=t.tags.map(function(t){return t.open}),r=r.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?r.push('"',"'","=","<",">","`"):r.push(t.inAttribute?t.inAttribute:i),e=kf(n,r)),e?(-1===e&&(e=n.length),t.pos+=e,t.inside?n.substr(0,e):Ee(n.substr(0,e))):null}function ze(t){return t.replace(Bf,"\\$&")}function Be(t){var e=t.pos,n=t.standardDelimiters[0],r=t.standardDelimiters[1],i=void 0,s=void 0;if(!t.matchPattern(qf)||!t.matchString(n))return t.pos=e,null;var o=t.matchPattern(Qf);if(v("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+o+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+o+"}} --> ... <!-- {{/"+o+"}} -->'"),!t.matchString(r)||!t.matchPattern(Zf))return t.pos=e,null;i=[];var a=new RegExp("^<!--\\s*"+zf(n)+"\\s*\\/\\s*"+o+"\\s*"+zf(r)+"\\s*-->");do t.matchPattern(a)?s=!0:(Wf=t.read(nd),Wf||t.error("expected closing comment ('<!-- "+n+"/"+o+r+" -->')"),i.push(Wf));while(!s);return{t:hc,f:i,n:o}}function $e(t){var e,n,r,i,s;e=t.pos;var o=t.standardDelimiters;if(!t.matchString(o[0]))return null;if(!t.matchPattern(Kf))return t.pos=e,null;n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||t.error("expected legal partial name"),t.matchString(o[1])||t.error("Expected closing delimiter '"+o[1]+"'"),r=[];do(i=zl(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!i.r&&t.error("Expected "+o[0]+"/partial"+o[1]),s=!0):(i=t.read(nd),i||t.error("Expected "+o[0]+"/partial"+o[1]),r.push(i));while(!s);return{t:hc,n:n,f:r}}function qe(t){for(var e=[],n=Ea(null),r=!1,i=t.preserveWhitespace;t.pos<t.str.length;){var s=t.pos,o=void 0,a=void 0;(a=t.read(rd))?(n[a.n]&&(t.pos=s,t.error("Duplicated partial definition")),mf(a.f,t.stripComments,i,!i,!i),n[a.n]=a.f,r=!0):(o=t.read(nd))?e.push(o):t.error("Unexpected template content")}var u={v:sa,t:e};return r&&(u.p=n),u}function Qe(t,e){
return new ed(t,e||{}).result}function Ze(t){var e=Ea(ud);return e.parse=function(e,n){return He(e,n||t)},e}function He(t,e){if(!Yf)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Yf(t,e||this.options)}function Ke(t,e){var n;if(!Jo){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Ge(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return n.textContent}function Ge(t){return t&&"#"===t.charAt(0)}function Ye(t){return!("string"==typeof t)}function Je(t){return t.defaults&&(t=t.defaults),ad.reduce(function(e,n){return e[n]=t[n],e},{})}function Xe(t){var e,n=t._config.template;if(n&&n.fn)return e=tn(t,n.fn),e!==n.result?(n.result=e,e=nn(e,t)):void 0}function tn(t,e){var n=en(hd.getParseOptions(t));return e.call(t,n)}function en(t){var e=Ea(hd);return e.parse=function(e,n){return hd.parse(e,n||t)},e}function nn(t,e){if("string"==typeof t)"#"===t[0]&&(t=hd.fromId(t)),t=Yf(t,hd.getParseOptions(e));else{if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==sa)throw new Error("Mismatched template version (expected "+sa+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function rn(t,e,n){if(e)for(var r in e)(n||!t.hasOwnProperty(r))&&(t[r]=e[r])}function sn(t,e,n){if(!/_super/.test(n))return n;var r=function(){var t,i=on(r._parent,e),s="_super"in this,o=this._super;return this._super=i,t=n.apply(this,arguments),s?this._super=o:delete this._super,t};return r._parent=t,r._method=n,r}function on(t,e){var n,r;return e in t?(n=t[e],r="function"==typeof n?n:function(){return n}):r=ka,r}function an(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function un(t,e,n){if(e in t){if(n in t)throw new Error(an(e,n,!0));m(an(e,n)),t[n]=t[e]}}function hn(t){un(t,"beforeInit","onconstruct"),un(t,"init","onrender"),un(t,"complete","oncomplete"),un(t,"eventDefinitions","events"),s(t.adaptors)&&un(t,"adaptors","adapt")}function cn(t,e,n,r){bd(r);for(var i in r)if(gd.hasOwnProperty(i)){var s=r[i];"el"!==i&&"function"==typeof s?m(""+i+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[i]=s}yd.forEach(function(i){i[t](e,n,r)}),jh[t](e,n,r),ld[t](e,n,r),Mh[t](e,n,r),ln(e.prototype,n,r)}function ln(t,e,n){for(var r in n)if(!vd[r]&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=wd(t,r,i)),e[r]=i}}function fn(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function dn(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function pn(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();n&&t.appendChild(n)}),t)}function mn(t){var e,n,r,i;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(r=this.items[e],r.find&&(i=r.find(t)))return i;return null}}function vn(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAll&&i.findAll(t,e);return e}function gn(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e}function yn(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}}function wn(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function bn(){return this.items&&this.items[0]?this.items[0].firstNode():null}function xn(t,e,n,r){return r=r||0,t.map(function(t){var i,s,o;return t.text?t.text:t.fragments?t.fragments.map(function(t){return xn(t.items,e,n,r)}).join(""):(i=n+"-"+r++,o=t.keypath&&(s=t.root.viewmodel.wrapped[t.keypath.str])?s.value:t.getValue(),e[i]=o,"${"+i+"}")}).join("")}function kn(){var t,e,n,r;return this.dirtyArgs&&(e=Td(this.items,t={},this.root._guid),n=Cf("["+e+"]",t),r=n?n.value:[this.toString()],this.argsList=r,this.dirtyArgs=!1),this.argsList}function En(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function _n(){var t,e,n,r;return this.dirtyValue&&(e=Td(this.items,t={},this.root._guid),n=Cf(e,t),r=n?n.value:this.toString(),this.value=r,this.dirtyValue=!1),this.value}function An(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Sn(){return this.value}function Cn(t,e){for(var n,r=0;r<e.prop.length;r++)if(void 0!==(n=t[e.prop[r]]))return n}function On(t,e){var n,r,i,s,o,a={},u=!1;for(e||(a.refs=n={});t;){if((o=t.owner)&&(r=o.indexRefs)){if(e&&(i=o.getIndexRef(e)))return a.ref={fragment:t,ref:i},a;if(!e)for(s in r)i=r[s],n[i.n]||(u=!0,n[i.n]={fragment:t,ref:i})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(a.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return u?a:void 0}function Pn(t,e,n){var r;return"@"===e.charAt(0)?new Bd(t,e,n):(r=Qd(t.parentFragment,e))?new qd(t,r,n):new Ud(t,e,n)}function Tn(t,e){var n,r;if(Gd[t])return Gd[t];for(r=[];e--;)r[e]="_"+e;return n=new Function(r.join(","),"return("+t+")"),Gd[t]=n,n}function Fn(t){return t.call()}function jn(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var r,i;return+n>=e.length?"_"+n:(r=e[n],void 0===r?"undefined":r.isSpecial?(i=r.value,"number"==typeof i?i:'"'+i+'"'):r.str)})}function Rn(t){return _("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Nn(t){return void 0!==t&&"@"!==t[0]}function Ln(t,e){var n,r,i;if(t.__ractive_nowrap)return t;if(r="__ractive_"+e._guid,n=t[r])return n;if(/this/.test(t.toString())){_a(t,r,{value:Yd.call(t,e),configurable:!0});for(i in t)t.hasOwnProperty(i)&&(t[r][i]=t[i]);return e._boundFunctions.push({fn:t,prop:r}),t[r]}return _a(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function Dn(t){return t.value}function In(t){return void 0!=t}function Vn(t){t.forceResolution()}function Wn(t,e){function n(e){t.resolve(e)}function r(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))}var i,s,o;s=e.parentFragment,o=e.template,t.root=s.root,t.parentFragment=s,t.pElement=s.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(i=o.r)&&(t.resolver=Hd(t,i,n)),e.template.x&&(t.resolver=new Jd(t,s,e.template.x,r)),e.template.rx&&(t.resolver=new np(t,e.template.rx,r)),t.template.n!==Oc||t.hasOwnProperty("value")||t.setValue(void 0)}function Un(t){var e,n,r;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(r=this.twowayBinding)&&r.rebound()))}function Mn(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function zn(){this.parentFragment.bubble()}function Bn(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function $n(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].find(t))return r;return null}function qn(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(t,e)}function Qn(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(t,e)}function Zn(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null}function Hn(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Kn(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Gn(t){var e,n,r,i,s,o,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Pc){if(this.shuffling=!0,gu.scheduleTask(function(){return u.shuffling=!1}),e=this.parentFragment,s=[],t.forEach(function(t,e){var r,i,o,a,h;return t===e?void(s[t]=u.fragments[e]):(r=u.fragments[e],void 0===n&&(n=e),-1===t?(u.fragmentsToUnrender.push(r),void r.unbind()):(i=t-e,o=u.keypath.join(e),a=u.keypath.join(t),r.index=t,(h=r.registeredIndexRefs)&&h.forEach(Yn),r.rebind(o,a),void(s[t]=r)))}),i=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===i)return;n=this.length}for(this.length=this.fragments.length=i,this.rendered&&gu.addView(this),o={template:this.template.f,root:this.root,owner:this},r=n;i>r;r+=1)a=s[r],a||this.fragmentsToCreate.push(r),this.fragments[r]=a}}function Yn(t){t.rebind("","")}function Jn(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function Xn(t){var e,n,r=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=r.keypath.join(t),n.index=t,e=new bw(n),r.fragmentsToRender.push(r.fragments[t]=e)}),this.fragmentsToCreate.length=0):er(this,t)&&(this.bubble(),this.rendered&&gu.addView(this)),this.value=t,this.updating=!1)}function tr(t,e,n){if(e===Pc&&t.indexRefs&&t.indexRefs[0]){var r=t.indexRefs[0];(n&&"i"===r.t||!n&&"k"===r.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),r.t=n?"k":"i"}t.currentSubtype=e}function er(t,e){var n={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case Cc:return t.hasContext=!1,or(t,e,!1,n);case Oc:return t.hasContext=!1,or(t,e,!0,n);case Tc:return sr(t,n);case Fc:return ir(t,e,n);case Pc:if(h(e))return tr(t,t.subtype,!0),rr(t,e,n)}return t.ordered=!!o(e),t.ordered?(tr(t,Pc,!1),nr(t,e,n)):h(e)||"function"==typeof e?t.template.i?(tr(t,Pc,!0),rr(t,e,n)):(tr(t,Tc,!1),sr(t,n)):(tr(t,Cc,!1),t.hasContext=!1,or(t,e,!1,n))}function nr(t,e,n){var r,i,s;if(i=e.length,i===t.length)return!1;if(i<t.length)t.fragmentsToUnrender=t.fragments.splice(i,t.length-i),t.fragmentsToUnrender.forEach(Z);else if(i>t.length)for(r=t.length;i>r;r+=1)n.context=t.keypath.join(r),n.index=r,s=new bw(n),t.fragmentsToRender.push(t.fragments[r]=s);return t.length=i,!0}function rr(t,e,n){var r,i,s,o,a,u;for(s=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)o=t.fragments[i],o.key in e||(a=!0,o.unbind(),t.fragmentsToUnrender.push(o),t.fragments.splice(i,1),s[o.key]=!1);for(i=t.fragments.length;i--;)o=t.fragments[i],o.index!==i&&(o.index=i,(u=o.registeredIndexRefs)&&u.forEach(hr));i=t.fragments.length;for(r in e)s[r]||(a=!0,n.context=t.keypath.join(r),n.key=r,n.index=i++,o=new bw(n),t.fragmentsToRender.push(o),t.fragments.push(o),s[r]=!0);return t.length=t.fragments.length,a}function ir(t,e,n){return e?sr(t,n):ar(t)}function sr(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new bw(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function or(t,e,n,r){var i,s,a,u,c;if(s=o(e)&&0===e.length,a=!1,!o(e)&&h(e)){a=!0;for(c in e){a=!1;break}}return i=n?s||a||!e:e&&!s&&!a,i?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(Z),!0):void 0:(r.index=0,u=new bw(r),t.fragmentsToRender.push(t.fragments[0]=u),t.length=1,!0):ar(t)}function ar(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(ur),t.fragmentsToUnrender.forEach(Z),t.length=t.fragmentsToRender.length=0,!0):void 0}function ur(t){return t.rendered}function hr(t){t.rebind("","")}function cr(t){var e,n,r;for(e="",n=0,r=this.length,n=0;r>n;n+=1)e+=this.fragments[n].toString(t);return e}function lr(){var t=this;this.fragments.forEach(Z),this.fragmentsToRender.forEach(function(e){return D(t.fragments,e)}),this.fragmentsToRender=[],Id.call(this),this.length=0,this.unbound=!0}function fr(t){this.fragments.forEach(t?dr:pr),this.renderedFragments=[],this.rendered=!1}function dr(t){t.unrender(!0)}function pr(t){t.unrender(!1)}function mr(){var t,e,n,r,i,s,o;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(i=this.parentFragment.getNode()),o=this.fragments.length,s=0;o>s;s+=1)t=this.fragments[s],e=n.indexOf(t,s),e!==s?(this.docFrag.appendChild(t.detach()),-1!==e&&n.splice(e,1),n.splice(s,0,t)):this.docFrag.childNodes.length&&(r=t.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()}function vr(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function gr(t){var e,n,r,i;for(n=this.nodes.length,e=0;n>e;e+=1)if(r=this.nodes[e],1===r.nodeType){if(la(r,t))return r;if(i=r.querySelector(t))return i}return null}function yr(t,e){var n,r,i,s,o,a;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType&&(la(i,t)&&e.push(i),s=i.querySelectorAll(t)))for(o=s.length,a=0;o>a;a+=1)e.push(s[a])}function wr(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function br(t){return Rp[t]||(Rp[t]=ca(t))}function xr(t){var e,n,r;t&&"select"===t.name&&t.binding&&(e=I(t.node.options).filter(kr),t.getAttribute("multiple")?r=e.map(function(t){return t.value}):(n=e[0])&&(r=n.value),void 0!==r&&t.binding.setValue(r),t.bubble())}function kr(t){return t.selected}function Er(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Np(this.value,this.parentFragment.getNode(),this.docFrag),Lp(this.pElement),this.rendered=!0,this.docFrag}function _r(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&gu.addView(this))}function Ar(){return void 0!=this.value?Ee(""+this.value):""}function Sr(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Cr(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=Np(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Lp(this.pElement)}}function Or(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0}function Pr(){return null}function Tr(){return this.node}function Fr(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function jr(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();a(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&gu.addView(this))}function Rr(t){var e=t.fragment.items;if(1===e.length)return e[0].type===Gh?e[0]:void 0}function Nr(t){return this.type=sc,this.element=t.element,this.root=t.root,am(this,t.name),this.isBoolean=bl.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new bw({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=um(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Lr(t,e){this.fragment&&this.fragment.rebind(t,e)}function Dr(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==na.html||(e=fm[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Ir(){var t=this,e=t.name,n=t.namespacePrefix,r=t.value,i=t.interpolator,s=t.fragment;if(("value"!==e||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==e||void 0===this.element.getAttribute("contenteditable"))){if("name"===e&&"input"===this.element.name&&i)return"name={{"+(i.keypath.str||i.ref)+"}}";if(this.isBoolean)return r?e:"";if(s){if(1===s.items.length&&null==s.items[0].value)return"";r=s.toString()}return n&&(e=n+":"+e),r?e+'="'+Vr(r)+'"':e}}function Vr(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Wr(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Ur(){var t,e,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,t=this.node.options,r=t.length;r--;)if(e=t[r],n=e._ractive?e._ractive.value:e.value,n==i){e.selected=!0;break}}function Mr(){var t,e,n,r,i=this.value;for(s(i)||(i=[i]),t=this.node.options,e=t.length;e--;)n=t[e],r=n._ractive?n._ractive.value:n.value,n.selected=j(i,r)}function zr(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function Br(){var t,e,n,r,i=this.node;if(t=i.checked,i.value=this.element.getAttribute("value"),i.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!i.checked&&this.element.binding&&(n=this.element.binding.siblings,r=n.length)){for(;r--;){if(e=n[r],!e.element.node)return;if(e.element.node.checked)return gu.addRactive(e.root),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function $r(){var t,e,n=this,r=n.element,i=n.node,o=n.value,a=r.binding;if(t=r.getAttribute("value"),s(o)){for(e=o.length;e--;)if(t==o[e])return void(a.isChecked=i.checked=!0);a.isChecked=i.checked=!1}else a.isChecked=i.checked=o==t}function qr(){this.node.className=n(this.value)}function Qr(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Zr(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function Hr(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Kr(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Gr(){this.locked||(this.node[this.propertyName]=this.value)}function Yr(){var t=this,e=t.node,n=t.namespace,r=t.name,i=t.value,s=t.fragment;n?e.setAttributeNS(n,r,(s||i).toString()):this.isBoolean?i?e.setAttribute(r,""):e.removeAttribute(r):null==i?e.removeAttribute(r):e.setAttribute(r,(s||i).toString())}function Jr(){var t,e,n=this,r=n.name,i=n.element,s=n.node;"id"===r?e=xm:"value"===r?"select"===i.name&&"value"===r?e=i.getAttribute("multiple")?vm:mm:"textarea"===i.name?e=_m:null!=i.getAttribute("contenteditable")?e=Em:"input"===i.name&&(t=i.getAttribute("type"),e="file"===t?ka:"radio"===t&&i.binding&&"name"===i.binding.name?ym:_m):this.isTwoway&&"name"===r?"radio"===s.type?e=gm:"checkbox"===s.type&&(e=wm):"style"===r&&s.style.setAttribute?e=km:"class"!==r||s.namespaceURI&&s.namespaceURI!==na.html?this.useProperty&&(e=Am):e=bm,e||(e=Sm),this.update=e,this.update()}function Xr(t,e){var n=e?"svg":"div";return Pm.innerHTML="<"+n+" "+t+"></"+n+">",I(Pm.childNodes[0].attributes)}function ti(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function ei(t){for(;t=t.parent;)if("form"===t.name)return t}function ni(){this._ractive.binding.handleChange()}function ri(t,e,n){var r=t+e+n;return zm[r]||(zm[r]=[])}function ii(t){return t.isChecked}function si(t){return t.element.getAttribute("value")}function oi(){var t;Vm.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function ai(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&Vm.call(e),t._timeout=void 0},t.element.lazy)}function ui(t){var e,n,r,i,s,o=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||o.contenteditable&&hi(o.contenteditable))&&hi(o.value)?n=Um:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(r=hi(o.name),i=hi(o.checked),r&&i&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),r?n="radio"===e?Qm:Hm:i&&(n="radio"===e?$m:Gm)):"file"===e&&hi(o.value)?n=nv:hi(o.value)&&(n="number"===e||"range"===e?iv:rv)):"select"===t.name&&hi(o.value)?n=t.getAttribute("multiple")?tv:Jm:"textarea"===t.name&&hi(o.value)&&(n=rv),n&&(s=new n(t))&&s.keypath?s:void 0}function hi(t){return t&&t.isBindable}function ci(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function li(t){Bu(this.root,this.getAction(),{event:t})}function fi(){return this.action.toString().trim()}function di(t,e,n){var r,i,s,o=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,-1!==e.indexOf("*")&&(l('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(i=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Kd(n.a.s,i.length),this.parentFragment=t.parentFragment,s=this.root,this.refResolvers=[],i.forEach(function(t,e){var n=void 0;(n=cv.exec(t))?o.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:o.refResolvers.push(Hd(o,t,function(t){return o.resolve(e,t)}))}),this.fire=pi):(r=n.n||n,"string"!=typeof r&&(r=new bw({template:r,root:this.root,owner:this})),this.action=r,n.d?(this.dynamicParams=new bw({template:n.d,root:this.root,owner:this.element}),this.fire=vi):n.a&&(this.params=n.a,this.fire=mi))}function pi(t){var e,n,r;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var r,i,s;if(void 0===n)return void 0;if(n.eventObject){if(r=t,i=n.refinements.length)for(s=0;i>s;s+=1)r=r[n.refinements[s]]}else r=e.viewmodel.get(n);return r}),zu.enqueue(e,t),r=this.fn.apply(null,n),e[this.method].apply(e,r),zu.dequeue(e)}function mi(t){Bu(this.root,this.getAction(),{event:t,args:this.params})}function vi(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),Bu(this.root,this.getAction(),{event:t,args:e})}function gi(t){var e,n,r,i={};e=this._ractive,n=e.events[t.type],(r=Qd(n.element.parentFragment))&&(i=Qd.resolve(r)),n.fire({node:this,original:t,index:i,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function yi(){var t,e=this.name;if(!this.invalid){if(t=g("events",this.root,e))this.custom=t(this.node,wi(e));else{if(!("on"+e in this.node||window&&"on"+e in window||Xo))return void(pv[e]||v(Ia(e,"event"),{node:this.node}));this.node.addEventListener(e,lv,!1)}this.hasListener=!0}}function wi(t){return dv[t]||(dv[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),dv[t]}function bi(t,e){function n(n){n&&n.rebind(t,e)}var r;return this.method?(r=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function xi(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function ki(t,e){this.keypaths[t]=e}function Ei(){return this.method?void this.refResolvers.forEach(Z):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function _i(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,lv,!1),this.hasListener=!1}function Ai(){var t=this;this.dirty||(this.dirty=!0,gu.scheduleTask(function(){Si(t),t.dirty=!1})),this.parentFragment.bubble()}function Si(t){var e,n,r,i,s;e=t.node,e&&(i=I(e.options),n=t.getAttribute("value"),r=t.getAttribute("multiple"),void 0!==n?(i.forEach(function(t){var e,i;e=t._ractive?t._ractive.value:t.value,i=r?Ci(n,e):n==e,i&&(s=!0),t.selected=i}),s||(i[0]&&(i[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function Ci(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function Oi(t,e){t.select=Ti(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function Pi(t){t.select&&D(t.select.options,t)}function Ti(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function Fi(t){var e,n,r,i,s,o,a;this.type=ec,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=r=e.root,this.index=t.index,this.key=t.key,this.name=om(n.e),"option"===this.name&&Oi(this,n),"select"===this.name&&(this.options=[],this.bubble=Ai),"form"===this.name&&(this.formBindings=[]),a=im(this,n),this.attributes=Fm(this,n.a),this.conditionalAttributes=Nm(this,n.m),n.f&&(this.fragment=new bw({template:n.f,root:r,owner:this,pElement:this,cssIds:null})),o=r.twoway,a.twoway===!1?o=!1:a.twoway===!0&&(o=!0),this.twoway=o,this.lazy=a.lazy,o&&(i=sv(this,n.a))&&(this.binding=i,s=this.root._twowayBindings[i.keypath.str]||(this.root._twowayBindings[i.keypath.str]=[]),s.push(i)),n.v&&(this.eventHandlers=kv(this,n.v)),n.o&&(this.decorator=new Cv(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function ji(t,e){function n(n){n.rebind(t,e)}var r,i,s,o;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),s=this.liveQueries)for(o=this.root,r=s.length;r--;)s[r]._makeDirty();this.node&&(i=this.node._ractive)&&k(i,"keypath",t,e)}function Ri(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),r=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==r&&t.node.setAttribute("height",r),t.node.removeEventListener("load",e,!1)},!1)}function Ni(t){t.node.addEventListener("reset",Di,!1)}function Li(t){t.node.removeEventListener("reset",Di,!1)}function Di(){var t=this._ractive.proxy;gu.start(),t.formBindings.forEach(Ii),gu.end()}function Ii(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function Vi(t,e,n){var r,i,s;this.element=t,this.root=r=t.root,this.isIntro=n,i=e.n||e,("string"==typeof i||(s=new bw({template:i,root:r,owner:t}),i=s.toString(),s.unbind(),""!==i))&&(this.name=i,e.a?this.params=e.a:e.d&&(s=new bw({template:e.d,root:r,owner:t}),this.params=s.getArgsList(),s.unbind()),this._fn=g("transitions",r,i),this._fn||v(Ia(i,"transition"),{ractive:this.root}))}function Wi(t){return t}function Ui(){rg.hidden=document[Xv]}function Mi(){rg.hidden=!0}function zi(){rg.hidden=!1}function Bi(){var t,e,n,r=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(i){n||(!i&&r.isIntro&&$i(t,e),t._ractive.transition=null,r._manager.remove(r),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function $i(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function qi(){var t,e,n,r=this,i=this.root;return t=Qi(this),e=this.node=ca(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),_a(this.node,"_ractive",{value:{proxy:this,keypath:hu(this.parentFragment),events:Ea(null),root:i}}),this.attributes.forEach(function(t){return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=pg,this.node.text=this.fragment.toString(!1),this.fragment.unrender=ka):"style"===this.name?(this.bubble=dg,this.bubble(),this.fragment.unrender=ka):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=ka:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Zi(this),"img"===this.name?Ri(this):"form"===this.name?Ni(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&gu.scheduleTask(function(){r.decorator.torndown||r.decorator.init()},!0),i.transitionsEnabled&&this.intro&&(n=new mg(this,this.intro,!0),gu.registerTransition(n),gu.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&gu.scheduleTask(function(){return r.node.focus()},!0),Hi(this),this.node}function Qi(t){var e,n,r;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?na.svg:(r=t.parent)?"foreignObject"===r.name?na.html:r.node.namespaceURI:t.root.el.namespaceURI}function Zi(t){var e,n,r;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&s(n)){for(r=n.length;r--;)if(e==n[r]){t.node.selected=!0;break}}else t.node.selected=e==n}function Hi(t){var e,n,r,i,s;e=t.root;do for(n=e._liveQueries,r=n.length;r--;)i=n[r],s=n["_"+i],s._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(s);while(e=e.parent)}function Ki(t){var e,n,r;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&s(n))for(r=n.length;r--;)if(n[r]==e)return!0}function Gi(t){var e,n,r,i;return e=t.attributes,n=e.type,r=e.value,i=e.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function Yi(t){var e=t.toString();return e?" "+e:""}function Ji(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Z),"option"===this.name&&Pi(this),this.attributes.forEach(Z),this.conditionalAttributes.forEach(Z)}function Xi(t){var e,n,r;(r=this.transition)&&r.complete(),"option"===this.name?this.detach():t&&gu.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(H),this.decorator&&gu.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(r=new mg(this,this.outro,!1),gu.registerTransition(r),gu.scheduleTask(function(){return r.start()})),this.liveQueries&&ts(this),"form"===this.name&&Li(this)}function ts(t){var e,n,r;for(r=t.liveQueries.length;r--;)e=t.liveQueries[r],n=e.selector,e._remove(t.node)}function es(t,e){var n=Eg.exec(e)[0];return null===t||n.length<t.length?n:t}function ns(t,e,n){var r;if(r=rs(t,e,n||{}))return r;if(r=hd.fromId(e,{noThrow:!0})){r=_g(r);var i=hd.parse(r,hd.getParseOptions(t));return t.partials[e]=i.t}}function rs(t,e,n){var r=void 0,i=os(e,n.owner);if(i)return i;var s=y("partials",t,e);if(s){if(i=s.partials[e],"function"==typeof i&&(r=i.bind(s),
r.isOwner=s.partials.hasOwnProperty(e),i=r.call(t,hd)),!i&&""!==i)return void m(Da,e,"partial","partial",{ractive:t});if(!hd.isParsed(i)){var o=hd.parse(i,hd.getParseOptions(s));o.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=r?s:is(s,e);a.partials[e]=i=o.t}return r&&(i._fn=r),i.v?i.t:i}}function is(t,e){return t.partials.hasOwnProperty(e)?t:ss(t.constructor,e)}function ss(t,e){return t?t.partials.hasOwnProperty(e)?t:ss(t._Parent,e):void 0}function os(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return os(t,e.parentFragment.owner)}}function as(t,e){var n,r=y("components",t,e);if(r&&(n=r.components[e],!n._Parent)){var i=n.bind(r);if(i.isOwner=r.components.hasOwnProperty(e),n=i(),!n)return void m(Da,e,"component","component",{ractive:t});"string"==typeof n&&(n=as(t,n)),n._fn=i,r.components[e]=n}return n}function us(){var t=this.instance.fragment.detach();return Lg.fire(this.instance),t}function hs(t){return this.instance.fragment.find(t)}function cs(t,e){return this.instance.fragment.findAll(t,e)}function ls(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function fs(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function ds(){return this.parentFragment.findNextNode(this)}function ps(){return this.rendered?this.instance.fragment.firstNode():null}function ms(t,e,n){function r(t){var n,r;t.value=e,t.updating||(r=t.ractive,n=t.keypath,t.updating=!0,gu.start(r),r.viewmodel.mark(n),gu.end(),t.updating=!1)}var i,s,o,a,u,h;if(i=t.obj,s=t.prop,n&&!n.configurable){if("length"===s)return;throw new Error('Cannot use magic mode with property "'+s+'" - object is not configurable')}n&&(o=n.get,a=n.set),u=o||function(){return e},h=function(t){a&&a(t),e=o?o():t,h._ractiveWrappers.forEach(r)},h._ractiveWrappers=[t],Object.defineProperty(i,s,{get:u,set:h,enumerable:!0,configurable:!0})}function vs(t,e){var n,r,i,s;if(this.adaptors)for(n=this.adaptors.length,r=0;n>r;r+=1)if(i=this.adaptors[r],i.filter(e,t,this.ractive))return s=this.wrapped[t]=i.wrap(this.ractive,e,t,ys(t)),void(s.value=e)}function gs(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function ys(t){var e;return sy[t]||(e=t?t+".":"",sy[t]=function(n,r){var i;return"string"==typeof n?(i={},i[e+n]=r,i):"object"==typeof n?e?gs(n,t):n:void 0}),sy[t]}function ws(t){var e,n,r=[Ka];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)-1===t.indexOf(n)&&F(r,n),n=n.parent;return r}function bs(t,e,n){var r;ks(t,e),n||(r=e.wildcardMatches(),r.forEach(function(n){xs(t,n,e)}))}function xs(t,e,n){var r,i,s;e=e.str||e,r=t.depsMap.patternObservers,i=r&&r[e],i&&i.forEach(function(e){s=n.join(e.lastKey),ks(t,s),xs(t,e,s)})}function ks(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function Es(){function t(t){var r=t.key;t.viewmodel===o?(o.clearCache(r.str),t.invalidate(),n.push(r),e(r)):t.viewmodel.mark(r)}function e(n){var r,i;o.noCascade.hasOwnProperty(n.str)||((i=o.deps.computed[n.str])&&i.forEach(t),(r=o.depsMap.computed[n.str])&&r.forEach(e))}var n,r,i,s=this,o=this,a={};return n=this.changes,n.length?(n.slice().forEach(e),r=oy(n),r.forEach(function(e){var r;-1===n.indexOf(e)&&(r=o.deps.computed[e.str])&&r.forEach(t)}),this.changes=[],this.patternObservers.length&&(r.forEach(function(t){return ay(s,t,!0)}),n.forEach(function(t){return ay(s,t)})),this.deps.observers&&(r.forEach(function(t){return _s(s,null,t,"observers")}),Ss(this,n,"observers")),this.deps["default"]&&(i=[],r.forEach(function(t){return _s(s,i,t,"default")}),i.length&&As(this,i,n),Ss(this,n,"default")),n.forEach(function(t){a[t.str]=s.get(t)}),this.implicitChanges={},this.noCascade={},a):void 0}function _s(t,e,n,r){var i,s;(i=Cs(t,n,r))&&(s=t.get(n),i.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(s)}))}function As(t,e,n){e.forEach(function(e){for(var r=!1,i=0,s=n.length,o=[];s>i;){var a=n[i];if(a===e.keypath){r=!0;break}a.slice(0,e.keypath.length)===e.keypath&&o.push(a),i++}r&&e.setValue(t.get(e.keypath)),o.length&&e.refineValue(o)})}function Ss(t,e,n){function r(t){t.forEach(i),t.forEach(s)}function i(e){var r=Cs(t,e,n);r&&a.push({keypath:e,deps:r})}function s(e){var i;(i=t.depsMap[n][e.str])&&r(i)}function o(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var a=[];r(e),a.forEach(o)}function Cs(t,e,n){var r=t.deps[n];return r?r[e.str]:null}function Os(){this.captureGroups.push([])}function Ps(t,e){var n,r;if(e||(r=this.wrapped[t])&&r.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function Ts(t,e){var n=e.firstKey;return!(n in t.data||n in t.computations||n in t.mappings)}function Fs(t,e){var n=new py(t,e);return this.ready&&n.init(this),this.computations[t.str]=n}function js(t,e){var n,r,i,s,o,a=this.cache,u=t.str;if(e=e||yy,e.capture&&(s=L(this.captureGroups))&&(~s.indexOf(t)||s.push(t)),Fa.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,e);if(t.isSpecial)return t.value;if(void 0===a[u]?((r=this.computations[u])&&!r.bypass?(n=r.get(),this.adapt(u,n)):(i=this.wrapped[u])?n=i.value:t.isRoot?(this.adapt("",this.data),n=this.data):n=Rs(this,t),a[u]=n):n=a[u],!e.noUnwrap&&(i=this.wrapped[u])&&(n=i.get()),t.isRoot&&e.fullRootGet)for(o in this.mappings)n[o]=this.mappings[o].getValue();return n===vy?void 0:n}function Rs(t,e){var n,r,i,s;return n=t.get(e.parent),(s=t.wrapped[e.parent.str])&&(n=s.get()),null!==n&&void 0!==n?((r=t.cacheMap[e.parent.str])?-1===r.indexOf(e.str)&&r.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(i=n[e.lastKey],t.adapt(e.str,i,!1),t.cache[e.str]=i,i):t.cache[e.str]=vy):void 0}function Ns(){var t;for(t in this.computations)this.computations[t].init(this)}function Ls(t,e){var n=this.mappings[t.str]=new xy(t,e);return n.initViewmodel(this),n}function Ds(t,e){var n,r=t.str;e&&(e.implicit&&(this.implicitChanges[r]=!0),e.noCascade&&(this.noCascade[r]=!0)),(n=this.computations[r])&&n.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var i=e?e.keepExistingWrapper:!1;this.clearCache(r,i),this.ready&&this.onchange()}function Is(t,e,n,r){var i,s,o,a;if(this.mark(t),r&&r.compare){o=Ws(r.compare);try{i=e.map(o),s=n.map(o)}catch(u){m('merge(): "%s" comparison failed. Falling back to identity checking',t),i=e,s=n}}else i=e,s=n;a=Ey(i,s),this.smartUpdate(t,n,a,e.length!==n.length)}function Vs(t){return JSON.stringify(t)}function Ws(t){if(t===!0)return Vs;if("string"==typeof t)return Ay[t]||(Ay[t]=function(e){return e[t]}),Ay[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Us(t,e){var n,r,i,s=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,s):(r=this.deps[s]||(this.deps[s]={}),i=r[t.str]||(r[t.str]=[]),i.push(e),this.depsMap[s]||(this.depsMap[s]={}),t.isRoot||Ms(this,t,s)))}function Ms(t,e,n){for(var r,i,s;!e.isRoot;)r=t.depsMap[n],i=r[e.parent.str]||(r[e.parent.str]=[]),s=e.str,void 0===i["_"+s]&&(i["_"+s]=0,i.push(e)),i["_"+s]+=1,e=e.parent}function zs(){return this.captureGroups.pop()}function Bs(t){this.data=t,this.clearCache("")}function $s(t,e){var n,r,i,s,o=void 0===arguments[2]?{}:arguments[2];if(!o.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(r=this.computations[t.str]){if(r.setting)return;r.set(e),e=r.get()}a(this.cache[t.str],e)||(i=this.wrapped[t.str],i&&i.reset&&(s=i.reset(e)!==!1,s&&(e=i.get())),r||s||qs(this,t,e),o.silent?this.clearCache(t.str):this.mark(t))}function qs(t,e,n){var r,i,s,o;s=function(){r.set?r.set(e.lastKey,n):(i=r.get(),o())},o=function(){i||(i=Xg(e.lastKey),t.set(e.parent,i,{silent:!0})),i[e.lastKey]=n},r=t.wrapped[e.parent.str],r?s():(i=t.get(e.parent),(r=t.wrapped[e.parent.str])?s():o())}function Qs(t,e,n){var r,i,s,o=this;if(i=n.length,n.forEach(function(e,n){-1===e&&o.mark(t.join(n),jy)}),this.set(t,e,{silent:!0}),(r=this.deps["default"][t.str])&&r.filter(Zs).forEach(function(t){return t.shuffle(n,e)}),i!==e.length){for(this.mark(t.join("length"),Fy),s=n.touchedFrom;s<e.length;s+=1)this.mark(t.join(s));for(s=e.length;i>s;s+=1)this.mark(t.join(s),jy)}}function Zs(t){return"function"==typeof t.shuffle}function Hs(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Ks(t,e){var n,r,i,s=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,s);if(r=this.deps[s][t.str],i=r.indexOf(e),-1===i)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");r.splice(i,1),t.isRoot||Gs(this,t,s)}}function Gs(t,e,n){for(var r,i;!e.isRoot;)r=t.depsMap[n],i=r[e.parent.str],i["_"+e.str]-=1,i["_"+e.str]||(D(i,e),i["_"+e.str]=void 0),e=e.parent}function Ys(t){this.hook=new iu(t),this.inProcess={},this.queue={}}function Js(t,e){return t[e._guid]||(t[e._guid]=[])}function Xs(t,e){var n=Js(t.queue,e);for(t.hook.fire(e);n.length;)Xs(t,n.shift());delete t.queue[e._guid]}function to(t,e){var n,r={};for(n in e)r[n]=eo(t,n,e[n]);return r}function eo(t,e,n){var r,i;return"function"==typeof n&&(r=ro(n,t)),"string"==typeof n&&(r=no(t,n)),"object"==typeof n&&("string"==typeof n.get?r=no(t,n.get):"function"==typeof n.get?r=ro(n.get,t):l("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(i=ro(n.set,t))),{getter:r,setter:i}}function no(t,e){var n,r,i;return n="return ("+e.replace(Wy,function(t,e){return r=!0,'__ractive.get("'+e+'")'})+");",r&&(n="var __ractive = this; "+n),i=new Function(n),r?i.bind(t):i}function ro(t,e){return/this/.test(t.toString())?t.bind(e):t}function io(e){var n,i,s=void 0===arguments[1]?{}:arguments[1],o=void 0===arguments[2]?{}:arguments[2];if(Hw.DEBUG&&Ta(),ao(e,o),_a(e,"data",{get:uo}),Uy.fire(e,s),$y.forEach(function(t){e[t]=r(Ea(e.constructor[t]||null),s[t])}),i=new Dy({adapt:so(e,e.adapt,s),data:Bh.init(e.constructor,e,s),computed:Vy(e,r(Ea(e.constructor.prototype.computed),s.computed)),mappings:o.mappings,ractive:e,onchange:function(){return gu.addRactive(e)}}),e.viewmodel=i,i.init(),xd.init(e.constructor,e,s),My.fire(e),zy.begin(e),e.template){var a=void 0;(o.cssIds||e.cssId)&&(a=o.cssIds?o.cssIds.slice():[],e.cssId&&a.push(e.cssId)),e.fragment=new bw({template:e.template,root:e,owner:e,cssIds:a})}if(zy.end(e),n=t(e.el)){var u=e.render(n,e.append);Hw.DEBUG_PROMISES&&u["catch"](function(t){throw v("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:e}),t.stack&&f(t.stack),t})}}function so(t,e,n){function r(e){return"string"==typeof e&&(e=g("adaptors",t,e),e||l(Ia(e,"adaptor"))),e}var i,s,o;if(e=e.map(r),i=N(n.adapt).map(r),i=oo(e,i),s="magic"in n?n.magic:t.magic,o="modifyArrays"in n?n.modifyArrays:t.modifyArrays,s){if(!ea)throw new Error("Getters and setters (magic mode) are not supported in this browser");o&&i.push(ry),i.push(ny)}return o&&i.push(Yg),i}function oo(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function ao(t,e){t._guid="r-"+By++,t._subs=Ea(null),t._config={},t._twowayBindings=Ea(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function uo(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function ho(t,e,n){this.parentFragment=t.parentFragment,this.callback=n,this.fragment=new bw({template:e,root:t.root,owner:this}),this.update()}function co(t,e,n){var r;return e.r?r=Hd(t,e.r,n):e.x?r=new Jd(t,t.parentFragment,e.x,n):e.rx&&(r=new np(t,e.rx,n)),r}function lo(t){return 1===t.length&&t[0].t===Gh}function fo(t,e){var n;for(n in e)e.hasOwnProperty(n)&&po(t.instance,t.root,n,e[n])}function po(t,e,n,r){"string"!=typeof r&&l("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Bu(e,r,{event:t,args:n}),!1})}function mo(t,e){var n,r;if(!e)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,r=n.root,this.root=r,this.type=ac,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],Zy(this,e,t.template.a,t.template.f,t.template.p),Hy(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Ky(this)}function vo(t,e){function n(n){n.rebind(t,e)}var r;this.resolvers.forEach(n);for(var i in this.yielders)this.yielders[i][0]&&n(this.yielders[i][0]);(r=this.root._liveComponentQueries["_"+this.name])&&r._makeDirty()}function go(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function yo(){return this.instance.fragment.toString()}function wo(){var t=this.instance;this.resolvers.forEach(Z),bo(this),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&D(t.el.__ractive_instances__,t),ew.fire(t)}function bo(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function xo(t){this.shouldDestroy=t,this.instance.unrender()}function ko(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(n,r){return Eo({parentFragment:e,pElement:t.pElement,template:n,index:r})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Eo(t){if("string"==typeof t.template)return new Dd(t);switch(t.template.t){case uc:return new uw(t);case Gh:return new up(t);case Jh:return new Op(t);case Yh:return new Qp(t);case ec:var e=void 0;return(e=Rg(t.parentFragment.root,t.template.e))?new iw(t,e):new xg(t);case nc:return new jg(t);case rc:return new ow(t);case cc:return new cw(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function _o(t,e){(!this.owner||this.owner.hasContext)&&k(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function Ao(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function So(t){return this.items?this.items.map(t?Oo:Co).join(""):""}function Co(t){return t.toString()}function Oo(t){return t.toString(!0)}function Po(){this.bound&&(this.items.forEach(To),this.bound=!1)}function To(t){t.unbind&&t.unbind()}function Fo(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function jo(t){var e,n,r,i,s;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),r=xd.reset(this),i=r.length;i--;)if(kw.indexOf(r[i])>-1){s=!0;break}if(s){var o=void 0;this.viewmodel.mark(Ka),(o=this.component)&&(o.shouldDestroy=!0),this.unrender(),o&&(o.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new bw({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)}else e=gu.start(this,!0),this.viewmodel.mark(Ka),gu.end();return Ew.fire(this,t),e}function Ro(t){var e,n;ld.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new bw({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function No(t,e){var n,r;if(r=gu.start(this,!0),h(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],Lo(this,t,e))}else Lo(this,t,e);return gu.end(),r}function Lo(t,e,n){e=_(C(e)),e.isPattern?A(t,e).forEach(function(e){t.viewmodel.set(e,n)}):t.viewmodel.set(e,n)}function Do(t,e){return Ga(this,t,void 0===e?-1:-e)}function Io(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&D(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():uu.resolve(),Rw.fire(this),this._boundFunctions.forEach(Vo),t}function Vo(t){delete t.fn[t.prop]}function Wo(t){var e=this;if("string"!=typeof t)throw new TypeError(La);var n=void 0;return/\*/.test(t)?(n={},A(this,_(C(t))).forEach(function(t){n[t.str]=!e.viewmodel.get(t)}),this.set(n)):this.set(t,!this.get(t))}function Uo(){return this.fragment.toString(!0)}function Mo(){var t,e;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),uu.resolve();for(t=gu.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),D(this.el.__ractive_instances__,this),Iw.fire(this),gu.end(),t}function zo(t){var e;return t=_(t)||Ka,e=gu.start(this,!0),this.viewmodel.mark(t),gu.end(),Uw.fire(this,t),e}function Bo(t,e){var n,r,i;if("string"!=typeof t||e){i=[];for(r in this._twowayBindings)(!t||_(r).equalsOrStartsWith(t))&&i.push.apply(i,this._twowayBindings[r])}else i=this._twowayBindings[t];return n=$o(this,i),this.set(n)}function $o(t,e){var n={},r=[];return e.forEach(function(t){var e,i;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(r[t.keypath.str]||t.changed()||(r.push(t.keypath),r[t.keypath.str]=t));e=t.attribute.value,i=t.getValue(),R(e,i)||a(e,i)||(n[t.keypath.str]=i)}}),r.length&&r.forEach(function(t){var e,i,s;e=r[t.str],i=e.attribute.value,s=e.getValue(),R(i,s)||(n[t.str]=s)}),n}function qo(t,e){return"function"==typeof e&&/_super/.test(t)}function Qo(t){for(var e={};t;)Zo(t,e),Ko(t,e),t=t._Parent!==Hw?t._Parent:!1;return e}function Zo(t,e){yd.forEach(function(n){Ho(n.useDefaults?t.prototype:t,e,n.name)})}function Ho(t,e,n){var r,i=Object.keys(t[n]);i.length&&((r=e[n])||(r=e[n]={}),i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]}))}function Ko(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var r=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof r&&e[n]._method){var i=void 0,s=r._method;s&&(r=r._method),i=Bw(e[n]._method,r),s&&(i._method=i),e[n]=i}}else e[n]=r._method?r._method:r}})}function Go(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(Yo,this):Yo(this)}function Yo(t){var e,n,i=void 0===arguments[1]?{}:arguments[1];return i.prototype instanceof Hw&&(i=$w(i)),e=function(t){return this instanceof e?void qy(this,t):new e(t)},n=Ea(t.prototype),n.constructor=e,Aa(e,{defaults:{value:n},extend:{value:Go,writable:!0,configurable:!0},_Parent:{value:t}}),xd.extend(t,n,i),Bh.extend(t,n,i),i.computed&&(n.computed=r(Ea(t.prototype.computed),i.computed)),e.prototype=n,e}var Jo,Xo,ta,ea,na,ra,ia,sa=3,oa={el:void 0,append:!1,template:{v:sa,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},aa=oa,ua={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Jo="object"==typeof document,Xo="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),ta="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),ea=!0}catch(ha){ea=!1}na={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ra="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),ia=["o","ms","moz","webkit"];var ca,la,fa,da,pa,ma,va,ga,ya;if(ca=ra?function(t,e){return e&&e!==na.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==na.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Jo){for(fa=ca("div"),da=["matches","matchesSelector"],ya=function(t){return function(e,n){return e[t](n)}},va=da.length;va--&&!la;)if(pa=da[va],fa[pa])la=ya(pa);else for(ga=ia.length;ga--;)if(ma=ia[va]+pa.substr(0,1).toUpperCase()+pa.substring(1),fa[ma]){la=ya(ma);break}la||(la=function(t,e){var n,r,i;for(r=t.parentNode,r||(fa.innerHTML="",r=fa,t=t.cloneNode(),fa.appendChild(t)),n=r.querySelectorAll(e),i=n.length;i--;)if(n[i]===t)return!0;return!1})}else la=null;var wa,ba,xa,ka=function(){};"undefined"==typeof window?xa=null:(wa=window,ba=wa.document,xa={},ba||(xa=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var s=[];for(var o in i)t.call(i,o)&&s.push(o);if(e)for(var a=0;r>a;a++)t.call(i,n[a])&&s.push(n[a]);return s}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;for(void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0),n=this.length;n>e;e++)if(this.hasOwnProperty(e)&&this[e]===t)return e;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;for(n=0,r=this.length;r>n;n+=1)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,r,i,s=this,o=[];for(s instanceof String&&(s=s.toString(),i=!0),n=0,r=s.length;r>n;n+=1)(s.hasOwnProperty(n)||i)&&(o[n]=t.call(e,s[n],n,s));return o}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var n,r,i,s;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=this.length,s=!1,arguments.length>1&&(r=e,s=!0),n=0;i>n;n+=1)this.hasOwnProperty(n)?s&&(r=t(r,this[n],n,this)):(r=this[n],s=!0);if(!s)throw new TypeError("Reduce of empty array with no initial value");return r}),Array.prototype.filter||(Array.prototype.filter=function(t,e){var n,r,i=[];for(n=0,r=this.length;r>n;n+=1)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)&&(i[i.length]=this[n]);return i}),Array.prototype.every||(Array.prototype.every=function(t,e){var n,r,i;if(null==this)throw new TypeError;if(n=Object(this),r=n.length>>>0,"function"!=typeof t)throw new TypeError;for(i=0;r>i;i+=1)if(i in n&&!t.call(e,n[i],i,n))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(t){var e,n,r,i,s=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return e=s.call(arguments,1),n=this,r=function(){},i=function(){var i=this instanceof r&&t?this:t;return n.apply(i,e.concat(s.call(arguments)))},r.prototype=this.prototype,i.prototype=new r,i}),wa.addEventListener||!function(t,e){var n,r,i,s,o,a;t.appearsToBeIELessEqual8=!0,n=function(t,e){var n,r=this;for(n in t)r[n]=t[n];r.currentTarget=e,r.target=t.srcElement||e,r.timeStamp=+new Date,r.preventDefault=function(){t.returnValue=!1},r.stopPropagation=function(){t.cancelBubble=!0}},r=function(t,e){var r,i,s=this;r=s.listeners||(s.listeners=[]),i=r.length,r[i]=[e,function(t){e.call(s,new n(t,s))}],s.attachEvent("on"+t,r[i][1])},i=function(t,e){var n,r,i=this;if(i.listeners)for(n=i.listeners,r=n.length;r--;)n[r][0]===e&&i.detachEvent("on"+t,n[r][1])},t.addEventListener=e.addEventListener=r,t.removeEventListener=e.removeEventListener=i,"Element"in t?(t.Element.prototype.addEventListener=r,t.Element.prototype.removeEventListener=i):(a=e.createElement,e.createElement=function(t){var e=a(t);return e.addEventListener=r,e.removeEventListener=i,e},s=e.getElementsByTagName("head")[0],o=e.createElement("style"),s.insertBefore(o,s.firstChild))}(wa,ba),wa.getComputedStyle||(xa.getComputedStyle=function(){function t(n,r,i,s){var o,a=r[i],u=parseFloat(a),h=a.split(/\d/)[0];return isNaN(u)&&/^thin|medium|thick$/.test(a)&&(u=e(a),h=""),s=null!=s?s:/%|em/.test(h)&&n.parentElement?t(n.parentElement,n.parentElement.currentStyle,"fontSize",null):16,o="fontSize"==i?s:/width/i.test(i)?n.clientWidth:n.clientHeight,"em"==h?u*s:"in"==h?96*u:"pt"==h?96*u/72:"%"==h?u/100*o:u}function e(t){var e,n;return s[t]||(e=document.createElement("div"),e.style.display="block",e.style.position="fixed",e.style.width=e.style.height="0",e.style.borderRight=t+" solid black",document.getElementsByTagName("body")[0].appendChild(e),n=e.getBoundingClientRect(),s[t]=n.right-n.left),s[t]}function n(t,e){var n="border"==e?"Width":"",r=e+"Top"+n,i=e+"Right"+n,s=e+"Bottom"+n,o=e+"Left"+n;t[e]=(t[r]==t[i]==t[s]==t[o]?[t[r]]:t[r]==t[s]&&t[o]==t[i]?[t[r],t[i]]:t[o]==t[i]?[t[r],t[i],t[s]]:[t[r],t[i],t[s],t[o]]).join(" ")}function r(e){var r,i,s,a;r=e.currentStyle,i=this,s=t(e,r,"fontSize",null);for(a in r)"normal"===r[a]&&o.hasOwnProperty(a)?i[a]=o[a]:/width|height|margin.|padding.|border.+W/.test(a)?"auto"===r[a]?/^width|height/.test(a)?i[a]=("width"===a?e.clientWidth:e.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(a)&&(i[a]="0px"):i[a]=t(e,r,a,s)+"px":"styleFloat"===a?i["float"]=r[a]:i[a]=r[a];return n(i,"margin"),n(i,"padding"),n(i,"border"),i.fontSize=s+"px",i}function i(t){return new r(t)}var s={},o={fontWeight:400,lineHeight:1.2,letterSpacing:0};return r.prototype={constructor:r,getPropertyPriority:ka,getPropertyValue:function(t){return this[t]||""},item:ka,removeProperty:ka,setProperty:ka,getPropertyCSSValue:ka},i}()));var Ea,_a,Aa,Sa=xa;try{Object.defineProperty({},"test",{value:0}),Jo&&Object.defineProperty(document.createElement("div"),"test",{value:0}),_a=Object.defineProperty}catch(Ca){_a=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Ca){throw Ca}Jo&&Object.defineProperties(ca("div"),{test:{value:0}}),Aa=Object.defineProperties}catch(Ca){Aa=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&_a(t,n,e[n])}}try{Object.create(null),Ea=Object.create}catch(Ca){Ea=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}var Oa,Pa,Ta,Fa=Object.prototype.hasOwnProperty,ja=Object.prototype.toString,Ra=/^\[object (?:Array|FileList)\]$/,Na={};ta?!function(){var t=["%cRactive.js %c0.7.2-edge %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],e="You're running Ractive 0.7.2-edge in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Ta=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,t),console.log(e),n&&console.groupEnd(t),Ta=ka},Pa=function(t,e){if(Ta(),"object"==typeof e[e.length-1]){var n=e.pop(),r=n?n.ractive:null;if(r){var i=void 0;r.component&&(i=r.component.name)&&(t="<"+i+"> "+t);var s=void 0;(s=n.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&e.push(s)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},Oa=function(){console.log.apply(console,arguments)}}():Pa=Oa=Ta=ka;var La="Bad arguments",Da='A function was specified for "%s" %s, but no %s was returned',Ia=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Va=function(t,e,n,r){if(t===e)return w(e);if(r){var i=g("interpolators",n,r);if(i)return i(t,e)||w(e);l(Ia(r,"interpolator"))}return Ma.number(t,e)||Ma.array(t,e)||Ma.object(t,e)||w(e)},Wa=Va,Ua={number:function(t,e){var n;return u(t)&&u(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,r,i,o;if(!s(t)||!s(e))return null;for(n=[],r=[],o=i=Math.min(t.length,e.length);o--;)r[o]=Wa(t[o],e[o]);for(o=i;o<t.length;o+=1)n[o]=t[o];for(o=i;o<e.length;o+=1)n[o]=e[o];return function(t){for(var e=i;e--;)n[e]=r[e](t);return n}},object:function(t,e){var n,r,i,s,o;if(!h(t)||!h(e))return null;n=[],s={},i={};for(o in t)Fa.call(t,o)&&(Fa.call(e,o)?(n.push(o),i[o]=Wa(t[o],e[o])):s[o]=t[o]);for(o in e)Fa.call(e,o)&&!Fa.call(t,o)&&(s[o]=e[o]);return r=n.length,function(t){for(var e,o=r;o--;)e=n[o],s[e]=i[e](t);return s}}},Ma=Ua,za=b,Ba={},$a=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,qa=/\*/,Qa={},Za=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=E(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.isPattern=qa.test(t),this.parent=""===t?null:_(e.join(".")),this.isRoot=!t};Za.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return _(this.isRoot?String(t):this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:_(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=za(this.str))}};var Ha,Ka=_(""),Ga=O,Ya="Cannot add to a non-numeric value",Ja=P;"undefined"==typeof window?Ha=null:(!function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){
var n,r,s;return n=Date.now(),r=Math.max(0,16-(n-e)),s=i(function(){t(n+r)},r),e=n+r,s})}}(ia,0,window),Ha=window.requestAnimationFrame);var Xa,tu=Ha;Xa="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var eu=Xa,nu={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};T.prototype.fire=function(t,e){function n(n){return t[n]?(e?t[n](e):t[n](),!0):void 0}n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var ru,iu=T,su={},ou={},au={};"function"==typeof Promise?ru=Promise:(ru=function(t){var e,n,r,i,s,o,a=[],u=[],h=su;r=function(t){return function(r){h===su&&(e=r,h=t,n=W(h===ou?a:u,e),V(n))}},i=r(ou),s=r(au);try{t(i,s)}catch(c){s(c)}return o={then:function(t,e){var r=new ru(function(i,s){var o=function(t,e,n){e.push("function"==typeof t?function(e){var n;try{n=t(e),U(r,n,i,s)}catch(o){s(o)}}:n)};o(t,a,i),o(e,u,s),h!==su&&V(n)});return r}},o["catch"]=function(t){return this.then(null,t)},o},ru.all=function(t){return new ru(function(e,n){var r,i,s,o=[];if(!t.length)return void e(o);for(s=function(t,i){t&&"function"==typeof t.then?t.then(function(t){o[i]=t,--r||e(o)},n):(o[i]=t,--r||e(o))},r=i=t.length;i--;)s(t[i],i)})},ru.resolve=function(t){return new ru(function(e){e(t)})},ru.reject=function(t){return new ru(function(e,n){n(t)})});var uu=ru,hu=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Ka},cu=M,lu=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};lu.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Y(this)},decrementTotal:function(){this.totalChildren-=1,Y(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;D(e,t),Y(this)},init:function(){this.ready=!0,Y(this)},detachNodes:function(){this.decoratorQueue.forEach(Q),this.detachQueue.forEach(K),this.children.forEach(G)}};var fu,du,pu=lu,mu=[],vu=new iu("change");du={start:function(t,e){var n,r;return e&&(n=new uu(function(t){return r=t})),fu={previousBatch:fu,transitionManager:new pu(r,fu&&fu.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&fu.ractives.push(t),n},end:function(){J(),fu.transitionManager.init(),!fu.previousBatch&&fu.instance&&(fu.instance.viewmodel.changes=[]),fu=fu.previousBatch},addRactive:function(t){fu&&F(fu.ractives,t)},registerTransition:function(t){t._manager=fu.transitionManager,fu.transitionManager.add(t)},registerDecorator:function(t){fu.transitionManager.addDecorator(t)},addView:function(t){fu.views.push(t)},addUnresolved:function(t){mu.push(t)},removeUnresolved:function(t){D(mu,t)},detachWhenReady:function(t){fu.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(fu){for(n=fu;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var gu=du,yu=[],wu={tick:function(){var t,e,n;for(n=eu(),gu.start(),t=0;t<yu.length;t+=1)e=yu[t],e.tick(n)||yu.splice(t--,1);gu.end(),yu.length?tu(wu.tick):wu.running=!1},add:function(t){yu.push(t),wu.running||(wu.running=!0,tu(wu.tick))},abort:function(t,e){for(var n,r=yu.length;r--;)n=yu[r],n.root===e&&n.keypath===t&&n.stop()}},bu=wu,xu=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=Wa(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};xu.prototype={tick:function(){var t,e,n,r,i,s;return s=this.keypath,this.running?(r=Date.now(),t=r-this.startTime,t>=this.duration?(null!==s&&(gu.start(this.root),this.root.viewmodel.set(s,this.to),gu.end()),this.step&&this.step(1,this.to),this.complete(this.to),i=this.root._animations.indexOf(this),-1===i&&m("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,null!==s&&(n=this.interpolator(e),gu.start(this.root),this.root.viewmodel.set(s,n),gu.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&m("Animation was not found"),this.root._animations.splice(t,1)}};var ku=xu,Eu=et,_u={stop:ka},Au=rt,Su=new iu("detach"),Cu=it,Ou=st,Pu=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},Tu=function(t,e){var n,r,i,s,o,a,u,h,c,l;for(n=at(t.component||t._ractive.proxy),r=at(e.component||e._ractive.proxy),i=L(n),s=L(r);i&&i===s;)n.pop(),r.pop(),o=i,i=L(n),s=L(r);if(i=i.component||i,s=s.component||s,c=i.parentFragment,l=s.parentFragment,c===l)return a=c.items.indexOf(i),u=l.items.indexOf(s),a-u||n.length-r.length;if(h=o.fragments)return a=h.indexOf(c),u=h.indexOf(l),a-u||n.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Fu=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):Tu(t,e)},ju=function(){this.sort(this._isComponentQuery?Tu:Fu),this._dirty=!1},Ru=function(){var t=this;this._dirty||(this._dirty=!0,gu.scheduleTask(function(){t._sort()}))},Nu=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},Lu=ut,Du=ht,Iu=ct,Vu=lt,Wu=ft,Uu=dt,Mu={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},zu=Mu,Bu=pt,$u=gt,qu=yt,Qu={capture:!0,noUnwrap:!0,fullRootGet:!0},Zu=wt,Hu=new iu("insert"),Ku=xt,Gu=function(t,e,n,r){this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.context=r&&r.context?r.context:t};Gu.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;a(t,this.value)||(this.value=t,this.defer&&this.ready?gu.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Yu,Ju=Gu,Xu=kt,th=Array.prototype.slice;Yu=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.keypath=e,this.regex=new RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:t},Yu.prototype={init:function(t){var e,n;if(e=Xu(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(_(n));else this.values=e},update:function(t){var e,n=this;if(t.isPattern){e=Xu(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(_(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void gu.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,r,i;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,a(n,this.values[e])&&this.ready||(r=th.call(this.regex.exec(e),1),i=[n,this.values[e],e].concat(r),this.values[e]=n,this.callback.apply(this.context,i)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return e.reallyUpdate(t)}}),this.proxies[t.str]}};var eh,nh,rh,ih,sh,oh,ah=Yu,uh=Et,hh={},ch=_t,lh=At,fh=function(t){return t.trim()},dh=function(t){return""!==t},ph=St,mh=Ct,vh=Ot,gh=Pt,yh=Array.prototype,wh=function(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];var o,a,u,h,c=[];if(e=_(C(e)),o=this.viewmodel.get(e),a=o.length,!s(o))throw new Error("Called ractive."+t+"('"+e.str+"'), but '"+e.str+"' does not refer to an array");return c=gh(o,t,r),h=yh[t].apply(o,r),u=gu.start(this,!0).then(function(){return h}),c?this.viewmodel.smartUpdate(e,o,c):this.viewmodel.mark(e),gu.end(),u}},bh=wh("pop"),xh=wh("push"),kh="/* Ractive.js component styles */\n",Eh=[],_h=!1;Jo?(rh=document.createElement("style"),rh.type="text/css",ih=document.getElementsByTagName("head")[0],oh=!1,sh=rh.styleSheet,nh=function(){var t=kh+Eh.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");sh?sh.cssText=t:rh.innerHTML=t,oh||(ih.appendChild(rh),oh=!0)},eh={add:function(t){Eh.push(t),_h=!0},apply:function(){_h&&(nh(),_h=!1)}}):eh=null;var Ah,Sh,Ch=eh,Oh=Ft,Ph=new iu("render"),Th=new iu("complete"),Fh={extend:function(t,e,n){e.adapt=Rt(e.adapt,N(n.adapt))},init:function(){}},jh=Fh,Rh=Nt,Nh=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Lh=/\/\*.*?\*\//g,Dh=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Ih=/^@media/,Vh=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Wh=1,Uh={name:"css",extend:function(t,e,n){if(n.css){var r=Wh++,i=n.noCssTransform?n.css:Rh(n.css,r);e.cssId=r,Ch.add({id:r,styles:i})}},init:function(){}},Mh=Uh,zh={name:"data",extend:function(t,e,n){var r=void 0,i=void 0;if(n.data&&h(n.data))for(r in n.data)i=n.data[r],i&&"object"==typeof i&&(h(i)||s(i))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Vt(e.data,n.data)},init:function(t,e,n){var r=Vt(t.prototype.data,n.data);return"function"==typeof r&&(r=r.call(e)),r||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(e),!0}},Bh=zh,$h=/^\s+/;Sh=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},Sh.prototype=Error.prototype,Ah=function(t,e){var n,r,i=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=i+t.length+1;return i=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},Ah.prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;r>n;n+=1)if(this.pos=e,i=t[n](this))return i;return null},getLinePos:function(t){for(var e,n=0,r=0;t>=this.lineEnds[n];)r=this.lineEnds[n],n+=1;return e=t-r,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],r=e[1],i=this.lines[e[0]-1],s=0,o=i.replace(/\t/g,function(t,n){return n<e[1]&&(s+=1),"  "})+"\n"+new Array(e[1]+s).join(" ")+"^----",a=new Sh(""+t+" at line "+n+" character "+r+":\n"+o);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern($h)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Ah.extend=function(t){var e,n,r=this;e=function(t,e){Ah.call(this,t,e)},e.prototype=Ea(r.prototype);for(n in t)Fa.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=Ah.extend,e};var qh,Qh,Zh,Hh=Ah,Kh=1,Gh=2,Yh=3,Jh=4,Xh=5,tc=6,ec=7,nc=8,rc=9,ic=10,sc=13,oc=14,ac=15,uc=16,hc=17,cc=18,lc=20,fc=21,dc=22,pc=23,mc=24,vc=25,gc=26,yc=27,wc=30,bc=31,xc=32,kc=33,Ec=34,_c=35,Ac=36,Sc=40,Cc=50,Oc=51,Pc=52,Tc=53,Fc=54,jc=60,Rc=61,Nc=Mt,Lc=/^[^\s=]+/,Dc=/^\s+/,Ic=zt,Vc=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Wc=Bt,Uc={t:ic,exclude:!0},Mc="Expected a JavaScript expression",zc="Expected closing paren",Bc=qt,$c=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,qc=Qt;qh=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Qh=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Zh=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Qc,Zc,Hc=function(t){return function(e){var n,r,i,s;for(n=e.pos,r='"',i=!1;!i;)s=e.matchPattern(qh)||e.matchPattern(Qh)||e.matchString(t),s?r+='"'===s?'\\"':"\\'"===s?"'":s:(s=e.matchPattern(Zh),s?r+="\\u"+("000"+s.charCodeAt(1).toString(16)).slice(-4):i=!0);return r+='"',JSON.parse(r)}},Kc=Hc('"'),Gc=Hc("'"),Yc=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=Gc(t),t.matchString('"')?{t:fc,v:n}:(t.pos=e,null)):t.matchString("'")?(n=Kc(t),t.matchString("'")?{t:fc,v:n}:(t.pos=e,null)):null},Jc=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Xc=Zt,tl=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,el=Ht,nl=Kt,rl=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=nl(t),t.allowWhitespace(),t.matchString("}")?{t:pc,m:n}:(t.pos=e,null)):(t.pos=e,null)},il=Gt,sl=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=il(t),t.matchString("]")?{t:dc,m:n}:(t.pos=e,null)):(t.pos=e,null)},ol=Yt,al=Jt,ul=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Qc=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,Zc=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var hl,cl,ll=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,fl=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,dl=Xt,pl=function(t){return ol(t)||al(t)||dl(t)},ml=te,vl=function(t){var e,n,r,i;if(n=pl(t),!n)return null;for(;n;)if(e=t.pos,r=ml(t))n={t:xc,x:n,r:r};else{if(!t.matchString("("))break;t.allowWhitespace(),i=il(t),t.allowWhitespace(),t.matchString(")")||t.error(zc),n={t:Sc,x:n},i&&(n.o=i)}return n};cl=function(t,e){return function(n){var r;return(r=e(n))?r:n.matchString(t)?(n.allowWhitespace(),r=Tl(n),r||n.error(Mc),{s:t,o:r,t:kc}):null}},function(){var t,e,n,r,i;for(r="! ~ + - typeof".split(" "),i=vl,t=0,e=r.length;e>t;t+=1)n=cl(r[t],i),i=n;hl=i}();var gl,yl,wl=hl;yl=function(t,e){return function(n){var r,i,s;if(i=e(n),!i)return null;for(;;){if(r=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=r,i;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=r,i;if(n.allowWhitespace(),s=e(n),!s)return n.pos=r,i;i={t:Ac,s:t,o:[i,s]}}}},function(){var t,e,n,r,i;for(r="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),i=wl,t=0,e=r.length;e>t;t+=1)n=yl(r[t],i),i=n;gl=i}();var bl,xl,kl,El,_l,Al,Sl,Cl,Ol=gl,Pl=ee,Tl=ne,Fl=re,jl=se,Rl=/^[0-9][1-9]*$/,Nl=ae,Ll=ue,Dl=he,Il=ce,Vl=le,Wl=fe,Ul=de,Ml=/^yield\s*/,zl=pe,Bl=me,$l=/^\s*else\s*/,ql=ve,Ql=/^\s*elseif\s+/,Zl={each:Pc,"if":Cc,"if-with":Fc,"with":Tc,unless:Oc},Hl=ge,Kl=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Gl=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Yl=new RegExp("^("+Object.keys(Zl).join("|")+")\\b"),Jl=ke,Xl="<!--",tf="-->";bl=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,xl=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,kl={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},El=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],_l=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(kl).join("|")+"));?","g"),Al=/</g,Sl=/>/g,Cl=/&/g;var ef,nf,rf,sf,of,af,uf,hf=/^\s*\r?\n/,cf=/\r?\n\s*$/,lf=function(t){var e,n,r,i,s;for(e=1;e<t.length;e+=1)n=t[e],r=t[e-1],i=t[e-2],Se(n)&&Ce(r)&&Se(i)&&cf.test(i)&&hf.test(n)&&(t[e-2]=i.replace(cf,"\n"),t[e]=n.replace(hf,"")),Oe(n)&&Se(r)&&cf.test(r)&&Se(n.f[0])&&hf.test(n.f[0])&&(t[e-1]=r.replace(cf,"\n"),n.f[0]=n.f[0].replace(hf,"")),Se(n)&&Oe(r)&&(s=L(r.f),Se(s)&&cf.test(s)&&hf.test(n)&&(r.f[r.f.length-1]=s.replace(cf,"\n"),t[e]=n.replace(hf,"")));return t},ff=/^[ \t\f\r\n]+/,df=/[ \t\f\r\n]+$/,pf=function(t,e,n){var r;e&&(r=t[0],"string"==typeof r&&(r=r.replace(ff,""),r?t[0]=r:t.shift())),n&&(r=L(t),"string"==typeof r&&(r=r.replace(df,""),r?t[t.length-1]=r:t.pop()))},mf=Pe,vf=/[ \t\f\r\n]+/g,gf=/^(?:pre|script|style|textarea)$/i,yf=/^\s+/,wf=/\s+$/,bf=Te,xf=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,kf=function(t,e){var n,r,i;for(n=e.length;n--;){if(r=t.indexOf(e[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},Ef=Fe,_f=/^[^\s"'>\/=]+/,Af=/^[^\s"'=<>`]+/;nf={"true":!0,"false":!1,undefined:void 0,"null":null},rf=new RegExp("^(?:"+Object.keys(nf).join("|")+")"),sf=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,of=/\$\{([^\}]+)\}/g,af=/^\$\{([^\}]+)\}/,uf=/^\s*$/,ef=Hh.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&uf.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(af),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(rf))?{v:nf[e]}:void 0},function(t){var e;return(e=t.matchPattern(sf))?{v:+e}:void 0},function(t){var e,n=Yc(t);return n&&(e=t.values)?{v:n.v.replace(of,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=Ie(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var Sf,Cf=function(t,e){var n=new ef(t,{values:e});return n.result},Of=Ve,Pf=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Tf=/\)\s*$/;Sf=Hh.extend({converters:[Tl]});var Ff,jf=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Rf=/^[\s\n\/>]/,Nf=/^on/,Lf=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Df=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,If={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Vf={exclude:!0};Ff={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Wf,Uf=We,Mf=Me,zf=ze,Bf=/[-/\\^$*+?.()|[\]{}]/g,$f=Be,qf=/^<!--\s*/,Qf=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Zf=/\s*-->/,Hf=$e,Kf=/^#\s*partial\s+/,Gf=qe,Yf=Qe,Jf=[Dl,Ll,Hl,Ul,Wl,Il],Xf=[Nl],td=[Ll,Hl,Wl],ed=void 0,nd=[Wc,Jl,Uf,Mf],rd=[$f,Hf];ed=Hh.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],r=e.staticDelimiters||["[[","]]"],i=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Jf},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Xf},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:td},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:Xf}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),mf(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:sa}},converters:[Gf],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var id,sd,od,ad=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],ud={parse:He,fromId:Ke,isHashedId:Ge,isParsed:Ye,getParseOptions:Je,createHelper:Ze},hd=ud,cd={name:"template",extend:function(t,e,n){var r;"template"in n&&(r=n.template,e.template="function"==typeof r?r:nn(r,e))},init:function(t,e,n){var r,i;r="template"in n?n.template:t.prototype.template,"function"==typeof r&&(i=r,r=tn(e,i),e._config.template={fn:i,result:r}),r=nn(r,e),e.template=r.t,r.p&&rn(e.partials,r.p)},reset:function(t){var e,n=Xe(t);return n?(e=nn(n,t),t.template=e.t,rn(t.partials,e.p,!0),!0):void 0}},ld=cd;id=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],sd=function(t,e){this.name=t,this.useDefaults=e},sd.prototype={constructor:sd,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var r,i=this.name,s=n[i];r=Ea(t[i]);for(var o in s)r[o]=s[o];e[i]=r},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n}},od=id.map(function(t){return new sd(t,"computed"===t)});var fd,dd,pd,md,vd,gd,yd=od,wd=sn,bd=hn;md={adapt:jh,css:Mh,data:Bh,template:ld},pd=Object.keys(aa),gd=fn(pd.filter(function(t){return!md[t]})),vd=fn(pd.concat(yd.map(function(t){return t.name}))),dd=[].concat(pd.filter(function(t){return!yd[t]&&!md[t]}),yd,md.data,md.template,md.css),fd={extend:function(t,e,n){return cn("extend",t,e,n)},init:function(t,e,n){return cn("init",t,e,n)},reset:function(t){return dd.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:dd};var xd=fd,kd=dn,Ed=pn,_d=mn,Ad=vn,Sd=gn,Cd=yn,Od=wn,Pd=bn,Td=xn,Fd=kn,jd=En,Rd=_n,Nd=function(){return e(this.node)},Ld=function(t){this.type=Kh,this.text=t.template};Ld.prototype={detach:Nd,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?Ae(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var Dd=Ld,Id=An,Vd=Sn,Wd=function(t,e,n){var r;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,r=cu(t.root,e,t.parentFragment),void 0!=r?this.resolve(r):gu.addUnresolved(this)};Wd.prototype={resolve:function(t){this.keypath&&!t&&gu.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(_(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||gu.removeUnresolved(this)}};var Ud=Wd,Md=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},zd={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Md.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,r=zd[e];if(!r)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(_("@"+r.prefix+Cn(this.cached,r)));if(-1!==r.prop.indexOf("index")||-1!==r.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Pc&&void 0!==(t=Cn(n,r)))return this.cached=n,n.registerIndexRef(this),this.callback(_("@"+r.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=Cn(n,r)))return this.callback(_("@"+r.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Bd=Md,$d=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};$d.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(_("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var qd=$d,Qd=On;On.resolve=function(t){var e,n,r={};for(e in t.refs)n=t.refs[e],r[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return r};var Zd,Hd=Pn,Kd=Tn,Gd={},Yd=Function.prototype.bind;Zd=function(t,e,n,r){var i,s=this;i=t.root,this.root=i,this.parentFragment=e,this.callback=r,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return Hd(s,t,function(t){s.resolve(e,t)})}),this.ready=!0,this.bubble()},Zd.prototype={bubble:function(){this.ready&&(this.uniqueString=jn(this.str,this.keypaths),this.keypath=Rn(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,r,i,s=this;r=this.keypath,t=this.root.viewmodel.computations[r.str],t?this.root.viewmodel.mark(r):(i=Kd(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){return void 0}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=s.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof e&&(e=Ln(e,s.root)),e}}),n={deps:this.keypaths.filter(Nn),getter:function(){var t=e.map(Fn);return i.apply(null,t)}},t=this.root.viewmodel.compute(r,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Jd=Zd,Xd=function(t,e,n){var r=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===wc?this.refResolver=Hd(this,t.n,function(t){r.resolve(t)}):new Jd(e,n,t,function(t){r.resolve(t)})};Xd.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var tp=Xd,ep=function(t,e,n){var r,i,s,o,a=this;this.parentFragment=o=t.parentFragment,this.root=r=t.root,this.mustache=t,this.ref=i=e.r,this.callback=n,this.unresolved=[],(s=cu(r,i,o))?this.base=s:this.baseResolver=new Ud(this,i,function(t){a.base=t,a.baseResolver=null,a.bubble()}),this.members=e.m.map(function(t){return new tp(t,a,o)}),this.ready=!0,this.bubble()};ep.prototype={getKeypath:function(){var t=this.members.map(Dn);return!t.every(In)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Z)},rebind:function(t,e){var n;if(this.base){var r=this.base.replace(t,e);r&&r!==this.base&&(this.base=r,n=!0)}this.members.forEach(function(r){r.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=_(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Vn),this.bubble()}};var np=ep,rp=Wn,ip=Un,sp=Mn,op={getValue:Vd,init:rp,resolve:ip,rebind:sp},ap=function(t){this.type=Gh,op.init(this,t)};ap.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:op.resolve,rebind:op.rebind,detach:Nd,unbind:Id,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(t){t&&e(this.node)},getValue:op.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),a(t,this.value)||(this.value=t,this.parentFragment.bubble(),
this.node&&gu.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=""+n(this.value);return t?Ae(e):e}};var up=ap,hp=zn,cp=Bn,lp=$n,fp=qn,dp=Qn,pp=Zn,mp=Hn,vp=Kn,gp=Gn,yp=function(t,e){op.rebind.call(this,t,e)},wp=Jn,bp=Xn,xp=cr,kp=lr,Ep=fr,_p=mr,Ap=function(t){this.type=Jh,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===Oc,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,op.init(this,t)};Ap.prototype={bubble:hp,detach:cp,find:lp,findAll:fp,findAllComponents:dp,findComponent:pp,findNextNode:mp,firstNode:vp,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];if(n.n===t)return n}},getValue:op.getValue,shuffle:gp,rebind:yp,render:wp,resolve:op.resolve,setValue:bp,toString:xp,unbind:kp,unrender:Ep,update:_p};var Sp,Cp,Op=Ap,Pp=vr,Tp=gr,Fp=yr,jp=wr,Rp={};try{ca("table").innerHTML="foo"}catch(Ca){Sp=!0,Cp={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Np=function(t,e,n){var r,i,s,o,a,u=[];if(null!=t&&""!==t){for(Sp&&(i=Cp[e.tagName])?(r=br("DIV"),r.innerHTML=i[0]+t+i[1],r=r.querySelector(".x"),"SELECT"===r.tagName&&(s=r.options[r.selectedIndex])):e.namespaceURI===na.svg?(r=br("DIV"),r.innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x")):(r=br(e.tagName),r.innerHTML=t,"SELECT"===r.tagName&&(s=r.options[r.selectedIndex]));o=r.firstChild;)u.push(o),n.appendChild(o);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==s&&(u[a].selected=!1)}return u},Lp=xr,Dp=Er,Ip=_r,Vp=Ar,Wp=Sr,Up=Cr,Mp=function(t){this.type=Yh,op.init(this,t)};Mp.prototype={detach:Pp,find:Tp,findAll:Fp,firstNode:jp,getValue:op.getValue,rebind:op.rebind,render:Dp,resolve:op.resolve,setValue:Ip,toString:Vp,unbind:Id,unrender:Wp,update:Up};var zp,Bp,$p,qp,Qp=Mp,Zp=function(){this.parentFragment.bubble()},Hp=Or,Kp=function(t){return this.node?la(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Gp=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Yp=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Jp=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Xp=Pr,tm=Tr,em=Fr,nm=/^true|on|yes|1$/i,rm=/^[0-9]+$/,im=function(t,e){var n,r,i;return i=e.a||{},r={},n=i.twoway,void 0!==n&&(r.twoway=0===n||nm.test(n)),n=i.lazy,void 0!==n&&(r.lazy=0!==n&&rm.test(n)?parseInt(n):0===n||nm.test(n)),r},sm=jr;zp="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Bp="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),$p=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},qp=$p(zp.concat(Bp));var om=function(t){var e=t.toLowerCase();return qp[e]||e},am=function(t,e){var n,r;if(n=e.indexOf(":"),-1===n||(r=e.substr(0,n),"xmlns"===r))t.name=t.element.namespace!==na.html?om(e):e;else if(e=e.substring(n+1),t.name=om(e),t.namespace=na[r.toLowerCase()],t.namespacePrefix=r,!t.namespace)throw'Unknown namespace ("'+r+'")'},um=Rr,hm=Nr,cm=Lr,lm=Dr,fm={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},dm=Ir,pm=Wr,mm=Ur,vm=Mr,gm=zr,ym=Br,wm=$r,bm=qr,xm=Qr,km=Zr,Em=Hr,_m=Kr,Am=Gr,Sm=Yr,Cm=Jr,Om=function(t){this.init(t)};Om.prototype={bubble:sm,init:hm,rebind:cm,render:lm,toString:dm,unbind:pm,update:Cm};var Pm,Tm=Om,Fm=function(t,e){var n,r,i=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(r=new Tm({element:t,name:n,value:e[n],root:t.root}),i[n]=r,"value"!==n&&i.push(r));return(r=i.value)&&i.push(r),i};"undefined"!=typeof document&&(Pm=ca("div"));var jm=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new bw({root:t.root,owner:this,template:[e]})};jm.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===na.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment.toString(),e=Xr(t,this.isSvg),this.attributes.filter(function(t){return ti(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment.toString()}};var Rm=jm,Nm=function(t,e){return e?e.map(function(e){return new Rm(t,e)}):[]},Lm=function(t){var e,n,r,i;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return v("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(n.isSpecial)return v("Two-way binding does not work with %s",e.resolver.ref,{ractive:this.root}),!1}else{var s=e.template.r?"'"+e.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",s,{ractive:this.root}),e.resolver.forceResolution(),n=e.keypath}this.attribute.isTwoway=!0,this.keypath=n,r=this.root.viewmodel.get(n),void 0===r&&this.getInitialValue&&(r=this.getInitialValue(),void 0!==r&&this.root.viewmodel.set(n,r)),(i=ei(t))&&(this.resetValue=r,i.formBindings.push(this))};Lm.prototype={handleChange:function(){var t=this;gu.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),gu.scheduleTask(function(){return t.attribute.locked=!1}),gu.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(D(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},Lm.extend=function(t){var e,n=this;return e=function(t){Lm.call(this,t),this.init&&this.init()},e.prototype=Ea(n.prototype),r(e.prototype,t),e.extend=Lm.extend,e};var Dm,Im=Lm,Vm=ni,Wm=Im.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var t=this.element.node;t.addEventListener("change",Vm,!1),this.root.lazy||(t.addEventListener("input",Vm,!1),t.attachEvent&&t.addEventListener("keyup",Vm,!1))},unrender:function(){var t=this.element.node;t.removeEventListener("change",Vm,!1),t.removeEventListener("input",Vm,!1),t.removeEventListener("keyup",Vm,!1)},getValue:function(){return this.element.node.innerHTML}}),Um=Wm,Mm=ri,zm={},Bm=Im.extend({name:"checked",init:function(){this.siblings=Mm(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",Vm,!1),t.attachEvent&&t.addEventListener("click",Vm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Vm,!1),t.removeEventListener("click",Vm,!1)},handleChange:function(){gu.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),gu.end()},getValue:function(){return this.element.node.checked},unbind:function(){D(this.siblings,this)}}),$m=Bm,qm=Im.extend({name:"name",init:function(){this.siblings=Mm(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",Vm,!1),t.attachEvent&&t.addEventListener("click",Vm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Vm,!1),t.removeEventListener("click",Vm,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&Im.prototype.handleChange.call(this)},rebound:function(t,e){var n;Im.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){D(this.siblings,this)}}),Qm=qm,Zm=Im.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=Mm(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){D(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),this.isChecked=s(t)?j(t,e):t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Vm,!1),n.attachEvent&&n.addEventListener("click",Vm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Vm,!1),t.removeEventListener("click",Vm,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,Im.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ii).map(si)}}),Hm=Zm,Km=Im.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",Vm,!1),t.attachEvent&&t.addEventListener("click",Vm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Vm,!1),t.removeEventListener("click",Vm,!1)},getValue:function(){return this.element.node.checked}}),Gm=Km,Ym=Im.extend({getInitialValue:function(){var t,e,n,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=i.length,t)){for(;e--;)if(i[e].getAttribute("selected")){n=i[e].getAttribute("value"),r=!0;break}if(!r)for(;++e<t;)if(!i[e].getAttribute("disabled")){n=i[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Vm,!1)},unrender:function(){this.element.node.removeEventListener("change",Vm,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,r,i;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(r=t[e],t[e].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,gu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),Jm=Ym,Xm=Jm.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",Vm,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Vm,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,r,i,s;for(t=[],e=this.element.node.options,r=e.length,n=0;r>n;n+=1)i=e[n],i.selected&&(s=i._ractive?i._ractive.value:i.value,t.push(s));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&R(n,e)||Jm.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,gu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),tv=Xm,ev=Im.extend({render:function(){this.element.node.addEventListener("change",Vm,!1)},unrender:function(){this.element.node.removeEventListener("change",Vm,!1)},getValue:function(){return this.element.node.files}}),nv=ev;Dm=Im.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:u(this.element.lazy)?(t=!1,n=+this.element.lazy):u(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?ai:Vm,e.addEventListener("change",Vm,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",oi,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",Vm,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",oi,!1)}});var rv=Dm,iv=rv.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),sv=ui,ov=ci,av=li,uv=fi,hv=di,cv=/^event(?:\.(.+))?/,lv=gi,fv=yi,dv={},pv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},mv=bi,vv=xi,gv=ki,yv=Ei,wv=_i,bv=function(t,e,n){this.init(t,e,n)};bv.prototype={bubble:ov,fire:av,getAction:uv,init:hv,listen:fv,rebind:mv,render:vv,resolve:gv,unbind:yv,unrender:wv};var xv=bv,kv=function(t,e){var n,r,i,s,o=[];for(r in e)if(e.hasOwnProperty(r))for(i=r.split("-"),n=i.length;n--;)s=new xv(t,i[n],e[r]),o.push(s);return o},Ev=function(t,e){var n,r,i,s=this;this.element=t,this.root=n=t.root,r=e.n||e,("string"==typeof r||(i=new bw({template:r,root:n,owner:t}),r=i.toString(),i.unbind(),""!==r))&&(e.a?this.params=e.a:e.d&&(this.fragment=new bw({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,s.params=this.getArgsList(),s.ready&&s.update()}),this.fn=g("decorators",n,r),this.fn||l(Ia(r,"decorator")))};Ev.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var _v,Av,Sv,Cv=Ev,Ov=Fi,Pv=ji,Tv=Vi,Fv=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Jo?(Av={},Sv=ca("div").style,_v=function(t){var e,n,r;if(t=Fv(t),!Av[t])if(void 0!==Sv[t])Av[t]=t;else for(r=t.charAt(0).toUpperCase()+t.substring(1),e=ia.length;e--;)if(n=ia[e],void 0!==Sv[n+r]){Av[t]=n+r;break}return Av[t]}):_v=null;var jv,Rv,Nv=_v;Jo?(Rv=window.getComputedStyle||Sa.getComputedStyle,jv=function(t){var e,n,r,i,o;if(e=Rv(this.node),"string"==typeof t)return o=e[Nv(t)],"0px"===o&&(o=0),o;if(!s(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},r=t.length;r--;)i=t[r],o=e[Nv(i)],"0px"===o&&(o=0),n[i]=o;return n}):jv=null;var Lv=jv,Dv=function(t,e){var n;if("string"==typeof t)this.node.style[Nv(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Nv(n)]=t[n]);return this},Iv=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(v(Ia(t.easing,"easing")),e=Wi)):e="function"==typeof t.easing?t.easing:Wi,this.easing=e,this.start=eu(),this.end=this.start+this.duration,this.running=!0,bu.add(this)};Iv.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Vv,Wv,Uv,Mv,zv,Bv,$v,qv,Qv=Iv,Zv=new RegExp("^-(?:"+ia.join("|")+")-"),Hv=function(t){return t.replace(Zv,"")},Kv=new RegExp("^(?:"+ia.join("|")+")([A-Z])"),Gv=function(t){var e;return t?(Kv.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Yv={},Jv={};Jo?(Wv=ca("div").style,function(){void 0!==Wv.transition?(Uv="transition",Mv="transitionend",zv=!0):void 0!==Wv.webkitTransition?(Uv="webkitTransition",Mv="webkitTransitionEnd",zv=!0):zv=!1}(),Uv&&(Bv=Uv+"Duration",$v=Uv+"Property",qv=Uv+"TimingFunction"),Vv=function(t,e,n,r,i){setTimeout(function(){var s,o,a,u,h;u=function(){o&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),i())},s=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[$v]=r.map(Nv).map(Gv).join(","),t.node.style[qv]=Gv(n.easing||"linear"),t.node.style[Bv]=n.duration/1e3+"s",h=function(e){var n;n=r.indexOf(Fv(Hv(e.propertyName))),-1!==n&&r.splice(n,1),r.length||(t.node.removeEventListener(Mv,h,!1),a=!0,u())},t.node.addEventListener(Mv,h,!1),setTimeout(function(){for(var i,c,l,f,d,p=r.length,v=[];p--;)f=r[p],i=s+f,zv&&!Jv[i]&&(t.node.style[Nv(f)]=e[f],Yv[i]||(c=t.getStyle(f),Yv[i]=t.getStyle(f)!=e[f],Jv[i]=!Yv[i],Jv[i]&&(t.node.style[Nv(f)]=c))),(!zv||Jv[i])&&(void 0===c&&(c=t.getStyle(f)),l=r.indexOf(f),-1===l?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):r.splice(l,1),d=/[^\d]*$/.exec(e[f])[0],v.push({name:Nv(f),interpolator:Wa(parseFloat(c),parseFloat(e[f])),suffix:d}));v.length?new Qv({root:t.root,duration:n.duration,easing:Fv(n.easing||""),step:function(e){var n,r;for(r=v.length;r--;)n=v[r],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){o=!0,u()}}):o=!0,r.length||(t.node.removeEventListener(Mv,h,!1),a=!0,u())},0)},n.delay||0)}):Vv=null;var Xv,tg,eg,ng,rg,ig=Vv;if("undefined"!=typeof document){if(Xv="hidden",rg={},Xv in document)eg="";else for(ng=ia.length;ng--;)tg=ia[ng],Xv=tg+"Hidden",Xv in document&&(eg=tg);void 0!==eg?(document.addEventListener(eg+"visibilitychange",Ui),Ui()):("onfocusout"in document?(document.addEventListener("focusout",Mi),document.addEventListener("focusin",zi)):(window.addEventListener("pagehide",Mi),window.addEventListener("blur",Mi),window.addEventListener("pageshow",zi),window.addEventListener("focus",zi)),rg.hidden=!1)}var sg,og,ag,ug=rg;Jo?(og=window.getComputedStyle||Sa.getComputedStyle,sg=function(t,e,n){var r,i=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(ug.hidden)return this.setStyle(t,e),ag||(ag=uu.resolve());"string"==typeof t?(r={},r[t]=e):(r=t,n=e),n||(v('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var s=new uu(function(t){var e,s,o,a,u,h,c;if(!n.duration)return i.setStyle(r),void t();for(e=Object.keys(r),s=[],o=og(i.node),u={},h=e.length;h--;)c=e[h],a=o[Nv(c)],"0px"===a&&(a=0),a!=r[c]&&(s.push(c),i.node.style[Nv(c)]=a);return s.length?void ig(i,r,n,s,t):void t()});return s}):sg=null;var hg=sg,cg=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),i({},t,e)},lg=Bi,fg=function(t,e,n){this.init(t,e,n)};fg.prototype={init:Tv,start:lg,getStyle:Lv,setStyle:Dv,animateStyle:hg,processParams:cg};var dg,pg,mg=fg,vg=qi;dg=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},pg=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var gg=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Yi).join("")+this.conditionalAttributes.map(Yi).join(""),"option"===this.name&&Ki(this)&&(t+=" selected"),"input"===this.name&&Gi(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=Ae(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),xl.test(this.template.e)||(t+="</"+this.template.e+">"),t)},yg=Ji,wg=Xi,bg=function(t){this.init(t)};bg.prototype={bubble:Zp,detach:Hp,find:Kp,findAll:Gp,findAllComponents:Yp,findComponent:Jp,findNextNode:Xp,firstNode:tm,getAttribute:em,init:Ov,rebind:Pv,render:vg,toString:gg,unbind:yg,unrender:wg};var xg=bg,kg=/^\s*$/,Eg=/^\s*/,_g=function(t){var e,n,r,i;return e=t.split("\n"),n=e[0],void 0!==n&&kg.test(n)&&e.shift(),r=L(e),void 0!==r&&kg.test(r)&&e.pop(),i=e.reduce(es,null),i&&(t=e.map(function(t){return t.replace(i,"")}).join("\n")),t},Ag=ns,Sg=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Cg='Could not find template for partial "%s"',Og=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=nc,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,op.init(this,t),this.keypath||((n=Ag(this.root,this.name,e))?(Id.call(this),this.isNamed=!0,this.setTemplate(n)):v(Cg,this.name))};Og.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||sp.call(this,t,e),this.fragment&&this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:op.resolve,setValue:function(t){var e;(void 0===t||t!==this.value)&&(void 0!==t&&(e=Ag(this.root,""+t,this.parentFragment)),!e&&this.name&&(e=Ag(this.root,this.name,this.parentFragment))&&(Id.call(this),this.isNamed=!0),e||v(Cg,this.name,{ractive:this.root}),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&gu.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new bw({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,r,i;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===Kh?(r=n.text.split("\n").pop(),(i=/^\s+$/.exec(r))?Sg(e,i[0]):e):e},unbind:function(){this.isNamed||Id.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var Pg,Tg,Fg,jg=Og,Rg=as,Ng=us,Lg=new iu("detach"),Dg=hs,Ig=cs,Vg=ls,Wg=fs,Ug=ds,Mg=ps,zg=function(t,e,n,r){var i=t.root,s=t.keypath;r?i.viewmodel.smartUpdate(s,e,r):i.viewmodel.mark(s)},Bg=[],$g=["pop","push","reverse","shift","sort","splice","unshift"];$g.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i,s,o,a;for(i=gh(this,t,n),s=Array.prototype[t].apply(this,arguments),gu.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)o=this._ractive.wrappers[a],gu.addRactive(o.root),zg(o,this,t,i);return gu.end(),this._ractive.setting=!1,s};_a(Bg,t,{value:e})}),Pg={},Pg.__proto__?(Tg=function(t){t.__proto__=Bg},Fg=function(t){t.__proto__=Array.prototype}):(Tg=function(t){var e,n;for(e=$g.length;e--;)n=$g[e],_a(t,n,{value:Bg[n],configurable:!0})},Fg=function(t){var e;for(e=$g.length;e--;)delete t[$g[e]]}),Tg.unpatch=Fg;var qg,Qg,Zg,Hg=Tg;qg={filter:function(t){return s(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new Qg(t,e,n)}},Qg=function(t,e,n){this.root=t,this.value=e,this.keypath=_(n),e._ractive||(_a(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Hg(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},Qg.prototype={get:function(){return this.value},teardown:function(){var t,e,n,r,i;if(t=this.value,e=t._ractive,n=e.wrappers,r=e.instances,e.setting)return!1;if(i=n.indexOf(this),-1===i)throw new Error(Zg);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(i=r.indexOf(this.root),-1===i)throw new Error(Zg);r.splice(i,1)}}else delete t._ractive,Hg.unpatch(this.value)}},Zg="Something went wrong in a rather interesting way";var Kg,Gg,Yg=qg,Jg=/^\s*[0-9]+\s*$/,Xg=function(t){return Jg.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Kg={filter:function(t,e,n){var r,i;return e?(e=_(e),(r=n.viewmodel.wrapped[e.parent.str])&&!r.magic?!1:(i=n.viewmodel.get(e.parent),s(i)&&/^[0-9]+$/.test(e.lastKey)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(t,e,n){return new Gg(t,e,n)}},Gg=function(t,e,n){var r,i,s;return n=_(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,r=n.parent,this.obj=r.isRoot?t.viewmodel.data:t.viewmodel.get(r),i=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),i&&i.set&&(s=i.set._ractiveWrappers)?void(-1===s.indexOf(this)&&s.push(this)):void ms(this,e,i)},Gg.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,gu.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Xg(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,r,i;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(r=e._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(Ca){Kg=!1}var ty,ey,ny=Kg;ny&&(ty={filter:function(t,e,n){return ny.filter(t,e,n)&&Yg.filter(t)},wrap:function(t,e,n){return new ey(t,e,n)}},ey=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=ny.wrap(t,e,n),this.arrayWrapper=Yg.wrap(t,e,n)},ey.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var ry=ty,iy=vs,sy={},oy=ws,ay=bs,uy=Es,hy=Os,cy=Ps,ly=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};ly.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var fy=ly,dy=function(t,e){this.key=t,this.getter=e.getter,this.setter=e.setter,this.hardDeps=e.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};dy.prototype={constructor:dy,init:function(t){var e,n=this;this.viewmodel=t,this.bypass=!0,e=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e),this.hardDeps&&this.hardDeps.forEach(function(e){return t.register(e,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,e,n=this,r=!1;if(this.getting){var i="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(i),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(t){var e,i,s;if(!r)for(s=t.length;s--;)if(e=t[s],i=n.viewmodel.get(e),!a(i,n.depValues[e.str]))return n.depValues[e.str]=i,void(r=!0)}),r){this.viewmodel.capture();try{this.value=this.getter()}catch(s){m('Failed to compute "%s"',this.key.str),f(s.stack||s),this.value=void 0}t=this.viewmodel.release(),e=this.updateDependencies(t),e&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){n.depValues[t.str]=n.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var e,n,r,i,s;for(n=this.softDeps,e=n.length;e--;)r=n[e],-1===t.indexOf(r)&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(e=t.length;e--;)r=t[e],-1!==n.indexOf(r)||this.hardDeps&&-1!==this.hardDeps.indexOf(r)||(i=!0,Ts(this.viewmodel,r)&&!this.unresolvedDeps[r.str]?(s=new fy(this,r.str),t.splice(e,1),this.unresolvedDeps[r.str]=s,gu.addUnresolved(s)):this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=t.slice()),i}};var py=dy,my=Fs,vy={FAILED_LOOKUP:!0},gy=js,yy={},wy=Ns,by=Ls,xy=function(t,e){this.localKey=t,this.keypath=e.keypath,
this.origin=e.origin,this.deps=[],this.unresolved=[],this.resolved=!1};xy.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,e){return this.resolved?this.origin.get(this.map(t),e):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.resolved||this.forceResolution(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);if(t.origin.register(n,e.dep,e.group),e.dep.setValue)e.dep.setValue(t.origin.get(n));else{if(!e.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");e.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,e,n){var r,i;if(this.resolved){for(r=this.deps,i=r.length;i--;)if(r[i].dep===e){r.splice(i,1);break}this.origin.unregister(this.map(t),e,n)}}};var ky=Ds,Ey=function(t,e){var n,r,i,s;return n={},r=0,i=t.map(function(t,i){var o,a,u;a=r,u=e.length;do{if(o=e.indexOf(t,a),-1===o)return s=!0,-1;a=o+1}while(n[o]&&u>a);return o===r&&(r+=1),o!==i&&(s=!0),n[o]=!0,o})},_y=Is,Ay={},Sy=Us,Cy=zs,Oy=Bs,Py=$s,Ty=Qs,Fy={implicit:!0},jy={noCascade:!0},Ry=Hs,Ny=Ks,Ly=function(t){var e,n,r=t.adapt,i=t.data,s=t.ractive,o=t.computed,a=t.mappings;this.ractive=s,this.adaptors=r,this.onchange=t.onchange,this.cache={},this.cacheMap=Ea(null),this.deps={computed:Ea(null),"default":Ea(null)},this.depsMap={computed:Ea(null),"default":Ea(null)},this.patternObservers=[],this.specials=Ea(null),this.wrapped=Ea(null),this.computations=Ea(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=i,this.mappings=Ea(null);for(e in a)this.map(_(e),a[e]);if(i)for(e in i)(n=this.mappings[e])&&void 0===n.getValue()&&n.setValue(i[e]);for(e in o)a&&e in a&&l("Cannot map to a computed property ('%s')",e),this.compute(_(e),o[e]);this.ready=!0};Ly.prototype={adapt:iy,applyChanges:uy,capture:hy,clearCache:cy,compute:my,get:gy,init:wy,map:by,mark:ky,merge:_y,register:Sy,release:Cy,reset:Oy,set:Py,smartUpdate:Ty,teardown:Ry,unregister:Ny};var Dy=Ly;Ys.prototype={constructor:Ys,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?Js(this.queue,e).push(t):Xs(this,t),delete this.inProcess[t._guid]}};var Iy=Ys,Vy=to,Wy=/\$\{([^\}]+)\}/g,Uy=new iu("construct"),My=new iu("config"),zy=new Iy("init"),By=0,$y=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],qy=io,Qy=ho;ho.prototype={bubble:function(){this.dirty||(this.dirty=!0,gu.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var Zy=function(t,e,n,i,o){var a,u,h,c,l,f,d={},p={},v={},g=[];for(u=t.parentFragment,h=t.root,o=o||{},r(d,o),o.content=i||[],d[""]=o.content,e.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",t.name),c=u;c;){if(c.owner.type===uc){l=c.owner.container;break}c=c.parent}return n&&Object.keys(n).forEach(function(e){var r,i,o=n[e];if("string"==typeof o)r=Cf(o),p[e]=r?r.value:o;else if(0===o)p[e]=!0;else{if(!s(o))throw new Error("erm wut");lo(o)?(v[e]={origin:t.root.viewmodel,keypath:void 0},i=co(t,o[0],function(t){t.isSpecial?f?a.set(e,t.value):(p[e]=t.value,delete v[e]):f?a.viewmodel.mappings[e].resolve(t):v[e].keypath=t})):i=new Qy(t,o,function(t){f?a.set(e,t):p[e]=t}),g.push(i)}}),a=Ea(e.prototype),qy(a,{el:null,append:!0,data:p,partials:o,magic:h.magic||e.defaults.magic,modifyArrays:h.modifyArrays,adapt:h.adapt},{parent:h,component:t,container:l,mappings:v,inlinePartials:d,cssIds:u.cssIds}),f=!0,t.resolvers=g,a},Hy=fo,Ky=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Gy=mo,Yy=vo,Jy=go,Xy=yo,tw=wo,ew=new iu("teardown"),nw=xo,rw=function(t,e){this.init(t,e)};rw.prototype={detach:Ng,find:Dg,findAll:Ig,findAllComponents:Vg,findComponent:Wg,findNextNode:Ug,firstNode:Mg,init:Gy,rebind:Yy,render:Jy,toString:Xy,unbind:tw,unrender:nw};var iw=rw,sw=function(t){this.type=rc,this.value=t.template.c};sw.prototype={detach:Nd,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var ow=sw,aw=function(t){var e,n;this.type=uc,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var r=this.name=t.template.n||"",i=e._inlinePartials[r];i||(m('Could not find template for partial "'+r+'"',{ractive:t.root}),i=[]),this.fragment=new bw({owner:this,root:e.parent,template:i,pElement:this.containerFragment.pElement}),s(n.yielders[r])?n.yielders[r].push(this):n.yielders[r]=[this],gu.scheduleTask(function(){if(n.yielders[r].length>1)throw new Error("A component template can only have one {{yield"+(r?" "+r:"")+"}} declaration at a time")})};aw.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),D(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment.toString()}};var uw=aw,hw=function(t){this.declaration=t.template.a};hw.prototype={init:ka,render:ka,unrender:ka,teardown:ka,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var cw=hw,lw=ko,fw=_o,dw=Ao,pw=So,mw=Po,vw=Fo,gw=function(t){this.init(t)};gw.prototype={bubble:kd,detach:Ed,find:_d,findAll:Ad,findAllComponents:Sd,findComponent:Cd,findNextNode:Od,firstNode:Pd,getArgsList:Fd,getNode:jd,getValue:Rd,init:lw,rebind:fw,registerIndexRef:function(t){var e=this.registeredIndexRefs;-1===e.indexOf(t)&&e.push(t)},render:dw,toString:pw,unbind:mw,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:vw};var yw,ww,bw=gw,xw=jo,kw=["template","partials","components","decorators","events"],Ew=new iu("reset"),_w=function(t,e){function n(e,r,i){i&&i.partials[t]||e.forEach(function(e){e.type===nc&&e.getPartialName()===t&&r.push(e),e.fragment&&n(e.fragment.items,r,i),s(e.fragments)?n(e.fragments,r,i):s(e.items)?n(e.items,r,i):e.type===ac&&e.instance&&n(e.instance.fragment.items,r,e.instance),e.type===ec&&(s(e.attributes)&&n(e.attributes,r,i),s(e.conditionalAttributes)&&n(e.conditionalAttributes,r,i))})}var r,i=[];return n(this.fragment.items,i),this.partials[t]=e,r=gu.start(this,!0),i.forEach(function(e){e.value=void 0,e.setValue(t)}),gu.end(),r},Aw=Ro,Sw=wh("reverse"),Cw=No,Ow=wh("shift"),Pw=wh("sort"),Tw=wh("splice"),Fw=Do,jw=Io,Rw=new iu("teardown"),Nw=Wo,Lw=Uo,Dw=Mo,Iw=new iu("unrender"),Vw=wh("unshift"),Ww=zo,Uw=new iu("update"),Mw=Bo,zw={add:Ja,animate:Eu,detach:Au,find:Cu,findAll:Du,findAllComponents:Iu,findComponent:Vu,findContainer:Wu,findParent:Uu,fire:$u,get:qu,insert:Zu,merge:Ku,observe:ch,observeOnce:lh,off:ph,on:mh,once:vh,pop:bh,push:xh,render:Oh,reset:xw,resetPartial:_w,resetTemplate:Aw,reverse:Sw,set:Cw,shift:Ow,sort:Pw,splice:Tw,subtract:Fw,teardown:jw,toggle:Nw,toHTML:Lw,toHtml:Lw,unrender:Dw,unshift:Vw,update:Ww,updateModel:Mw},Bw=function(t,e,n){return n||qo(t,e)?function(){var n,r="_super"in this,i=this._super;return this._super=e,n=t.apply(this,arguments),r&&(this._super=i),n}:t},$w=Qo,qw=Go,Qw=function(t){var e,n,r={};return t&&(e=t._ractive)?(r.ractive=e.root,r.keypath=e.keypath.str,r.index={},(n=Qd(e.proxy.parentFragment))&&(r.index=Qd.resolve(n)),r):r};yw=function(t){return this instanceof yw?void qy(this,t):new yw(t)},ww={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:qw},getNodeInfo:{value:Qw},parse:{value:Yf},Promise:{value:uu},svg:{value:ra},magic:{value:ea},VERSION:{value:"0.7.2-edge"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ua},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Ma},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},Aa(yw,ww),yw.prototype=r(zw,aa),yw.prototype.constructor=yw,yw.defaults=yw.prototype;var Zw="function";if(typeof Date.now!==Zw||typeof String.prototype.trim!==Zw||typeof Object.keys!==Zw||typeof Array.prototype.indexOf!==Zw||typeof Array.prototype.forEach!==Zw||typeof Array.prototype.map!==Zw||typeof Array.prototype.filter!==Zw||"undefined"!=typeof window&&typeof window.addEventListener!==Zw)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Hw=yw;return Hw});
//# sourceMappingURL=ractive-legacy.min.js.map
