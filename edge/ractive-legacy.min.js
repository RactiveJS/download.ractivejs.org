/*
	ractive-legacy.min.js v0.6.1
	2014-12-17 - commit 689084cf 

	http://ractivejs.org
	http://twitter.com/RactiveJS

	Released under the MIT License.
*/

!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports&&"function"==typeof require?module.exports=b():a.Ractive=b()}("undefined"!=typeof window?window:this,function(){"use strict";function a(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function b(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a}function c(a){for(var b,c,d=Zh.call(arguments,1);c=d.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a}function d(a){var b=Zh.call(arguments,1);return b.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a}function e(a){return"[object Array]"===bi.call(a)}function f(a){return ci.test(bi.call(a))}function g(a){if(!k(a))return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function h(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function i(a){return"number"==typeof a||"object"==typeof a&&"[object Number]"===bi.call(a)}function j(a){return!isNaN(parseFloat(a))&&isFinite(a)}function k(a){return a&&"[object Object]"===bi.call(a)}function l(a,b,c){var d=m(a,b,c);return d?d[a][c]:null}function m(a,b,c){for(;b;){if(c in b[a])return b;if(b.isolated)return null;b=b.parent}}function n(a){return function(){return a}}function o(a,b,c){var d;if("string"!=typeof b||!j(c))throw new Error("Bad arguments");if(d=+a.get(b)||0,!j(d))throw new Error("Cannot add to a non-numeric value");return a.set(b,d+c)}function p(a,b){return li(this,a,void 0===b?1:+b)}function q(a){var b=qi[a.message]||a.message||"";return r(b,a.args)}function r(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function s(a){this.event=a,this.method="on"+a,this.deprecate=ti[a]}function t(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function u(a,b){var c;if(!e(a)||!e(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function v(a){return"string"==typeof a?[a]:void 0===a?[]:a}function w(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)}function x(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function y(a){setTimeout(a,0)}function z(a,b){return function(){for(var c;c=a.shift();)c(b)}}function A(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof ui)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,A(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function B(a,b,c,d){var e=a[b];if(e&&!D(e,d)&&D(e,c))return a[b]=H(e,c,d),!0}function C(a){var b=a.slice(2);return"i"===a[1]&&j(b)?+b:b}function D(a,b){return a===b||J(a,b)}function E(a){var b=a.indexOf(".");return~b?a.slice(0,b):a}function F(a,b){function c(b,c){var d,f,g;d=a.viewmodel.wrapped[c]?a.viewmodel.wrapped[c].get():a.get(c);for(f in d)!d.hasOwnProperty(f)||"_ractive"===f&&e(d)||(g=c?c+"."+f:f,b.push(g));return b}var d,f,g;for(d=b.split("."),g=[""];f=d.shift();)"*"===f?g=g.reduce(c,[]):""===g[0]?g[0]=f:g=g.map(G(f));return g}function G(a){return function(b){return b?b+"."+a:a}}function H(a,b,c){return a===b?void 0!==c?c:null:J(a,b)?null===c?c:a.replace(b+".",c+"."):void 0}function I(a){return a?a.replace(Ai,".$1"):""}function J(a,b){return a&&b&&a.substr(0,b.length+1)===b+"."}function K(a,b,c){return b=I(b),"~/"===b.substr(0,2)?(b=b.substring(2),N(a,E(b),c),b):"."===b[0]?(b=L(Bi(c),b),b&&N(a,E(b),c),b):M(a,b,c)}function L(a,b){var c;if("."===b)return a;if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),c.join(".")}return a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,"")}function M(a,b,c,d){var e,f,g,h,i;for(f=E(b);c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e+"."+b;return O(a,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,i=M(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function N(a,b){var c;!a.parent||a.isolated||O(a,b)||(c=M(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c})}function O(a,b){return b in a.data||b in a.viewmodel.computations||b in a.viewmodel.mappings}function P(a){a.teardown()}function Q(a){a.unbind()}function R(a){a.unrender()}function S(a){a.detach()}function T(a){a.detachNodes()}function U(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function V(){for(var a,b,c;Ei.viewmodels.length;)b=Ei.viewmodels.pop(),c=b.applyChanges(),c&&Ii.fire(b.ractive,c);for(W(),a=0;a<Ei.views.length;a+=1)Ei.views[a].update();for(Ei.views.length=0,a=0;a<Ei.tasks.length;a+=1)Ei.tasks[a]();return Ei.tasks.length=0,Ei.viewmodels.length?V():void 0}function W(){var a,b,c,d;for(a=Hi.length;a--;)b=Hi[a],b.keypath&&Hi.splice(a,1),(c=Ci(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),Hi.splice(a,1));d&&d.forEach(X)}function X(a){a.item.resolve(a.keypath)}function Y(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;if(d=new zi(function(a){e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(n={},c.step=null,c.complete=null,m=function(a){return function(b,c){n[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(o=m(f),c={easing:i,duration:j},k&&(c.step=o)),c.complete=l?o:di,h.push(Z(this,f,a[f],c)));return q={easing:i,duration:j},k&&(q.step=function(a){k(a,n)}),l&&d.then(function(a){l(a,n)}).then(null,function(a){si.consoleError({debug:r.debug,err:a})}),q.complete=e,p=Z(this,null,null,q),h.push(p),d.stop=function(){for(var a;a=h.pop();)a.stop();p&&p.stop()},d}return c=c||{},c.complete&&d.then(c.complete).then(null,function(a){si.consoleError({debug:r.debug,err:a})}),c.complete=e,g=Z(this,a,b,c),d.stop=function(){g.stop()},d}function Z(a,b,c,d){var e,f,g,i;return b&&(b=I(b)),null!==b&&(i=a.viewmodel.get(b)),Mi.abort(b,a),h(i,c)?(d.complete&&d.complete(d.to),Pi):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new Oi({keypath:b,from:i,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),Mi.add(g),a._animations.push(g),g)}function $(){return this.detached?this.detached:(this.el&&w(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Ri.fire(this),this.detached)}function _(a){return this.el?this.fragment.find(a):null}function ab(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function bb(a){var b,c;for(b=[a],c=ab(a);c;)b.push(c),c=ab(c);return b}function cb(a,b,c,d){var e=[];return Xh(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:Ui}}),c?(Xh(e,{cancel:{value:Vi},_root:{value:a},_sort:{value:Yi},_makeDirty:{value:Zi},_remove:{value:$i},_dirty:{value:!1,writable:!0}}),e):e}function db(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=_i(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function eb(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=_i(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function fb(a){return this.fragment.findComponent(a)}function gb(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function hb(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function ib(a){var b,c,d,e,f,g;for(b=a.split("."),(c=hj[b.length])||(c=jb(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function jb(a){var b,c,d,e,f,g="";if(!hj[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}hj[a]=d}return hj[a]}function kb(a,b,c){if(void 0===c&&(c={}),b){c.event?c.event.name=b:c.event={name:b,context:a.data,keypath:"",_noArg:!0};var d=ij(b);lb(a,d,c.event,c.args,!0)}}function lb(a,b,c,d,e){void 0===e&&(e=!1);var f,g,h=!0;for(gj.enqueue(a,c),g=b.length;g>=0;g--)f=a._subs[b[g]],f&&(h=mb(a,f,c,d)&&h);if(gj.dequeue(a),a.parent&&h){if(e&&a.component){var i=a.component.name+"."+b[b.length-1];b=ij(i),c&&(c.component=a)}lb(a.parent,b,c,d)}}function mb(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function nb(a){var b={args:Array.prototype.slice.call(arguments,1)};jj(this,a,b)}function ob(a){var b;return a=I(a),b=this.viewmodel.get(a,lj),void 0===b&&this.parent&&!this.isolated&&Ci(this,a,this.fragment)&&(b=this.viewmodel.get(a)),b}function pb(b,c){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(b=a(b),c=a(c)||null,!b)throw new Error("You must specify a valid target to insert into");b.insertBefore(this.detach(),c),this.el=b,(b.__ractive_instances__||(b.__ractive_instances__=[])).push(this),this.detached=null,qb(this)}function qb(a){nj.fire(a),a.findAllComponents("*").forEach(function(a){qb(a.instance)})}function rb(a,b,c){var d,f,g=this;return a=I(a),d=this.viewmodel.get(a),e(d)&&e(b)?(f=Ji.start(this,!0),this.viewmodel.merge(a,d,b,c),Ji.end(),c&&c.complete&&(si.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.merge"}}),f.then(c.complete).then(null,function(a){si.consoleError({debug:g.debug,err:a})})),f):this.set(a,b,c&&c.complete)}function sb(a,b){var c,d;return c=F(a,b),d={},c.forEach(function(b){d[b]=a.get(b)}),d}function tb(a,b,c,d){var e,f,g;return b=I(b),d=d||Ej,Dj.test(b)?(e=new Cj(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new sj(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0,{cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}}}function ub(a,b,c){var d,e,f,g;if(k(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",Fj(this,a,b,c);if(f=a.split(" "),1===f.length)return Fj(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(Fj(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function vb(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function wb(a,b){var c,d=this;if(a)c=a.split(" ").map(Ij).filter(Jj),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function xb(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(Ij).filter(Jj),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function yb(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function zb(a,b,c){var d,e,f,g,h,i,j=[];if(d=Ab(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j}function Ab(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}function Bb(b,c){var d,e,f,g=this;if(f=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),d=Ji.start(this,!0),Ji.scheduleTask(function(){return $j.fire(g)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(b=a(b)||this.el,c=a(c)||this.anchor,this.el=b,this.anchor=c,!this.append&&b){var h=b.__ractive_instances__;h&&h.length&&Cb(h),b.innerHTML=""}return this.constructor.css&&Zj.add(this.constructor),b&&((e=b.__ractive_instances__)?e.push(this):b.__ractive_instances__=[this],c?b.insertBefore(this.fragment.render(),c):b.appendChild(this.fragment.render())),Ji.end(),this.transitionsEnabled=f,d.then(function(){return _j.fire(g)}).then(null,function(a){si.consoleError({debug:g.debug,err:a})}),d}function Cb(a){try{a.splice(0,a.length).forEach(function(a){return a.teardown()})}catch(b){}}function Db(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,Ji.start(d),d.viewmodel.mark(c),Ji.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function Eb(a,b){for(var c=a.slice(),d=b.length;d--;)~c.indexOf(b[d])||c.push(b[d]);return c}function Fb(a,b){var c,d,e;return d='[data-ractive-css="'+b+'"]',e=function(a){var b,c,e,f,g,h,i,j=[];for(b=[];c=zk.exec(a);)b.push({str:c[0],base:c[1],modifiers:c[2]});for(f=b.map(Hb),i=b.length;i--;)h=f.slice(),e=b[i],h[i]=e.base+d+e.modifiers||"",g=f.slice(),g[i]=d+" "+g[i],j.push(h.join(" "),g.join(" "));return j.join(", ")},c=Bk.test(a)?a.replace(Bk,d):a.replace(yk,"").replace(xk,function(a,b){var c,d;return Ak.test(b)?a:(c=b.split(",").map(Gb),d=c.map(e).join(", ")+" ",a.replace(b,d))})}function Gb(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function Hb(a){return a.str}function Ib(a,b,c){return a?b.noCssTransform?a:Ck(a,c):void 0}function Jb(a,b){return"function"==typeof b&&/_super/.test(a)}function Kb(a,b,c){var d=c.data||{},e=Lb(a.prototype.data);if("object"!=typeof d&&"function"!=typeof d)throw new TypeError('data option must be an object or a function, "'+d+'" is not valid');return Mb(e,d)}function Lb(a){if("function"!=typeof a||!Object.keys(a).length)return a;var b={};return Nb(a,b),Mb(a,b)}function Mb(a,b){return"function"==typeof b?Qb(b,a):"function"==typeof a?Pb(b,a):Ob(b,a)}function Nb(a,b,c){for(var d in a)!(b._mappings&&b._mappings[d]&&b._mappings[d].updatable)&&c&&d in b||(b[d]=a[d])}function Ob(a,b){return a=a||{},b?(Nb(b,a,!0),a):a}function Pb(a,b){return function(c){var d;if(a){d=[];for(var e in a)c&&e in c||d.push(e)}return c=b.call(this,c)||c,d&&d.length&&(c=c||{},d.forEach(function(b){c[b]=a[b]})),c}}function Qb(a,b){var c;return c="function"!=typeof b?function(a){Ob(a,b)}:function(a){return b=Fk(b,function(){},!0),b.call(this,a)||a},Fk(a,c)}function Rb(a){var b,c,d,e;return b=a.pos,d=Jl(a),null===d?null:(c=[d],a.matchString(",")?(e=Rb(a),e?c.concat(e):(a.pos=b,null)):c)}function Sb(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=a.readExpression(),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=Sb(a),null===f&&a.error(rl),f.forEach(b)),d)}function Tb(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(Fl))return{t:el,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(rl),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:el,x:d}):null}function Ub(a){return JSON.stringify(String(a))}function Vb(a,b){var c,d;if(a.t===dl&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(k(d))Vb(d,b);else for(c=d.length;c--;)Vb(d[c],b);a.x&&Vb(a.x,b),a.r&&Vb(a.r,b),a.v&&Vb(a.v,b)}function Wb(a,b,c){var d=function(b){return Wb(a,b,c)};switch(b.t){case al:case bl:case Yk:return b.v;case Zk:return Ub(b.v);case $k:return"["+(b.m?b.m.map(d).join(","):"")+"]";case _k:return"{"+(b.m?b.m.map(d).join(","):"")+"}";case cl:return b.k+":"+Wb(a,b.v,c);case gl:return("typeof"===b.s?"typeof ":b.s)+Wb(a,b.o,c);case jl:return Wb(a,b.o[0],c)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+Wb(a,b.o[1],c);case kl:return Wb(a,b.x,c)+"("+(b.o?b.o.map(d).join(","):"")+")";case hl:return"("+Wb(a,b.x,c)+")";case fl:return Wb(a,b.x,c)+Wb(a,b.r,c);case el:return b.n?"."+b.n:"["+Wb(a,b.x,c)+"]";case il:return Wb(a,b.o[0],c)+"?"+Wb(a,b.o[1],c)+":"+Wb(a,b.o[2],c);case dl:return"_"+c.indexOf(b.n);default:a.error("Expected legal JavaScript")}}function Xb(a,b,c){var d;if(b){for(;b.t===hl&&b.x;)b=b.x;return b.t===dl?c.r=b.n:b.t===Yk&&om.test(b.v)?c.r=b.v:(d=Yb(a,b))?c.rx=d:c.x=a.flattenExpression(b),c}}function Yb(a,b){for(var c,d=[];b.t===fl&&b.r.t===el;)c=b.r,d.unshift(c.x?c.x.t===dl?c.x:a.flattenExpression(c.x):c.n),b=b.x;return b.t!==dl?null:{r:b.n,m:d}}function Zb(a){var b;return a.interpolate[a.inside]===!1?null:(b=im.slice().sort(function(b,c){return a[c.delimiters][0].length-a[b.delimiters][0].length}),function c(d){return d?$b(a,d)||c(b.shift()):null}(b.shift()))}function $b(a,b){var c,d,e,f,g,h,i,j;if(c=a.pos,e=a[b.delimiters],!a.matchString(e[0]))return null;if(d=hm(a))return a.matchString(e[1])?(a[b.delimiters]=d,zm):null;if(a.allowWhitespace(),d=ym(a,b),null===d)return a.pos=c,null;if(a.allowWhitespace(),a.matchString(e[1])||a.error("Expected closing delimiter '"+e[1]+"' after reference"),d.t===Qk&&(d.exclude=!0),d.t===Nk&&(a.sectionDepth-=1,a.sectionDepth<0&&(a.pos=c,a.error("Attempted to close a section that wasn't open"))),d.contextPartialExpression)d.f=d.contextPartialExpression,d.t=Lk,d.n="with",delete d.contextPartialExpression;else if(_b(d)){for(a.sectionDepth+=1,f=[],i=f,g=d.n;j=a.read();){if(j.t===Nk){g&&j.r!==g&&a.error("Expected {{/"+g+"}}");break}if(j.t===Jk&&"else"===j.r){if("unless"!==d.n){i=h=[];continue}a.error("{{else}} not allowed in {{#unless}}")}i.push(j)}f.length&&(d.f=f),h&&h.length&&(d.l=h,"with"===d.n&&(d.n="if-with"))}return a.includeLinePositions&&(d.p=a.getLinePos(c)),d.n?d.n=lm[d.n]:d.t===Mk&&(d.t=Lk,d.n=ml),d.n===ql?(d.r&&-1===d.r.indexOf(".")||a.error("Invalid partial name "+d.r+"."),{n:d.r,f:d.f,t:Wk}):d}function _b(a){return a.t===Lk||a.t===Mk}function ac(a){return a.replace(um,function(a,b){var c;return c="#"!==b[0]?sm[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(bc(c)):a})}function bc(a){return a?10===a?32:128>a?a:159>=a?tm[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function cc(a){return a.replace(xm,"&amp;").replace(vm,"&lt;").replace(wm,"&gt;")}function dc(a){return a.replace(Lm,"\\$&")}function ec(a){var b=a.remaining(),c=a.pos,d=a.matchPattern(Om),e=a.options.delimiters[0],f=a.options.delimiters[1];if(d&&a.matchString(e)){var g=a.matchPattern(Pm);if(!a.matchString(f)||!a.matchPattern(Qm))return a.pos=c,null;var h=new RegExp("<!--\\s*"+Mm(e)+"\\s*\\/\\s*"+g+"\\s*"+Mm(f)+"\\s*-->");b=a.remaining();var i=h.exec(b);if(!i)throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+g+'", but '+(i?'instead found "'+i[1]+'"':" no closing found"));var j={t:Wk,f:new a.StandardParser(b.substr(0,i.index),a.options).result,n:g};return a.pos+=i.index+i[0].length,j}return a.pos=c,null}function fc(a){var b,c,d;return a.allowWhitespace(),(c=a.matchPattern(Vm))?(b={name:c},d=gc(a),d&&(b.value=d),b):null}function gc(a){var b,c,d,e;return b=a.pos,a.allowWhitespace(),a.matchString("=")?(a.allowWhitespace(),c=a.pos,d=a.sectionDepth,e=jc(a,"'")||jc(a,'"')||ic(a),a.sectionDepth!==d&&(a.pos=c,a.error("An attribute value must contain as many opening section tags as closing section tags")),null===e?(a.pos=b,null):e.length?1===e.length&&"string"==typeof e[0]?ac(e[0]):e:null):(a.pos=b,null)}function hc(a){var b,c,d,e,f;return b=a.pos,(c=a.matchPattern(Wm))?(d=c,e=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],-1!==(f=Rm(d,e))&&(c=c.substr(0,f),a.pos=b+c.length),c):null}function ic(a){var b,c;for(a.inAttribute=!0,b=[],c=Am(a)||hc(a);null!==c;)b.push(c),c=Am(a)||hc(a);return b.length?(a.inAttribute=!1,b):null}function jc(a,b){var c,d,e;if(c=a.pos,!a.matchString(b))return null;for(a.inAttribute=b,d=[],e=Am(a)||kc(a,b);null!==e;)d.push(e),e=Am(a)||kc(a,b);return a.matchString(b)?(a.inAttribute=!1,d):(a.pos=c,null)}function kc(a,b){var c,d,e,f;return c=a.pos,e=a.remaining(),f=[b,a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],d=Rm(e,f),-1===d&&a.error("Quoted attribute value must have a closing quote"),d?(a.pos+=d,e.substr(0,d)):null}function lc(a){var b,c,d;return a.allowWhitespace(),(b=Il(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function mc(a){var b,c,d,e,f,g,h,i,j,k,l;if(b=a.pos,a.inside||a.inAttribute)return null;if(!a.matchString("<"))return null;if("/"===a.nextChar())return null;if(c={},a.includeLinePositions&&(c.p=a.getLinePos(b)),a.matchString("!"))return c.t=Xk,a.matchPattern(/^doctype/i)||a.error("Expected DOCTYPE declaration"),c.a=a.matchPattern(/^(.+?)>/),c;if(c.t=Ok,c.e=a.matchPattern(cn),!c.e)return null;for(dn.test(a.nextChar())||a.error("Illegal tag name"),g=function(b,d){var e=d.n||d;gn.test(e)&&(a.pos-=e.length,a.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),c.v[b]=d},a.allowWhitespace();h=Am(a)||Xm(a);)h.name?(e=hn[h.name])?c[e]=bn(h.value):(f=fn.exec(h.name))?(c.v||(c.v={}),i=bn(h.value),g(f[1],i)):a.sanitizeEventAttributes&&en.test(h.name)||(c.a||(c.a={}),c.a[h.name]=h.value||0):(c.m||(c.m=[]),c.m.push(h)),a.allowWhitespace();if(a.allowWhitespace(),a.matchString("/")&&(j=!0),!a.matchString(">"))return null;if(d=c.e.toLowerCase(),!j&&!rm.test(c.e)){for(("script"===d||"style"===d)&&(a.inside=d),k=[];nc(d,a.remaining())&&(l=a.read(_m))&&l.t!==Nk&&l.t!==Tk;)k.push(l);k.length&&(c.f=k)}return a.inside=null,a.sanitizeElements&&-1!==a.sanitizeElements.indexOf(d)?jn:c}function nc(a,b){var c,d;return c=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(b),d=an[a],c&&d?!~d.indexOf(c[1].toLowerCase()):!0}function oc(a){return"string"==typeof a}function pc(a){return a.t===Qk||a.t===Rk}function qc(a){return(a.t===Lk||a.t===Mk)&&a.f}function rc(a,b,c){for(var d,f,g=c.length;g--;)d=c[g],sc(d)?(b[d.n]=d.f,c.splice(g,1)):e(d.f)&&((f=tc(a,d))?(a.push(f),rc(a,d.p={},d.f),a.pop()):e(d.f)&&rc(a,b,d.f))}function sc(a){return a.t===Wk}function tc(a,b){var c,d,e=b.e;if(b.e)for(c=0;c<a.length;c++)if(d=(a[c].components||{})[e])return d}function uc(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(sn(a),g=a.length;g--;)h=a[g],h.exclude?a.splice(g,1):b&&h.t===Qk&&a.splice(g,1);for(pn(a,d,e),g=a.length;g--;)if(h=a[g],h.f&&(k=c||h.t===Ok&&vn.test(h.e),k||(i=a[g-1],j=a[g+1],(!i||"string"==typeof i&&xn.test(i))&&(l=!0),(!j||"string"==typeof j&&wn.test(j))&&(m=!0)),uc(h.f,b,k,l,m,f)),h.l&&(uc(h.l,b,c,l,m,f),f&&(n={t:4,n:ml,f:h.l},h.r&&(n.r=h.r),h.x&&(n.x=h.x),h.rx&&(n.rx=h.rx),a.splice(g+1,0,n),delete h.l)),h.a)for(o in h.a)h.a.hasOwnProperty(o)&&"string"!=typeof h.a[o]&&uc(h.a[o],b,c,l,m,f);for(g=a.length;g--;)"string"==typeof a[g]&&("string"==typeof a[g+1]&&(a[g]=a[g]+a[g+1],a.splice(g+1,1)),c||(a[g]=a[g].replace(un," ")),""===a[g]&&a.splice(g,1))}function vc(a,b){b=b||a,b.delimiters=a.delimiters||["{{","}}"],b.tripleDelimiters=a.tripleDelimiters||["{{{","}}}"],b.staticDelimiters=a.staticDelimiters||["[[","]]"],b.staticTripleDelimiters=a.staticTripleDelimiters||["[[[","]]]"]}function wc(a){var b=Vh(Dn);return b.parse=function(b,c){return xc(b,c||a)},b}function xc(a,b){if(!Bn)throw new Error(qi.missingParser);return Bn(a,b||this.options)}function yc(a,b){var c;if(!zh){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if(zc(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.innerHTML}function zc(a){return a&&"#"===a.charAt(0)}function Ac(a){return!("string"==typeof a)}function Bc(a){return a.defaults&&(a=a.defaults),Cn.reduce(function(b,c){return b[c]=a[c],b},{ractive:a})}function Cc(a){var b,c=a._config.template;if(c&&c.fn)return b=Dc(a,c.fn),b!==c.result?(c.result=b,b=Fc(b,a)):void 0}function Dc(a,b){var c=Ec(En.getParseOptions(a));return b.call(a,a.data,c)}function Ec(a){var b=Vh(En);return b.parse=function(b,c){return En.parse(b,c||a)},b}function Fc(a,b){if("string"==typeof a)"#"===a[0]&&(a=En.fromId(a)),a=Bn(a,En.getParseOptions(b));else if(2!==a.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return a}function Gc(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function Hc(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=Ic(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function Ic(a,b){var c,d;return b in a?(c=a[b],d="function"==typeof c?c:function(){return c}):d=di,d}function Jc(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function Kc(a,b,c){if(b in a){if(c in a)throw new Error(Jc(b,c,!0));gi(Jc(b,c)),a[c]=a[b]}}function Lc(a){Kc(a,"beforeInit","onconstruct"),Kc(a,"init","onrender"),Kc(a,"complete","oncomplete"),Kc(a,"eventDefinitions","events"),e(a.adaptors)&&Kc(a,"adaptors","adapt")}function Mc(a,b,c,d){Pn(d);for(var e in d)if(Mn[e]){var f=d[e];"function"==typeof f&&(f=On(b.prototype,e,f)),c[e]=f}Nn.forEach(function(e){e[a](b,c,d)}),wk[a](b,c,d),Hk[a](b,c,d),Gn[a](b,c,d),Ek[a](b,c,d),Nc(b.prototype,c,d)}function Nc(a,b,c){for(var d in c)if(!Ln[d]&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=On(a,d,e)),b[d]=e}}function Oc(a){var b={};return a.forEach(function(a){return b[a]=!0}),b}function Pc(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function Qc(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function Rc(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function Sc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function Tc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function Uc(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function Vc(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function Wc(){return this.items&&this.items[0]?this.items[0].firstNode():null}function Xc(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return Xc(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=(f=a.root.viewmodel.wrapped[a.keypath])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function Yc(){var a,b,c,d;return this.dirtyArgs&&(b=Zn(this.items,a={},this.root._guid),c=Zm("["+b+"]",a),d=c?c.value:[this.toString()],this.argsList=d,this.dirtyArgs=!1),this.argsList}function Zc(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function $c(){var a,b,c,d;return this.dirtyValue&&(b=Zn(this.items,a={},this.root._guid),c=Zm(b,a),d=c?c.value:this.toString(),this.value=d,this.dirtyValue=!1),this.value}function _c(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function ad(){return this.value}function bd(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function cd(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function dd(a,b,c){var d;return"@"===b.charAt(0)?new lo(a,b,c):(d=oo(a.parentFragment,b))?new no(a,d,c):new io(a,b,c)}function ed(a,b){var c,d;if(ro[a])return ro[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),ro[a]=c,c}function fd(a){return a.call()}function gd(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return d=b[c],void 0===d?"undefined":"@"===d[0]?(e=d.slice(1),j(e)?e:'"'+e+'"'):d})}function hd(a){return"${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}"}function id(a){return void 0!==a&&"@"!==a[0]}function jd(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){Wh(a,d,{value:to.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return Wh(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function kd(a){return a.value}function ld(a){return void 0!=a}function md(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!==c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.key=b.key,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=qo(a,e,c)),b.template.x&&(a.resolver=new uo(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new yo(a,b.template.rx,d)),a.template.n!==ml||a.hasOwnProperty("value")||a.setValue(void 0)}function nd(a){var b,c,d;return a&&"@"===a[0]?(this.keypath=a,void this.setValue(C(a))):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function od(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function pd(){this.parentFragment.bubble()}function qd(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())
}),a)}function rd(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function sd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function td(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function ud(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function vd(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function wd(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function xd(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===nl){if(this.shuffling=!0,Ji.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath+"."+b,h=i.keypath+"."+a,d.index=a,(j=d.registeredIndexRefs)&&j.forEach(yd),d.rebind(g,h),void(f[a]=d)))}),e=this.root.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&Ji.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function yd(a){a.rebind("","")}function zd(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function Ad(a){var b,c,d=this;this.updating||(this.updating=!0,(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=Kd(d.keypath,a),c.index=a,b=new Ct(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):Cd(this,a)&&(this.bubble(),this.rendered&&Ji.addView(this)),this.value=a,this.updating=!1)}function Bd(a,b,c){if(b===nl&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function Cd(a,b){var c={template:a.template.f,root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.subtype)switch(a.subtype){case ll:return Hd(a,b,!1,c);case ml:return Hd(a,b,!0,c);case ol:return Gd(a,c);case pl:return Fd(a,b,c);case nl:if(k(b))return Bd(a,a.subtype,!0),Ed(a,b,c)}return a.ordered=!!f(b),a.ordered?(Bd(a,nl,!1),Dd(a,b,c)):k(b)||"function"==typeof b?a.template.i?(Bd(a,nl,!0),Ed(a,b,c)):(Bd(a,ol,!1),Gd(a,c)):(Bd(a,ll,!1),Hd(a,b,!1,c))}function Dd(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(Q);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=Kd(a.keypath,d),c.index=d,f=new Ct(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function Ed(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(Ld));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=Kd(a.keypath,d),c.key=d,c.index=e++,g=new Ct(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function Fd(a,b,c){return b?Gd(a,c):Id(a)}function Gd(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new Ct(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function Hd(a,b,c,d){var e,g,h,i,j;if(g=f(b)&&0===b.length,h=!1,!f(b)&&k(b)){h=!0;for(j in b){h=!1;break}}return e=c?g||h||!b:b&&!g&&!h,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(Q),!0):void 0:(d.index=0,i=new Ct(d),a.fragmentsToRender.push(a.fragments[0]=i),a.length=1,!0):Id(a)}function Id(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(Jd),a.fragmentsToUnrender.forEach(Q),a.length=a.fragmentsToRender.length=0,!0):void 0}function Jd(a){return a.rendered}function Kd(a,b){return(a?a+".":"")+b}function Ld(a){a.rebind("","")}function Md(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function Nd(){var a=this;this.fragments.forEach(Q),this.fragmentsToRender.forEach(function(b){return w(a.fragments,b)}),this.fragmentsToRender=[],fo.call(this),this.length=0,this.unbound=!0}function Od(a){this.fragments.forEach(a?Pd:Qd),this.renderedFragments=[],this.rendered=!1}function Pd(a){a.unrender(!0)}function Qd(a){a.unrender(!1)}function Rd(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function Sd(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function Td(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(Kh(d,a))return d;if(e=d.querySelector(a))return e}return null}function Ud(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(Kh(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function Vd(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function Wd(a){return bp[a]||(bp[a]=Jh(a))}function Xd(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=x(a.node.options).filter(Yd),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function Yd(a){return a.selected}function Zd(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=cp(this.value,this.parentFragment.getNode(),this.docFrag),dp(this.pElement),this.rendered=!0,this.docFrag}function $d(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&Ji.addView(this))}function _d(){return void 0!=this.value?ac(""+this.value):""}function ae(a){this.rendered&&a&&(this.nodes.forEach(b),this.rendered=!1)}function be(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=cp(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),dp(this.pElement)}}function ce(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function de(){return null}function ee(){return this.node}function fe(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function ge(){var a=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();h(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&Ji.addView(this))}function he(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Jk?b[0]:void 0}function ie(a){return this.type=Sk,this.element=a.element,this.root=a.root,Dp(this,a.name),this.isBoolean=qm.test(this.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new Ct({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=Ep(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:a.value||"")}function je(a,b){this.fragment&&this.fragment.rebind(a,b)}function ke(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==Ch.html||(b=Hp[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===b&&(a._ractive.value=this.value)),this.rendered=!0,this.update()}function le(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;return"value"===b&&("select"===this.element.name||"textarea"===this.element.name)||"value"===b&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===b&&"input"===this.element.name&&e?"name={{"+(e.keypath||e.ref)+"}}":this.isBoolean?d?b:"":(f&&(d=f.toString()),c&&(b=c+":"+b),d?b+'="'+me(d)+'"':b)}function me(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function ne(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function oe(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function pe(){var a,b,c,d,f=this.value;for(e(f)||(f=[f]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=t(f,d)}function qe(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function re(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return Ji.addViewmodel(b.root.viewmodel),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function se(){var a,b,c=this,d=c.element,f=c.node,g=c.value;if(a=d.getAttribute("value"),e(g)){for(b=g.length;b--;)if(a==g[b])return void(f.checked=!0);f.checked=!1}else f.checked=g==a}function te(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b}function ue(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function ve(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function we(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function xe(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function ye(){this.locked||(this.node[this.propertyName]=this.value)}function ze(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):this.isBoolean?e?b.setAttribute(d,""):b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function Ae(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=Rp:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?Mp:Lp:"textarea"===e.name?b=Up:null!=e.getAttribute("contenteditable")?b=Tp:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?di:"radio"===a&&e.binding&&"name"===e.binding.name?Op:Up):this.isTwoway&&"name"===d?"radio"===f.type?b=Np:"checkbox"===f.type&&(b=Pp):"style"===d&&f.style.setAttribute?b=Sp:"class"!==d||f.namespaceURI&&f.namespaceURI!==Ch.html?this.useProperty&&(b=Vp):b=Qp,b||(b=Wp),this.update=b,this.update()}function Be(a,b){var c=b?"svg":"div";return Zp.innerHTML="<"+c+" "+a+"></"+c+">",x(Zp.childNodes[0].attributes)}function Ce(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function De(a){for(;a=a.parent;)if("form"===a.name)return a}function Ee(){this._ractive.binding.handleChange()}function Fe(a,b,c){var d=a+b+c;return jq[d]||(jq[d]=[])}function Ge(a){return a.isChecked}function He(a){return a.element.getAttribute("value")}function Ie(){var a;gq.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function Je(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&gq.call(b),a._timeout=void 0},a.element.lazy)}function Ke(a){var b,c,d,e,f=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||f.contenteditable&&Le(f.contenteditable))&&Le(f.value)?c=iq:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=Le(f.name),e=Le(f.checked),d&&e&&si.error({message:"badRadioInputBinding"}),d?c="radio"===b?oq:qq:e&&(c="radio"===b?mq:sq)):"file"===b&&Le(f.value)?c=yq:Le(f.value)&&(c="number"===b||"range"===b?Aq:zq)):"select"===a.name&&Le(f.value)?c=a.getAttribute("multiple")?wq:uq:"textarea"===a.name&&Le(f.value)&&(c=zq),c?new c(a):void 0}function Le(a){return a&&a.isBindable}function Me(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function Ne(a){jj(this.root,this.getAction(),{event:a})}function Oe(){return this.action.toString().trim()}function Pe(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&(si.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:a.tagName,event:b}}),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=so(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c;(c=Fq.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(qo(g,a,function(a){return g.resolve(b,a)}))}),this.fire=Qe):(d=c.n||c,"string"!=typeof d&&(d=new Ct({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new Ct({template:c.d,root:this.root,owner:this.element}),this.fire=Se):c.a&&(this.params=c.a,this.fire=Re))}function Qe(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),gj.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),gj.dequeue(b)}function Re(a){jj(this.root,this.getAction(),{event:a,args:this.params})}function Se(a){var b=this.dynamicParams.getArgsList();"string"==typeof b&&(b=b.substr(1,b.length-2)),jj(this.root,this.getAction(),{event:a,args:b})}function Te(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=oo(c.element.parentFragment))&&(e=oo.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath,context:b.root.get(b.keypath)})}function Ue(){var a,b=this.name;if(!this.invalid){if(a=l("events",this.root,b))this.custom=a(this.node,Ve(b));else{if(!("on"+b in this.node||window&&"on"+b in window))return void(Jq[b]||si.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:b}}));this.node.addEventListener(b,Hq,!1)}this.hasListener=!0}}function Ve(a){return Iq[a]||(Iq[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath,b.context=c.root.get(c.keypath),c.events[a].fire(b)}),Iq[a]}function We(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function Xe(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Ye(a,b){this.keypaths[a]=b}function Ze(){return this.method?void this.refResolvers.forEach(Q):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function $e(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,Hq,!1),this.hasListener=!1}function _e(){var a=this;this.dirty||(this.dirty=!0,Ji.scheduleTask(function(){af(a),a.dirty=!1})),this.parentFragment.bubble()}function af(a){var b,c,d,e,f;b=a.node,b&&(e=x(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?bf(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function bf(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function cf(a,b){a.select=ef(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function df(a){a.select&&w(a.select.options,a)}function ef(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function ff(a){var b,c,d,e,f,g;this.type=Ok,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=Cp(c.e),"option"===this.name&&cf(this,c),"select"===this.name&&(this.options=[],this.bubble=_e),"form"===this.name&&(this.formBindings=[]),Ap(this,c.a||{}),this.attributes=_p(this,c.a),this.conditionalAttributes=cq(this,c.m),c.f&&(this.fragment=new Ct({template:c.f,root:d,owner:this,pElement:this})),g=d.twoway,this.twoway===!1?g=!1:this.twoway===!0&&(g=!0),g&&(e=Bq(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath]||(this.root._twowayBindings[e.keypath]=[]),f.push(e)),c.v&&(this.eventHandlers=Sq(this,c.v)),c.o&&(this.decorator=new Xq(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function gf(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&B(e,"keypath",a,b)}function hf(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function jf(a){a.node.addEventListener("reset",lf,!1)}function kf(a){a.node.removeEventListener("reset",lf,!1)}function lf(){var a=this._ractive.proxy;Ji.start(),a.formBindings.forEach(mf),Ji.end()}function mf(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function nf(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new Ct({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new Ct({template:b.d,root:d,owner:a}),this.params=f.getArgsList(),f.unbind()),this._fn=l("transitions",d,e),this._fn||si.error({debug:d.debug,message:"missingPlugin",args:{plugin:"transition",name:e}}))}function of(a){return a}function pf(){zr.hidden=document[vr]}function qf(){zr.hidden=!0}function rf(){zr.hidden=!1}function sf(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&tf(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function tf(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function uf(){var a,b,c,d=this,e=this.root;return a=vf(this),b=this.node=Jh(this.name,a),e.constructor.css&&this.parentFragment.getNode()===e.el&&this.node.setAttribute("data-ractive-css",e.constructor._guid),Wh(this.node,"_ractive",{value:{proxy:this,keypath:Bi(this.parentFragment),events:Vh(null),root:e}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=Kr,this.node.text=this.fragment.toString(!1),this.fragment.unrender=di):"style"===this.name?(this.bubble=Jr,this.bubble(),this.fragment.unrender=di):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=di:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&wf(this),"img"===this.name?hf(this):"form"===this.name?jf(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&Ji.scheduleTask(function(){d.decorator.torndown||d.decorator.init()},!0),e.transitionsEnabled&&this.intro&&(c=new Lr(this,this.intro,!0),Ji.registerTransition(c),Ji.scheduleTask(function(){return c.start()},!0),this.transition=c),this.node.autofocus&&Ji.scheduleTask(function(){return d.node.focus()},!0),xf(this),this.node}function vf(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?Ch.svg:(d=a.parent)?"foreignObject"===d.name?Ch.html:d.node.namespaceURI:a.root.el.namespaceURI}function wf(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&e(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function xf(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function yf(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&e(c))for(d=c.length;d--;)if(c[d]==b)return!0}function zf(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function Af(a){var b=a.toString();return b?" "+b:""}function Bf(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Q),"option"===this.name&&df(this),this.attributes.forEach(Q),this.conditionalAttributes.forEach(Q)}function Cf(a){var b,c,d;(d=this.transition)&&d.complete(),"option"===this.name?this.detach():a&&Ji.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(R),this.decorator&&Ji.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(d=new Lr(this,this.outro,!1),Ji.registerTransition(d),Ji.scheduleTask(function(){return d.start()})),this.liveQueries&&Df(this),"form"===this.name&&kf(this)}function Df(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function Ef(a,b){var c=Tr.exec(b)[0];return null===a||c.length<a.length?c:a}function Ff(a,b){var c;if(c=Gf(a,b))return c;if(c=En.fromId(b,{noThrow:!0})){c=Ur(c);var d=En.parse(c,En.getParseOptions(a));return a.partials[b]=d.t}}function Gf(a,b){var c=m("partials",a,b);if(c){var d,e=c.partials[b];if("function"==typeof e&&(d=e.bind(c),d.isOwner=c.partials.hasOwnProperty(b),e=d(c.data,En)),!e&&""!==e)return void si.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:b}});if(!En.isParsed(e)){var f=En.parse(e,En.getParseOptions(c));f.p&&si.warn({debug:a.debug,message:"noNestedPartials",args:{rname:b}});var g=d?c:Hf(c,b);g.partials[b]=e=f.t}return d&&(e._fn=d),e.v?e.t:e}}function Hf(a,b){return a.partials.hasOwnProperty(b)?a:If(a.constructor,b)}function If(a,b){return a?a.partials.hasOwnProperty(b)?a:If(a._Parent,b):void 0}function Jf(a,b){var c,d=m("components",a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(d.data),!c)return void si.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:b}});"string"==typeof c&&(c=Jf(a,c)),c._fn=e,d.components[b]=c}return c}function Kf(){var a=this.instance.fragment.detach();return $r.fire(this.instance),a}function Lf(a){return this.instance.fragment.find(a)}function Mf(a,b){return this.instance.fragment.findAll(a,b)}function Nf(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function Of(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function Pf(){return this.parentFragment.findNextNode(this)}function Qf(){return this.rendered?this.instance.fragment.firstNode():null}function Rf(a,b){var c,d,e,f,g=this.ractive;for(c=g.adapt.length,d=0;c>d;d+=1)if(e=g.adapt[d],e.filter(b,a,g))return f=this.wrapped[a]=e.wrap(g,b,a,Tf(a)),f.value=b,b;return b}function Sf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function Tf(a){var b;return gs[a]||(b=a?a+".":"",gs[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?Sf(c,a):c:void 0}),gs[a]}function Uf(a){var b,c,d,e,f=[""];for(b=a.length;b--;)for(c=a[b],d=c.split(".");d.length>1;)d.pop(),e=d.join("."),-1===f.indexOf(e)&&f.push(e);return f}function Vf(a){var b,c,d,e;return b=a.split("."),c=Wf(b.length),d=function(a,c){return a?"*":b[c]},e=c.map(function(a){return a.map(d).join(".")})}function Wf(a){var b,c,d,e,f,g="";if(!js[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}js[a]=d}return js[a]}function Xf(a,b,c){var d;Zf(a,b),c||(d=ks(b),d.forEach(function(c){Yf(a,c,b)}))}function Yf(a,b,c){var d,e,f;d=a.depsMap.patternObservers,d&&(e=d[b])&&e.forEach(function(b){var d=ls.exec(b)[0];f=c?c+"."+d:d,Zf(a,f),Yf(a,b,f)})}function Zf(a,b){a.patternObservers.forEach(function(a){a.regex.test(b)&&a.update(b)})}function $f(){function a(c){var d,e;f.noCascade.hasOwnProperty(c)||((e=f.deps.computed[c])&&e.forEach(function(c){c.viewmodel===f?(f.clearCache(c.key),c.invalidate(),b.push(c.key),a(c.key)):c.viewmodel.mark(c.key)}),(d=f.depsMap.computed[c])&&d.forEach(a))}var b,c,d,e=this,f=this,g={};return b=this.changes,b.length?(b.slice().forEach(a),c=is(b),c.forEach(function(a){var c;-1===b.indexOf(a)&&(c=f.deps.computed[a])&&(e.changes.push(a),c.forEach(function(a){a.viewmodel.mark(a.key)}))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(a){return ms(e,a,!0)}),b.forEach(function(a){return ms(e,a)})),this.deps.observers&&(c.forEach(function(a){return _f(e,null,a,"observers")}),bg(this,b,"observers")),this.deps["default"]&&(d=[],c.forEach(function(a){return _f(e,d,a,"default")}),d.length&&ag(this,d,b),bg(this,b,"default")),b.forEach(function(a){g[a]=e.get(a)}),this.implicitChanges={},this.noCascade={},g):void 0}function _f(a,b,c,d){var e,f;(e=cg(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function ag(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function bg(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=cg(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function cg(a,b,c){var d=a.deps[c];return d?d[b]:null}function dg(){this.captureGroups.push([])}function eg(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function fg(a){var b="var __ractive=this;return("+a.replace(qs,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(b)}function gg(a,b){var c=E(b);return!(c in a.ractive.data||c in a.computations||c in a.mappings)}function hg(a,b){return b=rs(b),this.computations[a]=new vs(this.ractive,a,b)}function ig(a,b){var c,d,e,f,g,h=this.ractive,i=this.cache;return b=b||ys,b.capture&&(g=this.captureGroups[this.captureGroups.length-1])&&(~g.indexOf(a)||g.push(a)),(c=this.mappings[E(a)])?c.get(a,b):"@"===a[0]?C(a):(void 0===i[a]?((e=this.computations[a])&&!e.bypass?(d=e.get(),this.adapt(a,d)):(f=this.wrapped[a])?d=f.value:a?d=jg(this,a):(this.adapt("",h.data),d=h.data),i[a]=d):d=i[a],!b.noUnwrap&&(f=this.wrapped[a])&&(d=f.get()),d===xs?void 0:d)}function jg(a,b){var c,d,e,f,g,h,i;return c=b.split("."),d=c.pop(),e=c.join("."),f=a.get(e),(i=a.wrapped[e])&&(f=i.get()),null!==f&&void 0!==f?((g=a.cacheMap[e])?-1===g.indexOf(b)&&g.push(b):a.cacheMap[e]=[b],"object"!=typeof f||d in f?(h=f[d],a.adapt(b,h,!1),a.cache[b]=h,h):a.cache[b]=xs):void 0}function kg(){var a,b,c=[];for(a in this.ractive.computed)b=this.compute(a,this.ractive.computed[a]),c.push(b),a in this.mappings&&si.critical({message:"Cannot map to a computed property ('"+a+"')"});c.forEach(lg)}function lg(a){a.init()}function mg(a,b){this.keypath=a,this.viewmodel=b}function ng(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.trackData=b.trackData,this.resolved=!1}function og(a,b){var c=new Cs(a,b);return c.initViewmodel(this),c}function pg(a,b){var c;Ji.addViewmodel(this),b&&(b.implicit&&(this.implicitChanges[a]=!0),b.noCascade&&(this.noCascade[a]=!0)),(c=this.computations[a])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var d=b?b.dontTeardownWrapper:!1;this.clearCache(a,d)}function qg(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=sg(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){if(this.debug)throw i;gi("Merge operation: comparison failed. Falling back to identity checking"),e=b,f=c}}else e=b,f=c;h=Fs(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function rg(a){return JSON.stringify(a)}function sg(a){if(a===!0)return rg;if("string"==typeof a)return Gs[a]||(Gs[a]=function(b){return b[a]}),Gs[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function tg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[E(a)])return d.register(a,b,c);e=this.deps[c]||(this.deps[c]={}),f=e[a]||(e[a]=[]),f.push(b),a&&ug(this,a,c)}}function ug(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c]||(a.depsMap[c]={}),g=f[e]||(f[e]=[]),void 0===g[b]&&(g[b]=0,g.push(b)),g[b]+=1,b=e}function vg(){return this.captureGroups.pop()}function wg(a,b,c){void 0===c&&(c={});var d,e,f,g;if(!c.noMapping&&(d=this.mappings[E(a)]))return d.set(a,b);if(e=this.computations[a]){if(e.setting)return;e.set(b),b=e.get()}h(this.cache[a],b)||(f=this.wrapped[a],f&&f.reset&&(g=f.reset(b)!==!1,g&&(b=f.get())),e||g||xg(this,a,b),c.silent?this.clearCache(a):this.mark(a))}function xg(a,b,c){var d,e,f,g,h,i,j;i=function(){g.set?g.set(e,c):(h=g.get(),j())},j=function(){h||(h=nk(e),a.set(f,h,{silent:!0})),h[e]=c},d=b.split("."),e=d.pop(),f=d.join("."),g=a.wrapped[f],g?i():(h=a.get(f),(g=a.wrapped[f])?i():j())}function yg(a,b,c){var d,e,f=this;if(e=c.length,c.forEach(function(b,c){-1===b&&f.mark(a+"."+c,Ms)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a])&&d.filter(zg).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){this.mark(a+".length",Ls);for(var g=e;g<b.length;g+=1)this.mark(a+"."+g);for(var g=b.length;e>g;g+=1)this.mark(a+"."+g,Ms)
}}function zg(a){return"function"==typeof a.shuffle}function Ag(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function Bg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[E(a)])return d.unregister(a,b,c);if(e=this.deps[c][a],f=e.indexOf(b),-1===f)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");e.splice(f,1),a&&Cg(this,a,c)}}function Cg(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c],g=f[e],g[b]-=1,g[b]||(w(g,b),g[b]=void 0),b=e}function Dg(a){this.hook=new vi(a),this.inProcess={},this.queue={}}function Eg(a,b){return a[b._guid]||(a[b._guid]=[])}function Fg(a,b){var c=Eg(a.queue,b);for(a.hook.fire(b);c.length;)Fg(a,c.shift());delete a.queue[b._guid]}function Gg(b,c,d){void 0===c&&(c={}),void 0===d&&(d={});var e;if(Hg(b,d),Ts.fire(Qn.getConstructTarget(b,c),c),Qn.init(b.constructor,b,c),b.magic&&!Bh)throw new Error("Getters and setters (magic mode) are not supported in this browser");Us.fire(b),Vs.begin(b),b.viewmodel=new Rs(b,d.mappings),b.viewmodel.init(),b.template&&(b.fragment=new Ct({template:b.template,root:b,owner:b})),Vs.end(b),(e=a(b.el))&&b.render(e,b.append)}function Hg(a,b){a._guid="r-"+Ws++,a._subs=Vh(null),a._config={},a._twowayBindings=Vh(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function Ig(a,b,c){this.parameters=a,this.parentFragment=a.component.parentFragment,this.key=b,this.fragment=new Ct({template:c,root:a.component.root,owner:this}),this.parameters.addData(this.key,this.fragment.getValue())}function Jg(a,b){return b.parameters?Bh&&"legacy"!==b.parameters?Lg(a,b):Kg(a):a.data}function Kg(a){var b,c=a.mappings;for(b in c){var d=c[b];d.trackData=!0,d.updatable||a.addData(b,d.getValue())}return a.data}function Lg(a,b){var c=Mg(a,b);return new c(a)}function Mg(a,b){var c=b._parameters;return(!c.Constructor||a.newKeys.length)&&(c.Constructor=Ng(a,c.defined)),c.Constructor}function Ng(a,b){function c(a){this._mappings=a.mappings,this._data=a.data||{}}var d,e;return d=a.keys.reduce(function(a,b){return a[b]={get:function(){var a=this._mappings[b];return a?a.getValue():this._data[b]},set:function(a){var c=this._mappings[b];c?(Ji.start(),c.setValue(a),Ji.end()):this._data[b]=a},enumerable:!0},a},b),Xh(e={},d),e.constructor=c,c.prototype=e,c}function Og(a,b,c){var d,e;this.parameters=a,this.key=b,this.resolved=this.ready=!1,d=a.component,e=this.resolve.bind(this),c.r?this.resolver=qo(d,c.r,e):c.x?this.resolver=new uo(d,d.parentFragment,c.x,e):c.rx&&(this.resolver=new yo(d,c.rx,e)),this.resolved||a.addMapping(b),this.ready=!0}function Pg(a,b,c){var d,e,f;return c?(b.parameters&&(f=Qg(b)),d=new Rg(a,c,f),e=$s(d,b),{data:e,mappings:d.mappings}):{data:{}}}function Qg(a){return a._parameters?a._parameters.defined||(a._parameters.defined={}):a._parameters={defined:{}},a._parameters.defined}function Rg(a,b,c){var d=this;this.component=a,this.parentViewmodel=a.root.viewmodel,this.data={},this.mappings=Vh(null),this.newKeys=[],this.keys=Object.keys(b),this.keys.forEach(function(a){c&&!c[a]&&d.newKeys.push(a),d.add(a,b[a])})}function Sg(a){return 1===a.length&&a[0].t===Jk}function Tg(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Ug(a.instance,a.root,c,b[c])}function Ug(a,b,c,d){"string"!=typeof d&&si.error({debug:b.debug,message:"noComponentEventArguments"}),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),jj(b,d,{event:a,args:c}),!1})}function Vg(a,b){var c,d,e;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=Uk,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],e=at(this,b.prototype,a.template.a),Ys(this,b,e,a.template.f,a.template.p),bt(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&gi('The "intro", "outro" and "decorator" directives have no effect on components'),ct(this)}function Wg(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function Xg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function Yg(){return this.instance.fragment.toString()}function Zg(){var a=this.instance;this.resolvers.forEach(Q),$g(this),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&w(a.el.__ractive_instances__,a),ht.fire(a)}function $g(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function _g(a){this.shouldDestroy=a,this.instance.unrender()}function ah(a){if("string"==typeof a.template)return new eo(a);switch(a.template.t){case Jk:return"yield"===a.template.r?new pt(a):new Eo(a);case Lk:return new Yo(a);case Kk:return new op(a);case Ok:var b;return(b=Zr(a.parentFragment.root,a.template.e))?new lt(a,b):new Rr(a);case Pk:return new Yr(a);case Qk:return new nt(a);case Xk:return new rt(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function bh(a){var b,c=this;this.owner=a.owner,b=this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],a.template=v(a.template),this.items=a.template.map(function(b,d){return st({parentFragment:c,pElement:a.pElement,template:b,index:d})}).filter(function(a){return null!==a}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function ch(a,b){B(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function dh(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function eh(a){return this.items?this.items.map(a?gh:fh).join(""):""}function fh(a){return a.toString()}function gh(a){return a.toString(!0)}function hh(){this.bound&&(this.items.forEach(ih),this.bound=!1)}function ih(a){a.unbind&&a.unbind()}function jh(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function kh(a,b){var c,d,e,f,g,h=this;if("function"!=typeof a||b?a=a||{}:(b=a,a={}),"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((d=this.viewmodel.wrapped[""])&&d.reset?d.reset(a)===!1&&(this.data=a):this.data=a,e=Qn.reset(this),f=e.length;f--;)if(Dt.indexOf(e[f])>-1){g=!0;break}if(g){var i;this.viewmodel.mark(""),(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new Ct({template:this.template,root:this,owner:this})),c=this.render(this.el,this.anchor)}else c=Ji.start(this,!0),this.viewmodel.mark(""),Ji.end();return Et.fire(this,a),b&&(si.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.reset"}}),c.then(b).then(null,function(a){si.consoleError({debug:h.debug,err:a})})),c}function lh(a){var b,c;Gn.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new Ct({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function mh(a,b,c){var d,e,f=this;if(e=Ji.start(this,!0),k(a)){d=a,c=b;for(a in d)d.hasOwnProperty(a)&&(b=d[a],a=I(a),this.viewmodel.set(a,b))}else a=I(a),Jt.test(a)?F(this,a).forEach(function(a){f.viewmodel.set(a,b)}):this.viewmodel.set(a,b);return Ji.end(),c&&(si.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.set"}}),e.then(c.bind(this)).then(null,function(a){si.consoleError({debug:f.debug,err:a})})),e}function nh(a,b){return li(this,a,void 0===b?-1:-b)}function oh(a){var b,c=this;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&w(this.el.__ractive_instances__,this),this.shouldDestroy=!0,b=this.fragment.rendered?this.unrender():zi.resolve(),Pt.fire(this),a&&(si.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),b.then(a.bind(this)).then(null,function(a){si.consoleError({debug:c.debug,err:a})})),this._boundFunctions.forEach(ph),b}function ph(a){delete a.fn[a.prop]}function qh(a,b){var c;return"string"!=typeof a&&si.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:a}}),c=this.get(a),this.set(a,!c,b)}function rh(){return this.fragment.toString(!0)}function sh(){var a,b,c=this;if(!this.fragment.rendered)return si.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"}),zi.resolve();for(a=Ji.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&a.then(function(){Zj.remove(c.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),w(this.el.__ractive_instances__,this),Tt.fire(this),Ji.end(),a}function th(a,b){var c,d=this;return"function"==typeof a?(b=a,a=""):a=a||"",c=Ji.start(this,!0),this.viewmodel.mark(a),Ji.end(),Wt.fire(this,a),b&&(si.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),c.then(b.bind(this)).then(null,function(a){si.consoleError({debug:d.debug,err:a})})),c}function uh(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||D(d,a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=vh(this,e),this.set(c)}function vh(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath]||a.changed()||(d.push(a.keypath),d[a.keypath]=a));b=a.attribute.value,e=a.getValue(),u(b,e)||h(b,e)||(c[a.keypath]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a],e=b.attribute.value,f=b.getValue(),u(e,f)||(c[a]=f)}),c}function wh(a){for(var b={};a;)Nn.forEach(function(c){xh(c.useDefaults?a.prototype:a,b,c.name)}),Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e,f=d._method;f&&(d=d._method),e=Fk(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}}),a=a._Parent!==du?a._Parent:!1;return b}function xh(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function yh(a){void 0===a&&(a={});var b,c,d=this;return a.prototype instanceof du&&(a=$t(a)),b=function(a){Xs(this,a)},c=Vh(d.prototype),c.constructor=b,Xh(b,{_guid:{value:_t++},defaults:{value:c},extend:{value:yh,writable:!0,configurable:!0},_Parent:{value:d}}),Qn.extend(d,c,a),b.prototype=c,b}var zh,Ah,Bh,Ch,Dh,Eh,Fh={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1,debug:!1},Gh=Fh,Hh={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}};zh="object"==typeof document,Ah="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),Bh=!0}catch(Ih){Bh=!1}Ch={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dh="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),Eh=["o","ms","moz","webkit"];var Jh,Kh,Lh,Mh,Nh,Oh,Ph,Qh,Rh;if(Jh=Dh?function(a,b){return b&&b!==Ch.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==Ch.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)},zh){for(Lh=Jh("div"),Mh=["matches","matchesSelector"],Rh=function(a){return function(b,c){return b[a](c)}},Ph=Mh.length;Ph--&&!Kh;)if(Nh=Mh[Ph],Lh[Nh])Kh=Rh(Nh);else for(Qh=Eh.length;Qh--;)if(Oh=Eh[Ph]+Nh.substr(0,1).toUpperCase()+Nh.substring(1),Lh[Oh]){Kh=Rh(Oh);break}Kh||(Kh=function(a,b){var c,d,e;for(d=a.parentNode,d||(Lh.innerHTML="",d=Lh,a=a.cloneNode(),Lh.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else Kh=null;var Sh,Th,Uh;"undefined"==typeof window?Uh=null:(Sh=window,Th=Sh.document,Uh={},Th||(Uh=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;for(void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0),c=this.length;c>b;b++)if(this.hasOwnProperty(b)&&this[b]===a)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f=this,g=[];for(f instanceof String&&(f=f.toString(),e=!0),c=0,d=f.length;d>c;c+=1)(f.hasOwnProperty(c)||e)&&(g[c]=a.call(b,f[c],c,f));return g}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){var c,d,e,f;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(e=this.length,f=!1,arguments.length>1&&(d=b,f=!0),c=0;e>c;c+=1)this.hasOwnProperty(c)?f&&(d=a(d,this[c],c,this)):(d=this[c],f=!0);if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e=[];for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)&&(e[e.length]=this[c]);return e}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=0;d>e;e+=1)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b,c,d,e,f=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return b=f.call(arguments,1),c=this,d=function(){},e=function(){var e=this instanceof d&&a?this:a;return c.apply(e,b.concat(f.call(arguments)))},d.prototype=this.prototype,e.prototype=new d,e}),Sh.addEventListener||!function(a,b){var c,d,e,f,g,h;a.appearsToBeIELessEqual8=!0,c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b,d.target=a.srcElement||b,d.timeStamp=+new Date,d.preventDefault=function(){a.returnValue=!1},d.stopPropagation=function(){a.cancelBubble=!0}},d=function(a,b){var d,e,f=this;d=f.listeners||(f.listeners=[]),e=d.length,d[e]=[b,function(a){b.call(f,new c(a,f))}],f.attachEvent("on"+a,d[e][1])},e=function(a,b){var c,d,e=this;if(e.listeners)for(c=e.listeners,d=c.length;d--;)c[d][0]===b&&e.detachEvent("on"+a,c[d][1])},a.addEventListener=b.addEventListener=d,a.removeEventListener=b.removeEventListener=e,"Element"in a?(a.Element.prototype.addEventListener=d,a.Element.prototype.removeEventListener=e):(h=b.createElement,b.createElement=function(a){var b=h(a);return b.addEventListener=d,b.removeEventListener=e,b},f=b.getElementsByTagName("head")[0],g=b.createElement("style"),f.insertBefore(g,f.firstChild))}(Sh,Th),Sh.getComputedStyle||(Uh.getComputedStyle=function(){function a(c,d,e,f){var g,h=d[e],i=parseFloat(h),j=h.split(/\d/)[0];return isNaN(i)&&/^thin|medium|thick$/.test(h)&&(i=b(h),j=""),f=null!=f?f:/%|em/.test(j)&&c.parentElement?a(c.parentElement,c.parentElement.currentStyle,"fontSize",null):16,g="fontSize"==e?f:/width/i.test(e)?c.clientWidth:c.clientHeight,"em"==j?i*f:"in"==j?96*i:"pt"==j?96*i/72:"%"==j?i/100*g:i}function b(a){var b,c;return f[a]||(b=document.createElement("div"),b.style.display="block",b.style.position="fixed",b.style.width=b.style.height="0",b.style.borderRight=a+" solid black",document.getElementsByTagName("body")[0].appendChild(b),c=b.getBoundingClientRect(),f[a]=c.right-c.left),f[a]}function c(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function d(b){var d,e,f,g;d=b.currentStyle,e=this,f=a(b,d,"fontSize",null);for(g in d)/width|height|margin.|padding.|border.+W/.test(g)?"auto"===d[g]?/^width|height/.test(g)?e[g]=("width"===g?b.clientWidth:b.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(g)&&(e[g]="0px"):e[g]=a(b,d,g,f)+"px":"styleFloat"===g?e["float"]=d[g]:e[g]=d[g];return c(e,"margin"),c(e,"padding"),c(e,"border"),e.fontSize=f+"px",e}function e(a){return new d(a)}var f={};return d.prototype={constructor:d,getPropertyPriority:function(){},getPropertyValue:function(a){return this[a]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},e}()));var Vh,Wh,Xh,Yh=Uh,Zh=Array.prototype.slice;try{Object.defineProperty({},"test",{value:0}),zh&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Wh=Object.defineProperty}catch($h){Wh=function(a,b,c){a[b]=c.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch($h){throw $h}zh&&Object.defineProperties(Jh("div"),{test:{value:0}}),Xh=Object.defineProperties}catch($h){Xh=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Wh(a,c,b[c])}}try{Object.create(null),Vh=Object.create}catch($h){Vh=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var _h,ai=Object.prototype.hasOwnProperty,bi=Object.prototype.toString,ci=/^\[object (?:Array|FileList)\]$/,di=function(){},ei={};_h=Ah?function(a,b){if(!b){if(ei[a])return;ei[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:di;var fi,gi=_h,hi=function(a,b,c,d){if(a===b)return n(b);if(d){var e=l("interpolators",c,d);if(e)return e(a,b)||n(b);gi('Missing "'+d+'" interpolator. You may need to download a plugin from [TODO]')}return ki.number(a,b)||ki.array(a,b)||ki.object(a,b)||n(b)},ii=hi,ji={number:function(a,b){var c;return j(a)&&j(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,f,g;if(!e(a)||!e(b))return null;for(c=[],d=[],g=f=Math.min(a.length,b.length);g--;)d[g]=ii(a[g],b[g]);for(g=f;g<a.length;g+=1)c[g]=a[g];for(g=f;g<b.length;g+=1)c[g]=b[g];return function(a){for(var b=f;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!k(a)||!k(b))return null;c=[],f={},e={};for(g in a)ai.call(a,g)&&(ai.call(b,g)?(c.push(g),e[g]=ii(a[g],b[g])):f[g]=a[g]);for(g in b)ai.call(b,g)&&!ai.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},ki=ji,li=o,mi=p;"undefined"==typeof window?fi=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(Eh,0,window),fi=window.requestAnimationFrame);var ni,oi=fi;ni="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var pi=ni,qi={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',usePromise:"{method} now returns a Promise, use {method}(...).then(callback) instead.",noTwowayExpressions:"Two-way binding does not work with expressions. Encountered ( {expression} ) on element {element}.",computedCannotMapTo:'Computed property "{key}" cannot be mapped to "{other}" because {reason}.',notUsed:'prevents forgetting trailing "," in cut and paste of previous line :)'},ri={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(q(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(q(a));this.thrower(b)},logger:gi,thrower:function(a){throw a},consoleError:function(a){Ah?console.error(a.err):this.thrower(a.err)}},si=ri,ti={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};s.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&si.warnAlways({debug:a.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate}),b?a.fire(this.event,b):a.fire(this.event)};var ui,vi=s,wi={},xi={},yi={};"function"==typeof Promise?ui=Promise:(ui=function(a){var b,c,d,e,f,g,h=[],i=[],j=wi;d=function(a){return function(d){j===wi&&(b=d,j=a,c=z(j===xi?h:i,b),y(c))}},e=d(xi),f=d(yi);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new ui(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),A(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==wi&&y(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},ui.all=function(a){return new ui(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},ui.resolve=function(a){return new ui(function(b){b(a)})},ui.reject=function(a){return new ui(function(b,c){c(a)})});var zi=ui,Ai=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Bi=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return""},Ci=K,Di=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};Di.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,U(this)},decrementTotal:function(){this.totalChildren-=1,U(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;w(b,a),U(this)},init:function(){this.ready=!0,U(this)},detachNodes:function(){this.decoratorQueue.forEach(P),this.detachQueue.forEach(S),this.children.forEach(T)}};var Ei,Fi,Gi=Di,Hi=[],Ii=new vi("change");Fi={start:function(a,b){var c,d;return b&&(c=new zi(function(a){return d=a})),Ei={previousBatch:Ei,transitionManager:new Gi(d,Ei&&Ei.transitionManager),views:[],tasks:[],viewmodels:[],instance:a},a&&Ei.viewmodels.push(a.viewmodel),c},end:function(){V(),Ei.transitionManager.init(),!Ei.previousBatch&&Ei.instance&&(Ei.instance.viewmodel.changes=[]),Ei=Ei.previousBatch},addViewmodel:function(a){return Ei?-1===Ei.viewmodels.indexOf(a)?(Ei.viewmodels.push(a),!0):!1:(a.applyChanges(),!1)},registerTransition:function(a){a._manager=Ei.transitionManager,Ei.transitionManager.add(a)},registerDecorator:function(a){Ei.transitionManager.addDecorator(a)},addView:function(a){Ei.views.push(a)},addUnresolved:function(a){Hi.push(a)},removeUnresolved:function(a){w(Hi,a)},detachWhenReady:function(a){Ei.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(Ei){for(c=Ei;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var Ji=Fi,Ki=[],Li={tick:function(){var a,b,c;for(c=pi(),Ji.start(),a=0;a<Ki.length;a+=1)b=Ki[a],b.tick(c)||Ki.splice(a--,1);Ji.end(),Ki.length?oi(Li.tick):Li.running=!1},add:function(a){Ki.push(a),Li.running||(Li.running=!0,oi(Li.tick))},abort:function(a,b){for(var c,d=Ki.length;d--;)c=Ki[d],c.root===b&&c.keypath===a&&c.stop()}},Mi=Li,Ni=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=ii(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};Ni.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(Ji.start(this.root),this.root.viewmodel.set(f,this.to),Ji.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&gi("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),Ji.start(this.root),this.root.viewmodel.set(f,c),Ji.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&gi("Animation was not found"),this.root._animations.splice(a,1)}};var Oi=Ni,Pi={stop:di},Qi=Y,Ri=new vi("detach"),Si=$,Ti=_,Ui=function(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?Kh(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0},Vi=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},Wi=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=bb(a.component||a._ractive.proxy),d=bb(b.component||b._ractive.proxy),e=c[c.length-1],f=d[d.length-1];e&&e===f;)c.pop(),d.pop(),g=e,e=c[c.length-1],f=d[d.length-1];if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Xi=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):Wi(a,b)},Yi=function(){this.sort(this._isComponentQuery?Wi:Xi),this._dirty=!1},Zi=function(){var a=this;this._dirty||(this._dirty=!0,Ji.scheduleTask(function(){a._sort()}))},$i=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},_i=cb,aj=db,bj=eb,cj=fb,dj=gb,ej=hb,fj={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},gj=fj,hj={},ij=ib,jj=kb,kj=nb,lj={capture:!0,noUnwrap:!0},mj=ob,nj=new vi("insert"),oj=pb,pj=rb,qj=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};qj.prototype={init:function(a){this.value=this.root.get(this.keypath),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;h(a,this.value)||(this.value=a,this.defer&&this.ready?Ji.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}};var rj,sj=qj,tj=sb,uj=/\*/,vj=Array.prototype.slice;rj=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},rj.prototype={init:function(a){var b,c;if(b=tj(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(c);else this.values=b},update:function(a){var b,c=this;if(uj.test(a)){b=tj(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(a)}else if(!this.root.viewmodel.implicitChanges[a])return this.defer&&this.ready?void Ji.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d;return b=this.root.viewmodel.get(a),this.updating?void(this.values[a]=b):(this.updating=!0,h(b,this.values[a])&&this.ready||(c=vj.call(this.regex.exec(a),1),d=[b,this.values[a],a].concat(c),this.values[a]=b,this.callback.apply(this.context,d)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a]||(this.proxies[a]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a]}};var wj,xj,yj,zj,Aj,Bj,Cj=rj,Dj=/\*/,Ej={},Fj=tb,Gj=ub,Hj=vb,Ij=function(a){return a.trim()},Jj=function(a){return""!==a},Kj=wb,Lj=xb,Mj=yb,Nj=zb,Oj=Array.prototype.slice,Pj=Array.prototype,Qj=function(a){return function(b){var c,d,f,g,h=Oj.call(arguments,1),i=[];
if(c=this.get(b),d=c.length,!e(c))throw new Error("Called ractive."+a+"('"+b+"'), but '"+b+"' does not refer to an array");return i=Nj(c,a,h),g=Pj[a].apply(c,h),f=Ji.start(this,!0).then(function(){return g}),i?this.viewmodel.smartUpdate(b,c,i):this.viewmodel.mark(b),Ji.end(),f}},Rj=Qj("pop"),Sj=Qj("push"),Tj="/* Ractive.js component styles */\n",Uj={},Vj=[];zh?(yj=document.createElement("style"),yj.type="text/css",zj=document.getElementsByTagName("head")[0],Bj=!1,Aj=yj.styleSheet,xj=function(){var a;Vj.length?(a=Tj+Vj.join(" "),Aj?Aj.cssText=a:yj.innerHTML=a,Bj||(zj.appendChild(yj),Bj=!0)):Bj&&(zj.removeChild(yj),Bj=!1)},wj={add:function(a){a.css&&(Uj[a._guid]||(Uj[a._guid]=0,Vj.push(a.css),xj()),Uj[a._guid]+=1)},remove:function(a){a.css&&(Uj[a._guid]-=1,Uj[a._guid]||(w(Vj,a.css),Ji.scheduleTask(xj)))}}):wj=null;var Wj,Xj,Yj,Zj=wj,$j=new vi("render"),_j=new vi("complete"),ak=Bb,bk=function(a,b,c,d){var e=a.root,f=a.keypath;return"sort"===c||"reverse"===c?void e.viewmodel.set(f,b):void e.viewmodel.smartUpdate(f,b,d)},ck=Array.prototype.slice,dk=[],ek=["pop","push","reverse","shift","sort","splice","unshift"];ek.forEach(function(a){var b=function(){var b,c,d,e,f=ck.call(arguments);for(b=Nj(this,a,f),c=Array.prototype[a].apply(this,arguments),Ji.start(),this._ractive.setting=!0,e=this._ractive.wrappers.length;e--;)d=this._ractive.wrappers[e],Ji.addViewmodel(d.root.viewmodel),bk(d,this,a,b);return Ji.end(),this._ractive.setting=!1,c};Wh(dk,a,{value:b})}),Wj={},Wj.__proto__?(Xj=function(a){a.__proto__=dk},Yj=function(a){a.__proto__=Array.prototype}):(Xj=function(a){var b,c;for(b=ek.length;b--;)c=ek[b],Wh(a,c,{value:dk[c],configurable:!0})},Yj=function(a){var b;for(b=ek.length;b--;)delete a[ek[b]]}),Xj.unpatch=Yj;var fk,gk,hk,ik=Xj;fk={filter:function(a){return e(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new gk(a,b,c)}},gk=function(a,b,c){this.root=a,this.value=b,this.keypath=c,b._ractive||(Wh(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),ik(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},gk.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(hk);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(hk);d.splice(e,1)}}else delete a._ractive,ik.unpatch(this.value)}},hk="Something went wrong in a rather interesting way";var jk,kk,lk=fk,mk=/^\s*[0-9]+\s*$/,nk=function(a){return mk.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),jk={filter:function(a,b,c){var d,f,g,h,i;return b?(d=b.split("."),f=d.pop(),g=d.join("."),(h=c.viewmodel.wrapped[g])&&!h.magic?!1:(i=c.get(g),e(i)&&/^[0-9]+$/.test(f)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(a,b,c){return new kk(a,b,c)}},kk=function(a,b,c){var d,e,f,g;return this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,d=c.split("."),this.prop=d.pop(),e=d.join("."),this.obj=e?a.get(e):a.data,f=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),f&&f.set&&(g=f.set._ractiveWrappers)?void(-1===g.indexOf(this)&&g.push(this)):void Db(this,b,f)},kk.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,Ji.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{dontTeardownWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=nk(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch($h){jk=!1}var ok,pk,qk=jk;qk&&(ok={filter:function(a,b,c){return qk.filter(a,b,c)&&lk.filter(a)},wrap:function(a,b,c){return new pk(a,b,c)}},pk=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=qk.wrap(a,b,c),this.arrayWrapper=lk.wrap(a,b,c)},pk.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var rk,sk,tk,uk=ok,vk={extend:function(a,b,c){b.adapt=Eb(b.adapt,v(c.adapt))},init:function(a,b,c){function d(a){return"string"==typeof a&&(a=l("adaptors",b,a),a||si.critical({message:"missingPlugin",args:{plugin:"adaptor",name:a}})),a}var e,f;if(e=b.adapt.map(d),f=v(c.adapt).map(d),b.adapt=Eb(e,f),b.magic){if(!Bh)throw new Error("Getters and setters (magic mode) are not supported in this browser");b.modifyArrays&&b.adapt.push(uk),b.adapt.push(qk)}b.modifyArrays&&b.adapt.push(lk)}},wk=vk,xk=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,yk=/\/\*.*?\*\//g,zk=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Ak=/^@media/,Bk=/\[data-ractive-css="[a-z0-9-]+"]/g,Ck=Fb,Dk={name:"css",extend:function(a,b,c){var d,e=b.constructor._guid;(d=Ib(c.css,c,e)||Ib(a.css,a,e))&&(b.constructor.css=d)},init:function(){}},Ek=Dk,Fk=function(a,b,c){return c||Jb(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},Gk={name:"data",extend:function(a,b,c){b.data=Kb(a,b,c)},init:function(a,b,c){var d=c.data,e=Kb(a,b,c);return"function"==typeof e&&(e=e.call(b,d)||d),b.data=e||{}},reset:function(a){var b=this.init(a.constructor,a,a);return b?(a.data=b,!0):void 0}},Hk=Gk,Ik=1,Jk=2,Kk=3,Lk=4,Mk=5,Nk=6,Ok=7,Pk=8,Qk=9,Rk=10,Sk=13,Tk=14,Uk=15,Vk=16,Wk=17,Xk=18,Yk=20,Zk=21,$k=22,_k=23,al=24,bl=26,cl=27,dl=30,el=31,fl=32,gl=33,hl=34,il=35,jl=36,kl=40,ll=50,ml=51,nl=52,ol=53,pl=54,ql=55,rl="Expected a JavaScript expression",sl="Expected closing paren",tl=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,ul=function(a){var b;return(b=a.matchPattern(tl))?{t:Yk,v:b}:null},vl=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:al,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:al,v:"false"}):null};rk=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,sk=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,tk=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var wl,xl,yl,zl,Al,Bl=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(rk)||b.matchPattern(sk)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(tk),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},Cl=Bl('"'),Dl=Bl("'"),El=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=Dl(a),a.matchString('"')?{t:Zk,v:c}:(a.pos=b,null)):a.matchString("'")?(c=Cl(a),a.matchString("'")?{t:Zk,v:c}:(a.pos=b,null)):null},Fl=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Gl=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,Hl=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Il=function(a){var b;return(b=El(a))?Hl.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=ul(a))?b.v:(b=a.matchPattern(Fl))?b:void 0},Jl=function(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=Il(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=a.readExpression(),null===d?(a.pos=b,null):{t:cl,k:c,v:d}):(a.pos=b,null))},Kl=Rb,Ll=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=Kl(a),a.allowWhitespace(),a.matchString("}")?{t:_k,m:c}:(a.pos=b,null)):(a.pos=b,null)},Ml=Sb,Nl=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=Ml(a),a.matchString("]")?{t:$k,m:c}:(a.pos=b,null)):(a.pos=b,null)},Ol=function(a){var b=ul(a)||vl(a)||El(a)||Ll(a)||Nl(a);return b};wl=/^\.[a-zA-Z_$0-9]+/,yl=function(a){var b=a.matchPattern(xl);return b?"."+b:null},xl=/^\[(0|[1-9][0-9]*)\]/,zl=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,Al=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var Pl,Ql,Rl=function(a){var b,c,d,e,f,g,h,i;if(b=a.pos,a.matchString("~/"))c="~/";else for(c="";a.matchString("../");)c+="../";if(c||(e=a.matchString("./")||a.matchString(".")||""),i=a.relaxedNames?Gl:Fl,d=a.matchPattern(/^@(?:keypath|index|key)/)||a.matchPattern(i)||"",!a.relaxedNames&&!e&&!c&&Al.test(d))return a.pos=b,null;if(!c&&!e&&!a.relaxedNames&&zl.test(d))return{t:bl,v:d};if(f=(c||e)+d,!f)return null;for(;g=a.matchPattern(wl)||yl(a);)f+=g;return a.matchString("(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:dl,n:f.replace(/^this\./,"./").replace(/^this$/,".")}},Sl=function(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=a.readExpression(),c||a.error(rl),a.allowWhitespace(),a.matchString(")")||a.error(sl),{t:hl,x:c}):null},Tl=function(a){return Ol(a)||Rl(a)||Sl(a)},Ul=Tb,Vl=function(a){var b,c,d,e;if(c=Tl(a),!c)return null;for(;c;)if(b=a.pos,d=Ul(a))c={t:fl,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=Ml(a),a.allowWhitespace(),a.matchString(")")||a.error(sl),c={t:kl,x:c},e&&(c.o=e)}return c};Ql=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=c.readExpression(),d||c.error(rl),{s:a,o:d,t:gl}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=Vl,a=0,b=d.length;b>a;a+=1)c=Ql(d[a],e),e=c;Pl=e}();var Wl,Xl,Yl=Pl;Xl=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:jl,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=Yl,a=0,b=d.length;b>a;a+=1)c=Xl(d[a],e),e=c;Wl=e}();var Zl,$l,_l=Wl,am=function(a){var b,c,d,e;return(c=_l(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(rl),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=a.readExpression(),e||a.error(rl),{t:il,o:[c,d,e]}):(a.pos=b,c)):null},bm=function(a){var b,c=[];return Vb(a,c),b={r:c,s:Wb(this,a,c)}},cm=/^\s+/;$l=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},$l.prototype=Error.prototype,Zl=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},Zl.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return am(this)},flattenExpression:bm,getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b,c,d,e,f,g;throw b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=e+"\n"+new Array(b[1]).join(" ")+"^----",g=new $l(a+" at line "+c+" character "+d+":\n"+f),g.line=b[0],g.character=b[1],g.shortMessage=a,g},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(cm)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Zl.extend=function(a){var b,c,d=this;b=function(a,b){Zl.call(this,a,b)},b.prototype=Vh(d.prototype);for(c in a)ai.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=Zl.extend,b};var dm,em=Zl,fm=/^[^\s=]+/,gm=/^\s+/,hm=function(a){var b,c,d;return a.matchString("=")?(b=a.pos,a.allowWhitespace(),(c=a.matchPattern(fm))?a.matchPattern(gm)?(d=a.matchPattern(fm))?(a.allowWhitespace(),a.matchString("=")?[c,d]:(a.pos=b,null)):(a.pos=b,null):null:(a.pos=b,null)):null},im=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],jm={"#":Lk,"^":Mk,"/":Nk,">":Pk,"!":Qk,"&":Kk},km=function(a){var b=jm[a.str.charAt(a.pos)];return b?(a.pos+=1,b):null},lm={each:nl,"if":ll,"if-with":pl,"with":ol,unless:ml,partial:ql},mm=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,nm=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,om=/^[0-9][1-9]*$/,pm=new RegExp("^("+Object.keys(lm).join("|")+")\\b");dm=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;var qm,rm,sm,tm,um,vm,wm,xm,ym=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(c=a.pos,e={},l=a[b.delimiters],b.isStatic&&(e.s=!0),b.isTriple)e.t=Kk;else{if("!"===a.remaining()[0]){try{h=a.readExpression(),a.allowWhitespace(),a.remaining().indexOf(l[1])?h=null:e.t=Jk}catch(n){}if(!h)return k=a.remaining().indexOf(l[1]),~k?a.pos+=k:a.error("Expected closing delimiter ('"+l[1]+"')"),{t:Qk}}if(!h)if(f=km(a),e.t=f||Jk,f===Lk)(g=a.matchPattern(pm))&&(e.n=g),a.allowWhitespace();else if((f===Qk||f===Nk)&&(j=a.remaining(),k=j.indexOf(l[1]),-1!==k))return e.r=j.substr(0,k).split(" ")[0],a.pos+=k,e}if(!h){a.allowWhitespace(),f===Pk?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=m):e.t===Jk&&a.matchString("yield ")?(a.allowWhitespace(),e.r="yield",m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1,h&&h.t===dl?(e.yn=h.n,h=null):h&&a.error("Only names are supported with yield.")):e.t===Lk&&"partial"===e.n?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1):h=a.readExpression();var o;if(e.t===Pk&&h&&(o=a.readExpression())&&(e={contextPartialExpression:h},h=o),j=a.remaining(),j.substr(0,l[1].length)!==l[1]&&":"!==j.charAt(0)){if(d=a.pos,a.pos=c,j=a.remaining(),k=j.indexOf(l[1]),-1!==k)return e.r=j.substr(0,k).trim(),dm.test(e.r)||a.error("Expected a legal Mustache reference"),a.pos+=k,e;a.pos=d}}if(Xb(a,h,e),e.contextPartialExpression&&(e.contextPartialExpression=[Xb(a,e.contextPartialExpression,{t:Pk})]),i=a.matchPattern(mm)){var p;e.i=(p=a.matchPattern(nm))?i+","+p:i}return e},zm={t:Rk,exclude:!0},Am=Zb,Bm="<!--",Cm="-->",Dm=function(a){var b,c,d,e,f;return b=a.pos,a.matchString(Bm)?(d=a.remaining(),e=d.indexOf(Cm),-1===e&&a.error("Illegal HTML - expected closing comment sequence ('-->')"),c=d.substr(0,e),a.pos+=e+3,f={t:Qk,c:c},a.includeLinePositions&&(f.p=a.getLinePos(b)),f):null};qm=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,rm=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,sm={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},tm=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],um=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(sm).join("|")+"));?","g"),vm=/</g,wm=/>/g,xm=/&/g;var Em,Fm,Gm,Hm,Im,Jm,Km,Lm=/[-/\\^$*+?.()|[\]{}]/g,Mm=dc,Nm=ec,Om=/^<!--\s*/,Pm=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Qm=/\s*-->/,Rm=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1},Sm=function(a){var b,c,d,e;return c=a.remaining(),e=a.inside?"</"+a.inside:"<",a.inside&&!a.interpolate[a.inside]?b=c.indexOf(e):(d=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],a.inAttribute===!0?d.push('"',"'","=","<",">","`"):d.push(a.inAttribute?a.inAttribute:e),b=Rm(c,d)),b?(-1===b&&(b=c.length),a.pos+=b,a.inside?c.substr(0,b):ac(c.substr(0,b))):null},Tm=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Um=function(a){var b;return a.matchString("</")?(b=a.matchPattern(Tm))?{t:Tk,e:b}:(a.pos-=2,void a.error("Illegal closing tag")):null},Vm=/^[^\s"'>\/=]+/,Wm=/^[^\s"'=<>`]+/,Xm=fc;Fm={"true":!0,"false":!1,undefined:void 0,"null":null},Gm=new RegExp("^(?:"+Object.keys(Fm).join("|")+")"),Hm=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Im=/\$\{([^\}]+)\}/g,Jm=/^\$\{([^\}]+)\}/,Km=/^\s*$/,Em=em.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&Km.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(Jm),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(Gm))?{v:Fm[b]}:void 0},function(a){var b;return(b=a.matchPattern(Hm))?{v:+b}:void 0},function(a){var b,c=El(a);return c&&(b=a.values)?{v:c.v.replace(Im,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=lc(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var Ym,Zm=function(a,b){var c=new Em(a,{values:b});return c.result},$m=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/;Ym=em.extend({converters:[am]});var _m,an,bn=function(a){var b,c,d,e,f,g,h,i,j;if("string"==typeof a){if(c=$m.exec(a))return b={m:c[1]},e="["+a.slice(b.m.length+1,-1)+"]",d=new Ym(e),b.a=bm(d.result[0]),b;if(-1===a.indexOf(":"))return a.trim();a=[a]}if(b={},h=[],i=[],a){for(;a.length;)if(f=a.shift(),"string"==typeof f){if(g=f.indexOf(":"),-1!==g){g&&h.push(f.substr(0,g)),f.length>g+1&&(i[0]=f.substring(g+1));break}h.push(f)}else h.push(f);i=i.concat(a)}return h.length?i.length||"string"!=typeof h?(b={n:1===h.length&&"string"==typeof h[0]?h[0]:h},1===i.length&&"string"==typeof i[0]?(j=Zm("["+i[0]+"]"),b.a=j?j.value:i[0].trim()):b.d=i):b=h:b="",b},cn=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,dn=/^[\s\n\/>]/,en=/^on/,fn=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,gn=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,hn={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},jn={exclude:!0};_m=[Nm,Am,Dm,mc,Sm,Um],an={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var kn,ln,mn=mc,nn=/^[ \t\f\r\n]+/,on=/[ \t\f\r\n]+$/,pn=function(a,b,c){var d;b&&(d=a[0],"string"==typeof d&&(d=d.replace(nn,""),d?a[0]=d:a.shift())),c&&(d=a[a.length-1],"string"==typeof d&&(d=d.replace(on,""),d?a[a.length-1]=d:a.pop()))},qn=/^\s*\r?\n/,rn=/\r?\n\s*$/,sn=function(a){var b,c,d,e,f;for(b=1;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b-2],oc(c)&&pc(d)&&oc(e)&&rn.test(e)&&qn.test(c)&&(a[b-2]=e.replace(rn,"\n"),a[b]=c.replace(qn,"")),qc(c)&&oc(d)&&rn.test(d)&&oc(c.f[0])&&qn.test(c.f[0])&&(a[b-1]=d.replace(rn,"\n"),c.f[0]=c.f[0].replace(qn,"")),oc(c)&&qc(d)&&(f=d.f[d.f.length-1],oc(f)&&rn.test(f)&&qn.test(c)&&(d.f[d.f.length-1]=f.replace(rn,"\n"),a[b]=c.replace(qn,"")));return a},tn=rc,un=/[ \t\f\r\n]+/g,vn=/^(?:pre|script|style|textarea)$/i,wn=/^\s+/,xn=/\s+$/;kn=em.extend({init:function(a,b){vc(b,this),this.sectionDepth=0,this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1},b.sanitize===!0&&(b.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=b.sanitize&&b.sanitize.elements,this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes,this.includeLinePositions=b.includeLinePositions,this.StandardParser=kn},postProcess:function(a,b){return this.sectionDepth>0&&this.error("A section was left open"),uc(a,b.stripComments!==!1,b.preserveWhitespace,!b.preserveWhitespace,!b.preserveWhitespace,b.rewriteElse!==!1),a},converters:[Nm,Am,Dm,mn,Sm]}),ln=function(a,b){void 0===b&&(b={});var c;vc(b),c={v:2},c.t=new kn(a,b).result;var d={};return tn(b.ractive?[b.ractive]:[],d,c.t),g(d)||(c.p=d),c};var yn,zn,An,Bn=ln,Cn=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],Dn={parse:xc,fromId:yc,isHashedId:zc,isParsed:Ac,getParseOptions:Bc,createHelper:wc},En=Dn,Fn={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:Fc(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=Dc(b,e),b._config.template={fn:e,result:d}),d=Fc(d,b),b.template=d.t,d.p&&Gc(b.partials,d.p)},reset:function(a){var b,c=Cc(a);return c?(b=Fc(c,a),a.template=b.t,Gc(a.partials,b.p,!0),!0):void 0}},Gn=Fn;yn=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],zn=function(a,b){this.name=a,this.useDefaults=b},zn.prototype={constructor:zn,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,b,c)},configure:function(a,b,c){var d,e=this.name,f=c[e];d=Vh(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c}},An=yn.map(function(a){return new zn(a,"computed"===a)});var Hn,In,Jn,Kn,Ln,Mn,Nn=An,On=Hc,Pn=Lc;Kn={adapt:wk,css:Ek,data:Hk,template:Gn},Jn=Object.keys(Gh),Mn=Oc(Jn.filter(function(a){return!Kn[a]})),Ln=Oc(Jn.concat(Nn.map(function(a){return a.name}))),In=[].concat(Jn.filter(function(a){return!Nn[a]&&!Kn[a]}),Nn,Kn.data,Kn.template,Kn.css),Hn={extend:function(a,b,c){return Mc("extend",a,b,c)},init:function(a,b,c){return Mc("init",a,b,c)},reset:function(a){return In.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},order:In,getConstructTarget:function(a,b){return b.onconstruct?{onconstruct:On(a,"onconstruct",b.onconstruct).bind(a),fire:a.fire.bind(a)}:a}};var Qn=Hn,Rn=Pc,Sn=Qc,Tn=Rc,Un=Sc,Vn=Tc,Wn=Uc,Xn=Vc,Yn=Wc,Zn=Xc,$n=Yc,_n=Zc,ao=$c,bo=function(){return b(this.node)},co=function(a){this.type=Ik,this.text=a.template};co.prototype={detach:bo,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?cc(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var eo=co,fo=_c,go=ad,ho=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=Ci(a.root,b,a.parentFragment),void 0!==d?this.resolve(d):Ji.addUnresolved(this)};ho.prototype={resolve:function(a){this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(this.ref)},rebind:function(a,b){var c;void 0!==this.keypath&&(c=H(this.keypath,a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||Ji.removeUnresolved(this)}};var io=ho,jo=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},ko={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};jo.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=ko[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback("@"+d.prefix+bd(this.cached,d));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===nl&&void 0!==(a=bd(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback("@"+d.prefix+a);c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=bd(c,d)))return this.callback("@"+d.prefix+a);c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var lo=jo,mo=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};mo.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback("@"+a)},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var no=mo,oo=cd;cd.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var po,qo=dd,ro={},so=ed,to=Function.prototype.bind;po=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return qo(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},po.prototype={bubble:function(){this.ready&&(this.uniqueString=gd(this.str,this.keypaths),this.keypath=hd(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e=this;a=this.root.viewmodel.computations[this.keypath],a?this.root.viewmodel.mark(this.keypath):(d=so(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:"@"===a[0]?(b=C(a),function(){return b}):function(){var b=e.root.viewmodel.get(a,{noUnwrap:!0});return"function"==typeof b&&(b=jd(b,e.root)),b}}),c={deps:this.keypaths.filter(id),get:function(){var a=b.map(fd);return d.apply(null,a)}},a=this.root.viewmodel.compute(this.keypath,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var uo=po,vo=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===dl?this.refResolver=qo(this,a.n,function(a){d.resolve(a)}):new uo(b,c,a,function(a){d.resolve(a)})};vo.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var wo=vo,xo=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=Ci(d,e,g))?this.base=f:this.baseResolver=new io(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new wo(a,h,g)}),this.ready=!0,this.bubble()};xo.prototype={getKeypath:function(){var a=this.members.map(kd);return!a.every(ld)||this.baseResolver?null:this.base+"."+a.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Q)},rebind:function(a,b){var c;this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(function(a){return a.forceResolution()}),this.bubble()}};var yo=xo,zo=md,Ao=nd,Bo=od,Co={getValue:go,init:zo,resolve:Ao,rebind:Bo},Do=function(a){this.type=Jk,Co.init(this,a)};Do.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:Co.resolve,rebind:Co.rebind,detach:bo,unbind:fo,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&b(this.node)},getValue:Co.getValue,setValue:function(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),h(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&Ji.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";return a?cc(b):b}};var Eo=Do,Fo=pd,Go=qd,Ho=rd,Io=sd,Jo=td,Ko=ud,Lo=vd,Mo=wd,No=xd,Oo=function(a,b){Co.rebind.call(this,a,b)},Po=zd,Qo=Ad,Ro=Md,So=Nd,To=Od,Uo=Rd,Vo=function(a){this.type=Lk,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===ml,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}
})),this.renderedFragments=[],this.length=0,Co.init(this,a)};Vo.prototype={bubble:Fo,detach:Go,find:Ho,findAll:Io,findAllComponents:Jo,findComponent:Ko,findNextNode:Lo,firstNode:Mo,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:Co.getValue,shuffle:No,rebind:Oo,render:Po,resolve:Co.resolve,setValue:Qo,toString:Ro,unbind:So,unrender:To,update:Uo};var Wo,Xo,Yo=Vo,Zo=Sd,$o=Td,_o=Ud,ap=Vd,bp={};try{Jh("table").innerHTML="foo"}catch($h){Wo=!0,Xo={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var cp=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(Wo&&(e=Xo[b.tagName])?(d=Wd("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===Ch.svg?(d=Wd("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=Wd(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},dp=Xd,ep=Zd,fp=$d,gp=_d,hp=ae,ip=be,jp=function(a){this.type=Kk,Co.init(this,a)};jp.prototype={detach:Zo,find:$o,findAll:_o,firstNode:ap,getValue:Co.getValue,rebind:Co.rebind,render:ep,resolve:Co.resolve,setValue:fp,toString:gp,unbind:fo,unrender:hp,update:ip};var kp,lp,mp,np,op=jp,pp=function(){this.parentFragment.bubble()},qp=ce,rp=function(a){return this.node?Kh(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},sp=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},tp=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},up=function(a){return this.fragment?this.fragment.findComponent(a):void 0},vp=de,wp=ee,xp=fe,yp=/^true|on|yes|1$/i,zp=/^[0-9]+$/,Ap=function(a,b){var c;c=b.twoway,void 0!==c&&(a.twoway=0===c||yp.test(c),delete b.twoway),c=b.lazy,void 0!==c&&(a.lazy=0!==c&&zp.test(c)?parseInt(c):0===c||yp.test(c),delete b.lazy)},Bp=ge;kp="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),lp="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),mp=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},np=mp(kp.concat(lp));var Cp=function(a){var b=a.toLowerCase();return np[b]||b},Dp=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==Ch.html?Cp(b):b;else if(b=b.substring(c+1),a.name=Cp(b),a.namespace=Ch[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},Ep=he,Fp=ie,Gp=je,Hp={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Ip=ke,Jp=le,Kp=ne,Lp=oe,Mp=pe,Np=qe,Op=re,Pp=se,Qp=te,Rp=ue,Sp=ve,Tp=we,Up=xe,Vp=ye,Wp=ze,Xp=Ae,Yp=function(a){this.init(a)};Yp.prototype={bubble:Bp,init:Fp,rebind:Gp,render:Ip,toString:Jp,unbind:Kp,update:Xp};var Zp,$p=Yp,_p=function(a,b){var c,d,e=[];for(c in b)b.hasOwnProperty(c)&&(d=new $p({element:a,name:c,value:b[c],root:a.root}),e.push(e[c]=d));return e};"undefined"!=typeof document&&(Zp=Jh("div"));var aq=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new Ct({root:a.root,owner:this,template:[b]})};aq.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===Ch.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=Be(a,this.isSvg),this.attributes.filter(function(a){return Ce(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var bq=aq,cq=function(a,b){return b?b.map(function(b){return new bq(a,b)}):[]},dq=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c[c.length-1])return si.error({debug:this.root.debug,message:"noTwowayExpressions",args:{expression:c.slice(2,-1).replace("-","."),element:a.tagName}}),!1}else b.resolver.forceResolution(),c=b.keypath;this.attribute.isTwoway=!0,this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=De(a))&&(this.resetValue=d,e.formBindings.push(this))};dq.prototype={handleChange:function(){var a=this;Ji.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),Ji.scheduleTask(function(){return a.attribute.locked=!1}),Ji.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(w(this.root._twowayBindings[b],this),this.keypath=c,a=this.root._twowayBindings[c]||(this.root._twowayBindings[c]=[]),a.push(this))},unbind:function(){}},dq.extend=function(a){var b,d=this;return b=function(a){dq.call(this,a),this.init&&this.init()},b.prototype=Vh(d.prototype),c(b.prototype,a),b.extend=dq.extend,b};var eq,fq=dq,gq=Ee,hq=fq.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",gq,!1),this.root.lazy||(a.addEventListener("input",gq,!1),a.attachEvent&&a.addEventListener("keyup",gq,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",gq,!1),a.removeEventListener("input",gq,!1),a.removeEventListener("keyup",gq,!1)},getValue:function(){return this.element.node.innerHTML}}),iq=hq,jq={},kq=Fe,lq=fq.extend({name:"checked",init:function(){this.siblings=kq(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",gq,!1),a.attachEvent&&a.addEventListener("click",gq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",gq,!1),a.removeEventListener("click",gq,!1)},handleChange:function(){Ji.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),Ji.end()},getValue:function(){return this.element.node.checked},unbind:function(){w(this.siblings,this)}}),mq=lq,nq=fq.extend({name:"name",init:function(){this.siblings=kq(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",gq,!1),a.attachEvent&&a.addEventListener("click",gq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",gq,!1),a.removeEventListener("click",gq,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&fq.prototype.handleChange.call(this)},rebound:function(a,b){var c;fq.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath+"}}")},unbind:function(){w(this.siblings,this)}}),oq=nq,pq=fq.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.siblings=kq(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){w(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=e(a)?t(a,b):a==b,c.name="{{"+this.keypath+"}}",c.checked=this.isChecked,c.addEventListener("change",gq,!1),c.attachEvent&&c.addEventListener("click",gq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",gq,!1),a.removeEventListener("click",gq,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,fq.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(Ge).map(He)}}),qq=pq,rq=fq.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",gq,!1),a.attachEvent&&a.addEventListener("click",gq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",gq,!1),a.removeEventListener("click",gq,!1)},getValue:function(){return this.element.node.checked}}),sq=rq,tq=fq.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",gq,!1)},unrender:function(){this.element.node.removeEventListener("change",gq,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Ji.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),uq=tq,vq=uq.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",gq,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",gq,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&u(c,b)||uq.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Ji.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),wq=vq,xq=fq.extend({render:function(){this.element.node.addEventListener("change",gq,!1)},unrender:function(){this.element.node.removeEventListener("change",gq,!1)},getValue:function(){return this.element.node.files}}),yq=xq;eq=fq.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:i(this.element.lazy)&&(a=!1,c=this.element.lazy),b.addEventListener("change",gq,!1),a||(b.addEventListener("input",c?Je:gq,!1),b.attachEvent&&b.addEventListener("keyup",c?Je:gq,!1)),b.addEventListener("blur",Ie,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",gq,!1),a.removeEventListener("input",gq,!1),a.removeEventListener("keyup",gq,!1),a.removeEventListener("blur",Ie,!1)}});var zq=eq,Aq=zq.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),Bq=Ke,Cq=Me,Dq=Ne,Eq=Oe,Fq=/^event(?:\.(.+))?/,Gq=Pe,Hq=Te,Iq={},Jq={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Kq=Ue,Lq=We,Mq=Xe,Nq=Ye,Oq=Ze,Pq=$e,Qq=function(a,b,c){this.init(a,b,c)};Qq.prototype={bubble:Cq,fire:Dq,getAction:Eq,init:Gq,listen:Kq,rebind:Lq,render:Mq,resolve:Nq,unbind:Oq,unrender:Pq};var Rq=Qq,Sq=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new Rq(a,e[c],b[d]),g.push(f);return g},Tq=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new Ct({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new Ct({template:b.d,root:c,owner:a}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getArgsList(),f.ready&&f.update()}),this.fn=l("decorators",c,d),this.fn||si.error({debug:c.debug,message:"missingPlugin",args:{plugin:"decorator",name:d}}))};Tq.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var Uq,Vq,Wq,Xq=Tq,Yq=ff,Zq=gf,$q=nf,_q=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};zh?(Vq={},Wq=Jh("div").style,Uq=function(a){var b,c,d;if(a=_q(a),!Vq[a])if(void 0!==Wq[a])Vq[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=Eh.length;b--;)if(c=Eh[b],void 0!==Wq[c+d]){Vq[a]=c+d;break}return Vq[a]}):Uq=null;var ar,br,cr=Uq;zh?(br=window.getComputedStyle||Yh.getComputedStyle,ar=function(a){var b,c,d,f,g;if(b=br(this.node),"string"==typeof a)return g=b[cr(a)],"0px"===g&&(g=0),g;if(!e(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)f=a[d],g=b[cr(f)],"0px"===g&&(g=0),c[f]=g;return c}):ar=null;var dr=ar,er=function(a,b){var c;if("string"==typeof a)this.node.style[cr(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[cr(c)]=a[c]);return this},fr=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(gi('Missing easing function ("'+a.easing+'"). You may need to download a plugin from [TODO]'),b=of)):b="function"==typeof a.easing?a.easing:of,this.easing=b,this.start=pi(),this.end=this.start+this.duration,this.running=!0,Mi.add(this)};fr.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var gr,hr,ir,jr,kr,lr,mr,nr,or=fr,pr=new RegExp("^-(?:"+Eh.join("|")+")-"),qr=function(a){return a.replace(pr,"")},rr=new RegExp("^(?:"+Eh.join("|")+")([A-Z])"),sr=function(a){var b;return a?(rr.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},tr={},ur={};zh?(hr=Jh("div").style,function(){void 0!==hr.transition?(ir="transition",jr="transitionend",kr=!0):void 0!==hr.webkitTransition?(ir="webkitTransition",jr="webkitTransitionEnd",kr=!0):kr=!1}(),ir&&(lr=ir+"Duration",mr=ir+"Property",nr=ir+"TimingFunction"),gr=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[mr]=d.map(cr).map(sr).join(","),a.node.style[nr]=sr(c.easing||"linear"),a.node.style[lr]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(_q(qr(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(jr,j,!1),h=!0,i())},a.node.addEventListener(jr,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,p=[];o--;)m=d[o],e=f+m,kr&&!ur[e]&&(a.node.style[cr(m)]=b[m],tr[e]||(k=a.getStyle(m),tr[e]=a.getStyle(m)!=b[m],ur[e]=!tr[e],ur[e]&&(a.node.style[cr(m)]=k))),(!kr||ur[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?gi("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],p.push({name:cr(m),interpolator:ii(parseFloat(k),parseFloat(b[m])),suffix:n}));p.length?new or({root:a.root,duration:c.duration,easing:_q(c.easing||""),step:function(b){var c,d;for(d=p.length;d--;)c=p[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(jr,j,!1),h=!0,i())},0)},c.delay||0)}):gr=null;var vr,wr,xr,yr,zr,Ar=gr;if("undefined"!=typeof document){if(vr="hidden",zr={},vr in document)xr="";else for(yr=Eh.length;yr--;)wr=Eh[yr],vr=wr+"Hidden",vr in document&&(xr=wr);void 0!==xr?(document.addEventListener(xr+"visibilitychange",pf),pf()):("onfocusout"in document?(document.addEventListener("focusout",qf),document.addEventListener("focusin",rf)):(window.addEventListener("pagehide",qf),window.addEventListener("blur",qf),window.addEventListener("pageshow",rf),window.addEventListener("focus",rf)),zr.hidden=!1)}var Br,Cr,Dr,Er=zr;zh?(Cr=window.getComputedStyle||Yh.getComputedStyle,Br=function(a,b,c,d){var e,f=this;if(Er.hidden)return this.setStyle(a,b),Dr||(Dr=zi.resolve());"string"==typeof a?(e={},e[a]=b):(e=a,d=c,c=b),c||(gi('The "'+this.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),c=this,d=this.complete);var g=new zi(function(a){var b,d,g,h,i,j,k;if(!c.duration)return f.setStyle(e),void a();for(b=Object.keys(e),d=[],g=Cr(f.node),i={},j=b.length;j--;)k=b[j],h=g[cr(k)],"0px"===h&&(h=0),h!=e[k]&&(d.push(k),f.node.style[cr(k)]=h);return d.length?void Ar(f,e,c,d,a):void a()});return d&&(si.warn({debug:!0,message:"usePromise",args:{method:"t.animateStyle"}}),g.then(d).then(null,function(a){si.consoleError({debug:!0,err:a})})),g}):Br=null;var Fr=Br,Gr=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),d({},a,b)},Hr=sf,Ir=function(a,b,c){this.init(a,b,c)};Ir.prototype={init:$q,start:Hr,getStyle:dr,setStyle:er,animateStyle:Fr,processParams:Gr};var Jr,Kr,Lr=Ir;Jr=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},Kr=function(){this.node.type&&"text/javascript"!==this.node.type||gi("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var Mr=uf,Nr=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(Af).join("")+this.conditionalAttributes.map(Af).join(""),"option"===this.name&&yf(this)&&(a+=" selected"),"input"===this.name&&zf(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=cc(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),rm.test(this.template.e)||(a+="</"+this.template.e+">"),a)},Or=Bf,Pr=Cf,Qr=function(a){this.init(a)};Qr.prototype={bubble:pp,detach:qp,find:rp,findAll:sp,findAllComponents:tp,findComponent:up,findNextNode:vp,firstNode:wp,getAttribute:xp,init:Yq,rebind:Zq,render:Mr,toString:Nr,unbind:Or,unrender:Pr};var Rr=Qr,Sr=/^\s*$/,Tr=/^\s*/,Ur=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&Sr.test(c)&&b.shift(),d=b[b.length-1],void 0!==d&&Sr.test(d)&&b.pop(),e=b.reduce(Ef,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},Vr=Ff,Wr=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},Xr=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=Pk,this.index=a.index,this.name=a.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Co.init(this,a),!this.keypath&&(c=Vr(this.root,this.name))&&(fo.call(this),this.isNamed=!0,this.setTemplate(c))};Xr.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||Bo.call(this,a,b),this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Co.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=Vr(this.root,""+a)),!b&&this.name&&(b=Vr(this.root,this.name))&&(fo.call(this),this.isNamed=!0),b||si.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}}),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&Ji.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new Ct({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Ik?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?Wr(b,e[0]):b):b},unbind:function(){this.isNamed||fo.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var Yr=Xr,Zr=Jf,$r=new vi("detach"),_r=Kf,as=Lf,bs=Mf,cs=Nf,ds=Of,es=Pf,fs=Qf,gs={},hs=Rf,is=Uf,js={},ks=Vf,ls=/[^\.]+$/,ms=Xf,ns=$f,os=dg,ps=eg,qs=/\$\{([^\}]+)\}/g,rs=function(a){return"function"==typeof a?{get:a}:"string"==typeof a?{get:fg(a)}:("object"==typeof a&&"string"==typeof a.get&&(a={get:fg(a.get),set:a.set}),a)},ss=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};ss.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a]=null,this.viewmodel.register(a,this.computation,"computed")}};var ts=ss,us=function(a,b,c){var d=this;this.ractive=a,this.viewmodel=a.viewmodel,this.key=b,this.getter=c.get,this.setter=c.set,this.hardDeps=c.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(b){return a.viewmodel.register(b,d,"computed")}),this._dirty=this._firstRun=!0};us.prototype={constructor:us,init:function(){var a;this.bypass=!0,a=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key),this.bypass=!1,this.setter&&void 0!==a&&this.set(a)},invalidate:function(){this._dirty=!0},get:function(){var a,b,c,d=this,e=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(a=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?e=!0:[this.hardDeps,this.softDeps].forEach(function(b){var c,f,g;if(!e)for(g=b.length;g--;)if(c=b[g],f=a.viewmodel.get(c),!h(f,d.depValues[c]))return d.depValues[c]=f,void(e=!0)}),e){a.viewmodel.capture();try{this.value=this.getter.call(a)}catch(f){si.warn({debug:a.debug,message:"failedComputation",args:{key:this.key,err:f.message||f}}),this.value=void 0}b=a.viewmodel.release(),c=this.updateDependencies(b),c&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){d.depValues[b]=a.viewmodel.get(b)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,gg(this.viewmodel,d)&&!this.unresolvedDeps[d]?(f=new ts(this,d),a.splice(b,1),this.unresolvedDeps[d]=f,Ji.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var vs=us,ws=hg,xs={FAILED_LOOKUP:!0},ys={},zs=ig,As=kg,Bs=mg;mg.prototype.setValue=function(a){this.viewmodel.set(this.keypath,a,{noMapping:!0})};var Cs=ng;ng.prototype={get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.deps=[],this.local.mappings[this.localKey]=this,this.setup()},map:function(a){return a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){if(!this.resolved)throw new Error("Something very odd happened. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new Bs(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);a.origin.register(c,b.dep,b.group),b.dep.setValue(a.origin.get(c))}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(a,b,c){for(var d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}};var Ds=og,Es=pg,Fs=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},Gs={},Hs=qg,Is=tg,Js=vg,Ks=wg,Ls={implicit:!0},Ms={noCascade:!0},Ns=yg,Os=Ag,Ps=Bg,Qs=function(a,b){var c,d;this.ractive=a,this.mappings=b||Vh(null);for(c in b)b[c].initViewmodel(this);if(a.data&&a.parameters!==!0)for(c in a.data)(d=this.mappings[c])&&void 0===d.getValue()&&d.setValue(a.data[c]);this.cache={},this.cacheMap=Vh(null),this.deps={computed:Vh(null),"default":Vh(null)},this.depsMap={computed:Vh(null),"default":Vh(null)},this.patternObservers=[],this.specials=Vh(null),this.wrapped=Vh(null),this.computations=Vh(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={}};Qs.prototype={adapt:hs,applyChanges:ns,capture:os,clearCache:ps,compute:ws,get:zs,init:As,map:Ds,mark:Es,merge:Hs,register:Is,release:Js,set:Ks,smartUpdate:Ns,teardown:Os,unregister:Ps};var Rs=Qs;Dg.prototype={constructor:Dg,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?Eg(this.queue,b).push(a):Fg(this,a),delete this.inProcess[a._guid]}};var Ss=Dg,Ts=new vi("construct"),Us=new vi("config"),Vs=new Ss("init"),Ws=0,Xs=Gg,Ys=function(a,b,d,e,f){var g,h,i,j,k,l={};for(h=a.parentFragment,i=a.root,f=f||{},c(l,f||{}),f.content=e||[],l[""]=f.content,b.defaults.el&&si.warn({debug:i.debug,message:"defaultElSpecified",args:{name:a.name}}),j=h;j;){if(j.owner.type===Vk){k=j.owner.container;break}j=j.parent}return g=Vh(b.prototype),Xs(g,{el:null,append:!0,data:d.data,partials:f,magic:i.magic||b.defaults.magic,modifyArrays:i.modifyArrays,adapt:i.adapt},{parent:i,component:a,container:k,mappings:d.mappings,inlinePartials:l}),g},Zs=Ig;Ig.prototype={bubble:function(){this.dirty||(this.dirty=!0,Ji.addView(this))},update:function(){var a=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key,this.fragment.getValue()),a.mark(this.key),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var $s=Jg,_s=Og;Og.prototype={resolve:function(a){this.resolved=!0,this.specialRef="@"===a[0],this.ready?this.readyResolve(a):this.notReadyResolve(a)},notReadyResolve:function(a){if(this.specialRef)this.parameters.addData(this.key,C(a));else{var b=this.parameters.addMapping(this.key,a);void 0===b.getValue()&&(b.updatable=!0)}},readyResolve:function(a){var b=this.parameters.component.instance.viewmodel;this.specialRef?(this.parameters.addData(this.key,C(a)),b.mark(this.key)):b.reversedMappings&&b.reversedMappings[this.key]?b.reversedMappings[this.key].rebind(a):b.mappings[this.key].resolve(a)}};var at=Pg;Rg.prototype={add:function(a,b){if("string"==typeof b){var c=Zm(b);this.addData(a,c?c.value:b)}else if(0===b)this.addData(a);else{var d;d=Sg(b)?new _s(this,a,b[0]).resolver:new Zs(this,a,b),this.component.resolvers.push(d)
}},addData:function(a,b){this.data[a]=b},addMapping:function(a,b){var c=this.parentViewmodel.mappings[b];return this.mappings[a]=new Cs(a,{origin:c?c.origin:this.parentViewmodel,keypath:c?c.keypath:b})}};var bt=Tg,ct=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},dt=Vg,et=Wg,ft=Xg,gt=Yg,ht=new vi("teardown"),it=Zg,jt=_g,kt=function(a,b){this.init(a,b)};kt.prototype={detach:_r,find:as,findAll:bs,findAllComponents:cs,findComponent:ds,findNextNode:es,firstNode:fs,init:dt,rebind:et,render:ft,toString:gt,unbind:it,unrender:jt};var lt=kt,mt=function(a){this.type=Qk,this.value=a.template.c};mt.prototype={detach:bo,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var nt=mt,ot=function(a){var b,c;this.type=Vk,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.yn||"";this.fragment=new Ct({owner:this,root:b.parent,template:b._inlinePartials[d]||[],pElement:this.containerFragment.pElement}),e(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],Ji.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};ot.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),w(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var pt=ot,qt=function(a){this.declaration=a.template.a};qt.prototype={init:di,render:di,unrender:di,teardown:di,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var rt=qt,st=ah,tt=bh,ut=ch,vt=dh,wt=eh,xt=hh,yt=jh,zt=function(a){this.init(a)};zt.prototype={bubble:Rn,detach:Sn,find:Tn,findAll:Un,findAllComponents:Vn,findComponent:Wn,findNextNode:Xn,firstNode:Yn,getArgsList:$n,getNode:_n,getValue:ao,init:tt,rebind:ut,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:vt,toString:wt,unbind:xt,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:yt};var At,Bt,Ct=zt,Dt=["template","partials","components","decorators","events"],Et=new vi("reset"),Ft=kh,Gt=function(a,b,c){function d(b,c,f){f&&f.partials[a]||b.forEach(function(b){b.type===Pk&&b.getPartialName()===a&&c.push(b),b.fragment&&d(b.fragment.items,c,f),e(b.fragments)?d(b.fragments,c,f):e(b.items)?d(b.items,c,f):b.type===Uk&&b.instance&&d(b.instance.fragment.items,c,b.instance),b.type===Ok&&(e(b.attributes)&&d(b.attributes,c,f),e(b.conditionalAttributes)&&d(b.conditionalAttributes,c,f))})}var f,g=this,h=[];return d(this.fragment.items,h),this.partials[a]=b,f=Ji.start(this,!0),h.forEach(function(b){b.value=void 0,b.setValue(a)}),Ji.end(),c&&(si.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.resetPartial"}}),f.then(c.bind(this)).then(null,function(a){si.consoleError({debug:g.debug,err:a})})),f},Ht=lh,It=Qj("reverse"),Jt=/\*/,Kt=mh,Lt=Qj("shift"),Mt=Qj("sort"),Nt=Qj("splice"),Ot=nh,Pt=new vi("teardown"),Qt=oh,Rt=qh,St=rh,Tt=new vi("unrender"),Ut=sh,Vt=Qj("unshift"),Wt=new vi("update"),Xt=th,Yt=uh,Zt={add:mi,animate:Qi,detach:Si,find:Ti,findAll:aj,findAllComponents:bj,findComponent:cj,findContainer:dj,findParent:ej,fire:kj,get:mj,insert:oj,merge:pj,observe:Gj,observeOnce:Hj,off:Kj,on:Lj,once:Mj,pop:Rj,push:Sj,render:ak,reset:Ft,resetPartial:Gt,resetTemplate:Ht,reverse:It,set:Kt,shift:Lt,sort:Mt,splice:Nt,subtract:Ot,teardown:Qt,toggle:Rt,toHTML:St,toHtml:St,unrender:Ut,unshift:Vt,update:Xt,updateModel:Yt},$t=wh,_t=1,au=yh,bu=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath,d.index={},(c=oo(b.proxy.parentFragment))&&(d.index=oo.resolve(c)),d):d};At=function(a){Xs(this,a)},Bt={extend:{value:au},getNodeInfo:{value:bu},parse:{value:Bn},Promise:{value:zi},svg:{value:Dh},magic:{value:Bh},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:Hh},events:{writable:!0,value:{}},interpolators:{writable:!0,value:ki},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},Xh(At,Bt),At.prototype=c(Zt,Gh),At.prototype.constructor=At,At.defaults=At.prototype;var cu="function";if(typeof Date.now!==cu||typeof String.prototype.trim!==cu||typeof Object.keys!==cu||typeof Array.prototype.indexOf!==cu||typeof Array.prototype.forEach!==cu||typeof Array.prototype.map!==cu||typeof Array.prototype.filter!==cu||"undefined"!=typeof window&&typeof window.addEventListener!==cu)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var du=At;return du});