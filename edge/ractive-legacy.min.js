!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Ractive=b()}(this,function(){"use strict";function a(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function b(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a}function c(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(var d,e;e=b.shift();)for(d in e)e.hasOwnProperty(d)&&(a[d]=e[d]);return a}function d(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return b.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a}function e(a){return"[object Array]"===fi.call(a)}function f(a){return gi.test(fi.call(a))}function g(a){if(!k(a))return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function h(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function i(a){return"number"==typeof a||"object"==typeof a&&"[object Number]"===fi.call(a)}function j(a){return!isNaN(parseFloat(a))&&isFinite(a)}function k(a){return a&&"[object Object]"===fi.call(a)}function l(a){return"function"==typeof a}function m(a,b){return a.replace(/%s/g,function(){return b.shift()})}function n(a){if(!Eh)throw a;console.error(a)}function o(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];throw a=m(a,b),new Error(a)}function p(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];a=m(a,b),di(a,b)}function q(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];a=m(a,b),ii[a]||(ii[a]=!0,di(a,b))}function r(a,b,c){var d=s(a,b,c);return d?d[a][c]:null}function s(a,b,c){for(;b;){if(c in b[a])return b;if(b.isolated)return null;b=b.parent}}function t(a){return function(){return a}}function u(a,b,c){var d;if("string"!=typeof b||!j(c))throw new Error("Bad arguments");if(d=+a.get(b)||0,!j(d))throw new Error("Cannot add to a non-numeric value");return a.set(b,d+c)}function v(a,b){return u(this,a,void 0===b?1:+b)}function w(a){this.event=a,this.method="on"+a,this.deprecate=ri[a]}function x(a,b){var c=a.indexOf(b);-1===c&&a.push(b)}function y(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function z(a,b){var c;if(!e(a)||!e(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function A(a){return"string"==typeof a?[a]:void 0===a?[]:a}function B(a){return a[a.length-1]}function C(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)}function D(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function E(a){setTimeout(a,0)}function F(a,b){return function(){for(var c;c=a.shift();)c(b)}}function G(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof si)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,G(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function H(a){var b,c,d,e,f,g;for(b=a.split("."),(c=Ai[b.length])||(c=I(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function I(a){var b,c,d,e,f,g="";if(!Ai[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}Ai[a]=d}return Ai[a]}function J(a,b,c,d){var e=a[b];if(!e||!e.equalsOrStartsWith(d)&&e.equalsOrStartsWith(c))return a[b]=e?e.replace(c,d):d,!0}function K(a){var b=a.slice(2);return"i"===a[1]&&j(b)?+b:b}function L(a){return null==a?a:xi[a]||(xi[a]=new yi(a))}function M(a,b){function c(b,c){var d,f,g;d=a.viewmodel.wrapped[c.str],f=d?d.get():a.viewmodel.get(c);for(g in f)!f.hasOwnProperty(g)||"_ractive"===g&&e(f)||b.push(c.join(g));return b}var d,f,g;for(d=b.split("."),g=[Bi];f=d.shift();)"*"===f?g=g.reduce(c,[]):g[0]===Bi?g[0]=L(f):g=g.map(N(f));return g}function N(a){return function(b){return b.join(a)}}function O(a){return a?a.replace(wi,".$1"):""}function P(a,b,c){var d;return b=O(b),"~/"===b.substr(0,2)?(d=L(b.substring(2)),S(a,d.firstKey,c)):"."===b[0]?(d=Q(Ci(c),b),d&&S(a,d.firstKey,c)):d=R(a,L(b),c),d}function Q(a,b){var c;if(void 0!=a&&"string"!=typeof a&&(a=a.str),"."===b)return L(a);if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),L(c.join("."))}return L(a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,""))}function R(a,b,c,d){var e,f,g,h,i;if(b.isRoot)return b;for(f=b.firstKey;c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e.join(b.str);return T(a,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,f=L(f),i=R(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function S(a,b){var c;!a.parent||a.isolated||T(a,b)||(b=L(b),(c=R(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c}))}function T(a,b){return""===b||b in a.data||b in a.viewmodel.computations||b in a.viewmodel.mappings}function U(a){a.teardown()}function V(a){a.unbind()}function W(a){a.unrender()}function X(a){a.detach()}function Y(a){a.detachNodes()}function Z(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function $(){for(var a,b,c;Ei.viewmodels.length;)b=Ei.viewmodels.pop(),c=b.applyChanges(),c&&Hi.fire(b.ractive,c);for(_(),a=0;a<Ei.views.length;a+=1)Ei.views[a].update();for(Ei.views.length=0,a=0;a<Ei.tasks.length;a+=1)Ei.tasks[a]();return Ei.tasks.length=0,Ei.viewmodels.length?$():void 0}function _(){var a,b,c,d;for(a=Gi.length;a--;)b=Gi[a],b.keypath?Gi.splice(a,1):(c=P(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),Gi.splice(a,1));d&&d.forEach(ab)}function ab(a){a.item.resolve(a.keypath)}function bb(a,b,c){var d,e,f,g,h,i,j,k,l,m,o,p,q,r;if(d=new zi(function(a){e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(o={},c.step=null,c.complete=null,m=function(a){return function(b,c){o[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(p=m(f),c={easing:i,duration:j},k&&(c.step=p)),c.complete=l?p:hi,h.push(cb(this,f,a[f],c)));return r={easing:i,duration:j},k&&(r.step=function(a){k(a,o)}),l&&d.then(function(a){l(a,o)}).then(null,n),r.complete=e,q=cb(this,null,null,r),h.push(q),d.stop=function(){for(var a;a=h.pop();)a.stop();q&&q.stop()},d}return c=c||{},c.complete&&d.then(c.complete).then(null,n),c.complete=e,g=cb(this,a,b,c),d.stop=function(){g.stop()},d}function cb(a,b,c,d){var e,f,g,i;return b&&(b=L(O(b))),null!==b&&(i=a.viewmodel.get(b)),Ki.abort(b,a),h(i,c)?(d.complete&&d.complete(d.to),Mi):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new Li({keypath:b,from:i,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),Ki.add(g),a._animations.push(g),g)}function db(){return this.detached?this.detached:(this.el&&C(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Ni.fire(this),this.detached)}function eb(a){return this.el?this.fragment.find(a):null}function fb(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function gb(a){var b,c;for(b=[a],c=fb(a);c;)b.push(c),c=fb(c);return b}function hb(a,b,c,d){var e=[];return _h(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:Oi}}),c?(_h(e,{cancel:{value:Pi},_root:{value:a},_sort:{value:Si},_makeDirty:{value:Ti},_remove:{value:Ui},_dirty:{value:!1,writable:!0}}),e):e}function ib(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=hb(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function jb(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=hb(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function kb(a){return this.fragment.findComponent(a)}function lb(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function mb(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function nb(a,b){var c=void 0===arguments[2]?{}:arguments[2];if(b){c.event?c.event.name=b:c.event={name:b,context:a.data,keypath:"",_noArg:!0};var d=L(b).wildcardMatches();ob(a,d,c.event,c.args,!0)}}function ob(a,b,c,d){var e,f,g=void 0===arguments[4]?!1:arguments[4],h=!0;for(Vi.enqueue(a,c),f=b.length;f>=0;f--)e=a._subs[b[f]],e&&(h=pb(a,e,c,d)&&h);if(Vi.dequeue(a),a.parent&&h){if(g&&a.component){var i=a.component.name+"."+b[b.length-1];b=L(i).wildcardMatches(),c&&(c.component=a)}ob(a.parent,b,c,d)}}function pb(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function qb(a){var b={args:Array.prototype.slice.call(arguments,1)};nb(this,a,b)}function rb(a){var b;return a=L(O(a)),b=this.viewmodel.get(a,Wi),void 0===b&&this.parent&&!this.isolated&&P(this,a.str,this.component.parentFragment)&&(b=this.viewmodel.get(a)),b}function sb(b,c){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(b=a(b),c=a(c)||null,!b)throw new Error("You must specify a valid target to insert into");b.insertBefore(this.detach(),c),this.el=b,(b.__ractive_instances__||(b.__ractive_instances__=[])).push(this),this.detached=null,tb(this)}function tb(a){Xi.fire(a),a.findAllComponents("*").forEach(function(a){tb(a.instance)})}function ub(a,b,c){var d,f;return a=L(O(a)),d=this.viewmodel.get(a),e(d)&&e(b)?(f=Fi.start(this,!0),this.viewmodel.merge(a,d,b,c),Fi.end(),f):this.set(a,b,c&&c.complete)}function vb(a,b){var c,d;return c=M(a,b.str),d={},c.forEach(function(b){d[b.str]=a.get(b.str)}),d}function wb(a,b,c,d){var e,f,g;return b=L(O(b)),d=d||hj,gj.test(b.str)?(e=new Zi(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new Yi(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0,{cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}}}function xb(a,b,c){var d,e,f,g;if(k(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",wb(this,a,b,c);if(f=a.split(" "),1===f.length)return wb(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(wb(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function yb(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function zb(a,b){var c,d=this;if(a)c=a.split(" ").map(ij).filter(jj),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function Ab(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(ij).filter(jj),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function Bb(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function Cb(a,b,c){var d,e,f,g,h,i,j=[];if(d=Db(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j}function Db(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}function Eb(b,c){var d,e,f,g=this;if(f=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),d=Fi.start(this,!0),Fi.scheduleTask(function(){return vj.fire(g)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(b=a(b)||this.el,c=a(c)||this.anchor,this.el=b,this.anchor=c,!this.append&&b){var h=b.__ractive_instances__;h&&h.length&&Fb(h),b.innerHTML=""}return this.constructor.css&&uj.add(this.constructor),b&&((e=b.__ractive_instances__)?e.push(this):b.__ractive_instances__=[this],c?b.insertBefore(this.fragment.render(),c):b.appendChild(this.fragment.render())),Fi.end(),this.transitionsEnabled=f,d.then(function(){return wj.fire(g)}).then(null,n),d}function Fb(a){try{a.splice(0,a.length).forEach(function(a){return a.teardown()})}catch(b){}}function Gb(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,Fi.start(d),d.viewmodel.mark(c),Fi.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function Hb(a,b){for(var c=a.slice(),d=b.length;d--;)~c.indexOf(b[d])||c.push(b[d]);return c}function Ib(a,b){var c,d,e;return d='[data-ractive-css="'+b+'"]',e=function(a){var b,c,e,f,g,h,i,j=[];for(b=[];c=Qj.exec(a);)b.push({str:c[0],base:c[1],modifiers:c[2]});for(f=b.map(Kb),i=b.length;i--;)h=f.slice(),e=b[i],h[i]=e.base+d+e.modifiers||"",g=f.slice(),g[i]=d+" "+g[i],j.push(h.join(" "),g.join(" "));return j.join(", ")},c=Sj.test(a)?a.replace(Sj,d):a.replace(Pj,"").replace(Oj,function(a,b){var c,d;return Rj.test(b)?a:(c=b.split(",").map(Jb),d=c.map(e).join(", ")+" ",a.replace(b,d))})}function Jb(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function Kb(a){return a.str}function Lb(a,b,c){return a?b.noCssTransform?a:Ib(a,c):void 0}function Mb(a,b){return"function"==typeof b&&/_super/.test(a)}function Nb(a,b,c){var d=c.data||{},e=Ob(a.prototype.data);if("object"!=typeof d&&"function"!=typeof d)throw new TypeError('data option must be an object or a function, "'+d+'" is not valid');return Pb(e,d)}function Ob(a){if("function"!=typeof a||!Object.keys(a).length)return a;var b={};return Qb(a,b),Pb(a,b)}function Pb(a,b){return"function"==typeof b?Tb(b,a):"function"==typeof a?Sb(b,a):Rb(b,a)}function Qb(a,b,c){for(var d in a)!(b._mappings&&b._mappings[d]&&b._mappings[d].updatable)&&c&&d in b||(b[d]=a[d])}function Rb(a,b){return a=a||{},b?(Qb(b,a,!0),a):a}function Sb(a,b){return function(c){var d;if(a){d=[];for(var e in a)c&&e in c||d.push(e)}return c=b.call(this,c)||c,d&&d.length&&(c=c||{},d.forEach(function(b){c[b]=a[b]})),c}}function Tb(a,b){var c;return c="function"!=typeof b?function(a){Rb(a,b)}:function(a){return b=Uj(b,function(){},!0),b.call(this,a)||a},Uj(a,c)}function Ub(a){var b,c,d,e;return b=a.pos,d=Xk(a),null===d?null:(c=[d],a.matchString(",")?(e=Ub(a),e?c.concat(e):(a.pos=b,null)):c)}function Vb(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=a.readExpression(),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=Vb(a),null===f&&a.error(Fk),f.forEach(b)),d)}function Wb(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(Tk))return{t:sk,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(Fk),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:sk,x:d}):null}function Xb(a){return JSON.stringify(String(a))}function Yb(a,b){var c,d;if(a.t===rk&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(k(d))Yb(d,b);else for(c=d.length;c--;)Yb(d[c],b);a.x&&Yb(a.x,b),a.r&&Yb(a.r,b),a.v&&Yb(a.v,b)}function Zb(a,b,c){var d=function(b){return Zb(a,b,c)};switch(b.t){case ok:case pk:case kk:return b.v;case lk:return Xb(b.v);case mk:return"["+(b.m?b.m.map(d).join(","):"")+"]";case nk:return"{"+(b.m?b.m.map(d).join(","):"")+"}";case qk:return b.k+":"+Zb(a,b.v,c);case uk:return("typeof"===b.s?"typeof ":b.s)+Zb(a,b.o,c);case xk:return Zb(a,b.o[0],c)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+Zb(a,b.o[1],c);case yk:return Zb(a,b.x,c)+"("+(b.o?b.o.map(d).join(","):"")+")";case vk:return"("+Zb(a,b.x,c)+")";case tk:return Zb(a,b.x,c)+Zb(a,b.r,c);case sk:return b.n?"."+b.n:"["+Zb(a,b.x,c)+"]";case wk:return Zb(a,b.o[0],c)+"?"+Zb(a,b.o[1],c)+":"+Zb(a,b.o[2],c);case rk:return"_"+c.indexOf(b.n);default:a.error("Expected legal JavaScript")}}function $b(a,b,c){var d;if(b){for(;b.t===vk&&b.x;)b=b.x;return b.t===rk?c.r=b.n:b.t===kk&&wl.test(b.v)?c.r=b.v:(d=_b(a,b))?c.rx=d:c.x=a.flattenExpression(b),c}}function _b(a,b){for(var c,d=[];b.t===tk&&b.r.t===sk;)c=b.r,d.unshift(c.x?c.x.t===rk?c.x:a.flattenExpression(c.x):c.n),b=b.x;return b.t!==rk?null:{r:b.n,m:d}}function ac(a){var b;return a.interpolate[a.inside]===!1?null:(b=ql.slice().sort(function(b,c){return a[c.delimiters][0].length-a[b.delimiters][0].length}),function c(d){return d?bc(a,d)||c(b.shift()):null}(b.shift()))}function bc(a,b){var c,d,e,f,g,h,i,j;if(c=a.pos,e=a[b.delimiters],!a.matchString(e[0]))return null;if(d=pl(a))return a.matchString(e[1])?(a[b.delimiters]=d,Hl):null;if(a.allowWhitespace(),d=Gl(a,b),null===d)return a.pos=c,null;if(a.allowWhitespace(),a.matchString(e[1])||a.error("Expected closing delimiter '"+e[1]+"' after reference"),d.t===ck&&(d.exclude=!0),d.t===_j&&(a.sectionDepth-=1,a.sectionDepth<0&&(a.pos=c,a.error("Attempted to close a section that wasn't open"))),d.contextPartialExpression)d.f=d.contextPartialExpression,d.t=Zj,d.n="with",delete d.contextPartialExpression;else if(cc(d)){for(a.sectionDepth+=1,f=[],i=f,g=d.n;j=a.read();){if(j.t===_j){g&&j.r!==g&&a.error("Expected {{/"+g+"}}");break}if(j.t===Xj&&"else"===j.r){if("unless"!==d.n){i=h=[];continue}a.error("{{else}} not allowed in {{#unless}}")}i.push(j)}f.length&&(d.f=f),h&&h.length&&(d.l=h,"with"===d.n&&(d.n="if-with"))}return a.includeLinePositions&&(d.p=a.getLinePos(c)),d.n?d.n=tl[d.n]:d.t===$j&&(d.t=Zj,d.n=Ak),d.n===Ek?(d.r&&-1===d.r.indexOf(".")||a.error("Invalid partial name "+d.r+"."),{n:d.r,f:d.f,t:ik}):d}function cc(a){return a.t===Zj||a.t===$j}function dc(a){return a.replace(Cl,function(a,b){var c;return c="#"!==b[0]?Al[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(ec(c)):a})}function ec(a){return a?10===a?32:128>a?a:159>=a?Bl[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function fc(a){return a.replace(Fl,"&amp;").replace(Dl,"&lt;").replace(El,"&gt;")}function gc(a){return a.replace(Sl,"\\$&")}function hc(a){var b=a.remaining(),c=a.pos,d=a.matchPattern(Tl),e=a.options.delimiters[0],f=a.options.delimiters[1];if(d&&a.matchString(e)){var g=a.matchPattern(Ul);if(!a.matchString(f)||!a.matchPattern(Vl))return a.pos=c,null;var h=new RegExp("<!--\\s*"+gc(e)+"\\s*\\/\\s*"+g+"\\s*"+gc(f)+"\\s*-->");b=a.remaining();var i=h.exec(b);if(!i)throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+g+'", but '+(i?'instead found "'+i[1]+'"':" no closing found"));var j={t:ik,f:new a.StandardParser(b.substr(0,i.index),a.options).result,n:g};return a.pos+=i.index+i[0].length,j}return a.pos=c,null}function ic(a){var b,c,d;return a.allowWhitespace(),(c=a.matchPattern($l))?(b={name:c},d=jc(a),d&&(b.value=d),b):null}function jc(a){var b,c,d,e;return b=a.pos,a.allowWhitespace(),a.matchString("=")?(a.allowWhitespace(),c=a.pos,d=a.sectionDepth,e=mc(a,"'")||mc(a,'"')||lc(a),a.sectionDepth!==d&&(a.pos=c,a.error("An attribute value must contain as many opening section tags as closing section tags")),null===e?(a.pos=b,null):e.length?1===e.length&&"string"==typeof e[0]?dc(e[0]):e:null):(a.pos=b,null)}function kc(a){var b,c,d,e,f;return b=a.pos,(c=a.matchPattern(_l))?(d=c,e=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],-1!==(f=Wl(d,e))&&(c=c.substr(0,f),a.pos=b+c.length),c):null}function lc(a){var b,c;for(a.inAttribute=!0,b=[],c=ac(a)||kc(a);null!==c;)b.push(c),c=ac(a)||kc(a);return b.length?(a.inAttribute=!1,b):null}function mc(a,b){var c,d,e;if(c=a.pos,!a.matchString(b))return null;for(a.inAttribute=b,d=[],e=ac(a)||nc(a,b);null!==e;)d.push(e),e=ac(a)||nc(a,b);return a.matchString(b)?(a.inAttribute=!1,d):(a.pos=c,null)}function nc(a,b){var c,d,e,f;return c=a.pos,e=a.remaining(),f=[b,a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],d=Wl(e,f),-1===d&&a.error("Quoted attribute value must have a closing quote"),d?(a.pos+=d,e.substr(0,d)):null}function oc(a){var b,c,d;return a.allowWhitespace(),(b=Wk(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function pc(a){var b,c,d,e,f,g,h,i,j,k,l;if(b=a.pos,a.inside||a.inAttribute)return null;if(!a.matchString("<"))return null;if("/"===a.nextChar())return null;if(c={},a.includeLinePositions&&(c.p=a.getLinePos(b)),a.matchString("!"))return c.t=jk,a.matchPattern(/^doctype/i)||a.error("Expected DOCTYPE declaration"),c.a=a.matchPattern(/^(.+?)>/),c;if(c.t=ak,c.e=a.matchPattern(hm),!c.e)return null;for(im.test(a.nextChar())||a.error("Illegal tag name"),g=function(b,d){var e=d.n||d;lm.test(e)&&(a.pos-=e.length,a.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),c.v[b]=d},a.allowWhitespace();h=ac(a)||ic(a);)h.name?(e=mm[h.name])?c[e]=gm(h.value):(f=km.exec(h.name))?(c.v||(c.v={}),i=gm(h.value),g(f[1],i)):a.sanitizeEventAttributes&&jm.test(h.name)||(c.a||(c.a={}),c.a[h.name]=h.value||0):(c.m||(c.m=[]),c.m.push(h)),a.allowWhitespace();if(a.allowWhitespace(),a.matchString("/")&&(j=!0),!a.matchString(">"))return null;if(d=c.e.toLowerCase(),!j&&!zl.test(c.e)){for(("script"===d||"style"===d)&&(a.inside=d),k=[];qc(d,a.remaining())&&(l=a.read(em))&&l.t!==_j&&l.t!==fk;)k.push(l);k.length&&(c.f=k)}return a.inside=null,a.sanitizeElements&&-1!==a.sanitizeElements.indexOf(d)?nm:c}function qc(a,b){var c,d;return c=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(b),d=fm[a],c&&d?!~d.indexOf(c[1].toLowerCase()):!0}function rc(a){return"string"==typeof a}function sc(a){return a.t===ck||a.t===dk}function tc(a){return(a.t===Zj||a.t===$j)&&a.f}function uc(a,b,c){for(var d=c.length,f=void 0,g=void 0;d--;)f=c[d],vc(f)?(b[f.n]=f.f,c.splice(d,1)):e(f.f)&&((g=wc(a,f))?(a.push(g),uc(a,f.p={},f.f),a.pop()):e(f.f)&&uc(a,b,f.f))}function vc(a){return a.t===ik}function wc(a,b){var c,d,e=b.e;if(b.e)for(c=0;c<a.length;c++)if(d=(a[c].components||{})[e])return d}function xc(a,b,c,d,f,g){var h,i,j,k,l,m,n,o,p;for(wm(a),h=a.length;h--;)i=a[h],i.exclude?a.splice(h,1):b&&i.t===ck&&a.splice(h,1);for(tm(a,d,f),h=a.length;h--;){if(i=a[h],i.f&&(l=c||i.t===ak&&zm.test(i.e),l||(j=a[h-1],k=a[h+1],(!j||"string"==typeof j&&Bm.test(j))&&(m=!0),(!k||"string"==typeof k&&Am.test(k))&&(n=!0)),xc(i.f,b,l,m,n,g)),i.l&&(xc(i.l,b,c,m,n,g),g&&(o={t:4,n:Ak,f:i.l},i.r&&(o.r=i.r),i.x&&(o.x=i.x),i.rx&&(o.rx=i.rx),a.splice(h+1,0,o),delete i.l)),i.a)for(p in i.a)i.a.hasOwnProperty(p)&&"string"!=typeof i.a[p]&&xc(i.a[p],b,c,m,n,g);if(i.v)for(p in i.v)i.v.hasOwnProperty(p)&&(e(i.v[p].n)&&xc(i.v[p].n,b,c,m,n,g),e(i.v[p].d)&&xc(i.v[p].d,b,c,m,n,g))}for(h=a.length;h--;)"string"==typeof a[h]&&("string"==typeof a[h+1]&&(a[h]=a[h]+a[h+1],a.splice(h+1,1)),c||(a[h]=a[h].replace(ym," ")),""===a[h]&&a.splice(h,1))}function yc(a,b){b=b||a,b.delimiters=a.delimiters||["{{","}}"],b.tripleDelimiters=a.tripleDelimiters||["{{{","}}}"],b.staticDelimiters=a.staticDelimiters||["[[","]]"],b.staticTripleDelimiters=a.staticTripleDelimiters||["[[[","]]]"]}function zc(a){var b=Zh(Gm);return b.parse=function(b,c){return Ac(b,c||a)},b}function Ac(a,b){if(!pm)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return pm(a,b||this.options)}function Bc(a,b){var c;if(!Dh){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if(Cc(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.innerHTML}function Cc(a){return a&&"#"===a.charAt(0)}function Dc(a){return!("string"==typeof a)}function Ec(a){return a.defaults&&(a=a.defaults),Fm.reduce(function(b,c){return b[c]=a[c],b},{ractive:a})}function Fc(a){var b,c=a._config.template;if(c&&c.fn)return b=Gc(a,c.fn),b!==c.result?(c.result=b,b=Ic(b,a)):void 0}function Gc(a,b){var c=Hc(Hm.getParseOptions(a));return b.call(a,a.data,c)}function Hc(a){var b=Zh(Hm);return b.parse=function(b,c){return Hm.parse(b,c||a)},b}function Ic(a,b){if("string"==typeof a)"#"===a[0]&&(a=Hm.fromId(a)),a=pm(a,Hm.getParseOptions(b));else if(2!==a.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return a}function Jc(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function Kc(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=Lc(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function Lc(a,b){var c,d;return b in a?(c=a[b],d="function"==typeof c?c:function(){return c}):d=hi,d}function Mc(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function Nc(a,b,c){if(b in a){if(c in a)throw new Error(Mc(b,c,!0));p(Mc(b,c)),a[c]=a[b]}}function Oc(a){Nc(a,"beforeInit","onconstruct"),Nc(a,"init","onrender"),Nc(a,"complete","oncomplete"),Nc(a,"eventDefinitions","events"),e(a.adaptors)&&Nc(a,"adaptors","adapt")}function Pc(a,b,c,d){Oc(d);for(var e in d)if(Om[e]){var f=d[e];"function"==typeof f&&(f=Kc(b.prototype,e,f)),c[e]=f}Em.forEach(function(e){e[a](b,c,d)}),Nj[a](b,c,d),Vj[a](b,c,d),Im[a](b,c,d),Tj[a](b,c,d),Qc(b.prototype,c,d)}function Qc(a,b,c){for(var d in c)if(!Nm[d]&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=Kc(a,d,e)),b[d]=e}}function Rc(a){var b={};return a.forEach(function(a){return b[a]=!0}),b}function Sc(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function Tc(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function Uc(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function Vc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function Wc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function Xc(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function Yc(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function Zc(){return this.items&&this.items[0]?this.items[0].firstNode():null}function $c(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return $c(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=a.keypath&&(f=a.root.viewmodel.wrapped[a.keypath.str])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function _c(){var a,b,c,d;return this.dirtyArgs&&(b=$c(this.items,a={},this.root._guid),c=cm("["+b+"]",a),d=c?c.value:[this.toString()],this.argsList=d,this.dirtyArgs=!1),this.argsList}function ad(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function bd(){var a,b,c,d;return this.dirtyValue&&(b=$c(this.items,a={},this.root._guid),c=cm(b,a),d=c?c.value:this.toString(),this.value=d,this.dirtyValue=!1),this.value}function cd(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function dd(){return this.value}function ed(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function fd(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function gd(a,b,c){var d;return"@"===b.charAt(0)?new Sm(a,b,c):(d=fd(a.parentFragment,b))?new Um(a,d,c):new Rm(a,b,c)}function hd(a,b){var c,d;if(Wm[a])return Wm[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),Wm[a]=c,c}function id(a){return a.call()}function jd(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return d=b[c],void 0===d?"undefined":d.isSpecial?(e=d.value,"number"==typeof e?e:'"'+e+'"'):d.str})}function kd(a){return L("${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function ld(a){return void 0!==a&&"@"!==a[0]}function md(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){$h(a,d,{value:Xm.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return $h(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function nd(a){return a.value}function od(a){return void 0!=a}function pd(a){a.forceResolution()}function qd(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!=c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=gd(a,e,c)),b.template.x&&(a.resolver=new Vm(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new Zm(a,b.template.rx,d)),a.template.n!==Ak||a.hasOwnProperty("value")||a.setValue(void 0)}function rd(a){var b,c,d;return a&&a.isSpecial?(this.keypath=a,void this.setValue(a.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))
}function sd(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function td(){this.parentFragment.bubble()}function ud(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)}function vd(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function wd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function xd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function yd(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function zd(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function Ad(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function Bd(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Bk){if(this.shuffling=!0,Fi.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath.join(b),h=i.keypath.join(a),d.index=a,(j=d.registeredIndexRefs)&&j.forEach(Cd),d.rebind(g,h),void(f[a]=d)))}),e=this.root.viewmodel.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&Fi.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function Cd(a){a.rebind("","")}function Dd(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function Ed(a){var b,c,d=this;this.updating||(this.updating=!0,this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=d.keypath.join(a),c.index=a,b=new jp(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):Gd(this,a)&&(this.bubble(),this.rendered&&Fi.addView(this)),this.value=a,this.updating=!1)}function Fd(a,b,c){if(b===Bk&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function Gd(a,b){var c={template:a.template.f,root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.subtype)switch(a.subtype){case zk:return Ld(a,b,!1,c);case Ak:return Ld(a,b,!0,c);case Ck:return Kd(a,c);case Dk:return Jd(a,b,c);case Bk:if(k(b))return Fd(a,a.subtype,!0),Id(a,b,c)}return a.ordered=!!f(b),a.ordered?(Fd(a,Bk,!1),Hd(a,b,c)):k(b)||"function"==typeof b?a.template.i?(Fd(a,Bk,!0),Id(a,b,c)):(Fd(a,Ck,!1),Kd(a,c)):(Fd(a,zk,!1),Ld(a,b,!1,c))}function Hd(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(V);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=a.keypath.join(d),c.index=d,f=new jp(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function Id(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(Od));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=a.keypath.join(d),c.key=d,c.index=e++,g=new jp(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function Jd(a,b,c){return b?Kd(a,c):Md(a)}function Kd(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new jp(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function Ld(a,b,c,d){var e,g,h,i,j;if(g=f(b)&&0===b.length,h=!1,!f(b)&&k(b)){h=!0;for(j in b){h=!1;break}}return e=c?g||h||!b:b&&!g&&!h,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(V),!0):void 0:(d.index=0,i=new jp(d),a.fragmentsToRender.push(a.fragments[0]=i),a.length=1,!0):Md(a)}function Md(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(Nd),a.fragmentsToUnrender.forEach(V),a.length=a.fragmentsToRender.length=0,!0):void 0}function Nd(a){return a.rendered}function Od(a){a.rebind("","")}function Pd(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function Qd(){var a=this;this.fragments.forEach(V),this.fragmentsToRender.forEach(function(b){return C(a.fragments,b)}),this.fragmentsToRender=[],cd.call(this),this.length=0,this.unbound=!0}function Rd(a){this.fragments.forEach(a?Sd:Td),this.renderedFragments=[],this.rendered=!1}function Sd(a){a.unrender(!0)}function Td(a){a.unrender(!1)}function Ud(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function Vd(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function Wd(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(Oh(d,a))return d;if(e=d.querySelector(a))return e}return null}function Xd(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(Oh(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function Yd(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function Zd(a){return en[a]||(en[a]=Nh(a))}function $d(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=D(a.node.options).filter(_d),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function _d(a){return a.selected}function ae(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=fn(this.value,this.parentFragment.getNode(),this.docFrag),$d(this.pElement),this.rendered=!0,this.docFrag}function be(a){var b;(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&Fi.addView(this))}function ce(){return void 0!=this.value?dc(""+this.value):""}function de(a){this.rendered&&a&&(this.nodes.forEach(b),this.rendered=!1)}function ee(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=fn(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),$d(this.pElement)}}function fe(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function ge(){return null}function he(){return this.node}function ie(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function je(){var a=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();h(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&Fi.addView(this))}function ke(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Xj?b[0]:void 0}function le(a){return this.type=ek,this.element=a.element,this.root=a.root,vn(this,a.name),this.isBoolean=yl.test(this.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new jp({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=ke(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:a.value||"")}function me(a,b){this.fragment&&this.fragment.rebind(a,b)}function ne(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==Gh.html||(b=wn[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===b&&(a._ractive.value=this.value)),this.rendered=!0,this.update()}function oe(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;return"value"===b&&("select"===this.element.name||"textarea"===this.element.name)||"value"===b&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===b&&"input"===this.element.name&&e?"name={{"+(e.keypath.str||e.ref)+"}}":this.isBoolean?d?b:"":(f&&(d=f.toString()),c&&(b=c+":"+b),d?b+'="'+pe(d)+'"':b)}function pe(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function qe(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function re(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function se(){var a,b,c,d,f=this.value;for(e(f)||(f=[f]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=y(f,d)}function te(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function ue(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return Fi.addViewmodel(b.root.viewmodel),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function ve(){var a,b,c=this,d=c.element,f=c.node,g=c.value,h=d.binding;if(a=d.getAttribute("value"),e(g)){for(b=g.length;b--;)if(a==g[b])return void(h.isChecked=f.checked=!0);h.isChecked=f.checked=!1}else h.isChecked=f.checked=g==a}function we(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b}function xe(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function ye(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function ze(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function Ae(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function Be(){this.locked||(this.node[this.propertyName]=this.value)}function Ce(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):this.isBoolean?e?b.setAttribute(d,""):b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function De(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=xe:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?se:re:"textarea"===e.name?b=Ae:null!=e.getAttribute("contenteditable")?b=ze:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?hi:"radio"===a&&e.binding&&"name"===e.binding.name?ue:Ae):this.isTwoway&&"name"===d?"radio"===f.type?b=te:"checkbox"===f.type&&(b=ve):"style"===d&&f.style.setAttribute?b=ye:"class"!==d||f.namespaceURI&&f.namespaceURI!==Gh.html?this.useProperty&&(b=Be):b=we,b||(b=Ce),this.update=b,this.update()}function Ee(a,b){var c=b?"svg":"div";return yn.innerHTML="<"+c+" "+a+"></"+c+">",D(yn.childNodes[0].attributes)}function Fe(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function Ge(a){for(;a=a.parent;)if("form"===a.name)return a}function He(){this._ractive.binding.handleChange()}function Ie(a,b,c){var d=a+b+c;return Gn[d]||(Gn[d]=[])}function Je(a){return a.isChecked}function Ke(a){return a.element.getAttribute("value")}function Le(){var a;He.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function Me(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&He.call(b),a._timeout=void 0},a.element.lazy)}function Ne(a){var b,c,d,e,f,g=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||g.contenteditable&&Oe(g.contenteditable))&&Oe(g.value)?c=Fn:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=Oe(g.name),e=Oe(g.checked),d&&e&&p("A radio input can have two-way binding on its name attribute, or its checked attribute - not both"),d?c="radio"===b?In:Jn:e&&(c="radio"===b?Hn:Kn)):"file"===b&&Oe(g.value)?c=Nn:Oe(g.value)&&(c="number"===b||"range"===b?On:Dn)):"select"===a.name&&Oe(g.value)?c=a.getAttribute("multiple")?Mn:Ln:"textarea"===a.name&&Oe(g.value)&&(c=Dn),c&&(f=new c(a))&&f.keypath?f:void 0}function Oe(a){return a&&a.isBindable}function Pe(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function Qe(a){nb(this.root,this.getAction(),{event:a})}function Re(){return this.action.toString().trim()}function Se(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&((this.root.debug?o:p)('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',a.name,b),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=hd(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c=void 0;(c=Pn.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(gd(g,a,function(a){return g.resolve(b,a)}))}),this.fire=Te):(d=c.n||c,"string"!=typeof d&&(d=new jp({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new jp({template:c.d,root:this.root,owner:this.element}),this.fire=Ve):c.a&&(this.params=c.a,this.fire=Ue))}function Te(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),Vi.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),Vi.dequeue(b)}function Ue(a){nb(this.root,this.getAction(),{event:a,args:this.params})}function Ve(a){var b=this.dynamicParams.getArgsList();"string"==typeof b&&(b=b.substr(1,b.length-2)),nb(this.root,this.getAction(),{event:a,args:b})}function We(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=fd(c.element.parentFragment))&&(e=fd.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath.str,context:b.root.viewmodel.get(b.keypath)})}function Xe(){var a,b=this.name;if(!this.invalid){if(a=r("events",this.root,b))this.custom=a(this.node,Ye(b));else{if(!("on"+b in this.node||window&&"on"+b in window))return void(Rn[b]||q(mi(b,"event")));this.node.addEventListener(b,We,!1)}this.hasListener=!0}}function Ye(a){return Qn[a]||(Qn[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath.str,b.context=c.root.viewmodel.get(c.keypath),c.events[a].fire(b)}),Qn[a]}function Ze(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function $e(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function _e(a,b){this.keypaths[a]=b}function af(){return this.method?void this.refResolvers.forEach(V):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function bf(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,We,!1),this.hasListener=!1}function cf(){var a=this;this.dirty||(this.dirty=!0,Fi.scheduleTask(function(){df(a),a.dirty=!1})),this.parentFragment.bubble()}function df(a){var b,c,d,e,f;b=a.node,b&&(e=D(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?ef(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function ef(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function ff(a,b){a.select=hf(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function gf(a){a.select&&C(a.select.options,a)}function hf(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function jf(a){var b,c,d,e,f,g;this.type=ak,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=un(c.e),"option"===this.name&&ff(this,c),"select"===this.name&&(this.options=[],this.bubble=cf),"form"===this.name&&(this.formBindings=[]),tn(this,c.a||{}),this.attributes=zn(this,c.a),this.conditionalAttributes=Bn(this,c.m),c.f&&(this.fragment=new jp({template:c.f,root:d,owner:this,pElement:this})),g=d.twoway,this.twoway===!1?g=!1:this.twoway===!0&&(g=!0),g&&(e=Ne(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath.str]||(this.root._twowayBindings[e.keypath.str]=[]),f.push(e)),c.v&&(this.eventHandlers=Tn(this,c.v)),c.o&&(this.decorator=new Un(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function kf(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&J(e,"keypath",a,b)}function lf(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function mf(a){a.node.addEventListener("reset",of,!1)}function nf(a){a.node.removeEventListener("reset",of,!1)}function of(){var a=this._ractive.proxy;Fi.start(),a.formBindings.forEach(pf),Fi.end()}function pf(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function qf(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new jp({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new jp({template:b.d,root:d,owner:a}),this.params=f.getArgsList(),f.unbind()),this._fn=r("transitions",d,e),this._fn||q(mi(e,"transition")))}function rf(a){return a}function sf(){vo.hidden=document[ro]}function tf(){vo.hidden=!0}function uf(){vo.hidden=!1}function vf(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&wf(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function wf(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function xf(){var a,b,c,d=this,e=this.root;return a=yf(this),b=this.node=Nh(this.name,a),e.constructor.css&&this.parentFragment.getNode()===e.el&&this.node.setAttribute("data-ractive-css",e.constructor._guid),$h(this.node,"_ractive",{value:{proxy:this,keypath:Ci(this.parentFragment),events:Zh(null),root:e}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=Co,this.node.text=this.fragment.toString(!1),this.fragment.unrender=hi):"style"===this.name?(this.bubble=Bo,this.bubble(),this.fragment.unrender=hi):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=hi:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&zf(this),"img"===this.name?lf(this):"form"===this.name?mf(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&Fi.scheduleTask(function(){d.decorator.torndown||d.decorator.init()},!0),e.transitionsEnabled&&this.intro&&(c=new Ao(this,this.intro,!0),Fi.registerTransition(c),Fi.scheduleTask(function(){return c.start()},!0),this.transition=c),this.node.autofocus&&Fi.scheduleTask(function(){return d.node.focus()},!0),Af(this),this.node}function yf(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?Gh.svg:(d=a.parent)?"foreignObject"===d.name?Gh.html:d.node.namespaceURI:a.root.el.namespaceURI}function zf(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&e(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function Af(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function Bf(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&e(c))for(d=c.length;d--;)if(c[d]==b)return!0}function Cf(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function Df(a){var b=a.toString();return b?" "+b:""}function Ef(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(V),"option"===this.name&&gf(this),this.attributes.forEach(V),this.conditionalAttributes.forEach(V)}function Ff(a){var b,c,d;(d=this.transition)&&d.complete(),"option"===this.name?this.detach():a&&Fi.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath.str],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(W),this.decorator&&Fi.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(d=new Ao(this,this.outro,!1),Fi.registerTransition(d),Fi.scheduleTask(function(){return d.start()})),this.liveQueries&&Gf(this),"form"===this.name&&nf(this)}function Gf(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function Hf(a,b){var c=Go.exec(b)[0];return null===a||c.length<a.length?c:a}function If(a,b){var c;if(c=Jf(a,b))return c;if(c=Hm.fromId(b,{noThrow:!0})){c=Ho(c);var d=Hm.parse(c,Hm.getParseOptions(a));return a.partials[b]=d.t}}function Jf(a,b){var c=s("partials",a,b);if(c){var d=c.partials[b],e=void 0;if("function"==typeof d&&(e=d.bind(c),e.isOwner=c.partials.hasOwnProperty(b),d=e(c.data,Hm)),!d&&""!==d)return void p(li,b,"partial","partial");if(!Hm.isParsed(d)){var f=Hm.parse(d,Hm.getParseOptions(c));f.p&&p("Partials ({{>%s}}) cannot contain nested inline partials",b);var g=e?c:Kf(c,b);g.partials[b]=d=f.t}return e&&(d._fn=e),d.v?d.t:d}}function Kf(a,b){return a.partials.hasOwnProperty(b)?a:Lf(a.constructor,b)}function Lf(a,b){return a?a.partials.hasOwnProperty(b)?a:Lf(a._Parent,b):void 0}function Mf(a,b){var c,d=s("components",a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(d.data),!c)return void(a.debug&&p(li,b,"component","component"));"string"==typeof c&&(c=Mf(a,c)),c._fn=e,d.components[b]=c}return c}function Nf(){var a=this.instance.fragment.detach();return Ko.fire(this.instance),a}function Of(a){return this.instance.fragment.find(a)}function Pf(a,b){return this.instance.fragment.findAll(a,b)}function Qf(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function Rf(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function Sf(){return this.parentFragment.findNextNode(this)}function Tf(){return this.rendered?this.instance.fragment.firstNode():null}function Uf(a,b){var c,d,e,f,g=this.ractive;for(c=g.adapt.length,d=0;c>d;d+=1)if(e=g.adapt[d],e.filter(b,a,g))return f=this.wrapped[a]=e.wrap(g,b,a,Wf(a)),f.value=b,b;return b}function Vf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function Wf(a){var b;return Lo[a]||(b=a?a+".":"",Lo[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?Vf(c,a):c:void 0}),Lo[a]}function Xf(a){var b,c,d=[Bi];for(b=a.length;b--;)for(c=a[b].parent;c&&!c.isRoot;)x(d,c),c=c.parent;return d}function Yf(a,b,c){var d;$f(a,b),c||(d=b.wildcardMatches(),d.forEach(function(c){Zf(a,c,b)}))}function Zf(a,b,c){var d,e,f;b=b.str||b,d=a.depsMap.patternObservers,e=d&&d[b],e&&e.forEach(function(b){f=c.join(b.lastKey),$f(a,f),Zf(a,b,f)})}function $f(a,b){a.patternObservers.forEach(function(a){a.regex.test(b.str)&&a.update(b)})}function _f(){function a(c){var d,e;f.noCascade.hasOwnProperty(c.str)||((e=f.deps.computed[c.str])&&e.forEach(function(c){var d=c.key;c.viewmodel===f?(f.clearCache(d.str),c.invalidate(),b.push(d),a(d)):c.viewmodel.mark(d)}),(d=f.depsMap.computed[c.str])&&d.forEach(a))}var b,c,d,e=this,f=this,g={};return b=this.changes,b.length?(b.slice().forEach(a),c=Xf(b),c.forEach(function(a){var c;-1===b.indexOf(a)&&(c=f.deps.computed[a.str])&&(e.changes.push(a),c.forEach(function(a){a.viewmodel.mark(a.key)}))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(a){return Yf(e,a,!0)}),b.forEach(function(a){return Yf(e,a)})),this.deps.observers&&(c.forEach(function(a){return ag(e,null,a,"observers")}),cg(this,b,"observers")),this.deps["default"]&&(d=[],c.forEach(function(a){return ag(e,d,a,"default")}),d.length&&bg(this,d,b),cg(this,b,"default")),b.forEach(function(a){g[a.str]=e.get(a)}),this.implicitChanges={},this.noCascade={},g):void 0}function ag(a,b,c,d){var e,f;(e=dg(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function bg(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function cg(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=dg(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b.str])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function dg(a,b,c){var d=a.deps[c];return d?d[b.str]:null}function eg(){this.captureGroups.push([])}function fg(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function gg(a){var b="var __ractive=this;return("+a.replace(Mo,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(b)}function hg(a,b){var c=b.firstKey;return!(c in a.ractive.data||c in a.computations||c in a.mappings)}function ig(a,b){return b=No(b),this.computations[a.str]=new Po(this.ractive,a,b)}function jg(a,b){var c,d,e,f,g,h=this.ractive,i=this.cache,j=a.str;return b=b||Ro,b.capture&&(g=B(this.captureGroups))&&(~g.indexOf(a)||g.push(a)),(c=this.mappings[a.firstKey])?c.get(a,b):a.isSpecial?a.value:(void 0===i[j]?((e=this.computations[j])&&!e.bypass?(d=e.get(),this.adapt(j,d)):(f=this.wrapped[j])?d=f.value:a.isRoot?(this.adapt("",h.data),d=h.data):d=kg(this,a),i[j]=d):d=i[j],!b.noUnwrap&&(f=this.wrapped[j])&&(d=f.get()),d===Qo?void 0:d)}function kg(a,b){var c,d,e,f;return c=a.get(b.parent),(f=a.wrapped[b.parent.str])&&(c=f.get()),null!==c&&void 0!==c?((d=a.cacheMap[b.parent.str])?-1===d.indexOf(b.str)&&d.push(b.str):a.cacheMap[b.parent.str]=[b.str],"object"!=typeof c||b.lastKey in c?(e=c[b.lastKey],a.adapt(b.str,e,!1),a.cache[b.str]=e,e):a.cache[b.str]=Qo):void 0}function lg(){var a,b,c=[];for(a in this.ractive.computed)b=this.compute(L(a),this.ractive.computed[a]),c.push(b),a in this.mappings&&o("Cannot map to a computed property ('%s')",a);c.forEach(mg)}function mg(a){a.init()}function ng(a,b){this.keypath=a,this.viewmodel=b}function og(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,b.force&&(this.force=b.force),this.deps=[],this.unresolved=[],this.trackData=b.trackData,this.resolved=!1}function pg(a,b){var c=this.mappings[a.str]=new og(a,b);return c.initViewmodel(this),c}function qg(a,b){var c,d=a.str;Fi.addViewmodel(this),b&&(b.implicit&&(this.implicitChanges[d]=!0),b.noCascade&&(this.noCascade[d]=!0)),(c=this.computations[d])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var e=b?b.dontTeardownWrapper:!1;this.clearCache(d,e)}function rg(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=tg(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){if(this.debug)throw i;p("Merge operation: comparison failed. Falling back to identity checking"),e=b,f=c}}else e=b,f=c;h=So(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function sg(a){return JSON.stringify(a)}function tg(a){if(a===!0)return sg;if("string"==typeof a)return To[a]||(To[a]=function(b){return b[a]}),To[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function ug(a,b){var c,d,e,f=void 0===arguments[2]?"default":arguments[2];b.isStatic||((c=this.mappings[a.firstKey])?c.register(a,b,f):(d=this.deps[f]||(this.deps[f]={}),e=d[a.str]||(d[a.str]=[]),e.push(b),a.isRoot||vg(this,a,f)))}function vg(a,b,c){for(var d,e,f;!b.isRoot;)d=a.depsMap[c]||(a.depsMap[c]={}),e=d[b.parent.str]||(d[b.parent.str]=[]),f=b.str,void 0===e["_"+f]&&(e["_"+f]=0,e.push(b)),e["_"+f]+=1,b=b.parent}function wg(){return this.captureGroups.pop()}function xg(a,b){var c,d,e,f,g=void 0===arguments[2]?{}:arguments[2];if(!g.noMapping&&(c=this.mappings[a.firstKey]))return c.set(a,b);if(d=this.computations[a.str]){if(d.setting)return;d.set(b),b=d.get()}h(this.cache[a.str],b)||(e=this.wrapped[a.str],e&&e.reset&&(f=e.reset(b)!==!1,f&&(b=e.get())),d||f||yg(this,a,b),g.silent?this.clearCache(a.str):this.mark(a))}function yg(a,b,c){var d,e,f,g;f=function(){d.set?d.set(b.lastKey,c):(e=d.get(),g())},g=function(){e||(e=Hj(b.lastKey),a.set(b.parent,e,{silent:!0})),e[b.lastKey]=c},d=a.wrapped[b.parent.str],d?f():(e=a.get(b.parent),(d=a.wrapped[b.parent.str])?f():g())}function zg(a,b,c){var d,e,f,g=this;if(e=c.length,c.forEach(function(b,c){-1===b&&g.mark(a.join(c),Vo)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a.str])&&d.filter(Ag).forEach(function(a){return a.shuffle(c,b)
}),e!==b.length){for(this.mark(a.join("length"),Uo),f=e;f<b.length;f+=1)this.mark(a.join(f));for(f=b.length;e>f;f+=1)this.mark(a.join(f),Vo)}}function Ag(a){return"function"==typeof a.shuffle}function Bg(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function Cg(a,b){var c,d,e,f=void 0===arguments[2]?"default":arguments[2];if(!b.isStatic){if(c=this.mappings[a.firstKey])return c.unregister(a,b,f);if(d=this.deps[f][a.str],e=d.indexOf(b),-1===e)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");d.splice(e,1),a.isRoot||Dg(this,a,f)}}function Dg(a,b,c){for(var d,e;!b.isRoot;)d=a.depsMap[c],e=d[b.parent.str],e["_"+b.str]-=1,e["_"+b.str]||(C(e,b),e["_"+b.str]=void 0),b=b.parent}function Eg(a){this.hook=new w(a),this.inProcess={},this.queue={}}function Fg(a,b){return a[b._guid]||(a[b._guid]=[])}function Gg(a,b){var c=Fg(a.queue,b);for(a.hook.fire(b);c.length;)Gg(a,c.shift());delete a.queue[b._guid]}function Hg(b){var c,d=void 0===arguments[1]?{}:arguments[1],e=void 0===arguments[2]?{}:arguments[2];if(Ig(b,e),Xo.fire(Jm.getConstructTarget(b,d),d),Jm.init(b.constructor,b,d),b.magic&&!Fh)throw new Error("Getters and setters (magic mode) are not supported in this browser");Yo.fire(b),Zo.begin(b),b.viewmodel=new Wo(b,e.mappings),b.viewmodel.init(),b.template&&(b.fragment=new jp({template:b.template,root:b,owner:b})),Zo.end(b),(c=a(b.el))&&b.render(c,b.append)}function Ig(a,b){a._guid="r-"+$o++,a._subs=Zh(null),a._config={},a._twowayBindings=Zh(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function Jg(a,b,c){this.parameters=a,this.parentFragment=a.component.parentFragment,this.key=b,this.fragment=new jp({template:c,root:a.component.root,owner:this}),this.parameters.addData(this.key.str,this.fragment.getValue())}function Kg(a,b){return b.parameters?Fh&&"legacy"!==b.parameters?Mg(a,b):Lg(a):a.data}function Lg(a){var b,c=a.mappings;for(b in c){var d=c[b];d.trackData=!0,d.updatable||a.addData(b,d.getValue())}return a.data}function Mg(a,b){var c=Ng(a,b);return new c(a)}function Ng(a,b){var c=b._parameters;return(!c.Constructor||a.newKeys.length)&&(c.Constructor=Og(a,c.defined)),c.Constructor}function Og(a,b){function c(a){this._mappings=a.mappings,this._data=a.data||{}}var d,e;return d=a.keys.reduce(function(a,b){return a[b]={get:function(){var a=this._mappings[b];return a?a.getValue():this._data[b]},set:function(a){var c=this._mappings[b];c?(Fi.start(),c.setValue(a),Fi.end()):this._data[b]=a},enumerable:!0},a},b),_h(e={toJSON:Pg},d),e.constructor=c,c.prototype=e,c}function Pg(){var a,b={};for(a in this)-1===bp.indexOf(a)&&(b[a]=this[a]);return b}function Qg(a,b,c){var d,e,f;this.parameters=a,this.key=b,this.resolved=this.ready=!1,d=a.component,e=this.resolve.bind(this),c.r?this.resolver=gd(d,c.r,e):c.x?this.resolver=new Vm(d,d.parentFragment,c.x,e):c.rx&&(this.resolver=new Zm(d,c.rx,e)),this.resolved||(this.resolver&&l(this.resolver.forceResolution)&&(f=this.resolver.forceResolution.bind(this.resolver)),a.addMapping(b,void 0,f)),this.ready=!0}function Rg(a,b,c){var d,e,f;return c?(b.parameters&&(f=Sg(b)),d=new Tg(a,c,f),e=Kg(d,b),{data:e,mappings:d.mappings}):{data:{}}}function Sg(a){return a._parameters?a._parameters.defined||(a._parameters.defined={}):a._parameters={defined:{}},a._parameters.defined}function Tg(a,b,c){var d=this;this.component=a,this.parentViewmodel=a.root.viewmodel,this.data={},this.mappings=Zh(null),this.newKeys=[],this.keys=Object.keys(b),this.keys.forEach(function(a){c&&!c[a]&&d.newKeys.push(a),d.add(L(a),b[a])})}function Ug(a){return 1===a.length&&a[0].t===Xj}function Vg(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Wg(a.instance,a.root,c,b[c])}function Wg(a,b,c,d){"string"!=typeof d&&p("Components currently only support simple events - you cannot include arguments. Sorry!"),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),nb(b,d,{event:a,args:c}),!1})}function Xg(a,b){var c,d,e;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=gk,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],e=Rg(this,b.prototype,a.template.a),ap(this,b,e,a.template.f,a.template.p),Vg(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&p('The "intro", "outro" and "decorator" directives have no effect on components'),cp(this)}function Yg(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function Zg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function $g(){return this.instance.fragment.toString()}function _g(){var a=this.instance;this.resolvers.forEach(V),ah(this),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&C(a.el.__ractive_instances__,a),dp.fire(a)}function ah(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function bh(a){this.shouldDestroy=a,this.instance.unrender()}function ch(a){var b=this;this.owner=a.owner,this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],this.items=a.template.map(function(c,d){return dh({parentFragment:b,pElement:a.pElement,template:c,index:d})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function dh(a){if("string"==typeof a.template)return new Qm(a);switch(a.template.t){case Xj:return"yield"===a.template.r?new hp(a):new _m(a);case Zj:return new bn(a);case Yj:return new gn(a);case ak:var b=void 0;return(b=Mf(a.parentFragment.root,a.template.e))?new fp(a,b):new Eo(a);case bk:return new Jo(a);case ck:return new gp(a);case jk:return new ip(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function eh(a,b){J(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function fh(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function gh(a){return this.items?this.items.map(a?ih:hh).join(""):""}function hh(a){return a.toString()}function ih(a){return a.toString(!0)}function jh(){this.bound&&(this.items.forEach(kh),this.bound=!1)}function kh(a){a.unbind&&a.unbind()}function lh(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function mh(a){var b,c,d,e,f;if(a=a||{},"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((c=this.viewmodel.wrapped[""])&&c.reset?c.reset(a)===!1&&(this.data=a):this.data=a,d=Jm.reset(this),e=d.length;e--;)if(mp.indexOf(d[e])>-1){f=!0;break}if(f){var g=void 0;this.viewmodel.mark(Bi),(g=this.component)&&(g.shouldDestroy=!0),this.unrender(),g&&(g.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new jp({template:this.template,root:this,owner:this})),b=this.render(this.el,this.anchor)}else b=Fi.start(this,!0),this.viewmodel.mark(Bi),Fi.end();return np.fire(this,a),b}function nh(a){var b,c;Im.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new jp({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function oh(a,b){var c,d,e=this;if(d=Fi.start(this,!0),k(a)){c=a;for(a in c)c.hasOwnProperty(a)&&(b=c[a],a=L(O(a)),this.viewmodel.set(a,b))}else a=L(O(a)),qp.test(a.str)?M(this,a.str).forEach(function(a){e.viewmodel.set(a,b)}):this.viewmodel.set(a,b);return Fi.end(),d}function ph(a,b){return u(this,a,void 0===b?-1:-b)}function qh(){var a;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&C(this.el.__ractive_instances__,this),this.shouldDestroy=!0,a=this.fragment.rendered?this.unrender():zi.resolve(),up.fire(this),this._boundFunctions.forEach(rh),a}function rh(a){delete a.fn[a.prop]}function sh(a){if("string"!=typeof a)throw new TypeError(ki);return this.set(a,!this.get(a))}function th(){return this.fragment.toString(!0)}function uh(){var a,b,c=this;if(!this.fragment.rendered)return p("ractive.unrender() was called on a Ractive instance that was not rendered"),zi.resolve();for(a=Fi.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&a.then(function(){uj.remove(c.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),C(this.el.__ractive_instances__,this),vp.fire(this),Fi.end(),a}function vh(a){var b;return a=L(a)||Bi,b=Fi.start(this,!0),this.viewmodel.mark(a),Fi.end(),xp.fire(this,a),b}function wh(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||L(d).equalsOrStartsWith(a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=xh(this,e),this.set(c)}function xh(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath.str]||a.changed()||(d.push(a.keypath),d[a.keypath.str]=a));b=a.attribute.value,e=a.getValue(),z(b,e)||h(b,e)||(c[a.keypath.str]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a.str],e=b.attribute.value,f=b.getValue(),z(e,f)||(c[a.str]=f)}),c}function yh(a){for(var b={};a;)zh(a,b),Bh(a,b),a=a._Parent!==kp?a._Parent:!1;return b}function zh(a,b){Em.forEach(function(c){Ah(c.useDefaults?a.prototype:a,b,c.name)})}function Ah(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function Bh(a,b){Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e=void 0,f=d._method;f&&(d=d._method),e=Uj(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}})}function Ch(){var a,b,c=void 0===arguments[0]?{}:arguments[0],d=this;return c.prototype instanceof kp&&(c=yh(c)),a=function(a){_o(this,a)},b=Zh(d.prototype),b.constructor=a,_h(a,{_guid:{value:zp++},defaults:{value:b},extend:{value:Ch,writable:!0,configurable:!0},_Parent:{value:d}}),Jm.extend(d,b,c),a.prototype=b,a}var Dh,Eh,Fh,Gh,Hh,Ih,Jh={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1,debug:!1},Kh=Jh,Lh={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}};Dh="object"==typeof document,Eh="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),Fh=!0}catch(Mh){Fh=!1}Gh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hh="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),Ih=["o","ms","moz","webkit"];var Nh,Oh,Ph,Qh,Rh,Sh,Th,Uh,Vh;if(Nh=Hh?function(a,b){return b&&b!==Gh.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==Gh.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)},Dh){for(Ph=Nh("div"),Qh=["matches","matchesSelector"],Vh=function(a){return function(b,c){return b[a](c)}},Th=Qh.length;Th--&&!Oh;)if(Rh=Qh[Th],Ph[Rh])Oh=Vh(Rh);else for(Uh=Ih.length;Uh--;)if(Sh=Ih[Th]+Rh.substr(0,1).toUpperCase()+Rh.substring(1),Ph[Sh]){Oh=Vh(Sh);break}Oh||(Oh=function(a,b){var c,d,e;for(d=a.parentNode,d||(Ph.innerHTML="",d=Ph,a=a.cloneNode(),Ph.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else Oh=null;var Wh,Xh,Yh;"undefined"==typeof window?Yh=null:(Wh=window,Xh=Wh.document,Yh={},Xh||(Yh=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;for(void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0),c=this.length;c>b;b++)if(this.hasOwnProperty(b)&&this[b]===a)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f=this,g=[];for(f instanceof String&&(f=f.toString(),e=!0),c=0,d=f.length;d>c;c+=1)(f.hasOwnProperty(c)||e)&&(g[c]=a.call(b,f[c],c,f));return g}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){var c,d,e,f;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(e=this.length,f=!1,arguments.length>1&&(d=b,f=!0),c=0;e>c;c+=1)this.hasOwnProperty(c)?f&&(d=a(d,this[c],c,this)):(d=this[c],f=!0);if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e=[];for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)&&(e[e.length]=this[c]);return e}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=0;d>e;e+=1)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b,c,d,e,f=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return b=f.call(arguments,1),c=this,d=function(){},e=function(){var e=this instanceof d&&a?this:a;return c.apply(e,b.concat(f.call(arguments)))},d.prototype=this.prototype,e.prototype=new d,e}),Wh.addEventListener||!function(a,b){var c,d,e,f,g,h;a.appearsToBeIELessEqual8=!0,c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b,d.target=a.srcElement||b,d.timeStamp=+new Date,d.preventDefault=function(){a.returnValue=!1},d.stopPropagation=function(){a.cancelBubble=!0}},d=function(a,b){var d,e,f=this;d=f.listeners||(f.listeners=[]),e=d.length,d[e]=[b,function(a){b.call(f,new c(a,f))}],f.attachEvent("on"+a,d[e][1])},e=function(a,b){var c,d,e=this;if(e.listeners)for(c=e.listeners,d=c.length;d--;)c[d][0]===b&&e.detachEvent("on"+a,c[d][1])},a.addEventListener=b.addEventListener=d,a.removeEventListener=b.removeEventListener=e,"Element"in a?(a.Element.prototype.addEventListener=d,a.Element.prototype.removeEventListener=e):(h=b.createElement,b.createElement=function(a){var b=h(a);return b.addEventListener=d,b.removeEventListener=e,b},f=b.getElementsByTagName("head")[0],g=b.createElement("style"),f.insertBefore(g,f.firstChild))}(Wh,Xh),Wh.getComputedStyle||(Yh.getComputedStyle=function(){function a(c,d,e,f){var g,h=d[e],i=parseFloat(h),j=h.split(/\d/)[0];return isNaN(i)&&/^thin|medium|thick$/.test(h)&&(i=b(h),j=""),f=null!=f?f:/%|em/.test(j)&&c.parentElement?a(c.parentElement,c.parentElement.currentStyle,"fontSize",null):16,g="fontSize"==e?f:/width/i.test(e)?c.clientWidth:c.clientHeight,"em"==j?i*f:"in"==j?96*i:"pt"==j?96*i/72:"%"==j?i/100*g:i}function b(a){var b,c;return f[a]||(b=document.createElement("div"),b.style.display="block",b.style.position="fixed",b.style.width=b.style.height="0",b.style.borderRight=a+" solid black",document.getElementsByTagName("body")[0].appendChild(b),c=b.getBoundingClientRect(),f[a]=c.right-c.left),f[a]}function c(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function d(b){var d,e,f,g;d=b.currentStyle,e=this,f=a(b,d,"fontSize",null);for(g in d)/width|height|margin.|padding.|border.+W/.test(g)?"auto"===d[g]?/^width|height/.test(g)?e[g]=("width"===g?b.clientWidth:b.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(g)&&(e[g]="0px"):e[g]=a(b,d,g,f)+"px":"styleFloat"===g?e["float"]=d[g]:e[g]=d[g];return c(e,"margin"),c(e,"padding"),c(e,"border"),e.fontSize=f+"px",e}function e(a){return new d(a)}var f={};return d.prototype={constructor:d,getPropertyPriority:function(){},getPropertyValue:function(a){return this[a]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},e}()));var Zh,$h,_h,ai=Yh;try{Object.defineProperty({},"test",{value:0}),Dh&&Object.defineProperty(document.createElement("div"),"test",{value:0}),$h=Object.defineProperty}catch(bi){$h=function(a,b,c){a[b]=c.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(bi){throw bi}Dh&&Object.defineProperties(Nh("div"),{test:{value:0}}),_h=Object.defineProperties}catch(bi){_h=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&$h(a,c,b[c])}}try{Object.create(null),Zh=Object.create}catch(bi){Zh=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var ci,di,ei=Object.prototype.hasOwnProperty,fi=Object.prototype.toString,gi=/^\[object (?:Array|FileList)\]$/,hi=function(){},ii={};Eh?(di=function(a,b){console.warn.apply(console,["%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(b))},ci=function(){console.log.apply(console,arguments)}):di=ci=hi;var ji,ki="Bad arguments",li='A function was specified for "%s" %s, but no %s was returned',mi=function(a,b){return'Missing "'+a+'" '+b+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+b+"s"},ni=function(a,b,c,d){if(a===b)return t(b);if(d){var e=r("interpolators",c,d);if(e)return e(a,b)||t(b);q(mi(d,"interpolator"))}return oi.number(a,b)||oi.array(a,b)||oi.object(a,b)||t(b)},oi={number:function(a,b){var c;return j(a)&&j(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,f,g;if(!e(a)||!e(b))return null;for(c=[],d=[],g=f=Math.min(a.length,b.length);g--;)d[g]=ni(a[g],b[g]);for(g=f;g<a.length;g+=1)c[g]=a[g];for(g=f;g<b.length;g+=1)c[g]=b[g];return function(a){for(var b=f;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!k(a)||!k(b))return null;c=[],f={},e={};for(g in a)ei.call(a,g)&&(ei.call(b,g)?(c.push(g),e[g]=ni(a[g],b[g])):f[g]=a[g]);for(g in b)ei.call(b,g)&&!ei.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}};"undefined"==typeof window?ji=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(Ih,0,window),ji=window.requestAnimationFrame.bind(window));var pi,qi=ji;pi="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var ri={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};w.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&(this.deprecate.message?p(this.deprecate.message):p('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),b?a.fire(this.event,b):a.fire(this.event)};var si,ti={},ui={},vi={};"function"==typeof zi?si=zi:(si=function(a){var b,c,d,e,f,g,h=[],i=[],j=ti;d=function(a){return function(d){j===ti&&(b=d,j=a,c=F(j===ui?h:i,b),E(c))}},e=d(ui),f=d(vi);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new si(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),G(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==ti&&E(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},si.all=function(a){return new si(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},si.resolve=function(a){return new si(function(b){b(a)})},si.reject=function(a){return new si(function(b,c){c(a)})});var wi,xi,yi,zi=si,Ai={};wi=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,xi={},yi=function(a){var b=a.split(".");this.str=a,"@"===a[0]&&(this.isSpecial=!0,this.value=K(a)),this.firstKey=b[0],this.lastKey=b.pop(),this.parent=""===a?null:L(b.join(".")),this.isRoot=!a},yi.prototype={equalsOrStartsWith:function(a){return a===this||this.startsWith(a)},join:function(a){return L(this.isRoot?String(a):this.str+"."+a)},replace:function(a,b){return this===a?b:this.startsWith(a)?null===b?b:L(this.str.replace(a.str+".",b.str+".")):void 0},startsWith:function(a){return a?a&&this.str.substr(0,a.str.length+1)===a.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=H(this.str))}};var Bi=L(""),Ci=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return Bi},Di=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};Di.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Z(this)},decrementTotal:function(){this.totalChildren-=1,Z(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;C(b,a),Z(this)},init:function(){this.ready=!0,Z(this)},detachNodes:function(){this.decoratorQueue.forEach(U),this.detachQueue.forEach(X),this.children.forEach(Y)}};var Ei,Fi,Gi=[],Hi=new w("change");Fi={start:function(a,b){var c,d;return b&&(c=new zi(function(a){return d=a})),Ei={previousBatch:Ei,transitionManager:new Di(d,Ei&&Ei.transitionManager),views:[],tasks:[],viewmodels:[],instance:a},a&&Ei.viewmodels.push(a.viewmodel),c},end:function(){$(),Ei.transitionManager.init(),!Ei.previousBatch&&Ei.instance&&(Ei.instance.viewmodel.changes=[]),Ei=Ei.previousBatch},addViewmodel:function(a){return Ei?-1===Ei.viewmodels.indexOf(a)?(Ei.viewmodels.push(a),!0):!1:(a.applyChanges(),!1)},registerTransition:function(a){a._manager=Ei.transitionManager,Ei.transitionManager.add(a)},registerDecorator:function(a){Ei.transitionManager.addDecorator(a)},addView:function(a){Ei.views.push(a)},addUnresolved:function(a){Gi.push(a)},removeUnresolved:function(a){C(Gi,a)},detachWhenReady:function(a){Ei.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(Ei){for(c=Ei;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var Ii=[],Ji={tick:function(){var a,b,c;for(c=pi(),Fi.start(),a=0;a<Ii.length;a+=1)b=Ii[a],b.tick(c)||Ii.splice(a--,1);Fi.end(),Ii.length?qi(Ji.tick):Ji.running=!1},add:function(a){Ii.push(a),Ji.running||(Ji.running=!0,qi(Ji.tick))},abort:function(a,b){for(var c,d=Ii.length;d--;)c=Ii[d],c.root===b&&c.keypath===a&&c.stop()}},Ki=Ji,Li=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=ni(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};Li.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(Fi.start(this.root),this.root.viewmodel.set(f,this.to),Fi.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&p("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),Fi.start(this.root),this.root.viewmodel.set(f,c),Fi.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&p("Animation was not found"),this.root._animations.splice(a,1)}};var Mi={stop:hi},Ni=new w("detach"),Oi=function(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?Oh(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0},Pi=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},Qi=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=gb(a.component||a._ractive.proxy),d=gb(b.component||b._ractive.proxy),e=B(c),f=B(d);e&&e===f;)c.pop(),d.pop(),g=e,e=B(c),f=B(d);if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Ri=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):Qi(a,b)},Si=function(){this.sort(this._isComponentQuery?Qi:Ri),this._dirty=!1},Ti=function(){var a=this;this._dirty||(this._dirty=!0,Fi.scheduleTask(function(){a._sort()}))},Ui=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},Vi={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},Wi={capture:!0,noUnwrap:!0},Xi=new w("insert"),Yi=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};Yi.prototype={init:function(a){this.value=this.root.get(this.keypath.str),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;h(a,this.value)||(this.value=a,this.defer&&this.ready?Fi.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Zi,$i=/\*/,_i=Array.prototype.slice;Zi=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},Zi.prototype={init:function(a){var b,c;if(b=vb(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(L(c));else this.values=b},update:function(a){var b,c=this;if($i.test(a.str)){b=vb(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(L(a))}else if(!this.root.viewmodel.implicitChanges[a.str])return this.defer&&this.ready?void Fi.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d,e;return b=a.str,c=this.root.viewmodel.get(a),this.updating?void(this.values[b]=c):(this.updating=!0,h(c,this.values[b])&&this.ready||(d=_i.call(this.regex.exec(b),1),e=[c,this.values[b],b].concat(d),this.values[b]=c,this.callback.apply(this.context,e)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a.str]||(this.proxies[a.str]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a.str]}};var aj,bj,cj,dj,ej,fj,gj=/\*/,hj={},ij=function(a){return a.trim()},jj=function(a){return""!==a},kj=Array.prototype,lj=function(a){return function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];var f,g,h,i,j=[];if(b=L(O(b)),f=this.viewmodel.get(b),g=f.length,!e(f))throw new Error("Called ractive."+a+"('"+b+"'), but '"+b+"' does not refer to an array");return j=Cb(f,a,c),i=kj[a].apply(f,c),h=Fi.start(this,!0).then(function(){return i}),j?this.viewmodel.smartUpdate(b,f,j):this.viewmodel.mark(b),Fi.end(),h}},mj=lj("pop"),nj=lj("push"),oj="/* Ractive.js component styles */\n",pj={},qj=[];Dh?(cj=document.createElement("style"),cj.type="text/css",dj=document.getElementsByTagName("head")[0],fj=!1,ej=cj.styleSheet,bj=function(){var a;qj.length?(a=oj+qj.join(" "),ej?ej.cssText=a:cj.innerHTML=a,fj||(dj.appendChild(cj),fj=!0)):fj&&(dj.removeChild(cj),fj=!1)},aj={add:function(a){a.css&&(pj[a._guid]||(pj[a._guid]=0,qj.push(a.css),bj()),pj[a._guid]+=1)},remove:function(a){a.css&&(pj[a._guid]-=1,pj[a._guid]||(C(qj,a.css),Fi.scheduleTask(bj)))}}):aj=null;var rj,sj,tj,uj=aj,vj=new w("render"),wj=new w("complete"),xj=function(a,b,c,d){var e=a.root,f=a.keypath;return"sort"===c||"reverse"===c?void e.viewmodel.set(f,b):void e.viewmodel.smartUpdate(f,b,d)},yj=[],zj=["pop","push","reverse","shift","sort","splice","unshift"];zj.forEach(function(a){var b=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d,e,f,g;for(d=Cb(this,a,b),e=Array.prototype[a].apply(this,arguments),Fi.start(),this._ractive.setting=!0,g=this._ractive.wrappers.length;g--;)f=this._ractive.wrappers[g],Fi.addViewmodel(f.root.viewmodel),xj(f,this,a,d);return Fi.end(),this._ractive.setting=!1,e};$h(yj,a,{value:b})}),rj={},rj.__proto__?(sj=function(a){a.__proto__=yj
},tj=function(a){a.__proto__=Array.prototype}):(sj=function(a){var b,c;for(b=zj.length;b--;)c=zj[b],$h(a,c,{value:yj[c],configurable:!0})},tj=function(a){var b;for(b=zj.length;b--;)delete a[zj[b]]}),sj.unpatch=tj;var Aj,Bj,Cj,Dj=sj;Aj={filter:function(a){return e(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new Bj(a,b,c)}},Bj=function(a,b,c){this.root=a,this.value=b,this.keypath=L(c),b._ractive||($h(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Dj(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},Bj.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(Cj);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(Cj);d.splice(e,1)}}else delete a._ractive,Dj.unpatch(this.value)}},Cj="Something went wrong in a rather interesting way";var Ej,Fj,Gj=/^\s*[0-9]+\s*$/,Hj=function(a){return Gj.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Ej={filter:function(a,b,c){var d,f;return b?(b=L(b),(d=c.viewmodel.wrapped[b.parent.str])&&!d.magic?!1:(f=c.viewmodel.get(b.parent),e(f)&&/^[0-9]+$/.test(b.lastKey)?!1:f&&("object"==typeof f||"function"==typeof f))):!1},wrap:function(a,b,c){return new Fj(a,b,c)}},Fj=function(a,b,c){var d,e,f;return c=L(c),this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,this.prop=c.lastKey,d=c.parent,this.obj=d.isRoot?a.data:a.viewmodel.get(d),e=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),e&&e.set&&(f=e.set._ractiveWrappers)?void(-1===f.indexOf(this)&&f.push(this)):void Gb(this,b,e)},Fj.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,Fi.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{dontTeardownWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Hj(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(bi){Ej=!1}var Ij,Jj;Ej&&(Ij={filter:function(a,b,c){return Ej.filter(a,b,c)&&Aj.filter(a)},wrap:function(a,b,c){return new Jj(a,b,c)}},Jj=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=Ej.wrap(a,b,c),this.arrayWrapper=Aj.wrap(a,b,c)},Jj.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var Kj,Lj,Mj,Nj={extend:function(a,b,c){b.adapt=Hb(b.adapt,A(c.adapt))},init:function(a,b,c){function d(a){return"string"==typeof a&&(a=r("adaptors",b,a),a||o(mi(a,"adaptor"))),a}var e,f;if(e=b.adapt.map(d),f=A(c.adapt).map(d),b.adapt=Hb(e,f),b.magic){if(!Fh)throw new Error("Getters and setters (magic mode) are not supported in this browser");b.modifyArrays&&b.adapt.push(Ij),b.adapt.push(Ej)}b.modifyArrays&&b.adapt.push(Aj)}},Oj=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Pj=/\/\*.*?\*\//g,Qj=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Rj=/^@media/,Sj=/\[data-ractive-css="[a-z0-9-]+"]/g,Tj={name:"css",extend:function(a,b,c){var d,e=b.constructor._guid;(d=Lb(c.css,c,e)||Lb(a.css,a,e))&&(b.constructor.css=d)},init:function(){}},Uj=function(a,b,c){return c||Mb(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},Vj={name:"data",extend:function(a,b,c){b.data=Nb(a,b,c)},init:function(a,b,c){var d=c.data,e=Nb(a,b,c);return"function"==typeof e&&(e=e.call(b,d)||d),b.data=e||{}},reset:function(a){var b=this.init(a.constructor,a,a);return b?(a.data=b,!0):void 0}},Wj=1,Xj=2,Yj=3,Zj=4,$j=5,_j=6,ak=7,bk=8,ck=9,dk=10,ek=13,fk=14,gk=15,hk=16,ik=17,jk=18,kk=20,lk=21,mk=22,nk=23,ok=24,pk=26,qk=27,rk=30,sk=31,tk=32,uk=33,vk=34,wk=35,xk=36,yk=40,zk=50,Ak=51,Bk=52,Ck=53,Dk=54,Ek=55,Fk="Expected a JavaScript expression",Gk="Expected closing paren",Hk=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Ik=function(a){var b;return(b=a.matchPattern(Hk))?{t:kk,v:b}:null},Jk=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:ok,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:ok,v:"false"}):null};Kj=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Lj=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Mj=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Kk,Lk,Mk,Nk,Ok,Pk=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(Kj)||b.matchPattern(Lj)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(Mj),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},Qk=Pk('"'),Rk=Pk("'"),Sk=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=Rk(a),a.matchString('"')?{t:lk,v:c}:(a.pos=b,null)):a.matchString("'")?(c=Qk(a),a.matchString("'")?{t:lk,v:c}:(a.pos=b,null)):null},Tk=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Uk=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,Vk=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Wk=function(a){var b;return(b=Sk(a))?Vk.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=Ik(a))?b.v:(b=a.matchPattern(Tk))?b:void 0},Xk=function(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=Wk(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=a.readExpression(),null===d?(a.pos=b,null):{t:qk,k:c,v:d}):(a.pos=b,null))},Yk=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=Ub(a),a.allowWhitespace(),a.matchString("}")?{t:nk,m:c}:(a.pos=b,null)):(a.pos=b,null)},Zk=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=Vb(a),a.matchString("]")?{t:mk,m:c}:(a.pos=b,null)):(a.pos=b,null)},$k=function(a){var b=Ik(a)||Jk(a)||Sk(a)||Yk(a)||Zk(a);return b};Kk=/^\.[a-zA-Z_$0-9]+/,Mk=function(a){var b=a.matchPattern(Lk);return b?"."+b:null},Lk=/^\[(0|[1-9][0-9]*)\]/,Nk=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,Ok=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var _k,al,bl=function(a){var b,c,d,e,f,g,h,i;if(b=a.pos,a.matchString("~/"))c="~/";else for(c="";a.matchString("../");)c+="../";if(c||(e=a.matchString("./")||a.matchString(".")||""),i=a.relaxedNames?Uk:Tk,d=a.matchPattern(/^@(?:keypath|index|key)/)||a.matchPattern(i)||"",!a.relaxedNames&&!e&&!c&&Ok.test(d))return a.pos=b,null;if(!c&&!e&&!a.relaxedNames&&Nk.test(d))return{t:pk,v:d};if(f=(c||e)+d,!f)return null;for(;g=a.matchPattern(Kk)||Mk(a);)f+=g;return a.matchString("(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:rk,n:f.replace(/^this\./,"./").replace(/^this$/,".")}},cl=function(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=a.readExpression(),c||a.error(Fk),a.allowWhitespace(),a.matchString(")")||a.error(Gk),{t:vk,x:c}):null},dl=function(a){return $k(a)||bl(a)||cl(a)},el=function(a){var b,c,d,e;if(c=dl(a),!c)return null;for(;c;)if(b=a.pos,d=Wb(a))c={t:tk,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=Vb(a),a.allowWhitespace(),a.matchString(")")||a.error(Gk),c={t:yk,x:c},e&&(c.o=e)}return c};al=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=c.readExpression(),d||c.error(Fk),{s:a,o:d,t:uk}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=el,a=0,b=d.length;b>a;a+=1)c=al(d[a],e),e=c;_k=e}();var fl,gl;gl=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:xk,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=_k,a=0,b=d.length;b>a;a+=1)c=gl(d[a],e),e=c;fl=e}();var hl,il,jl=function(a){var b,c,d,e;return(c=fl(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(Fk),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=a.readExpression(),e||a.error(Fk),{t:wk,o:[c,d,e]}):(a.pos=b,c)):null},kl=function(a){var b,c=[];return Yb(a,c),b={r:c,s:Zb(this,a,c)}},ll=/^\s+/;il=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},il.prototype=Error.prototype,hl=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},hl.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return jl(this)},flattenExpression:kl,getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b,c,d,e,f,g;throw b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=e+"\n"+new Array(b[1]).join(" ")+"^----",g=new il(a+" at line "+c+" character "+d+":\n"+f),g.line=b[0],g.character=b[1],g.shortMessage=a,g},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(ll)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},hl.extend=function(a){var b,c,d=this;b=function(a,b){hl.call(this,a,b)},b.prototype=Zh(d.prototype);for(c in a)ei.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=hl.extend,b};var ml,nl=/^[^\s=]+/,ol=/^\s+/,pl=function(a){var b,c,d;return a.matchString("=")?(b=a.pos,a.allowWhitespace(),(c=a.matchPattern(nl))?a.matchPattern(ol)?(d=a.matchPattern(nl))?(a.allowWhitespace(),a.matchString("=")?[c,d]:(a.pos=b,null)):(a.pos=b,null):null:(a.pos=b,null)):null},ql=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],rl={"#":Zj,"^":$j,"/":_j,">":bk,"!":ck,"&":Yj},sl=function(a){var b=rl[a.str.charAt(a.pos)];return b?(a.pos+=1,b):null},tl={each:Bk,"if":zk,"if-with":Dk,"with":Ck,unless:Ak,partial:Ek},ul=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,vl=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,wl=/^[0-9][1-9]*$/,xl=new RegExp("^("+Object.keys(tl).join("|")+")\\b");ml=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;var yl,zl,Al,Bl,Cl,Dl,El,Fl,Gl=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(c=a.pos,e={},l=a[b.delimiters],b.isStatic&&(e.s=!0),b.isTriple)e.t=Yj;else{if("!"===a.remaining()[0]){try{h=a.readExpression(),a.allowWhitespace(),a.remaining().indexOf(l[1])?h=null:e.t=Xj}catch(n){}if(!h)return k=a.remaining().indexOf(l[1]),~k?a.pos+=k:a.error("Expected closing delimiter ('"+l[1]+"')"),{t:ck}}if(!h)if(f=sl(a),e.t=f||Xj,f===Zj)(g=a.matchPattern(xl))&&(e.n=g),a.allowWhitespace();else if((f===ck||f===_j)&&(j=a.remaining(),k=j.indexOf(l[1]),-1!==k))return e.r=j.substr(0,k).split(" ")[0],a.pos+=k,e}if(!h){a.allowWhitespace(),f===bk?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=m):e.t===Xj&&a.matchString("yield ")?(a.allowWhitespace(),e.r="yield",m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1,h&&h.t===rk?(e.yn=h.n,h=null):h&&a.error("Only names are supported with yield.")):e.t===Zj&&"partial"===e.n?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1):h=a.readExpression();var o=void 0;if(e.t===bk&&h&&(o=a.readExpression())&&(e={contextPartialExpression:h},h=o),j=a.remaining(),j.substr(0,l[1].length)!==l[1]&&":"!==j.charAt(0)){if(d=a.pos,a.pos=c,j=a.remaining(),k=j.indexOf(l[1]),-1!==k)return e.r=j.substr(0,k).trim(),ml.test(e.r)||a.error("Expected a legal Mustache reference"),a.pos+=k,e;a.pos=d}}if($b(a,h,e),e.contextPartialExpression&&(e.contextPartialExpression=[$b(a,e.contextPartialExpression,{t:bk})]),i=a.matchPattern(ul)){var p=void 0;e.i=(p=a.matchPattern(vl))?i+","+p:i}return e},Hl={t:dk,exclude:!0},Il="<!--",Jl="-->",Kl=function(a){var b,c,d,e,f;return b=a.pos,a.matchString(Il)?(d=a.remaining(),e=d.indexOf(Jl),-1===e&&a.error("Illegal HTML - expected closing comment sequence ('-->')"),c=d.substr(0,e),a.pos+=e+3,f={t:ck,c:c},a.includeLinePositions&&(f.p=a.getLinePos(b)),f):null};yl=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,zl=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,Al={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Bl=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Cl=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(Al).join("|")+"));?","g"),Dl=/</g,El=/>/g,Fl=/&/g;var Ll,Ml,Nl,Ol,Pl,Ql,Rl,Sl=/[-/\\^$*+?.()|[\]{}]/g,Tl=/^<!--\s*/,Ul=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Vl=/\s*-->/,Wl=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1},Xl=function(a){var b,c,d,e;return c=a.remaining(),e=a.inside?"</"+a.inside:"<",a.inside&&!a.interpolate[a.inside]?b=c.indexOf(e):(d=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],a.inAttribute===!0?d.push('"',"'","=","<",">","`"):d.push(a.inAttribute?a.inAttribute:e),b=Wl(c,d)),b?(-1===b&&(b=c.length),a.pos+=b,a.inside?c.substr(0,b):dc(c.substr(0,b))):null},Yl=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Zl=function(a){var b;return a.matchString("</")?(b=a.matchPattern(Yl))?{t:fk,e:b}:(a.pos-=2,void a.error("Illegal closing tag")):null},$l=/^[^\s"'>\/=]+/,_l=/^[^\s"'=<>`]+/,am=function(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})};Ml=function(){var a={};return am(a,"true",!0),am(a,"false",!1),am(a,"undefined",void 0),am(a,"null",null),a}(),Nl=new RegExp("^(?:"+Object.keys(Ml).join("|")+")"),Ol=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Pl=/\$\{([^\}]+)\}/g,Ql=/^\$\{([^\}]+)\}/,Rl=/^\s*$/,Ll=hl.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&Rl.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(Ql),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(Nl))?{v:Ml[b]}:void 0},function(a){var b;return(b=a.matchPattern(Ol))?{v:+b}:void 0},function(a){var b,c=Sk(a);return c&&(b=a.values)?{v:c.v.replace(Pl,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=oc(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var bm,cm=function(a,b){var c=new Ll(a,{values:b});return c.result},dm=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/;bm=hl.extend({converters:[jl]});var em,fm,gm=function(a){var b,c,d,e,f,g,h,i,j;if("string"==typeof a){if(c=dm.exec(a))return b={m:c[1]},e="["+a.slice(b.m.length+1,-1)+"]",d=new bm(e),b.a=kl(d.result[0]),b;if(-1===a.indexOf(":"))return a.trim();a=[a]}if(b={},h=[],i=[],a){for(;a.length;)if(f=a.shift(),"string"==typeof f){if(g=f.indexOf(":"),-1!==g){g&&h.push(f.substr(0,g)),f.length>g+1&&(i[0]=f.substring(g+1));break}h.push(f)}else h.push(f);i=i.concat(a)}return h.length?i.length||"string"!=typeof h?(b={n:1===h.length&&"string"==typeof h[0]?h[0]:h},1===i.length&&"string"==typeof i[0]?(j=cm("["+i[0]+"]"),b.a=j?j.value:i[0].trim()):b.d=i):b=h:b="",b},hm=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,im=/^[\s\n\/>]/,jm=/^on/,km=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,lm=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,mm={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},nm={exclude:!0};em=[hc,ac,Kl,pc,Xl,Zl],fm={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var om,pm,qm=pc,rm=/^[ \t\f\r\n]+/,sm=/[ \t\f\r\n]+$/,tm=function(a,b,c){var d;b&&(d=a[0],"string"==typeof d&&(d=d.replace(rm,""),d?a[0]=d:a.shift())),c&&(d=B(a),"string"==typeof d&&(d=d.replace(sm,""),d?a[a.length-1]=d:a.pop()))},um=/^\s*\r?\n/,vm=/\r?\n\s*$/,wm=function(a){var b,c,d,e,f;for(b=1;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b-2],rc(c)&&sc(d)&&rc(e)&&vm.test(e)&&um.test(c)&&(a[b-2]=e.replace(vm,"\n"),a[b]=c.replace(um,"")),tc(c)&&rc(d)&&vm.test(d)&&rc(c.f[0])&&um.test(c.f[0])&&(a[b-1]=d.replace(vm,"\n"),c.f[0]=c.f[0].replace(um,"")),rc(c)&&tc(d)&&(f=B(d.f),rc(f)&&vm.test(f)&&um.test(c)&&(d.f[d.f.length-1]=f.replace(vm,"\n"),a[b]=c.replace(um,"")));return a},xm=uc,ym=/[ \t\f\r\n]+/g,zm=/^(?:pre|script|style|textarea)$/i,Am=/^\s+/,Bm=/\s+$/;om=hl.extend({init:function(a,b){yc(b,this),this.sectionDepth=0,this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1},b.sanitize===!0&&(b.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=b.sanitize&&b.sanitize.elements,this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes,this.includeLinePositions=b.includeLinePositions,this.StandardParser=om},postProcess:function(a,b){return this.sectionDepth>0&&this.error("A section was left open"),xc(a,b.stripComments!==!1,b.preserveWhitespace,!b.preserveWhitespace,!b.preserveWhitespace,b.rewriteElse!==!1),a},converters:[hc,ac,Kl,qm,Xl]}),pm=function(a){var b,c=void 0===arguments[1]?{}:arguments[1];yc(c),b={v:2},b.t=new om(a,c).result;var d={};return xm(c.ractive?[c.ractive]:[],d,b.t),g(d)||(b.p=d),b};var Cm,Dm,Em,Fm=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],Gm={parse:Ac,fromId:Bc,isHashedId:Cc,isParsed:Dc,getParseOptions:Ec,createHelper:zc},Hm=Gm,Im={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:Ic(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=Gc(b,e),b._config.template={fn:e,result:d}),d=Ic(d,b),b.template=d.t,d.p&&Jc(b.partials,d.p)},reset:function(a){var b,c=Fc(a);return c?(b=Ic(c,a),a.template=b.t,Jc(a.partials,b.p,!0),!0):void 0}};Cm=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],Dm=function(a,b){this.name=a,this.useDefaults=b},Dm.prototype={constructor:Dm,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,b,c)},configure:function(a,b,c){var d,e=this.name,f=c[e];d=Zh(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c}},Em=Cm.map(function(a){return new Dm(a,"computed"===a)});var Jm,Km,Lm,Mm,Nm,Om;Mm={adapt:Nj,css:Tj,data:Vj,template:Im},Lm=Object.keys(Kh),Om=Rc(Lm.filter(function(a){return!Mm[a]})),Nm=Rc(Lm.concat(Em.map(function(a){return a.name}))),Km=[].concat(Lm.filter(function(a){return!Em[a]&&!Mm[a]}),Em,Mm.data,Mm.template,Mm.css),Jm={extend:function(a,b,c){return Pc("extend",a,b,c)},init:function(a,b,c){return Pc("init",a,b,c)},reset:function(a){return Km.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},order:Km,getConstructTarget:function(a,b){return b.onconstruct?{onconstruct:Kc(a,"onconstruct",b.onconstruct).bind(a),fire:a.fire.bind(a)}:a}};var Pm=function(){return b(this.node)},Qm=function(a){this.type=Wj,this.text=a.template};Qm.prototype={detach:Pm,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?fc(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var Rm=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=P(a.root,b,a.parentFragment),void 0!=d?this.resolve(d):Fi.addUnresolved(this)};Rm.prototype={resolve:function(a){this.keypath&&!a&&Fi.addUnresolved(this),this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(L(this.ref))},rebind:function(a,b){var c;void 0!=this.keypath&&(c=this.keypath.replace(a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||Fi.removeUnresolved(this)}};var Sm=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},Tm={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Sm.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=Tm[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(L("@"+d.prefix+ed(this.cached,d)));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===Bk&&void 0!==(a=ed(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback(L("@"+d.prefix+a));c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=ed(c,d)))return this.callback(L("@"+d.prefix+a.str));c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Um=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};Um.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback(L("@"+a))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}},fd.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var Vm,Wm={},Xm=Function.prototype.bind;Vm=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return gd(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},Vm.prototype={bubble:function(){this.ready&&(this.uniqueString=jd(this.str,this.keypaths),this.keypath=kd(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e,f=this;d=this.keypath,a=this.root.viewmodel.computations[d.str],a?this.root.viewmodel.mark(d):(e=hd(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:a.isSpecial?(b=a.value,function(){return b}):function(){var b=f.root.viewmodel.get(a,{noUnwrap:!0});return"function"==typeof b&&(b=md(b,f.root)),b}}),c={deps:this.keypaths.filter(ld),get:function(){var a=b.map(id);return e.apply(null,a)}},a=this.root.viewmodel.compute(d,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var Ym=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===rk?this.refResolver=gd(this,a.n,function(a){d.resolve(a)}):new Vm(b,c,a,function(a){d.resolve(a)})};Ym.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Zm=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=P(d,e,g))?this.base=f:this.baseResolver=new Rm(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new Ym(a,h,g)}),this.ready=!0,this.bubble()};Zm.prototype={getKeypath:function(){var a=this.members.map(nd);return!a.every(od)||this.baseResolver?null:this.base.join(a.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(V)},rebind:function(a,b){var c;this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=L(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(pd),this.bubble()}};var $m={getValue:dd,init:qd,resolve:rd,rebind:sd},_m=function(a){this.type=Xj,$m.init(this,a)};_m.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:$m.resolve,rebind:$m.rebind,detach:Pm,unbind:cd,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&b(this.node)},getValue:$m.getValue,setValue:function(a){var b;this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),h(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&Fi.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";return a?fc(b):b}};var an=function(a,b){$m.rebind.call(this,a,b)},bn=function(a){this.type=Zj,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===Ak,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}})),this.renderedFragments=[],this.length=0,$m.init(this,a)};bn.prototype={bubble:td,detach:ud,find:vd,findAll:wd,findAllComponents:xd,findComponent:yd,findNextNode:zd,firstNode:Ad,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:$m.getValue,shuffle:Bd,rebind:an,render:Dd,resolve:$m.resolve,setValue:Ed,toString:Pd,unbind:Qd,unrender:Rd,update:Ud};var cn,dn,en={};try{Nh("table").innerHTML="foo"}catch(bi){cn=!0,dn={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var fn=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(cn&&(e=dn[b.tagName])?(d=Zd("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===Gh.svg?(d=Zd("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=Zd(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},gn=function(a){this.type=Yj,$m.init(this,a)};gn.prototype={detach:Vd,find:Wd,findAll:Xd,firstNode:Yd,getValue:$m.getValue,rebind:$m.rebind,render:ae,resolve:$m.resolve,setValue:be,toString:ce,unbind:cd,unrender:de,update:ee};
var hn,jn,kn,ln,mn=function(){this.parentFragment.bubble()},nn=function(a){return this.node?Oh(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},on=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},pn=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},qn=function(a){return this.fragment?this.fragment.findComponent(a):void 0},rn=/^true|on|yes|1$/i,sn=/^[0-9]+$/,tn=function(a,b){var c;c=b.twoway,void 0!==c&&(a.twoway=0===c||rn.test(c),delete b.twoway),c=b.lazy,void 0!==c&&(a.lazy=0!==c&&sn.test(c)?parseInt(c):0===c||rn.test(c),delete b.lazy)};hn="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),jn="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),kn=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},ln=kn(hn.concat(jn));var un=function(a){var b=a.toLowerCase();return ln[b]||b},vn=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==Gh.html?un(b):b;else if(b=b.substring(c+1),a.name=un(b),a.namespace=Gh[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},wn={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},xn=function(a){this.init(a)};xn.prototype={bubble:je,init:le,rebind:me,render:ne,toString:oe,unbind:qe,update:De};var yn,zn=function(a,b){var c,d,e=[];for(c in b)b.hasOwnProperty(c)&&(d=new xn({element:a,name:c,value:b[c],root:a.root}),e[c]=d,"value"!==c&&e.push(d));return(d=e.value)&&e.push(d),e};"undefined"!=typeof document&&(yn=Nh("div"));var An=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new jp({root:a.root,owner:this,template:[b]})};An.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===Gh.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=Ee(a,this.isSvg),this.attributes.filter(function(a){return Fe(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var Bn=function(a,b){return b?b.map(function(b){return new An(a,b)}):[]},Cn=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c.str.slice(-1))return p("Two-way binding does not work with expressions (`%s` on <%s>)",b.resolver.uniqueString,a.name),!1}else b.resolver.forceResolution(),c=b.keypath;this.attribute.isTwoway=!0,this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=Ge(a))&&(this.resetValue=d,e.formBindings.push(this))};Cn.prototype={handleChange:function(){var a=this;Fi.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),Fi.scheduleTask(function(){return a.attribute.locked=!1}),Fi.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(C(this.root._twowayBindings[b.str],this),this.keypath=c,a=this.root._twowayBindings[c.str]||(this.root._twowayBindings[c.str]=[]),a.push(this))},unbind:function(){}},Cn.extend=function(a){var b,d=this;return b=function(a){Cn.call(this,a),this.init&&this.init()},b.prototype=Zh(d.prototype),c(b.prototype,a),b.extend=Cn.extend,b};var Dn,En=Cn,Fn=En.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",He,!1),this.root.lazy||(a.addEventListener("input",He,!1),a.attachEvent&&a.addEventListener("keyup",He,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",He,!1),a.removeEventListener("input",He,!1),a.removeEventListener("keyup",He,!1)},getValue:function(){return this.element.node.innerHTML}}),Gn={},Hn=En.extend({name:"checked",init:function(){this.siblings=Ie(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",He,!1),a.attachEvent&&a.addEventListener("click",He,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",He,!1),a.removeEventListener("click",He,!1)},handleChange:function(){Fi.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),Fi.end()},getValue:function(){return this.element.node.checked},unbind:function(){C(this.siblings,this)}}),In=En.extend({name:"name",init:function(){this.siblings=Ie(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath.str+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",He,!1),a.attachEvent&&a.addEventListener("click",He,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",He,!1),a.removeEventListener("click",He,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&En.prototype.handleChange.call(this)},rebound:function(a,b){var c;En.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath.str+"}}")},unbind:function(){C(this.siblings,this)}}),Jn=En.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.siblings=Ie(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){C(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=e(a)?y(a,b):a==b,c.name="{{"+this.keypath.str+"}}",c.checked=this.isChecked,c.addEventListener("change",He,!1),c.attachEvent&&c.addEventListener("click",He,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",He,!1),a.removeEventListener("click",He,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,En.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(Je).map(Ke)}}),Kn=En.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",He,!1),a.attachEvent&&a.addEventListener("click",He,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",He,!1),a.removeEventListener("click",He,!1)},getValue:function(){return this.element.node.checked}}),Ln=En.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",He,!1)},unrender:function(){this.element.node.removeEventListener("change",He,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Fi.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),Mn=Ln.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",He,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",He,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&z(c,b)||Ln.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Fi.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Nn=En.extend({render:function(){this.element.node.addEventListener("change",He,!1)},unrender:function(){this.element.node.removeEventListener("change",He,!1)},getValue:function(){return this.element.node.files}});Dn=En.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:i(this.element.lazy)&&(a=!1,c=this.element.lazy),b.addEventListener("change",He,!1),a||(b.addEventListener("input",c?Me:He,!1),b.attachEvent&&b.addEventListener("keyup",c?Me:He,!1)),b.addEventListener("blur",Le,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",He,!1),a.removeEventListener("input",He,!1),a.removeEventListener("keyup",He,!1),a.removeEventListener("blur",Le,!1)}});var On=Dn.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),Pn=/^event(?:\.(.+))?/,Qn={},Rn={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Sn=function(a,b,c){this.init(a,b,c)};Sn.prototype={bubble:Pe,fire:Qe,getAction:Re,init:Se,listen:Xe,rebind:Ze,render:$e,resolve:_e,unbind:af,unrender:bf};var Tn=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new Sn(a,e[c],b[d]),g.push(f);return g},Un=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new jp({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new jp({template:b.d,root:c,owner:a}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getArgsList(),f.ready&&f.update()}),this.fn=r("decorators",c,d),this.fn||p(mi(d,"decorator")))};Un.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var Vn,Wn,Xn,Yn=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};Dh?(Wn={},Xn=Nh("div").style,Vn=function(a){var b,c,d;if(a=Yn(a),!Wn[a])if(void 0!==Xn[a])Wn[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=Ih.length;b--;)if(c=Ih[b],void 0!==Xn[c+d]){Wn[a]=c+d;break}return Wn[a]}):Vn=null;var Zn,$n,_n=Vn;Dh?($n=window.getComputedStyle||ai.getComputedStyle,Zn=function(a){var b,c,d,f,g;if(b=$n(this.node),"string"==typeof a)return g=b[_n(a)],"0px"===g&&(g=0),g;if(!e(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)f=a[d],g=b[_n(f)],"0px"===g&&(g=0),c[f]=g;return c}):Zn=null;var ao=function(a,b){var c;if("string"==typeof a)this.node.style[_n(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[_n(c)]=a[c]);return this},bo=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(q(mi(a.easing,"easing")),b=rf)):b="function"==typeof a.easing?a.easing:rf,this.easing=b,this.start=pi(),this.end=this.start+this.duration,this.running=!0,Ki.add(this)};bo.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var co,eo,fo,go,ho,io,jo,ko,lo=new RegExp("^-(?:"+Ih.join("|")+")-"),mo=function(a){return a.replace(lo,"")},no=new RegExp("^(?:"+Ih.join("|")+")([A-Z])"),oo=function(a){var b;return a?(no.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},po={},qo={};Dh?(eo=Nh("div").style,function(){void 0!==eo.transition?(fo="transition",go="transitionend",ho=!0):void 0!==eo.webkitTransition?(fo="webkitTransition",go="webkitTransitionEnd",ho=!0):ho=!1}(),fo&&(io=fo+"Duration",jo=fo+"Property",ko=fo+"TimingFunction"),co=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[jo]=d.map(_n).map(oo).join(","),a.node.style[ko]=oo(c.easing||"linear"),a.node.style[io]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(Yn(mo(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(go,j,!1),h=!0,i())},a.node.addEventListener(go,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,q=[];o--;)m=d[o],e=f+m,ho&&!qo[e]&&(a.node.style[_n(m)]=b[m],po[e]||(k=a.getStyle(m),po[e]=a.getStyle(m)!=b[m],qo[e]=!po[e],qo[e]&&(a.node.style[_n(m)]=k))),(!ho||qo[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?p("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!"):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],q.push({name:_n(m),interpolator:ni(parseFloat(k),parseFloat(b[m])),suffix:n}));q.length?new bo({root:a.root,duration:c.duration,easing:Yn(c.easing||""),step:function(b){var c,d;for(d=q.length;d--;)c=q[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(go,j,!1),h=!0,i())},0)},c.delay||0)}):co=null;var ro,so,to,uo,vo;if("undefined"!=typeof document){if(ro="hidden",vo={},ro in document)to="";else for(uo=Ih.length;uo--;)so=Ih[uo],ro=so+"Hidden",ro in document&&(to=so);void 0!==to?(document.addEventListener(to+"visibilitychange",sf),sf()):("onfocusout"in document?(document.addEventListener("focusout",tf),document.addEventListener("focusin",uf)):(window.addEventListener("pagehide",tf),window.addEventListener("blur",tf),window.addEventListener("pageshow",uf),window.addEventListener("focus",uf)),vo.hidden=!1)}var wo,xo,yo;Dh?(xo=window.getComputedStyle||ai.getComputedStyle,wo=function(a,b,c){var d,e=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(vo.hidden)return this.setStyle(a,b),yo||(yo=zi.resolve());"string"==typeof a?(d={},d[a]=b):(d=a,c=b),c||(p('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),c=this);var f=new zi(function(a){var b,f,g,h,i,j,k;if(!c.duration)return e.setStyle(d),void a();for(b=Object.keys(d),f=[],g=xo(e.node),i={},j=b.length;j--;)k=b[j],h=g[_n(k)],"0px"===h&&(h=0),h!=d[k]&&(f.push(k),e.node.style[_n(k)]=h);return f.length?void co(e,d,c,f,a):void a()});return f}):wo=null;var zo=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),d({},a,b)},Ao=function(a,b,c){this.init(a,b,c)};Ao.prototype={init:qf,start:vf,getStyle:Zn,setStyle:ao,animateStyle:wo,processParams:zo};var Bo,Co;Bo=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},Co=function(){this.node.type&&"text/javascript"!==this.node.type||p("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var Do=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(Df).join("")+this.conditionalAttributes.map(Df).join(""),"option"===this.name&&Bf(this)&&(a+=" selected"),"input"===this.name&&Cf(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=fc(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),zl.test(this.template.e)||(a+="</"+this.template.e+">"),a)},Eo=function(a){this.init(a)};Eo.prototype={bubble:mn,detach:fe,find:nn,findAll:on,findAllComponents:pn,findComponent:qn,findNextNode:ge,firstNode:he,getAttribute:ie,init:jf,rebind:kf,render:xf,toString:Do,unbind:Ef,unrender:Ff};var Fo=/^\s*$/,Go=/^\s*/,Ho=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&Fo.test(c)&&b.shift(),d=B(b),void 0!==d&&Fo.test(d)&&b.pop(),e=b.reduce(Hf,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},Io=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},Jo=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=bk,this.index=a.index,this.name=a.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,$m.init(this,a),!this.keypath&&(c=If(this.root,this.name))&&(cd.call(this),this.isNamed=!0,this.setTemplate(c))};Jo.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||sd.call(this,a,b),this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:$m.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=If(this.root,""+a)),!b&&this.name&&(b=If(this.root,this.name))&&(cd.call(this),this.isNamed=!0),b||(this.root.debug?o:q)('Could not find template for partial "%s"',this.name),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&Fi.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new jp({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Wj?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?Io(b,e[0]):b):b},unbind:function(){this.isNamed||cd.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var Ko=new w("detach"),Lo={},Mo=/\$\{([^\}]+)\}/g,No=function(a){return"function"==typeof a?{get:a}:"string"==typeof a?{get:gg(a)}:("object"==typeof a&&"string"==typeof a.get&&(a={get:gg(a.get),set:a.set}),a)},Oo=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};Oo.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a.str]=null,this.viewmodel.register(a,this.computation,"computed")}};var Po=function(a,b,c){var d=this;this.ractive=a,this.viewmodel=a.viewmodel,this.key=b,this.getter=c.get,this.setter=c.set,this.hardDeps=c.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(b){return a.viewmodel.register(b,d,"computed")}),this._dirty=this._firstRun=!0};Po.prototype={constructor:Po,init:function(){var a;this.bypass=!0,a=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==a&&this.set(a)},invalidate:function(){this._dirty=!0},get:function(){var a,b,c,d=this,e=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(a=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?e=!0:[this.hardDeps,this.softDeps].forEach(function(b){var c,f,g;if(!e)for(g=b.length;g--;)if(c=b[g],f=a.viewmodel.get(c),!h(f,d.depValues[c.str]))return d.depValues[c.str]=f,void(e=!0)}),e){a.viewmodel.capture();try{this.value=this.getter.call(a)}catch(f){a.debug&&(p('Failed to compute "%s"',this.key.str),ci(f.stack||f)),this.value=void 0}b=a.viewmodel.release(),c=this.updateDependencies(b),c&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){d.depValues[b.str]=a.viewmodel.get(b)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,hg(this.viewmodel,d)&&!this.unresolvedDeps[d.str]?(f=new Oo(this,d.str),a.splice(b,1),this.unresolvedDeps[d.str]=f,Fi.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var Qo={FAILED_LOOKUP:!0},Ro={};ng.prototype.setValue=function(a){this.viewmodel.set(this.keypath,a,{noMapping:!0})},og.prototype={ensureKeypath:function(){if(!this.keypath&&(l(this.force)&&this.force(),!this.keypath))throw new Error('Mapping "'+this.localKey.str+'" on component "'+this.local.ractive.component.name+'" does not have a keypath. This is usually caused by an ambiguous complex reference, which can usually be fixed by scoping your references.')},get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.setup()},map:function(a){return a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.resolved&&this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){this.ensureKeypath(),this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new ng(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);a.origin.register(c,b.dep,b.group),b.dep.setValue(a.origin.get(c))}),this.origin.mark(this.keypath)))},setValue:function(a){this.ensureKeypath(),this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(a,b,c){for(var d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}};var So=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},To={},Uo={implicit:!0},Vo={noCascade:!0},Wo=function(a,b){var c,d;this.ractive=a,this.mappings=b||Zh(null);for(c in b)b[c].initViewmodel(this);if(a.data&&a.parameters!==!0)for(c in a.data)(d=this.mappings[c])&&void 0===d.getValue()&&d.setValue(a.data[c]);this.cache={},this.cacheMap=Zh(null),this.deps={computed:Zh(null),"default":Zh(null)},this.depsMap={computed:Zh(null),"default":Zh(null)},this.patternObservers=[],this.specials=Zh(null),this.wrapped=Zh(null),this.computations=Zh(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={}};Wo.prototype={adapt:Uf,applyChanges:_f,capture:eg,clearCache:fg,compute:ig,get:jg,init:lg,map:pg,mark:qg,merge:rg,register:ug,release:wg,set:xg,smartUpdate:zg,teardown:Bg,unregister:Cg},Eg.prototype={constructor:Eg,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?Fg(this.queue,b).push(a):Gg(this,a),delete this.inProcess[a._guid]}};var Xo=new w("construct"),Yo=new w("config"),Zo=new Eg("init"),$o=0,_o=Hg,ap=function(a,b,d,e,f){var g,h,i,j,k,l={};for(h=a.parentFragment,i=a.root,f=f||{},c(l,f||{}),f.content=e||[],l[""]=f.content,b.defaults.el&&p("The <%s/> component has a default `el` property; it has been disregarded",a.name),j=h;j;){if(j.owner.type===hk){k=j.owner.container;break}j=j.parent}return g=Zh(b.prototype),_o(g,{el:null,append:!0,data:d.data,partials:f,magic:i.magic||b.defaults.magic,modifyArrays:i.modifyArrays,adapt:i.adapt},{parent:i,component:a,container:k,mappings:d.mappings,inlinePartials:l}),g};Jg.prototype={bubble:function(){this.dirty||(this.dirty=!0,Fi.addView(this))},update:function(){var a=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key.str,this.fragment.getValue()),a.mark(this.key),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var bp=["_data","_mappings"];Qg.prototype={resolve:function(a){this.resolved=!0,this.ready?this.readyResolve(a):this.notReadyResolve(a)},notReadyResolve:function(a){if(a.isSpecial)this.parameters.addData(this.key.str,a.value);else{var b=this.parameters.addMapping(this.key,a);void 0===b.getValue()&&(b.updatable=!0)}},readyResolve:function(a){var b=this.parameters.component.instance.viewmodel;a.isSpecial?(this.parameters.addData(this.key.str,a.value),b.mark(this.key)):b.reversedMappings&&b.reversedMappings[this.key.str]?b.reversedMappings[this.key.str].rebind(a):b.mappings[this.key.str].resolve(a)}},Tg.prototype={add:function(a,b){if("string"==typeof b){var c=cm(b);this.addData(a.str,c?c.value:b)}else if(0===b)this.addData(a.str);else{var d=void 0;d=Ug(b)?new Qg(this,a,b[0]).resolver:new Jg(this,a,b),this.component.resolvers.push(d)}},addData:function(a,b){this.data[a]=b},addMapping:function(a,b,c){return this.mappings[a.str]=new og(a,{origin:this.parentViewmodel,keypath:b,force:c})}};var cp=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},dp=new w("teardown"),ep=function(a,b){this.init(a,b)};ep.prototype={detach:Nf,find:Of,findAll:Pf,findAllComponents:Qf,findComponent:Rf,findNextNode:Sf,firstNode:Tf,init:Xg,rebind:Yg,render:Zg,toString:$g,unbind:_g,unrender:bh};var fp=ep,gp=function(a){this.type=ck,this.value=a.template.c};gp.prototype={detach:Pm,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var hp=function(a){var b,c;this.type=hk,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.yn||"";this.fragment=new jp({owner:this,root:b.parent,template:b._inlinePartials[d]||[],pElement:this.containerFragment.pElement}),e(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],Fi.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};hp.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),C(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var ip=function(a){this.declaration=a.template.a
};ip.prototype={init:hi,render:hi,unrender:hi,teardown:hi,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var jp=function(a){this.init(a)};jp.prototype={bubble:Sc,detach:Tc,find:Uc,findAll:Vc,findAllComponents:Wc,findComponent:Xc,findNextNode:Yc,firstNode:Zc,getArgsList:_c,getNode:ad,getValue:bd,init:ch,rebind:eh,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:fh,toString:gh,unbind:jh,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:lh};var kp,lp,mp=["template","partials","components","decorators","events"],np=new w("reset"),op=function(a,b){function c(b,d,f){f&&f.partials[a]||b.forEach(function(b){b.type===bk&&b.getPartialName()===a&&d.push(b),b.fragment&&c(b.fragment.items,d,f),e(b.fragments)?c(b.fragments,d,f):e(b.items)?c(b.items,d,f):b.type===gk&&b.instance&&c(b.instance.fragment.items,d,b.instance),b.type===ak&&(e(b.attributes)&&c(b.attributes,d,f),e(b.conditionalAttributes)&&c(b.conditionalAttributes,d,f))})}var d,f=[];return c(this.fragment.items,f),this.partials[a]=b,d=Fi.start(this,!0),f.forEach(function(b){b.value=void 0,b.setValue(a)}),Fi.end(),d},pp=lj("reverse"),qp=/\*/,rp=lj("shift"),sp=lj("sort"),tp=lj("splice"),up=new w("teardown"),vp=new w("unrender"),wp=lj("unshift"),xp=new w("update"),yp={add:v,animate:bb,detach:db,find:eb,findAll:ib,findAllComponents:jb,findComponent:kb,findContainer:lb,findParent:mb,fire:qb,get:rb,insert:sb,merge:ub,observe:xb,observeOnce:yb,off:zb,on:Ab,once:Bb,pop:mj,push:nj,render:Eb,reset:mh,resetPartial:op,resetTemplate:nh,reverse:pp,set:oh,shift:rp,sort:sp,splice:tp,subtract:ph,teardown:qh,toggle:sh,toHTML:th,toHtml:th,unrender:uh,unshift:wp,update:vh,updateModel:wh},zp=1,Ap=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath.str,d.index={},(c=fd(b.proxy.parentFragment))&&(d.index=fd.resolve(c)),d):d};kp=function(a){_o(this,a)},lp={extend:{value:Ch},getNodeInfo:{value:Ap},parse:{value:pm},Promise:{value:zi},svg:{value:Hh},magic:{value:Fh},VERSION:{value:"<%= pkg.version %>"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:Lh},events:{writable:!0,value:{}},interpolators:{writable:!0,value:oi},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},_h(kp,lp),kp.prototype=c(yp,Kh),kp.prototype.constructor=kp,kp.defaults=kp.prototype;var Bp="function";if(typeof Date.now!==Bp||typeof String.prototype.trim!==Bp||typeof Object.keys!==Bp||typeof Array.prototype.indexOf!==Bp||typeof Array.prototype.forEach!==Bp||typeof Array.prototype.map!==Bp||typeof Array.prototype.filter!==Bp||"undefined"!=typeof window&&typeof window.addEventListener!==Bp)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return kp});