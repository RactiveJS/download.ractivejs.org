/*
	ractive-legacy.min.js v0.6.1
	2014-12-14 - commit 9de8e422 

	http://ractivejs.org
	http://twitter.com/RactiveJS

	Released under the MIT License.
*/

!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports&&"function"==typeof require?module.exports=b():a.Ractive=b()}("undefined"!=typeof window?window:this,function(){"use strict";function a(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function b(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a}function c(a){for(var b,c,d=Wh.call(arguments,1);c=d.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a}function d(a){var b=Wh.call(arguments,1);return b.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a}function e(a){return"[object Array]"===$h.call(a)}function f(a){return _h.test($h.call(a))}function g(a){if(!k(a))return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function h(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function i(a){return"number"==typeof a||"object"==typeof a&&"[object Number]"===$h.call(a)}function j(a){return!isNaN(parseFloat(a))&&isFinite(a)}function k(a){return a&&"[object Object]"===$h.call(a)}function l(a,b,c){var d=m(a,b,c);return d?d[a][c]:null}function m(a,b,c){for(;b;){if(c in b[a])return b;if(b.isolated)return null;b=b.parent}}function n(a){return function(){return a}}function o(a,b,c){var d;if("string"!=typeof b||!j(c))throw new Error("Bad arguments");if(d=+a.get(b)||0,!j(d))throw new Error("Cannot add to a non-numeric value");return a.set(b,d+c)}function p(a,b){return ii(this,a,void 0===b?1:+b)}function q(a){var b=ni[a.message]||a.message||"";return r(b,a.args)}function r(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function s(a){this.event=a,this.method="on"+a,this.deprecate=qi[a]}function t(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function u(a,b){var c;if(!e(a)||!e(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function v(a){return"string"==typeof a?[a]:void 0===a?[]:a}function w(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)}function x(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function y(a){setTimeout(a,0)}function z(a,b){return function(){for(var c;c=a.shift();)c(b)}}function A(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof ri)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,A(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function B(a,b,c,d){var e=a[b];if(e&&!D(e,d)&&D(e,c))return a[b]=G(e,c,d),!0}function C(a){var b=a.slice(2);return"i"===a[1]&&j(b)?+b:b}function D(a,b){return a===b||I(a,b)}function E(a,b){function c(b,c){var d,f,g;d=a.viewmodel.wrapped[c]?a.viewmodel.wrapped[c].get():a.get(c);for(f in d)!d.hasOwnProperty(f)||"_ractive"===f&&e(d)||(g=c?c+"."+f:f,b.push(g));return b}var d,f,g;for(d=b.split("."),g=[""];f=d.shift();)"*"===f?g=g.reduce(c,[]):""===g[0]?g[0]=f:g=g.map(F(f));return g}function F(a){return function(b){return b?b+"."+a:a}}function G(a,b,c){return a===b?void 0!==c?c:null:I(a,b)?null===c?c:a.replace(b+".",c+"."):void 0}function H(a){return a?a.replace(xi,".$1"):""}function I(a,b){return a&&b&&a.substr(0,b.length+1)===b+"."}function J(a,b,c){return b=H(b),"~/"===b.substr(0,2)?(b=b.substring(2),M(a,O(b),c),b):"."===b[0]?(b=K(yi(c),b),b&&M(a,O(b),c),b):L(a,b,c)}function K(a,b){var c;if("."===b)return a;if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),c.join(".")}return a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,"")}function L(a,b,c,d){var e,f,g,h,i;for(f=O(b);c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e+"."+b;return N(a,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,i=L(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function M(a,b){var c;!a.parent||a.isolated||N(a,b)||(c=L(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c})}function N(a,b){return b in a.data||b in a.viewmodel.computations||b in a.viewmodel.mappings}function O(a){var b=a.indexOf(".");return~b?a.slice(0,b):a}function P(a){a.teardown()}function Q(a){a.unbind()}function R(a){a.unrender()}function S(a){a.detach()}function T(a){a.detachNodes()}function U(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function V(){for(var a,b,c;Bi.viewmodels.length;)b=Bi.viewmodels.pop(),c=b.applyChanges(),c&&Fi.fire(b.ractive,c);for(W(),a=0;a<Bi.views.length;a+=1)Bi.views[a].update();for(Bi.views.length=0,a=0;a<Bi.tasks.length;a+=1)Bi.tasks[a]();return Bi.tasks.length=0,Bi.viewmodels.length?V():void 0}function W(){var a,b,c,d;for(a=Ei.length;a--;)b=Ei[a],b.keypath&&Ei.splice(a,1),(c=zi(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),Ei.splice(a,1));d&&d.forEach(X)}function X(a){a.item.resolve(a.keypath)}function Y(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;if(d=new wi(function(a){e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(n={},c.step=null,c.complete=null,m=function(a){return function(b,c){n[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(o=m(f),c={easing:i,duration:j},k&&(c.step=o)),c.complete=l?o:ai,h.push(Z(this,f,a[f],c)));return q={easing:i,duration:j},k&&(q.step=function(a){k(a,n)}),l&&d.then(function(a){l(a,n)}).then(null,function(a){pi.consoleError({debug:r.debug,err:a})}),q.complete=e,p=Z(this,null,null,q),h.push(p),d.stop=function(){for(var a;a=h.pop();)a.stop();p&&p.stop()},d}return c=c||{},c.complete&&d.then(c.complete).then(null,function(a){pi.consoleError({debug:r.debug,err:a})}),c.complete=e,g=Z(this,a,b,c),d.stop=function(){g.stop()},d}function Z(a,b,c,d){var e,f,g,i;return b&&(b=H(b)),null!==b&&(i=a.viewmodel.get(b)),Ji.abort(b,a),h(i,c)?(d.complete&&d.complete(d.to),Mi):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new Li({keypath:b,from:i,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),Ji.add(g),a._animations.push(g),g)}function $(){return this.detached?this.detached:(this.el&&w(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Oi.fire(this),this.detached)}function _(a){return this.el?this.fragment.find(a):null}function ab(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function bb(a){var b,c;for(b=[a],c=ab(a);c;)b.push(c),c=ab(c);return b}function cb(a,b,c,d){var e=[];return Uh(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:Ri}}),c?(Uh(e,{cancel:{value:Si},_root:{value:a},_sort:{value:Vi},_makeDirty:{value:Wi},_remove:{value:Xi},_dirty:{value:!1,writable:!0}}),e):e}function db(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=Yi(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function eb(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=Yi(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function fb(a){return this.fragment.findComponent(a)}function gb(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function hb(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function ib(a){var b,c,d,e,f,g;for(b=a.split("."),(c=ej[b.length])||(c=jb(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function jb(a){var b,c,d,e,f,g="";if(!ej[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}ej[a]=d}return ej[a]}function kb(a,b,c){if(void 0===c&&(c={}),b){c.event?c.event.name=b:c.event={name:b,context:a.data,keypath:"",_noArg:!0};var d=fj(b);lb(a,d,c.event,c.args,!0)}}function lb(a,b,c,d,e){void 0===e&&(e=!1);var f,g,h=!0;for(dj.enqueue(a,c),g=b.length;g>=0;g--)f=a._subs[b[g]],f&&(h=mb(a,f,c,d)&&h);if(dj.dequeue(a),a.parent&&h){if(e&&a.component){var i=a.component.name+"."+b[b.length-1];b=fj(i),c&&(c.component=a)}lb(a.parent,b,c,d)}}function mb(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function nb(a){var b={args:Array.prototype.slice.call(arguments,1)};gj(this,a,b)}function ob(a){var b;return a=H(a),b=this.viewmodel.get(a,ij),void 0===b&&this.parent&&!this.isolated&&zi(this,a,this.fragment)&&(b=this.viewmodel.get(a)),b}function pb(b,c){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(b=a(b),c=a(c)||null,!b)throw new Error("You must specify a valid target to insert into");b.insertBefore(this.detach(),c),this.el=b,(b.__ractive_instances__||(b.__ractive_instances__=[])).push(this),this.detached=null,qb(this)}function qb(a){kj.fire(a),a.findAllComponents("*").forEach(function(a){qb(a.instance)})}function rb(a,b,c){var d,f,g=this;return a=H(a),d=this.viewmodel.get(a),e(d)&&e(b)?(f=Gi.start(this,!0),this.viewmodel.merge(a,d,b,c),Gi.end(),c&&c.complete&&(pi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.merge"}}),f.then(c.complete).then(null,function(a){pi.consoleError({debug:g.debug,err:a})})),f):this.set(a,b,c&&c.complete)}function sb(a,b){var c,d;return c=E(a,b),d={},c.forEach(function(b){d[b]=a.get(b)}),d}function tb(a,b,c,d){var e,f,g;return b=H(b),d=d||Bj,Aj.test(b)?(e=new zj(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new pj(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0,{cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}}}function ub(a,b,c){var d,e,f,g;if(k(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",Cj(this,a,b,c);if(f=a.split(" "),1===f.length)return Cj(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(Cj(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function vb(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function wb(a,b){var c,d=this;if(a)c=a.split(" ").map(Fj).filter(Gj),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function xb(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(Fj).filter(Gj),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function yb(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function zb(a,b,c){var d,e,f,g,h,i,j=[];if(d=Ab(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j}function Ab(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}function Bb(b,c){var d,e,f,g=this;if(f=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),d=Gi.start(this,!0),Gi.scheduleTask(function(){return Xj.fire(g)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(b=a(b)||this.el,c=a(c)||this.anchor,this.el=b,this.anchor=c,!this.append&&b){var h=b.__ractive_instances__;h&&h.length&&Cb(h),b.innerHTML=""}return this.constructor.css&&Wj.add(this.constructor),b&&((e=b.__ractive_instances__)?e.push(this):b.__ractive_instances__=[this],c?b.insertBefore(this.fragment.render(),c):b.appendChild(this.fragment.render())),Gi.end(),this.transitionsEnabled=f,d.then(function(){return Yj.fire(g)}).then(null,function(a){pi.consoleError({debug:g.debug,err:a})}),d}function Cb(a){try{a.splice(0,a.length).forEach(function(a){return a.teardown()})}catch(b){}}function Db(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,Gi.start(d),d.viewmodel.mark(c),Gi.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function Eb(a,b){for(var c=a.slice(),d=b.length;d--;)~c.indexOf(b[d])||c.push(b[d]);return c}function Fb(a,b){var c,d,e;return d='[data-ractive-css="'+b+'"]',e=function(a){var b,c,e,f,g,h,i,j=[];for(b=[];c=wk.exec(a);)b.push({str:c[0],base:c[1],modifiers:c[2]});for(f=b.map(Hb),i=b.length;i--;)h=f.slice(),e=b[i],h[i]=e.base+d+e.modifiers||"",g=f.slice(),g[i]=d+" "+g[i],j.push(h.join(" "),g.join(" "));return j.join(", ")},c=yk.test(a)?a.replace(yk,d):a.replace(vk,"").replace(uk,function(a,b){var c,d;return xk.test(b)?a:(c=b.split(",").map(Gb),d=c.map(e).join(", ")+" ",a.replace(b,d))})}function Gb(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function Hb(a){return a.str}function Ib(a,b,c){return a?b.noCssTransform?a:zk(a,c):void 0}function Jb(a,b){return"function"==typeof b&&/_super/.test(a)}function Kb(a,b,c){var d=c.data||{},e=Lb(a.prototype.data);if("object"!=typeof d&&"function"!=typeof d)throw new TypeError('data option must be an object or a function, "'+d+'" is not valid');return Mb(e,d)}function Lb(a){if("function"!=typeof a||!Object.keys(a).length)return a;var b={};return Nb(a,b),Mb(a,b)}function Mb(a,b){return"function"==typeof b?Qb(b,a):"function"==typeof a?Pb(b,a):Ob(b,a)}function Nb(a,b,c){for(var d in a)!(b._mappings&&b._mappings[d]&&b._mappings[d].updatable)&&c&&d in b||(b[d]=a[d])}function Ob(a,b){return a=a||{},b?(Nb(b,a,!0),a):a}function Pb(a,b){return function(c){var d;if(a){d=[];for(var e in a)c&&e in c||d.push(e)}return c=b.call(this,c)||c,d&&d.length&&(c=c||{},d.forEach(function(b){c[b]=a[b]})),c}}function Qb(a,b){var c;return c="function"!=typeof b?function(a){Ob(a,b)}:function(a){return b=Ck(b,function(){},!0),b.call(this,a)||a},Ck(a,c)}function Rb(a){var b,c,d,e;return b=a.pos,d=Gl(a),null===d?null:(c=[d],a.matchString(",")?(e=Rb(a),e?c.concat(e):(a.pos=b,null)):c)}function Sb(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=a.readExpression(),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=Sb(a),null===f&&a.error(ol),f.forEach(b)),d)}function Tb(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(Cl))return{t:bl,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(ol),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:bl,x:d}):null}function Ub(a){return JSON.stringify(String(a))}function Vb(a,b){var c,d;if(a.t===al&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(k(d))Vb(d,b);else for(c=d.length;c--;)Vb(d[c],b);a.x&&Vb(a.x,b),a.r&&Vb(a.r,b),a.v&&Vb(a.v,b)}function Wb(a,b,c){var d=function(b){return Wb(a,b,c)};switch(b.t){case Zk:case $k:case Vk:return b.v;case Wk:return Ub(b.v);case Xk:return"["+(b.m?b.m.map(d).join(","):"")+"]";case Yk:return"{"+(b.m?b.m.map(d).join(","):"")+"}";case _k:return b.k+":"+Wb(a,b.v,c);case dl:return("typeof"===b.s?"typeof ":b.s)+Wb(a,b.o,c);case gl:return Wb(a,b.o[0],c)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+Wb(a,b.o[1],c);case hl:return Wb(a,b.x,c)+"("+(b.o?b.o.map(d).join(","):"")+")";case el:return"("+Wb(a,b.x,c)+")";case cl:return Wb(a,b.x,c)+Wb(a,b.r,c);case bl:return b.n?"."+b.n:"["+Wb(a,b.x,c)+"]";case fl:return Wb(a,b.o[0],c)+"?"+Wb(a,b.o[1],c)+":"+Wb(a,b.o[2],c);case al:return"_"+c.indexOf(b.n);default:a.error("Expected legal JavaScript")}}function Xb(a,b,c){var d;if(b){for(;b.t===el&&b.x;)b=b.x;return b.t===al?c.r=b.n:b.t===Vk&&lm.test(b.v)?c.r=b.v:(d=Yb(a,b))?c.rx=d:c.x=a.flattenExpression(b),c}}function Yb(a,b){for(var c,d=[];b.t===cl&&b.r.t===bl;)c=b.r,d.unshift(c.x?c.x.t===al?c.x:a.flattenExpression(c.x):c.n),b=b.x;return b.t!==al?null:{r:b.n,m:d}}function Zb(a){var b;return a.interpolate[a.inside]===!1?null:(b=fm.slice().sort(function(b,c){return a[c.delimiters][0].length-a[b.delimiters][0].length}),function c(d){return d?$b(a,d)||c(b.shift()):null}(b.shift()))}function $b(a,b){var c,d,e,f,g,h,i,j;if(c=a.pos,e=a[b.delimiters],!a.matchString(e[0]))return null;if(d=em(a))return a.matchString(e[1])?(a[b.delimiters]=d,wm):null;if(a.allowWhitespace(),d=vm(a,b),null===d)return a.pos=c,null;if(a.allowWhitespace(),a.matchString(e[1])||a.error("Expected closing delimiter '"+e[1]+"' after reference"),d.t===Nk&&(d.exclude=!0),d.t===Kk&&(a.sectionDepth-=1,a.sectionDepth<0&&(a.pos=c,a.error("Attempted to close a section that wasn't open"))),d.contextPartialExpression)d.f=d.contextPartialExpression,d.t=Ik,d.n="with",delete d.contextPartialExpression;else if(_b(d)){for(a.sectionDepth+=1,f=[],i=f,g=d.n;j=a.read();){if(j.t===Kk){g&&j.r!==g&&a.error("Expected {{/"+g+"}}");break}if(j.t===Gk&&"else"===j.r){if("unless"!==d.n){i=h=[];continue}a.error("{{else}} not allowed in {{#unless}}")}i.push(j)}f.length&&(d.f=f),h&&h.length&&(d.l=h,"with"===d.n&&(d.n="if-with"))}return a.includeLinePositions&&(d.p=a.getLinePos(c)),d.n?d.n=im[d.n]:d.t===Jk&&(d.t=Ik,d.n=jl),d.n===nl?(d.r&&-1===d.r.indexOf(".")||a.error("Invalid partial name "+d.r+"."),{n:d.r,f:d.f,t:Tk}):d}function _b(a){return a.t===Ik||a.t===Jk}function ac(a){return a.replace(rm,function(a,b){var c;return c="#"!==b[0]?pm[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(bc(c)):a})}function bc(a){return a?10===a?32:128>a?a:159>=a?qm[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function cc(a){return a.replace(um,"&amp;").replace(sm,"&lt;").replace(tm,"&gt;")}function dc(a){return a.replace(Im,"\\$&")}function ec(a){var b=a.remaining(),c=a.pos,d=a.matchPattern(Lm),e=a.options.delimiters[0],f=a.options.delimiters[1];if(d&&a.matchString(e)){var g=a.matchPattern(Mm);if(!a.matchString(f)||!a.matchPattern(Nm))return a.pos=c,null;var h=new RegExp("<!--\\s*"+Jm(e)+"\\s*\\/\\s*"+g+"\\s*"+Jm(f)+"\\s*-->");b=a.remaining();var i=h.exec(b);if(!i)throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+g+'", but '+(i?'instead found "'+i[1]+'"':" no closing found"));var j={t:Tk,f:new a.StandardParser(b.substr(0,i.index),a.options).result,n:g};return a.pos+=i.index+i[0].length,j}return a.pos=c,null}function fc(a){var b,c,d;return a.allowWhitespace(),(c=a.matchPattern(Sm))?(b={name:c},d=gc(a),d&&(b.value=d),b):null}function gc(a){var b,c,d,e;return b=a.pos,a.allowWhitespace(),a.matchString("=")?(a.allowWhitespace(),c=a.pos,d=a.sectionDepth,e=jc(a,"'")||jc(a,'"')||ic(a),a.sectionDepth!==d&&(a.pos=c,a.error("An attribute value must contain as many opening section tags as closing section tags")),null===e?(a.pos=b,null):e.length?1===e.length&&"string"==typeof e[0]?ac(e[0]):e:null):(a.pos=b,null)}function hc(a){var b,c,d,e,f;return b=a.pos,(c=a.matchPattern(Tm))?(d=c,e=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],-1!==(f=Om(d,e))&&(c=c.substr(0,f),a.pos=b+c.length),c):null}function ic(a){var b,c;for(a.inAttribute=!0,b=[],c=xm(a)||hc(a);null!==c;)b.push(c),c=xm(a)||hc(a);return b.length?(a.inAttribute=!1,b):null}function jc(a,b){var c,d,e;if(c=a.pos,!a.matchString(b))return null;for(a.inAttribute=b,d=[],e=xm(a)||kc(a,b);null!==e;)d.push(e),e=xm(a)||kc(a,b);return a.matchString(b)?(a.inAttribute=!1,d):(a.pos=c,null)}function kc(a,b){var c,d,e,f;return c=a.pos,e=a.remaining(),f=[b,a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],d=Om(e,f),-1===d&&a.error("Quoted attribute value must have a closing quote"),d?(a.pos+=d,e.substr(0,d)):null}function lc(a){var b,c,d;return a.allowWhitespace(),(b=Fl(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function mc(a){var b,c,d,e,f,g,h,i,j,k,l;if(b=a.pos,a.inside||a.inAttribute)return null;if(!a.matchString("<"))return null;if("/"===a.nextChar())return null;if(c={},a.includeLinePositions&&(c.p=a.getLinePos(b)),a.matchString("!"))return c.t=Uk,a.matchPattern(/^doctype/i)||a.error("Expected DOCTYPE declaration"),c.a=a.matchPattern(/^(.+?)>/),c;if(c.t=Lk,c.e=a.matchPattern(_m),!c.e)return null;for(an.test(a.nextChar())||a.error("Illegal tag name"),g=function(b,d){var e=d.n||d;dn.test(e)&&(a.pos-=e.length,a.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),c.v[b]=d},a.allowWhitespace();h=xm(a)||Um(a);)h.name?(e=en[h.name])?c[e]=$m(h.value):(f=cn.exec(h.name))?(c.v||(c.v={}),i=$m(h.value),g(f[1],i)):a.sanitizeEventAttributes&&bn.test(h.name)||(c.a||(c.a={}),c.a[h.name]=h.value||0):(c.m||(c.m=[]),c.m.push(h)),a.allowWhitespace();if(a.allowWhitespace(),a.matchString("/")&&(j=!0),!a.matchString(">"))return null;if(d=c.e.toLowerCase(),!j&&!om.test(c.e)){for(("script"===d||"style"===d)&&(a.inside=d),k=[];nc(d,a.remaining())&&(l=a.read(Ym))&&l.t!==Kk&&l.t!==Qk;)k.push(l);k.length&&(c.f=k)}return a.inside=null,a.sanitizeElements&&-1!==a.sanitizeElements.indexOf(d)?fn:c}function nc(a,b){var c,d;return c=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(b),d=Zm[a],c&&d?!~d.indexOf(c[1].toLowerCase()):!0}function oc(a){return"string"==typeof a}function pc(a){return a.t===Nk||a.t===Ok}function qc(a){return(a.t===Ik||a.t===Jk)&&a.f}function rc(a,b,c){for(var d,f,g=c.length;g--;)d=c[g],sc(d)?(b[d.n]=d.f,c.splice(g,1)):e(d.f)&&((f=tc(a,d))?(a.push(f),rc(a,d.p={},d.f),a.pop()):e(d.f)&&rc(a,b,d.f))}function sc(a){return a.t===Tk}function tc(a,b){var c,d,e=b.e;if(b.e)for(c=0;c<a.length;c++)if(d=(a[c].components||{})[e])return d}function uc(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(pn(a),g=a.length;g--;)h=a[g],h.exclude?a.splice(g,1):b&&h.t===Nk&&a.splice(g,1);for(mn(a,d,e),g=a.length;g--;)if(h=a[g],h.f&&(k=c||h.t===Lk&&sn.test(h.e),k||(i=a[g-1],j=a[g+1],(!i||"string"==typeof i&&un.test(i))&&(l=!0),(!j||"string"==typeof j&&tn.test(j))&&(m=!0)),uc(h.f,b,k,l,m,f)),h.l&&(uc(h.l,b,c,l,m,f),f&&(n={t:4,n:jl,f:h.l},h.r&&(n.r=h.r),h.x&&(n.x=h.x),h.rx&&(n.rx=h.rx),a.splice(g+1,0,n),delete h.l)),h.a)for(o in h.a)h.a.hasOwnProperty(o)&&"string"!=typeof h.a[o]&&uc(h.a[o],b,c,l,m,f);for(g=a.length;g--;)"string"==typeof a[g]&&("string"==typeof a[g+1]&&(a[g]=a[g]+a[g+1],a.splice(g+1,1)),c||(a[g]=a[g].replace(rn," ")),""===a[g]&&a.splice(g,1))}function vc(a,b){return void 0===b&&(b=a),function(){b.delimiters=a.delimiters||["{{","}}"],b.tripleDelimiters=a.tripleDelimiters||["{{{","}}}"],b.staticDelimiters=a.staticDelimiters||["[[","]]"],b.staticTripleDelimiters=a.staticTripleDelimiters||["[[[","]]]"]}()}function wc(a){var b=Sh(An);return b.parse=function(b,c){return xc(b,c||a)},b}function xc(a,b){if(!yn)throw new Error(ni.missingParser);return yn(a,b||this.options)}function yc(a,b){var c;if(!wh){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if(zc(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.innerHTML}function zc(a){return a&&"#"===a.charAt(0)}function Ac(a){return!("string"==typeof a)}function Bc(a){return a.defaults&&(a=a.defaults),zn.reduce(function(b,c){return b[c]=a[c],b},{ractive:a})}function Cc(a){var b,c=a._config.template;if(c&&c.fn)return b=Dc(a,c.fn),b!==c.result?(c.result=b,b=Fc(b,a)):void 0}function Dc(a,b){var c=Ec(Bn.getParseOptions(a));return b.call(a,a.data,c)}function Ec(a){var b=Sh(Bn);return b.parse=function(b,c){return Bn.parse(b,c||a)},b}function Fc(a,b){if("string"==typeof a)"#"===a[0]&&(a=Bn.fromId(a)),a=yn(a,Bn.getParseOptions(b));else if(2!==a.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return a}function Gc(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function Hc(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=Ic(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function Ic(a,b){var c;return b in a?!function(){var d=a[b];c="function"==typeof d?d:function(){return d}}():c=ai,c}function Jc(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function Kc(a,b,c){if(b in a){if(c in a)throw new Error(Jc(b,c,!0));di(Jc(b,c)),a[c]=a[b]}}function Lc(a){Kc(a,"beforeInit","onconstruct"),Kc(a,"init","onrender"),Kc(a,"complete","oncomplete"),Kc(a,"eventDefinitions","events"),e(a.adaptors)&&Kc(a,"adaptors","adapt")}function Mc(a,b,c,d){Mn(d);for(var e in d)if(Jn[e]){var f=d[e];"function"==typeof f&&(f=Ln(b.prototype,e,f)),c[e]=f}Kn.forEach(function(e){e[a](b,c,d)}),tk[a](b,c,d),Ek[a](b,c,d),Dn[a](b,c,d),Bk[a](b,c,d),Nc(b.prototype,c,d)}function Nc(a,b,c){for(var d in c)if(!In[d]&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=Ln(a,d,e)),b[d]=e}}function Oc(a){var b={};return a.forEach(function(a){return b[a]=!0}),b}function Pc(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function Qc(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function Rc(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function Sc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function Tc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function Uc(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function Vc(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function Wc(){return this.items&&this.items[0]?this.items[0].firstNode():null}function Xc(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function Yc(a){var b=this;return void 0===a&&(a=Xn),function(){var c,d,e,f,g,h,i;return c=a.args,g=c?"argsList":"value",h=c?"dirtyArgs":"dirtyValue",b[h]&&(e=Zc(b.items,d={},b.root._guid),f=Wm(c?"["+e+"]":e,d),i=f?f.value:c?[b.toString()]:b.toString(),b[g]=i,b[h]=!1),b[g]}()}function Zc(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return Zc(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=(f=a.root.viewmodel.wrapped[a.keypath])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function $c(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function _c(){return this.value}function ad(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function bd(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function cd(a,b,c){var d;return"@"===b.charAt(0)?new ho(a,b,c):(d=ko(a.parentFragment,b))?new jo(a,d,c):new eo(a,b,c)}function dd(a,b){var c,d;if(no[a])return no[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),no[a]=c,c}function ed(a){return a.call()}function fd(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return d=b[c],void 0===d?"undefined":"@"===d[0]?(e=d.slice(1),j(e)?e:'"'+e+'"'):d})}function gd(a){return"${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}"}function hd(a){return void 0!==a&&"@"!==a[0]}function id(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){Th(a,d,{value:po.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return Th(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function jd(a){return a.value}function kd(a){return void 0!=a}function ld(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!==c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.key=b.key,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=mo(a,e,c)),b.template.x&&(a.resolver=new qo(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new uo(a,b.template.rx,d)),a.template.n!==jl||a.hasOwnProperty("value")||a.setValue(void 0)}function md(a){var b,c,d;return a&&"@"===a[0]?(this.keypath=a,void this.setValue(C(a))):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function nd(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function od(){this.parentFragment.bubble()}function pd(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)}function qd(a){var b,c,d;
for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function rd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function sd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function td(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function ud(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function vd(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function wd(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===kl){if(this.shuffling=!0,Gi.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath+"."+b,h=i.keypath+"."+a,d.index=a,(j=d.registeredIndexRefs)&&j.forEach(xd),d.rebind(g,h),void(f[a]=d)))}),e=this.root.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&Gi.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function xd(a){a.rebind("","")}function yd(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function zd(a){var b,c,d=this;this.updating||(this.updating=!0,(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=Jd(d.keypath,a),c.index=a,b=new Dt(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):Bd(this,a)&&(this.bubble(),this.rendered&&Gi.addView(this)),this.value=a,this.updating=!1)}function Ad(a,b,c){if(b===kl&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function Bd(a,b){var c={template:a.template.f,root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.subtype)switch(a.subtype){case il:return Gd(a,b,!1,c);case jl:return Gd(a,b,!0,c);case ll:return Fd(a,c);case ml:return Ed(a,b,c);case kl:if(k(b))return Ad(a,a.subtype,!0),Dd(a,b,c)}return a.ordered=!!f(b),a.ordered?(Ad(a,kl,!1),Cd(a,b,c)):k(b)||"function"==typeof b?a.template.i?(Ad(a,kl,!0),Dd(a,b,c)):(Ad(a,ll,!1),Fd(a,c)):(Ad(a,il,!1),Gd(a,b,!1,c))}function Cd(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(Q);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=Jd(a.keypath,d),c.index=d,f=new Dt(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function Dd(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(Kd));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=Jd(a.keypath,d),c.key=d,c.index=e++,g=new Dt(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function Ed(a,b,c){return b?Fd(a,c):Hd(a)}function Fd(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new Dt(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function Gd(a,b,c,d){var e,g,h,i,j;if(g=f(b)&&0===b.length,h=!1,!f(b)&&k(b)){h=!0;for(j in b){h=!1;break}}return e=c?g||h||!b:b&&!g&&!h,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(Q),!0):void 0:(d.index=0,i=new Dt(d),a.fragmentsToRender.push(a.fragments[0]=i),a.length=1,!0):Hd(a)}function Hd(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(Id),a.fragmentsToUnrender.forEach(Q),a.length=a.fragmentsToRender.length=0,!0):void 0}function Id(a){return a.rendered}function Jd(a,b){return(a?a+".":"")+b}function Kd(a){a.rebind("","")}function Ld(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function Md(){var a=this;this.fragments.forEach(Q),this.fragmentsToRender.forEach(function(b){return w(a.fragments,b)}),this.fragmentsToRender=[],ao.call(this),this.length=0,this.unbound=!0}function Nd(a){this.fragments.forEach(a?Od:Pd),this.renderedFragments=[],this.rendered=!1}function Od(a){a.unrender(!0)}function Pd(a){a.unrender(!1)}function Qd(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function Rd(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function Sd(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(Hh(d,a))return d;if(e=d.querySelector(a))return e}return null}function Td(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(Hh(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function Ud(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function Vd(a){return Zo[a]||(Zo[a]=Gh(a))}function Wd(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=x(a.node.options).filter(Xd),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function Xd(a){return a.selected}function Yd(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=$o(this.value,this.parentFragment.getNode(),this.docFrag),_o(this.pElement),this.rendered=!0,this.docFrag}function Zd(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&Gi.addView(this))}function $d(){return void 0!=this.value?ac(""+this.value):""}function _d(a){this.rendered&&a&&(this.nodes.forEach(b),this.rendered=!1)}function ae(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=$o(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),_o(this.pElement)}}function be(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function ce(){return null}function de(){return this.node}function ee(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function fe(){var a=this.fragment.getValue();h(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&Gi.addView(this))}function ge(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Gk?b[0]:void 0}function he(a){return this.type=Pk,this.element=a.element,this.root=a.root,zp(this,a.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new Dt({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=Ap(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,Cp(this,a),void(this.ready=!0)):void(this.value=nm.test(this.name)?!0:a.value||"")}function ie(a,b){this.fragment&&this.fragment.rebind(a,b)}function je(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==zh.html||(b=Fp[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(nm.test(b)||"value"===b)&&(this.useProperty=!0),"value"===b&&(this.useProperty=!0,a._ractive.value=this.value)),this.rendered=!0,this.update()}function ke(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;return"value"===b&&("select"===this.element.name||"textarea"===this.element.name)||"value"===b&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===b&&"input"===this.element.name&&e?"name={{"+(e.keypath||e.ref)+"}}":nm.test(b)?d?b:"":(f&&(d=f.toString()),c&&(b=c+":"+b),d?b+'="'+le(d)+'"':b)}function le(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function me(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function ne(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function oe(){var a,b,c,d,f=this.value;for(e(f)||(f=[f]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=t(f,d)}function pe(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function qe(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return Gi.addViewmodel(b.root.viewmodel),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function re(){var a,b,c=this,d=c.element,f=c.node,g=c.value;if(a=d.getAttribute("value"),e(g)){for(b=g.length;b--;)if(a==g[b])return void(f.checked=!0);f.checked=!1}else f.checked=g==a}function se(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b}function te(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function ue(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function ve(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function we(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function xe(){this.locked||(this.node[this.propertyName]=this.value)}function ye(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):nm.test(d)?e?b.setAttribute(d,""):b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function ze(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=Pp:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?Kp:Jp:"textarea"===e.name?b=Sp:null!=e.getAttribute("contenteditable")?b=Rp:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?ai:"radio"===a&&e.binding&&"name"===e.binding.name?Mp:Sp):this.twoway&&"name"===d?"radio"===f.type?b=Lp:"checkbox"===f.type&&(b=Np):"style"===d&&f.style.setAttribute?b=Qp:"class"!==d||f.namespaceURI&&f.namespaceURI!==zh.html?this.useProperty&&(b=Tp):b=Op,b||(b=Up),this.update=b,this.update()}function Ae(a,b){var c=b?"svg":"div";return Xp.innerHTML="<"+c+" "+a+"></"+c+">",x(Xp.childNodes[0].attributes)}function Be(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function Ce(a){for(;a=a.parent;)if("form"===a.name)return a}function De(){this._ractive.binding.handleChange()}function Ee(a,b,c){var d=a+b+c;return hq[d]||(hq[d]=[])}function Fe(a){return a.isChecked}function Ge(a){return a.element.getAttribute("value")}function He(){var a;eq.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function Ie(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&eq.call(b),a._timeout=void 0},a.element.lazy)}function Je(a){var b,c,d,e,f=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||f.contenteditable&&Ke(f.contenteditable))&&Ke(f.value)?c=gq:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=Ke(f.name),e=Ke(f.checked),d&&e&&pi.error({message:"badRadioInputBinding"}),d?c="radio"===b?mq:oq:e&&(c="radio"===b?kq:qq)):"file"===b&&Ke(f.value)?c=wq:Ke(f.value)&&(c="number"===b||"range"===b?yq:xq)):"select"===a.name&&Ke(f.value)?c=a.getAttribute("multiple")?uq:sq:"textarea"===a.name&&Ke(f.value)&&(c=xq),c?new c(a):void 0}function Ke(a){return a&&a.isBindable}function Le(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function Me(a){gj(this.root,this.getAction(),{event:a})}function Ne(){return this.action.toString().trim()}function Oe(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&(pi.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:a.tagName,event:b}}),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=oo(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c;(c=Eq.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(mo(g,a,function(a){return g.resolve(b,a)}))}),this.fire=Pe):(d=c.n||c,"string"!=typeof d&&(d=new Dt({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new Dt({template:c.d,root:this.root,owner:this.element}),this.fire=Re):c.a&&(this.params=c.a,this.fire=Qe))}function Pe(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),dj.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),dj.dequeue(b)}function Qe(a){gj(this.root,this.getAction(),{event:a,args:this.params})}function Re(a){var b=this.dynamicParams.getValue(Dq);"string"==typeof b&&(b=b.substr(1,b.length-2)),gj(this.root,this.getAction(),{event:a,args:b})}function Se(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=ko(c.element.parentFragment))&&(e=ko.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath,context:b.root.get(b.keypath)})}function Te(){var a,b=this.name;if(!this.invalid){if(a=l("events",this.root,b))this.custom=a(this.node,Ue(b));else{if(!("on"+b in this.node||window&&"on"+b in window))return void(Iq[b]||pi.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:b}}));this.node.addEventListener(b,Gq,!1)}this.hasListener=!0}}function Ue(a){return Hq[a]||(Hq[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath,b.context=c.root.get(c.keypath),c.events[a].fire(b)}),Hq[a]}function Ve(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function We(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Xe(a,b){this.keypaths[a]=b}function Ye(){return this.method?void this.refResolvers.forEach(Q):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Ze(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,Gq,!1),this.hasListener=!1}function $e(){var a=this;this.dirty||(this.dirty=!0,Gi.scheduleTask(function(){_e(a),a.dirty=!1})),this.parentFragment.bubble()}function _e(a){var b,c,d,e,f;b=a.node,b&&(e=x(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?af(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function af(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function bf(a,b){a.select=df(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function cf(a){a.select&&w(a.select.options,a)}function df(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function ef(a){var b,c,d,e,f,g;this.type=Lk,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=yp(c.e),"option"===this.name&&bf(this,c),"select"===this.name&&(this.options=[],this.bubble=$e),"form"===this.name&&(this.formBindings=[]),wp(this,c.a||{}),this.attributes=Zp(this,c.a),this.conditionalAttributes=aq(this,c.m),c.f&&(this.fragment=new Dt({template:c.f,root:d,owner:this,pElement:this})),g=d.twoway,this.twoway===!1?g=!1:this.twoway===!0&&(g=!0),g&&(e=zq(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath]||(this.root._twowayBindings[e.keypath]=[]),f.push(e)),c.v&&(this.eventHandlers=Tq(this,c.v)),c.o&&(this.decorator=new Xq(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function ff(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&B(e,"keypath",a,b)}function gf(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function hf(a){a.node.addEventListener("reset",kf,!1)}function jf(a){a.node.removeEventListener("reset",kf,!1)}function kf(){var a=this._ractive.proxy;Gi.start(),a.formBindings.forEach(lf),Gi.end()}function lf(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function mf(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new Dt({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new Dt({template:b.d,root:d,owner:a}),this.params=f.getValue($q),f.unbind()),this._fn=l("transitions",d,e),this._fn||pi.error({debug:d.debug,message:"missingPlugin",args:{plugin:"transition",name:e}}))}function nf(a){return a}function of(){Ar.hidden=document[wr]}function pf(){Ar.hidden=!0}function qf(){Ar.hidden=!1}function rf(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&sf(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function sf(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function tf(){var a,b,c=this,d=this.root;return a=uf(this),b=this.node=Gh(this.name,a),d.constructor.css&&this.parentFragment.getNode()===d.el&&this.node.setAttribute("data-ractive-css",d.constructor._guid),Th(this.node,"_ractive",{value:{proxy:this,keypath:yi(this.parentFragment),events:Sh(null),root:d}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=Lr,this.node.text=this.fragment.toString(!1),this.fragment.unrender=ai):"style"===this.name?(this.bubble=Kr,this.bubble(),this.fragment.unrender=ai):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=ai:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&vf(this),"img"===this.name?gf(this):"form"===this.name?hf(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&Gi.scheduleTask(function(){c.decorator.torndown||c.decorator.init()},!0),d.transitionsEnabled&&this.intro&&!function(){var a=new Mr(c,c.intro,!0);Gi.registerTransition(a),Gi.scheduleTask(function(){return a.start()},!0),c.transition=a}(),this.node.autofocus&&Gi.scheduleTask(function(){return c.node.focus()},!0),wf(this),this.node}function uf(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?zh.svg:(d=a.parent)?"foreignObject"===d.name?zh.html:d.node.namespaceURI:a.root.el.namespaceURI}function vf(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&e(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function wf(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function xf(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&e(c))for(d=c.length;d--;)if(c[d]==b)return!0}function yf(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function zf(a){var b=a.toString();return b?" "+b:""}function Af(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Q),"option"===this.name&&cf(this),this.attributes.forEach(Q),this.conditionalAttributes.forEach(Q)}function Bf(a){var b,c,d=this;this.transition&&this.transition.complete(),"option"===this.name?this.detach():a&&Gi.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(R),this.decorator&&Gi.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&!function(){var a=new Mr(d,d.outro,!1);Gi.registerTransition(a),Gi.scheduleTask(function(){return a.start()})}(),this.liveQueries&&Cf(this),"form"===this.name&&jf(this)}function Cf(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function Df(a,b){var c=Ur.exec(b)[0];return null===a||c.length<a.length?c:a}function Ef(a,b){var c;if(c=Ff(a,b))return c;if(c=Bn.fromId(b,{noThrow:!0})){c=Vr(c);var d=Bn.parse(c,Bn.getParseOptions(a));return a.partials[b]=d.t}}function Ff(a,b){var c=m("partials",a,b);if(c){var d,e=c.partials[b];if("function"==typeof e&&(d=e.bind(c),d.isOwner=c.partials.hasOwnProperty(b),e=d(c.data,Bn)),!e&&""!==e)return void pi.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:b}});if(!Bn.isParsed(e)){var f=Bn.parse(e,Bn.getParseOptions(c));f.p&&pi.warn({debug:a.debug,message:"noNestedPartials",args:{rname:b}});var g=d?c:Gf(c,b);g.partials[b]=e=f.t}return d&&(e._fn=d),e.v?e.t:e}}function Gf(a,b){return a.partials.hasOwnProperty(b)?a:Hf(a.constructor,b)}function Hf(a,b){return a?a.partials.hasOwnProperty(b)?a:Hf(a._Parent,b):void 0}function If(a,b){var c,d=m("components",a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(d.data),!c)return void pi.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:b}});"string"==typeof c&&(c=If(a,c)),c._fn=e,d.components[b]=c}return c}function Jf(){var a=this.instance.fragment.detach();return _r.fire(this.instance),a}function Kf(a){return this.instance.fragment.find(a)}function Lf(a,b){return this.instance.fragment.findAll(a,b)}function Mf(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function Nf(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function Of(){return this.parentFragment.findNextNode(this)}function Pf(){return this.rendered?this.instance.fragment.firstNode():null}function Qf(a,b){var c,d,e,f,g=this.ractive;for(c=g.adapt.length,d=0;c>d;d+=1)if(e=g.adapt[d],e.filter(b,a,g))return f=this.wrapped[a]=e.wrap(g,b,a,Sf(a)),f.value=b,b;return b}function Rf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function Sf(a){var b;return hs[a]||(b=a?a+".":"",hs[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?Rf(c,a):c:void 0}),hs[a]}function Tf(a){var b,c,d,e,f=[""];for(b=a.length;b--;)for(c=a[b],d=c.split(".");d.length>1;)d.pop(),e=d.join("."),-1===f.indexOf(e)&&f.push(e);return f}function Uf(a){var b,c,d,e;return b=a.split("."),c=Vf(b.length),d=function(a,c){return a?"*":b[c]},e=c.map(function(a){return a.map(d).join(".")})}function Vf(a){var b,c,d,e,f,g="";if(!ks[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}ks[a]=d}return ks[a]}function Wf(a,b,c){var d;Yf(a,b),c||(d=ls(b),d.forEach(function(c){Xf(a,c,b)}))}function Xf(a,b,c){var d,e,f;d=a.depsMap.patternObservers,d&&(e=d[b])&&e.forEach(function(b){var d=ms.exec(b)[0];f=c?c+"."+d:d,Yf(a,f),Xf(a,b,f)})}function Yf(a,b){a.patternObservers.forEach(function(a){a.regex.test(b)&&a.update(b)})}function Zf(){function a(c){var d,f;e.noCascade.hasOwnProperty(c)||((f=e.deps.computed[c])&&f.forEach(function(c){c.viewmodel===e?(e.clearCache(c.key),c.invalidate(),b.push(c.key),a(c.key)):c.viewmodel.mark(c.key)}),(d=e.depsMap.computed[c])&&d.forEach(a))}var b,c,d=this,e=this,f={};return b=this.changes,b.length?(b.slice().forEach(a),c=js(b),c.forEach(function(a){var c;-1===b.indexOf(a)&&(c=e.deps.computed[a])&&(d.changes.push(a),c.forEach(function(a){a.viewmodel.mark(a.key)}))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(a){return ns(d,a,!0)}),b.forEach(function(a){return ns(d,a)})),this.deps.observers&&(c.forEach(function(a){return $f(d,null,a,"observers")}),ag(this,b,"observers")),this.deps["default"]&&!function(){var a=[];c.forEach(function(b){return $f(d,a,b,"default")}),a.length&&_f(d,a,b),ag(d,b,"default")}(),b.forEach(function(a){f[a]=d.get(a)}),this.implicitChanges={},this.noCascade={},f):void 0}function $f(a,b,c,d){var e,f;(e=bg(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function _f(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function ag(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=bg(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function bg(a,b,c){var d=a.deps[c];return d?d[b]:null}function cg(){this.captureGroups.push([])}function dg(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function eg(a){var b="var __ractive=this;return("+a.replace(rs,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(b)}function fg(a,b){var c=b.split(".")[0];return!(c in a.ractive.data||c in a.computations||c in a.mappings)}function gg(a,b){return b=ss(b),this.computations[a]=new ws(this.ractive,a,b)}function hg(a,b){var c=this;return void 0===b&&(b=zs),function(){var d,e,f,g,h,i=c.ractive,j=c.cache;return b.capture&&(h=c.captureGroups[c.captureGroups.length-1])&&(~h.indexOf(a)||h.push(a)),(d=c.mappings[a.split(".")[0]])?d.get(a,b):"@"===a[0]?C(a):(void 0===j[a]?((f=c.computations[a])&&!f.bypass?(e=f.get(),c.adapt(a,e)):(g=c.wrapped[a])?e=g.value:a?e=ig(c,a):(c.adapt("",i.data),e=i.data),j[a]=e):e=j[a],!b.noUnwrap&&(g=c.wrapped[a])&&(e=g.get()),e===ys?void 0:e)}()}function ig(a,b){var c,d,e,f,g,h,i;return c=b.split("."),d=c.pop(),e=c.join("."),f=a.get(e),(i=a.wrapped[e])&&(f=i.get()),null!==f&&void 0!==f?((g=a.cacheMap[e])?-1===g.indexOf(b)&&g.push(b):a.cacheMap[e]=[b],"object"!=typeof f||d in f?(h=f[d],a.adapt(b,h,!1),a.cache[b]=h,h):a.cache[b]=ys):void 0}function jg(){var a,b,c=[];for(a in this.ractive.computed)b=this.compute(a,this.ractive.computed[a]),c.push(b),a in this.mappings&&pi.critical({message:"Cannot map to a computed property ('"+a+"')"});c.forEach(kg)}function kg(a){a.init()}function lg(a,b){this.keypath=a,this.viewmodel=b}function mg(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.trackData=b.trackData,this.resolved=!1}function ng(a,b){var c=new Ds(a,b);return c.initViewmodel(this),c}function og(a,b){var c;Gi.addViewmodel(this),b&&(b.implicit&&(this.implicitChanges[a]=!0),b.noCascade&&(this.noCascade[a]=!0)),(c=this.computations[a])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var d=b?b.dontTeardownWrapper:!1;this.clearCache(a,d)}function pg(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=rg(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){if(this.debug)throw i;di("Merge operation: comparison failed. Falling back to identity checking"),e=b,f=c}}else e=b,f=c;h=Gs(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function qg(a){return JSON.stringify(a)}function rg(a){if(a===!0)return qg;if("string"==typeof a)return Hs[a]||(Hs[a]=function(b){return b[a]}),Hs[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function sg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.register(a,b,c);e=this.deps[c]||(this.deps[c]={}),f=e[a]||(e[a]=[]),f.push(b),a&&tg(this,a,c)}}function tg(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c]||(a.depsMap[c]={}),g=f[e]||(f[e]=[]),void 0===g[b]&&(g[b]=0,g.push(b)),g[b]+=1,b=e}function ug(){return this.captureGroups.pop()}function vg(a,b,c){void 0===c&&(c={});var d,e,f,g;if(!c.noMapping&&(d=this.mappings[a.split(".")[0]]))return d.set(a,b);if(e=this.computations[a]){if(e.setting)return;e.set(b),b=e.get()}h(this.cache[a],b)||(f=this.wrapped[a],f&&f.reset&&(g=f.reset(b)!==!1,g&&(b=f.get())),e||g||wg(this,a,b),c.silent?this.clearCache(a):this.mark(a))}function wg(a,b,c){var d,e,f,g,h,i,j;i=function(){g.set?g.set(e,c):(h=g.get(),j())},j=function(){h||(h=kk(e),a.set(f,h,{silent:!0})),h[e]=c},d=b.split("."),e=d.pop(),f=d.join("."),g=a.wrapped[f],g?i():(h=a.get(f),(g=a.wrapped[f])?i():j())}function xg(a,b,c){var d,e,f=this;if(e=c.length,c.forEach(function(b,c){-1===b&&f.mark(a+"."+c,Ns)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a])&&d.filter(yg).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){this.mark(a+".length",Ms);for(var g=e;g<b.length;g+=1)this.mark(a+"."+g);for(var g=b.length;e>g;g+=1)this.mark(a+"."+g,Ns)
}}function yg(a){return"function"==typeof a.shuffle}function zg(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function Ag(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.unregister(a,b,c);if(e=this.deps[c][a],f=e.indexOf(b),-1===f)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");e.splice(f,1),a&&Bg(this,a,c)}}function Bg(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c],g=f[e],g[b]-=1,g[b]||(w(g,b),g[b]=void 0),b=e}function Cg(a){this.hook=new si(a),this.inProcess={},this.queue={}}function Dg(a,b){return a[b._guid]||(a[b._guid]=[])}function Eg(a,b){var c=Dg(a.queue,b);for(a.hook.fire(b);c.length;)Eg(a,c.shift());delete a.queue[b._guid]}function Fg(b,c,d){void 0===c&&(c={}),void 0===d&&(d={});var e;if(Gg(b,d),Us.fire(Nn.getConstructTarget(b,c),c),Nn.init(b.constructor,b,c),b.magic&&!yh)throw new Error("Getters and setters (magic mode) are not supported in this browser");Vs.fire(b),Ws.begin(b),b.viewmodel=new Ss(b,d.mappings),b.viewmodel.init(),b.template&&(b.fragment=new Dt({template:b.template,root:b,owner:b})),Ws.end(b),(e=a(b.el))&&b.render(e,b.append)}function Gg(a,b){a._guid="r-"+Xs++,a._subs=Sh(null),a._config={},a._twowayBindings=Sh(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function Hg(a,b,c){this.parameters=a,this.parentFragment=a.component.parentFragment,this.key=b,this.fragment=new Dt({template:c,root:a.component.root,owner:this}),this.parameters.addData(this.key,this.fragment.getValue())}function Ig(a,b){return b.parameters?yh&&"legacy"!==b.parameters?Kg(a,b):Jg(a):a.data}function Jg(a){var b,c=a.mappings;for(b in c){var d=c[b];d.trackData=!0,d.updatable||a.addData(b,d.getValue())}return a.data}function Kg(a,b){var c=Lg(a,b);return new c(a)}function Lg(a,b){var c=b._parameters;return(!c.Constructor||a.newKeys.length)&&(c.Constructor=Mg(a,c.defined)),c.Constructor}function Mg(a,b){function c(a){this._mappings=a.mappings,this._data=a.data||{}}var d,e;return d=a.keys.reduce(function(a,b){return a[b]={get:function(){var a=this._mappings[b];return a?a.getValue():this._data[b]},set:function(a){var c=this._mappings[b];c?(Gi.start(),c.setValue(a),Gi.end()):this._data[b]=a},enumerable:!0},a},b),Uh(e={},d),e.constructor=c,c.prototype=e,c}function Ng(a,b,c){var d,e;this.parameters=a,this.key=b,this.resolved=this.ready=!1,d=a.component,e=this.resolve.bind(this),c.r?this.resolver=mo(d,c.r,e):c.x?this.resolver=new qo(d,d.parentFragment,c.x,e):c.rx&&(this.resolver=new uo(d,c.rx,e)),this.resolved||a.addMapping(b),this.ready=!0}function Og(a,b,c){var d,e,f;return c?(b.parameters&&(f=Pg(b)),d=new Qg(a,c,f),e=_s(d,b),{data:e,mappings:d.mappings}):{data:{}}}function Pg(a){return a._parameters?a._parameters.defined||(a._parameters.defined={}):a._parameters={defined:{}},a._parameters.defined}function Qg(a,b,c){var d=this;this.component=a,this.parentViewmodel=a.root.viewmodel,this.data={},this.mappings=Sh(null),this.newKeys=[],this.keys=Object.keys(b),this.keys.forEach(function(a){c&&!c[a]&&d.newKeys.push(a),d.add(a,b[a])})}function Rg(a){return 1===a.length&&a[0].t===Gk}function Sg(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Tg(a.instance,a.root,c,b[c])}function Tg(a,b,c,d){"string"!=typeof d&&pi.error({debug:b.debug,message:"noComponentEventArguments"}),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),gj(b,d,{event:a,args:c}),!1})}function Ug(a,b){var c,d,e;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=Rk,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],e=bt(this,b.prototype,a.template.a),Zs(this,b,e,a.template.f,a.template.p),ct(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&di('The "intro", "outro" and "decorator" directives have no effect on components'),dt(this)}function Vg(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function Wg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function Xg(){return this.instance.fragment.toString()}function Yg(){var a=this.instance;this.resolvers.forEach(Q),Zg(this),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&w(a.el.__ractive_instances__,a),it.fire(a)}function Zg(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function $g(a){this.shouldDestroy=a,this.instance.unrender()}function _g(a){if("string"==typeof a.template)return new _n(a);switch(a.template.t){case Gk:return"yield"===a.template.r?new qt(a):new Ao(a);case Ik:return new Uo(a);case Hk:return new kp(a);case Lk:var b;return(b=$r(a.parentFragment.root,a.template.e))?new mt(a,b):new Sr(a);case Mk:return new Zr(a);case Nk:return new ot(a);case Uk:return new st(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function ah(a){var b,c=this;this.owner=a.owner,b=this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],a.template=v(a.template),this.items=a.template.map(function(b,d){return tt({parentFragment:c,pElement:a.pElement,template:b,index:d})}).filter(function(a){return null!==a}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function bh(a,b){B(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function ch(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function dh(a){return this.items?this.items.map(function(b){return b.toString(a)}).join(""):""}function eh(){this.bound&&(this.items.forEach(fh),this.bound=!1)}function fh(a){a.unbind&&a.unbind()}function gh(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function hh(a,b){var c,d,e,f,g,h=this;if("function"!=typeof a||b?a=a||{}:(b=a,a={}),"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((d=this.viewmodel.wrapped[""])&&d.reset?d.reset(a)===!1&&(this.data=a):this.data=a,e=Nn.reset(this),f=e.length;f--;)if(Et.indexOf(e[f])>-1){g=!0;break}if(g){var i;this.viewmodel.mark(""),(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new Dt({template:this.template,root:this,owner:this})),c=this.render(this.el,this.anchor)}else c=Gi.start(this,!0),this.viewmodel.mark(""),Gi.end();return Ft.fire(this,a),b&&(pi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.reset"}}),c.then(b).then(null,function(a){pi.consoleError({debug:h.debug,err:a})})),c}function ih(a){var b,c;Dn.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new Dt({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function jh(a,b,c){var d,e,f=this;if(e=Gi.start(this,!0),k(a)){d=a,c=b;for(a in d)d.hasOwnProperty(a)&&(b=d[a],a=H(a),this.viewmodel.set(a,b))}else a=H(a),Kt.test(a)?E(this,a).forEach(function(a){f.viewmodel.set(a,b)}):this.viewmodel.set(a,b);return Gi.end(),c&&(pi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.set"}}),e.then(c.bind(this)).then(null,function(a){pi.consoleError({debug:f.debug,err:a})})),e}function kh(a,b){return ii(this,a,void 0===b?-1:-b)}function lh(a){var b,c=this;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&w(this.el.__ractive_instances__,this),this.shouldDestroy=!0,b=this.fragment.rendered?this.unrender():wi.resolve(),Qt.fire(this),a&&(pi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),b.then(a.bind(this)).then(null,function(a){pi.consoleError({debug:c.debug,err:a})})),this._boundFunctions.forEach(mh),b}function mh(a){delete a.fn[a.prop]}function nh(a,b){var c;return"string"!=typeof a&&pi.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:a}}),c=this.get(a),this.set(a,!c,b)}function oh(){return this.fragment.toString(!0)}function ph(){var a,b,c=this;if(!this.fragment.rendered)return pi.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"}),wi.resolve();for(a=Gi.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&a.then(function(){Wj.remove(c.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),w(this.el.__ractive_instances__,this),Ut.fire(this),Gi.end(),a}function qh(a,b){var c,d=this;return"function"==typeof a?(b=a,a=""):a=a||"",c=Gi.start(this,!0),this.viewmodel.mark(a),Gi.end(),Xt.fire(this,a),b&&(pi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),c.then(b.bind(this)).then(null,function(a){pi.consoleError({debug:d.debug,err:a})})),c}function rh(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||D(d,a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=sh(this,e),this.set(c)}function sh(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath]||a.changed()||(d.push(a.keypath),d[a.keypath]=a));b=a.attribute.value,e=a.getValue(),u(b,e)||h(b,e)||(c[a.keypath]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a],e=b.attribute.value,f=b.getValue(),u(e,f)||(c[a]=f)}),c}function th(a){for(var b={};a;)Kn.forEach(function(c){uh(c.useDefaults?a.prototype:a,b,c.name)}),Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e,f=d._method;f&&(d=d._method),e=Ck(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}}),a=a._Parent!==eu?a._Parent:!1;return b}function uh(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function vh(a){void 0===a&&(a={});var b,c,d=this;return a.prototype instanceof eu&&(a=_t(a)),b=function(a){Ys(this,a)},c=Sh(d.prototype),c.constructor=b,Uh(b,{_guid:{value:au++},defaults:{value:c},extend:{value:vh,writable:!0,configurable:!0},_Parent:{value:d}}),Nn.extend(d,c,a),b.prototype=c,b}var wh,xh,yh,zh,Ah,Bh,Ch={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1,debug:!1},Dh=Ch,Eh={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}};wh="object"==typeof document,xh="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),yh=!0}catch(Fh){yh=!1}zh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ah="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),Bh=["o","ms","moz","webkit"];var Gh,Hh,Ih,Jh,Kh,Lh,Mh,Nh,Oh;if(Gh=Ah?function(a,b){return b&&b!==zh.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==zh.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)},wh){for(Ih=Gh("div"),Jh=["matches","matchesSelector"],Oh=function(a){return function(b,c){return b[a](c)}},Mh=Jh.length;Mh--&&!Hh;)if(Kh=Jh[Mh],Ih[Kh])Hh=Oh(Kh);else for(Nh=Bh.length;Nh--;)if(Lh=Bh[Mh]+Kh.substr(0,1).toUpperCase()+Kh.substring(1),Ih[Lh]){Hh=Oh(Lh);break}Hh||(Hh=function(a,b){var c,d,e;for(d=a.parentNode,d||(Ih.innerHTML="",d=Ih,a=a.cloneNode(),Ih.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else Hh=null;var Ph,Qh,Rh;"undefined"==typeof window?Rh=null:(Ph=window,Qh=Ph.document,Rh={},Qh||(Rh=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;for(void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0),c=this.length;c>b;b++)if(this.hasOwnProperty(b)&&this[b]===a)return b;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f=this,g=[];for(f instanceof String&&(f=f.toString(),e=!0),c=0,d=f.length;d>c;c+=1)(f.hasOwnProperty(c)||e)&&(g[c]=a.call(b,f[c],c,f));return g}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){var c,d,e,f;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(e=this.length,f=!1,arguments.length>1&&(d=b,f=!0),c=0;e>c;c+=1)this.hasOwnProperty(c)?f&&(d=a(d,this[c],c,this)):(d=this[c],f=!0);if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e=[];for(c=0,d=this.length;d>c;c+=1)this.hasOwnProperty(c)&&a.call(b,this[c],c,this)&&(e[e.length]=this[c]);return e}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=0;d>e;e+=1)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b,c,d,e,f=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return b=f.call(arguments,1),c=this,d=function(){},e=function(){var e=this instanceof d&&a?this:a;return c.apply(e,b.concat(f.call(arguments)))},d.prototype=this.prototype,e.prototype=new d,e}),Ph.addEventListener||!function(a,b){var c,d,e,f,g,h;a.appearsToBeIELessEqual8=!0,c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b,d.target=a.srcElement||b,d.timeStamp=+new Date,d.preventDefault=function(){a.returnValue=!1},d.stopPropagation=function(){a.cancelBubble=!0}},d=function(a,b){var d,e,f=this;d=f.listeners||(f.listeners=[]),e=d.length,d[e]=[b,function(a){b.call(f,new c(a,f))}],f.attachEvent("on"+a,d[e][1])},e=function(a,b){var c,d,e=this;if(e.listeners)for(c=e.listeners,d=c.length;d--;)c[d][0]===b&&e.detachEvent("on"+a,c[d][1])},a.addEventListener=b.addEventListener=d,a.removeEventListener=b.removeEventListener=e,"Element"in a?(a.Element.prototype.addEventListener=d,a.Element.prototype.removeEventListener=e):(h=b.createElement,b.createElement=function(a){var b=h(a);return b.addEventListener=d,b.removeEventListener=e,b},f=b.getElementsByTagName("head")[0],g=b.createElement("style"),f.insertBefore(g,f.firstChild))}(Ph,Qh),Ph.getComputedStyle||(Rh.getComputedStyle=function(){function a(c,d,e,f){var g,h=d[e],i=parseFloat(h),j=h.split(/\d/)[0];return isNaN(i)&&/^thin|medium|thick$/.test(h)&&(i=b(h),j=""),f=null!=f?f:/%|em/.test(j)&&c.parentElement?a(c.parentElement,c.parentElement.currentStyle,"fontSize",null):16,g="fontSize"==e?f:/width/i.test(e)?c.clientWidth:c.clientHeight,"em"==j?i*f:"in"==j?96*i:"pt"==j?96*i/72:"%"==j?i/100*g:i}function b(a){var b,c;return f[a]||(b=document.createElement("div"),b.style.display="block",b.style.position="fixed",b.style.width=b.style.height="0",b.style.borderRight=a+" solid black",document.getElementsByTagName("body")[0].appendChild(b),c=b.getBoundingClientRect(),f[a]=c.right-c.left),f[a]}function c(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function d(b){var d,e,f,g;d=b.currentStyle,e=this,f=a(b,d,"fontSize",null);for(g in d)/width|height|margin.|padding.|border.+W/.test(g)?"auto"===d[g]?/^width|height/.test(g)?e[g]=("width"===g?b.clientWidth:b.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(g)&&(e[g]="0px"):e[g]=a(b,d,g,f)+"px":"styleFloat"===g?e["float"]=d[g]:e[g]=d[g];return c(e,"margin"),c(e,"padding"),c(e,"border"),e.fontSize=f+"px",e}function e(a){return new d(a)}var f={};return d.prototype={constructor:d,getPropertyPriority:function(){},getPropertyValue:function(a){return this[a]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},e}()));var Sh,Th,Uh,Vh=Rh,Wh=Array.prototype.slice;try{Object.defineProperty({},"test",{value:0}),wh&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Th=Object.defineProperty}catch(Xh){Th=function(a,b,c){a[b]=c.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Xh){throw Xh}wh&&Object.defineProperties(Gh("div"),{test:{value:0}}),Uh=Object.defineProperties}catch(Xh){Uh=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Th(a,c,b[c])}}try{Object.create(null),Sh=Object.create}catch(Xh){Sh=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var Yh,Zh=Object.prototype.hasOwnProperty,$h=Object.prototype.toString,_h=/^\[object (?:Array|FileList)\]$/,ai=function(){},bi={};Yh=xh?function(a,b){if(!b){if(bi[a])return;bi[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:ai;var ci,di=Yh,ei=function(a,b,c,d){if(a===b)return n(b);if(d){var e=l("interpolators",c,d);if(e)return e(a,b)||n(b);di('Missing "'+d+'" interpolator. You may need to download a plugin from [TODO]')}return hi.number(a,b)||hi.array(a,b)||hi.object(a,b)||n(b)},fi=ei,gi={number:function(a,b){var c;return j(a)&&j(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,f,g;if(!e(a)||!e(b))return null;for(c=[],d=[],g=f=Math.min(a.length,b.length);g--;)d[g]=fi(a[g],b[g]);for(g=f;g<a.length;g+=1)c[g]=a[g];for(g=f;g<b.length;g+=1)c[g]=b[g];return function(a){for(var b=f;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!k(a)||!k(b))return null;c=[],f={},e={};for(g in a)Zh.call(a,g)&&(Zh.call(b,g)?(c.push(g),e[g]=fi(a[g],b[g])):f[g]=a[g]);for(g in b)Zh.call(b,g)&&!Zh.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},hi=gi,ii=o,ji=p;"undefined"==typeof window?ci=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(Bh,0,window),ci=window.requestAnimationFrame);var ki,li=ci;ki="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var mi=ki,ni={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',usePromise:"{method} now returns a Promise, use {method}(...).then(callback) instead.",noTwowayExpressions:"Two-way binding does not work with expressions. Encountered ( {expression} ) on element {element}.",computedCannotMapTo:'Computed property "{key}" cannot be mapped to "{other}" because {reason}.',notUsed:'prevents forgetting trailing "," in cut and paste of previous line :)'},oi={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(q(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(q(a));this.thrower(b)},logger:di,thrower:function(a){throw a},consoleError:function(a){xh?console.error(a.err):this.thrower(a.err)}},pi=oi,qi={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};s.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&pi.warnAlways({debug:a.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate}),b?a.fire(this.event,b):a.fire(this.event)};var ri,si=s,ti={},ui={},vi={};"function"==typeof Promise?ri=Promise:(ri=function(a){var b,c,d,e,f,g,h=[],i=[],j=ti;d=function(a){return function(d){j===ti&&(b=d,j=a,c=z(j===ui?h:i,b),y(c))}},e=d(ui),f=d(vi);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new ri(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),A(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==ti&&y(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},ri.all=function(a){return new ri(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},ri.resolve=function(a){return new ri(function(b){b(a)})},ri.reject=function(a){return new ri(function(b,c){c(a)})});var wi=ri,xi=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,yi=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return""},zi=J,Ai=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};Ai.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,U(this)},decrementTotal:function(){this.totalChildren-=1,U(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;w(b,a),U(this)},init:function(){this.ready=!0,U(this)},detachNodes:function(){this.decoratorQueue.forEach(P),this.detachQueue.forEach(S),this.children.forEach(T)}};var Bi,Ci,Di=Ai,Ei=[],Fi=new si("change");Ci={start:function(a,b){var c,d;return b&&(c=new wi(function(a){return d=a})),Bi={previousBatch:Bi,transitionManager:new Di(d,Bi&&Bi.transitionManager),views:[],tasks:[],viewmodels:[],instance:a},a&&Bi.viewmodels.push(a.viewmodel),c},end:function(){V(),Bi.transitionManager.init(),!Bi.previousBatch&&Bi.instance&&(Bi.instance.viewmodel.changes=[]),Bi=Bi.previousBatch},addViewmodel:function(a){return Bi?-1===Bi.viewmodels.indexOf(a)?(Bi.viewmodels.push(a),!0):!1:(a.applyChanges(),!1)},registerTransition:function(a){a._manager=Bi.transitionManager,Bi.transitionManager.add(a)},registerDecorator:function(a){Bi.transitionManager.addDecorator(a)},addView:function(a){Bi.views.push(a)},addUnresolved:function(a){Ei.push(a)},removeUnresolved:function(a){w(Ei,a)},detachWhenReady:function(a){Bi.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(Bi){for(c=Bi;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var Gi=Ci,Hi=[],Ii={tick:function(){var a,b,c;for(c=mi(),Gi.start(),a=0;a<Hi.length;a+=1)b=Hi[a],b.tick(c)||Hi.splice(a--,1);Gi.end(),Hi.length?li(Ii.tick):Ii.running=!1},add:function(a){Hi.push(a),Ii.running||(Ii.running=!0,li(Ii.tick))},abort:function(a,b){for(var c,d=Hi.length;d--;)c=Hi[d],c.root===b&&c.keypath===a&&c.stop()}},Ji=Ii,Ki=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=fi(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};Ki.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(Gi.start(this.root),this.root.viewmodel.set(f,this.to),Gi.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&di("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),Gi.start(this.root),this.root.viewmodel.set(f,c),Gi.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&di("Animation was not found"),this.root._animations.splice(a,1)}};var Li=Ki,Mi={stop:ai},Ni=Y,Oi=new si("detach"),Pi=$,Qi=_,Ri=function(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?Hh(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0},Si=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},Ti=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=bb(a.component||a._ractive.proxy),d=bb(b.component||b._ractive.proxy),e=c[c.length-1],f=d[d.length-1];e&&e===f;)c.pop(),d.pop(),g=e,e=c[c.length-1],f=d[d.length-1];if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Ui=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):Ti(a,b)},Vi=function(){this.sort(this._isComponentQuery?Ti:Ui),this._dirty=!1},Wi=function(){var a=this;this._dirty||(this._dirty=!0,Gi.scheduleTask(function(){a._sort()}))},Xi=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},Yi=cb,Zi=db,$i=eb,_i=fb,aj=gb,bj=hb,cj={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},dj=cj,ej={},fj=ib,gj=kb,hj=nb,ij={capture:!0,noUnwrap:!0},jj=ob,kj=new si("insert"),lj=pb,mj=rb,nj=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};nj.prototype={init:function(a){this.value=this.root.get(this.keypath),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;h(a,this.value)||(this.value=a,this.defer&&this.ready?Gi.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}};var oj,pj=nj,qj=sb,rj=/\*/,sj=Array.prototype.slice;oj=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},oj.prototype={init:function(a){var b,c;if(b=qj(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(c);else this.values=b},update:function(a){var b,c=this;if(rj.test(a)){b=qj(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(a)}else if(!this.root.viewmodel.implicitChanges[a])return this.defer&&this.ready?void Gi.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d;return b=this.root.viewmodel.get(a),this.updating?void(this.values[a]=b):(this.updating=!0,h(b,this.values[a])&&this.ready||(c=sj.call(this.regex.exec(a),1),d=[b,this.values[a],a].concat(c),this.values[a]=b,this.callback.apply(this.context,d)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a]||(this.proxies[a]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a]}};var tj,uj,vj,wj,xj,yj,zj=oj,Aj=/\*/,Bj={},Cj=tb,Dj=ub,Ej=vb,Fj=function(a){return a.trim()},Gj=function(a){return""!==a},Hj=wb,Ij=xb,Jj=yb,Kj=zb,Lj=Array.prototype.slice,Mj=Array.prototype,Nj=function(a){return function(b){var c,d,f,g,h=Lj.call(arguments,1),i=[];
if(c=this.get(b),d=c.length,!e(c))throw new Error("Called ractive."+a+"('"+b+"'), but '"+b+"' does not refer to an array");return i=Kj(c,a,h),g=Mj[a].apply(c,h),f=Gi.start(this,!0).then(function(){return g}),i?this.viewmodel.smartUpdate(b,c,i):this.viewmodel.mark(b),Gi.end(),f}},Oj=Nj("pop"),Pj=Nj("push"),Qj="/* Ractive.js component styles */\n",Rj={},Sj=[];wh?(vj=document.createElement("style"),vj.type="text/css",wj=document.getElementsByTagName("head")[0],yj=!1,xj=vj.styleSheet,uj=function(){var a;Sj.length?(a=Qj+Sj.join(" "),xj?xj.cssText=a:vj.innerHTML=a,yj||(wj.appendChild(vj),yj=!0)):yj&&(wj.removeChild(vj),yj=!1)},tj={add:function(a){a.css&&(Rj[a._guid]||(Rj[a._guid]=0,Sj.push(a.css),uj()),Rj[a._guid]+=1)},remove:function(a){a.css&&(Rj[a._guid]-=1,Rj[a._guid]||(w(Sj,a.css),Gi.scheduleTask(uj)))}}):tj=null;var Tj,Uj,Vj,Wj=tj,Xj=new si("render"),Yj=new si("complete"),Zj=Bb,$j=function(a,b,c,d){var e=a.root,f=a.keypath;return"sort"===c||"reverse"===c?void e.viewmodel.set(f,b):void e.viewmodel.smartUpdate(f,b,d)},_j=Array.prototype.slice,ak=[],bk=["pop","push","reverse","shift","sort","splice","unshift"];bk.forEach(function(a){var b=function(){var b,c,d,e,f=_j.call(arguments);for(b=Kj(this,a,f),c=Array.prototype[a].apply(this,arguments),Gi.start(),this._ractive.setting=!0,e=this._ractive.wrappers.length;e--;)d=this._ractive.wrappers[e],Gi.addViewmodel(d.root.viewmodel),$j(d,this,a,b);return Gi.end(),this._ractive.setting=!1,c};Th(ak,a,{value:b})}),Tj={},Tj.__proto__?(Uj=function(a){a.__proto__=ak},Vj=function(a){a.__proto__=Array.prototype}):(Uj=function(a){var b,c;for(b=bk.length;b--;)c=bk[b],Th(a,c,{value:ak[c],configurable:!0})},Vj=function(a){var b;for(b=bk.length;b--;)delete a[bk[b]]}),Uj.unpatch=Vj;var ck,dk,ek,fk=Uj;ck={filter:function(a){return e(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new dk(a,b,c)}},dk=function(a,b,c){this.root=a,this.value=b,this.keypath=c,b._ractive||(Th(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),fk(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},dk.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(ek);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(ek);d.splice(e,1)}}else delete a._ractive,fk.unpatch(this.value)}},ek="Something went wrong in a rather interesting way";var gk,hk,ik=ck,jk=/^\s*[0-9]+\s*$/,kk=function(a){return jk.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),gk={filter:function(a,b,c){var d,f,g,h,i;return b?(d=b.split("."),f=d.pop(),g=d.join("."),(h=c.viewmodel.wrapped[g])&&!h.magic?!1:(i=c.get(g),e(i)&&/^[0-9]+$/.test(f)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(a,b,c){return new hk(a,b,c)}},hk=function(a,b,c){var d,e,f,g;return this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,d=c.split("."),this.prop=d.pop(),e=d.join("."),this.obj=e?a.get(e):a.data,f=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),f&&f.set&&(g=f.set._ractiveWrappers)?void(-1===g.indexOf(this)&&g.push(this)):void Db(this,b,f)},hk.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,Gi.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{dontTeardownWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=kk(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(Xh){gk=!1}var lk,mk,nk=gk;nk&&(lk={filter:function(a,b,c){return nk.filter(a,b,c)&&ik.filter(a)},wrap:function(a,b,c){return new mk(a,b,c)}},mk=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=nk.wrap(a,b,c),this.arrayWrapper=ik.wrap(a,b,c)},mk.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var ok,pk,qk,rk=lk,sk={extend:function(a,b,c){b.adapt=Eb(b.adapt,v(c.adapt))},init:function(a,b,c){function d(a){return"string"==typeof a&&(a=l("adaptors",b,a),a||pi.critical({message:"missingPlugin",args:{plugin:"adaptor",name:a}})),a}var e,f;if(e=b.adapt.map(d),f=v(c.adapt).map(d),b.adapt=Eb(e,f),b.magic){if(!yh)throw new Error("Getters and setters (magic mode) are not supported in this browser");b.modifyArrays&&b.adapt.push(rk),b.adapt.push(nk)}b.modifyArrays&&b.adapt.push(ik)}},tk=sk,uk=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,vk=/\/\*.*?\*\//g,wk=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,xk=/^@media/,yk=/\[data-ractive-css="[a-z0-9-]+"]/g,zk=Fb,Ak={name:"css",extend:function(a,b,c){var d,e=b.constructor._guid;(d=Ib(c.css,c,e)||Ib(a.css,a,e))&&(b.constructor.css=d)},init:function(){}},Bk=Ak,Ck=function(a,b,c){return c||Jb(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},Dk={name:"data",extend:function(a,b,c){b.data=Kb(a,b,c)},init:function(a,b,c){var d=c.data,e=Kb(a,b,c);return"function"==typeof e&&(e=e.call(b,d)||d),b.data=e||{}},reset:function(a){var b=this.init(a.constructor,a,a);return b?(a.data=b,!0):void 0}},Ek=Dk,Fk=1,Gk=2,Hk=3,Ik=4,Jk=5,Kk=6,Lk=7,Mk=8,Nk=9,Ok=10,Pk=13,Qk=14,Rk=15,Sk=16,Tk=17,Uk=18,Vk=20,Wk=21,Xk=22,Yk=23,Zk=24,$k=26,_k=27,al=30,bl=31,cl=32,dl=33,el=34,fl=35,gl=36,hl=40,il=50,jl=51,kl=52,ll=53,ml=54,nl=55,ol="Expected a JavaScript expression",pl="Expected closing paren",ql=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,rl=function(a){var b;return(b=a.matchPattern(ql))?{t:Vk,v:b}:null},sl=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:Zk,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:Zk,v:"false"}):null};ok=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,pk=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,qk=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var tl,ul,vl,wl,xl,yl=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(ok)||b.matchPattern(pk)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(qk),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},zl=yl('"'),Al=yl("'"),Bl=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=Al(a),a.matchString('"')?{t:Wk,v:c}:(a.pos=b,null)):a.matchString("'")?(c=zl(a),a.matchString("'")?{t:Wk,v:c}:(a.pos=b,null)):null},Cl=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Dl=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,El=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Fl=function(a){var b;return(b=Bl(a))?El.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=rl(a))?b.v:(b=a.matchPattern(Cl))?b:void 0},Gl=function(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=Fl(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=a.readExpression(),null===d?(a.pos=b,null):{t:_k,k:c,v:d}):(a.pos=b,null))},Hl=Rb,Il=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=Hl(a),a.allowWhitespace(),a.matchString("}")?{t:Yk,m:c}:(a.pos=b,null)):(a.pos=b,null)},Jl=Sb,Kl=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=Jl(a),a.matchString("]")?{t:Xk,m:c}:(a.pos=b,null)):(a.pos=b,null)},Ll=function(a){var b=rl(a)||sl(a)||Bl(a)||Il(a)||Kl(a);return b};tl=/^\.[a-zA-Z_$0-9]+/,vl=function(a){var b=a.matchPattern(ul);return b?"."+b:null},ul=/^\[(0|[1-9][0-9]*)\]/,wl=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,xl=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var Ml,Nl,Ol=function(a){var b,c,d,e,f,g,h,i;if(b=a.pos,a.matchString("~/"))c="~/";else for(c="";a.matchString("../");)c+="../";if(c||(e=a.matchString("./")||a.matchString(".")||""),i=a.relaxedNames?Dl:Cl,d=a.matchPattern(/^@(?:keypath|index|key)/)||a.matchPattern(i)||"",!a.relaxedNames&&!e&&!c&&xl.test(d))return a.pos=b,null;if(!c&&!e&&!a.relaxedNames&&wl.test(d))return{t:$k,v:d};if(f=(c||e)+d,!f)return null;for(;g=a.matchPattern(tl)||vl(a);)f+=g;return a.matchString("(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:al,n:f.replace(/^this\./,"./").replace(/^this$/,".")}},Pl=function(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=a.readExpression(),c||a.error(ol),a.allowWhitespace(),a.matchString(")")||a.error(pl),{t:el,x:c}):null},Ql=function(a){return Ll(a)||Ol(a)||Pl(a)},Rl=Tb,Sl=function(a){var b,c,d,e;if(c=Ql(a),!c)return null;for(;c;)if(b=a.pos,d=Rl(a))c={t:cl,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=Jl(a),a.allowWhitespace(),a.matchString(")")||a.error(pl),c={t:hl,x:c},e&&(c.o=e)}return c};Nl=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=c.readExpression(),d||c.error(ol),{s:a,o:d,t:dl}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=Sl,a=0,b=d.length;b>a;a+=1)c=Nl(d[a],e),e=c;Ml=e}();var Tl,Ul,Vl=Ml;Ul=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:gl,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=Vl,a=0,b=d.length;b>a;a+=1)c=Ul(d[a],e),e=c;Tl=e}();var Wl,Xl,Yl=Tl,Zl=function(a){var b,c,d,e;return(c=Yl(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(ol),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=a.readExpression(),e||a.error(ol),{t:fl,o:[c,d,e]}):(a.pos=b,c)):null},$l=function(a){var b,c=[];return Vb(a,c),b={r:c,s:Wb(this,a,c)}},_l=/^\s+/;Xl=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},Xl.prototype=Error.prototype,Wl=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},Wl.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return Zl(this)},flattenExpression:$l,getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b,c,d,e,f,g;throw b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=e+"\n"+new Array(b[1]).join(" ")+"^----",g=new Xl(a+" at line "+c+" character "+d+":\n"+f),g.line=b[0],g.character=b[1],g.shortMessage=a,g},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(_l)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Wl.extend=function(a){var b,c,d=this;b=function(a,b){Wl.call(this,a,b)},b.prototype=Sh(d.prototype);for(c in a)Zh.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=Wl.extend,b};var am,bm=Wl,cm=/^[^\s=]+/,dm=/^\s+/,em=function(a){var b,c,d;return a.matchString("=")?(b=a.pos,a.allowWhitespace(),(c=a.matchPattern(cm))?a.matchPattern(dm)?(d=a.matchPattern(cm))?(a.allowWhitespace(),a.matchString("=")?[c,d]:(a.pos=b,null)):(a.pos=b,null):null:(a.pos=b,null)):null},fm=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],gm={"#":Ik,"^":Jk,"/":Kk,">":Mk,"!":Nk,"&":Hk},hm=function(a){var b=gm[a.str.charAt(a.pos)];return b?(a.pos+=1,b):null},im={each:kl,"if":il,"if-with":ml,"with":ll,unless:jl,partial:nl},jm=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,km=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,lm=/^[0-9][1-9]*$/,mm=new RegExp("^("+Object.keys(im).join("|")+")\\b");am=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;var nm,om,pm,qm,rm,sm,tm,um,vm=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(c=a.pos,e={},l=a[b.delimiters],b.isStatic&&(e.s=!0),b.isTriple)e.t=Hk;else{if("!"===a.remaining()[0]){try{h=a.readExpression(),a.allowWhitespace(),a.remaining().indexOf(l[1])?h=null:e.t=Gk}catch(n){}if(!h)return k=a.remaining().indexOf(l[1]),~k?a.pos+=k:a.error("Expected closing delimiter ('"+l[1]+"')"),{t:Nk}}if(!h)if(f=hm(a),e.t=f||Gk,f===Ik)(g=a.matchPattern(mm))&&(e.n=g),a.allowWhitespace();else if((f===Nk||f===Kk)&&(j=a.remaining(),k=j.indexOf(l[1]),-1!==k))return e.r=j.substr(0,k).split(" ")[0],a.pos+=k,e}if(!h){a.allowWhitespace(),f===Mk?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=m):e.t===Gk&&a.matchString("yield ")?(a.allowWhitespace(),e.r="yield",m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1,h&&h.t===al?(e.yn=h.n,h=null):h&&a.error("Only names are supported with yield.")):e.t===Ik&&"partial"===e.n?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1):h=a.readExpression();var o;if(e.t===Mk&&h&&(o=a.readExpression())&&(e={contextPartialExpression:h},h=o),j=a.remaining(),j.substr(0,l[1].length)!==l[1]&&":"!==j.charAt(0)){if(d=a.pos,a.pos=c,j=a.remaining(),k=j.indexOf(l[1]),-1!==k)return e.r=j.substr(0,k).trim(),am.test(e.r)||a.error("Expected a legal Mustache reference"),a.pos+=k,e;a.pos=d}}if(Xb(a,h,e),e.contextPartialExpression&&(e.contextPartialExpression=[Xb(a,e.contextPartialExpression,{t:Mk})]),i=a.matchPattern(jm)){var p;e.i=(p=a.matchPattern(km))?i+","+p:i}return e},wm={t:Ok,exclude:!0},xm=Zb,ym="<!--",zm="-->",Am=function(a){var b,c,d,e,f;return b=a.pos,a.matchString(ym)?(d=a.remaining(),e=d.indexOf(zm),-1===e&&a.error("Illegal HTML - expected closing comment sequence ('-->')"),c=d.substr(0,e),a.pos+=e+3,f={t:Nk,c:c},a.includeLinePositions&&(f.p=a.getLinePos(b)),f):null};nm=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,om=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,pm={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},qm=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],rm=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(pm).join("|")+"));?","g"),sm=/</g,tm=/>/g,um=/&/g;var Bm,Cm,Dm,Em,Fm,Gm,Hm,Im=/[-/\\^$*+?.()|[\]{}]/g,Jm=dc,Km=ec,Lm=/^<!--\s*/,Mm=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Nm=/\s*-->/,Om=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1},Pm=function(a){var b,c,d,e;return c=a.remaining(),e=a.inside?"</"+a.inside:"<",a.inside&&!a.interpolate[a.inside]?b=c.indexOf(e):(d=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],a.inAttribute===!0?d.push('"',"'","=","<",">","`"):d.push(a.inAttribute?a.inAttribute:e),b=Om(c,d)),b?(-1===b&&(b=c.length),a.pos+=b,a.inside?c.substr(0,b):ac(c.substr(0,b))):null},Qm=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Rm=function(a){var b;return a.matchString("</")?(b=a.matchPattern(Qm))?{t:Qk,e:b}:(a.pos-=2,void a.error("Illegal closing tag")):null},Sm=/^[^\s"'>\/=]+/,Tm=/^[^\s"'=<>`]+/,Um=fc;Cm={"true":!0,"false":!1,undefined:void 0,"null":null},Dm=new RegExp("^(?:"+Object.keys(Cm).join("|")+")"),Em=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Fm=/\$\{([^\}]+)\}/g,Gm=/^\$\{([^\}]+)\}/,Hm=/^\s*$/,Bm=bm.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&Hm.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(Gm),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(Dm))?{v:Cm[b]}:void 0},function(a){var b;return(b=a.matchPattern(Em))?{v:+b}:void 0},function(a){var b,c=Bl(a);return c&&(b=a.values)?{v:c.v.replace(Fm,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=lc(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var Vm,Wm=function(a,b){var c=new Bm(a,{values:b});return c.result},Xm=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/;Vm=bm.extend({converters:[Zl]});var Ym,Zm,$m=function(a){var b,c,d,e,f,g,h,i,j;if("string"==typeof a){if(c=Xm.exec(a))return b={m:c[1]},e="["+a.slice(b.m.length+1,-1)+"]",d=new Vm(e),b.a=$l(d.result[0]),b;if(-1===a.indexOf(":"))return a.trim();a=[a]}if(b={},h=[],i=[],a){for(;a.length;)if(f=a.shift(),"string"==typeof f){if(g=f.indexOf(":"),-1!==g){g&&h.push(f.substr(0,g)),f.length>g+1&&(i[0]=f.substring(g+1));break}h.push(f)}else h.push(f);i=i.concat(a)}return h.length?i.length||"string"!=typeof h?(b={n:1===h.length&&"string"==typeof h[0]?h[0]:h},1===i.length&&"string"==typeof i[0]?(j=Wm("["+i[0]+"]"),b.a=j?j.value:i[0].trim()):b.d=i):b=h:b="",b},_m=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,an=/^[\s\n\/>]/,bn=/^on/,cn=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,dn=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,en={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},fn={exclude:!0};Ym=[Km,xm,Am,mc,Pm,Rm],Zm={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var gn,hn,jn=mc,kn=/^[ \t\f\r\n]+/,ln=/[ \t\f\r\n]+$/,mn=function(a,b,c){var d;b&&(d=a[0],"string"==typeof d&&(d=d.replace(kn,""),d?a[0]=d:a.shift())),c&&(d=a[a.length-1],"string"==typeof d&&(d=d.replace(ln,""),d?a[a.length-1]=d:a.pop()))},nn=/^\s*\r?\n/,on=/\r?\n\s*$/,pn=function(a){var b,c,d,e,f;for(b=1;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b-2],oc(c)&&pc(d)&&oc(e)&&on.test(e)&&nn.test(c)&&(a[b-2]=e.replace(on,"\n"),a[b]=c.replace(nn,"")),qc(c)&&oc(d)&&on.test(d)&&oc(c.f[0])&&nn.test(c.f[0])&&(a[b-1]=d.replace(on,"\n"),c.f[0]=c.f[0].replace(nn,"")),oc(c)&&qc(d)&&(f=d.f[d.f.length-1],oc(f)&&on.test(f)&&nn.test(c)&&(d.f[d.f.length-1]=f.replace(on,"\n"),a[b]=c.replace(nn,"")));return a},qn=rc,rn=/[ \t\f\r\n]+/g,sn=/^(?:pre|script|style|textarea)$/i,tn=/^\s+/,un=/\s+$/;gn=bm.extend({init:function(a,b){vc(b,this),this.sectionDepth=0,this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1},b.sanitize===!0&&(b.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=b.sanitize&&b.sanitize.elements,this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes,this.includeLinePositions=b.includeLinePositions,this.StandardParser=gn},postProcess:function(a,b){return this.sectionDepth>0&&this.error("A section was left open"),uc(a,b.stripComments!==!1,b.preserveWhitespace,!b.preserveWhitespace,!b.preserveWhitespace,b.rewriteElse!==!1),a},converters:[Km,xm,Am,jn,Pm]}),hn=function(a,b){void 0===b&&(b={});var c;vc(b),c={v:2},c.t=new gn(a,b).result;var d={};return qn(b.ractive?[b.ractive]:[],d,c.t),g(d)||(c.p=d),c};var vn,wn,xn,yn=hn,zn=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],An={parse:xc,fromId:yc,isHashedId:zc,isParsed:Ac,getParseOptions:Bc,createHelper:wc},Bn=An,Cn={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:Fc(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=Dc(b,e),b._config.template={fn:e,result:d}),d=Fc(d,b),b.template=d.t,d.p&&Gc(b.partials,d.p)},reset:function(a){var b,c=Cc(a);return c?(b=Fc(c,a),a.template=b.t,Gc(a.partials,b.p,!0),!0):void 0}},Dn=Cn;vn=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],wn=function(a,b){this.name=a,this.useDefaults=b},wn.prototype={constructor:wn,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,b,c)},configure:function(a,b,c){var d,e=this.name,f=c[e];d=Sh(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c}},xn=vn.map(function(a){return new wn(a,"computed"===a)});var En,Fn,Gn,Hn,In,Jn,Kn=xn,Ln=Hc,Mn=Lc;Hn={adapt:tk,css:Bk,data:Ek,template:Dn},Gn=Object.keys(Dh),Jn=Oc(Gn.filter(function(a){return!Hn[a]})),In=Oc(Gn.concat(Kn.map(function(a){return a.name}))),Fn=[].concat(Gn.filter(function(a){return!Kn[a]&&!Hn[a]}),Kn,Hn.data,Hn.template,Hn.css),En={extend:function(a,b,c){return Mc("extend",a,b,c)},init:function(a,b,c){return Mc("init",a,b,c)},reset:function(a){return Fn.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},order:Fn,getConstructTarget:function(a,b){return b.onconstruct?{onconstruct:Ln(a,"onconstruct",b.onconstruct).bind(a),fire:a.fire.bind(a)}:a}};var Nn=En,On=Pc,Pn=Qc,Qn=Rc,Rn=Sc,Sn=Tc,Tn=Uc,Un=Vc,Vn=Wc,Wn=Xc,Xn={},Yn=Yc,Zn=function(){return b(this.node)},$n=function(a){this.type=Fk,this.text=a.template};$n.prototype={detach:Zn,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?cc(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var _n=$n,ao=$c,bo=_c,co=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=zi(a.root,b,a.parentFragment),void 0!==d?this.resolve(d):Gi.addUnresolved(this)};co.prototype={resolve:function(a){this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(this.ref)},rebind:function(a,b){var c;void 0!==this.keypath&&(c=G(this.keypath,a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||Gi.removeUnresolved(this)}};var eo=co,fo=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},go={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};fo.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=go[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback("@"+d.prefix+ad(this.cached,d));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===kl&&void 0!==(a=ad(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback("@"+d.prefix+a);c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=ad(c,d)))return this.callback("@"+d.prefix+a);c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var ho=fo,io=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};io.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback("@"+a)},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var jo=io,ko=bd;bd.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var lo,mo=cd,no={},oo=dd,po=Function.prototype.bind;lo=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return mo(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},lo.prototype={bubble:function(){this.ready&&(this.uniqueString=fd(this.str,this.keypaths),this.keypath=gd(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e=this;a=this.root.viewmodel.computations[this.keypath],a?this.root.viewmodel.mark(this.keypath):(d=oo(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:"@"===a[0]?(b=C(a),function(){return b}):function(){var b=e.root.viewmodel.get(a,{noUnwrap:!0});return"function"==typeof b&&(b=id(b,e.root)),b}}),c={deps:this.keypaths.filter(hd),get:function(){var a=b.map(ed);return d.apply(null,a)}},a=this.root.viewmodel.compute(this.keypath,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var qo=lo,ro=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===al?this.refResolver=mo(this,a.n,function(a){d.resolve(a)}):new qo(b,c,a,function(a){d.resolve(a)})};ro.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var so=ro,to=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=zi(d,e,g))?this.base=f:this.baseResolver=new eo(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new so(a,h,g)}),this.ready=!0,this.bubble()};to.prototype={getKeypath:function(){var a=this.members.map(jd);return!a.every(kd)||this.baseResolver?null:this.base+"."+a.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Q)},rebind:function(a,b){var c;this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(function(a){return a.forceResolution()}),this.bubble()}};var uo=to,vo=ld,wo=md,xo=nd,yo={getValue:bo,init:vo,resolve:wo,rebind:xo},zo=function(a){this.type=Gk,yo.init(this,a)};zo.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:yo.resolve,rebind:yo.rebind,detach:Zn,unbind:ao,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&b(this.node)},getValue:yo.getValue,setValue:function(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),h(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&Gi.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";return a?cc(b):b}};var Ao=zo,Bo=od,Co=pd,Do=qd,Eo=rd,Fo=sd,Go=td,Ho=ud,Io=vd,Jo=wd,Ko=function(a,b){yo.rebind.call(this,a,b)},Lo=yd,Mo=zd,No=Ld,Oo=Md,Po=Nd,Qo=Qd,Ro=function(a){this.type=Ik,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===jl,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}
})),this.renderedFragments=[],this.length=0,yo.init(this,a)};Ro.prototype={bubble:Bo,detach:Co,find:Do,findAll:Eo,findAllComponents:Fo,findComponent:Go,findNextNode:Ho,firstNode:Io,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:yo.getValue,shuffle:Jo,rebind:Ko,render:Lo,resolve:yo.resolve,setValue:Mo,toString:No,unbind:Oo,unrender:Po,update:Qo};var So,To,Uo=Ro,Vo=Rd,Wo=Sd,Xo=Td,Yo=Ud,Zo={};try{Gh("table").innerHTML="foo"}catch(Xh){So=!0,To={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var $o=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(So&&(e=To[b.tagName])?(d=Vd("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===zh.svg?(d=Vd("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=Vd(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},_o=Wd,ap=Yd,bp=Zd,cp=$d,dp=_d,ep=ae,fp=function(a){this.type=Hk,yo.init(this,a)};fp.prototype={detach:Vo,find:Wo,findAll:Xo,firstNode:Yo,getValue:yo.getValue,rebind:yo.rebind,render:ap,resolve:yo.resolve,setValue:bp,toString:cp,unbind:ao,unrender:dp,update:ep};var gp,hp,ip,jp,kp=fp,lp=function(){this.parentFragment.bubble()},mp=be,np=function(a){return this.node?Hh(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},op=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},pp=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},qp=function(a){return this.fragment?this.fragment.findComponent(a):void 0},rp=ce,sp=de,tp=ee,up=/^true|on|yes|1$/i,vp=/^[0-9]+$/,wp=function(a,b){var c;c=b.twoway,void 0!==c&&(a.twoway=0===c||up.test(c),delete b.twoway),c=b.lazy,void 0!==c&&(a.lazy=0!==c&&vp.test(c)?parseInt(c):0===c||up.test(c),delete b.lazy)},xp=fe;gp="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),hp="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),ip=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},jp=ip(gp.concat(hp));var yp=function(a){var b=a.toLowerCase();return jp[b]||b},zp=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==zh.html?yp(b):b;else if(b=b.substring(c+1),a.name=yp(b),a.namespace=zh[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},Ap=ge,Bp={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Cp=function(a,b){var c;!a.pNode||a.namespace||b.pNode.namespaceURI&&b.pNode.namespaceURI!==zh.html||(c=Bp[a.name]||a.name,void 0!==b.pNode[c]&&(a.propertyName=c),(nm.test(c)||"value"===c)&&(a.useProperty=!0))},Dp=he,Ep=ie,Fp={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Gp=je,Hp=ke,Ip=me,Jp=ne,Kp=oe,Lp=pe,Mp=qe,Np=re,Op=se,Pp=te,Qp=ue,Rp=ve,Sp=we,Tp=xe,Up=ye,Vp=ze,Wp=function(a){this.init(a)};Wp.prototype={bubble:xp,init:Dp,rebind:Ep,render:Gp,toString:Hp,unbind:Ip,update:Vp};var Xp,Yp=Wp,Zp=function(a,b){var c,d,e=[];for(c in b)b.hasOwnProperty(c)&&(d=new Yp({element:a,name:c,value:b[c],root:a.root}),e.push(e[c]=d));return e};"undefined"!=typeof document&&(Xp=Gh("div"));var $p=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new Dt({root:a.root,owner:this,template:[b]})};$p.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===zh.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=Ae(a,this.isSvg),this.attributes.filter(function(a){return Be(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var _p=$p,aq=function(a,b){return b?b.map(function(b){return new _p(a,b)}):[]},bq=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c[c.length-1])return pi.error({debug:this.root.debug,message:"noTwowayExpressions",args:{expression:c.slice(2,-1).replace("-","."),element:a.tagName}}),!1}else b.resolver.forceResolution(),c=b.keypath;this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=Ce(a))&&(this.resetValue=d,e.formBindings.push(this))};bq.prototype={handleChange:function(){var a=this;Gi.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),Gi.scheduleTask(function(){return a.attribute.locked=!1}),Gi.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(w(this.root._twowayBindings[b],this),this.keypath=c,a=this.root._twowayBindings[c]||(this.root._twowayBindings[c]=[]),a.push(this))},unbind:function(){}},bq.extend=function(a){var b,d=this;return b=function(a){bq.call(this,a),this.init&&this.init()},b.prototype=Sh(d.prototype),c(b.prototype,a),b.extend=bq.extend,b};var cq,dq=bq,eq=De,fq=dq.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",eq,!1),this.root.lazy||(a.addEventListener("input",eq,!1),a.attachEvent&&a.addEventListener("keyup",eq,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",eq,!1),a.removeEventListener("input",eq,!1),a.removeEventListener("keyup",eq,!1)},getValue:function(){return this.element.node.innerHTML}}),gq=fq,hq={},iq=Ee,jq=dq.extend({name:"checked",init:function(){this.siblings=iq(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",eq,!1),a.attachEvent&&a.addEventListener("click",eq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",eq,!1),a.removeEventListener("click",eq,!1)},handleChange:function(){Gi.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),Gi.end()},getValue:function(){return this.element.node.checked},unbind:function(){w(this.siblings,this)}}),kq=jq,lq=dq.extend({name:"name",init:function(){this.siblings=iq(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",eq,!1),a.attachEvent&&a.addEventListener("click",eq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",eq,!1),a.removeEventListener("click",eq,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&dq.prototype.handleChange.call(this)},rebound:function(a,b){var c;dq.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath+"}}")},unbind:function(){w(this.siblings,this)}}),mq=lq,nq=dq.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.attribute.twoway=!0,this.siblings=iq(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){w(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=e(a)?t(a,b):a==b,c.name="{{"+this.keypath+"}}",c.checked=this.isChecked,c.addEventListener("change",eq,!1),c.attachEvent&&c.addEventListener("click",eq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",eq,!1),a.removeEventListener("click",eq,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,dq.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(Fe).map(Ge)}}),oq=nq,pq=dq.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",eq,!1),a.attachEvent&&a.addEventListener("click",eq,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",eq,!1),a.removeEventListener("click",eq,!1)},getValue:function(){return this.element.node.checked}}),qq=pq,rq=dq.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",eq,!1)},unrender:function(){this.element.node.removeEventListener("change",eq,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Gi.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),sq=rq,tq=sq.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",eq,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",eq,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&u(c,b)||sq.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,Gi.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),uq=tq,vq=dq.extend({render:function(){this.element.node.addEventListener("change",eq,!1)},unrender:function(){this.element.node.removeEventListener("change",eq,!1)},getValue:function(){return this.element.node.files}}),wq=vq;cq=dq.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:i(this.element.lazy)&&(a=!1,c=this.element.lazy),b.addEventListener("change",eq,!1),a||(b.addEventListener("input",c?Ie:eq,!1),b.attachEvent&&b.addEventListener("keyup",c?Ie:eq,!1)),b.addEventListener("blur",He,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",eq,!1),a.removeEventListener("input",eq,!1),a.removeEventListener("keyup",eq,!1),a.removeEventListener("blur",He,!1)}});var xq=cq,yq=xq.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),zq=Je,Aq=Le,Bq=Me,Cq=Ne,Dq={args:!0},Eq=/^event(?:\.(.+))?/,Fq=Oe,Gq=Se,Hq={},Iq={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Jq=Te,Kq=Ve,Lq=We,Mq=Xe,Nq=Ye,Oq=Ze,Pq=function(a,b,c){this.init(a,b,c)};Pq.prototype={bubble:Aq,fire:Bq,getAction:Cq,init:Fq,listen:Jq,rebind:Kq,render:Lq,resolve:Mq,unbind:Nq,unrender:Oq};var Qq,Rq,Sq=Pq,Tq=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new Sq(a,e[c],b[d]),g.push(f);return g};Qq={args:!0},Rq=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new Dt({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new Dt({template:b.d,root:c,owner:a}),this.params=this.fragment.getValue(Qq),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getValue(Qq),f.ready&&f.update()}),this.fn=l("decorators",c,d),this.fn||pi.error({debug:c.debug,message:"missingPlugin",args:{plugin:"decorator",name:d}}))},Rq.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var Uq,Vq,Wq,Xq=Rq,Yq=ef,Zq=ff,$q={},_q=mf,ar=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};wh?(Vq={},Wq=Gh("div").style,Uq=function(a){var b,c,d;if(a=ar(a),!Vq[a])if(void 0!==Wq[a])Vq[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=Bh.length;b--;)if(c=Bh[b],void 0!==Wq[c+d]){Vq[a]=c+d;break}return Vq[a]}):Uq=null;var br,cr,dr=Uq;wh?(cr=window.getComputedStyle||Vh.getComputedStyle,br=function(a){var b,c,d,f,g;if(b=cr(this.node),"string"==typeof a)return g=b[dr(a)],"0px"===g&&(g=0),g;if(!e(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)f=a[d],g=b[dr(f)],"0px"===g&&(g=0),c[f]=g;return c}):br=null;var er=br,fr=function(a,b){var c;if("string"==typeof a)this.node.style[dr(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[dr(c)]=a[c]);return this},gr=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(di('Missing easing function ("'+a.easing+'"). You may need to download a plugin from [TODO]'),b=nf)):b="function"==typeof a.easing?a.easing:nf,this.easing=b,this.start=mi(),this.end=this.start+this.duration,this.running=!0,Ji.add(this)};gr.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var hr,ir,jr,kr,lr,mr,nr,or,pr=gr,qr=new RegExp("^-(?:"+Bh.join("|")+")-"),rr=function(a){return a.replace(qr,"")},sr=new RegExp("^(?:"+Bh.join("|")+")([A-Z])"),tr=function(a){var b;return a?(sr.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},ur={},vr={};wh?(ir=Gh("div").style,function(){void 0!==ir.transition?(jr="transition",kr="transitionend",lr=!0):void 0!==ir.webkitTransition?(jr="webkitTransition",kr="webkitTransitionEnd",lr=!0):lr=!1}(),jr&&(mr=jr+"Duration",nr=jr+"Property",or=jr+"TimingFunction"),hr=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[nr]=d.map(dr).map(tr).join(","),a.node.style[or]=tr(c.easing||"linear"),a.node.style[mr]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(ar(rr(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(kr,j,!1),h=!0,i())},a.node.addEventListener(kr,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,p=[];o--;)m=d[o],e=f+m,lr&&!vr[e]&&(a.node.style[dr(m)]=b[m],ur[e]||(k=a.getStyle(m),ur[e]=a.getStyle(m)!=b[m],vr[e]=!ur[e],vr[e]&&(a.node.style[dr(m)]=k))),(!lr||vr[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?di("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],p.push({name:dr(m),interpolator:fi(parseFloat(k),parseFloat(b[m])),suffix:n}));p.length?new pr({root:a.root,duration:c.duration,easing:ar(c.easing||""),step:function(b){var c,d;for(d=p.length;d--;)c=p[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(kr,j,!1),h=!0,i())},0)},c.delay||0)}):hr=null;var wr,xr,yr,zr,Ar,Br=hr;if("undefined"!=typeof document){if(wr="hidden",Ar={},wr in document)yr="";else for(zr=Bh.length;zr--;)xr=Bh[zr],wr=xr+"Hidden",wr in document&&(yr=xr);void 0!==yr?(document.addEventListener(yr+"visibilitychange",of),of()):("onfocusout"in document?(document.addEventListener("focusout",pf),document.addEventListener("focusin",qf)):(window.addEventListener("pagehide",pf),window.addEventListener("blur",pf),window.addEventListener("pageshow",qf),window.addEventListener("focus",qf)),Ar.hidden=!1)}var Cr,Dr,Er,Fr=Ar;wh?(Dr=window.getComputedStyle||Vh.getComputedStyle,Cr=function(a,b,c,d){var e,f=this;if(Fr.hidden)return this.setStyle(a,b),Er||(Er=wi.resolve());"string"==typeof a?(e={},e[a]=b):(e=a,d=c,c=b),c||(di('The "'+this.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),c=this,d=this.complete);var g=new wi(function(a){var b,d,g,h,i,j,k;if(!c.duration)return f.setStyle(e),void a();for(b=Object.keys(e),d=[],g=Dr(f.node),i={},j=b.length;j--;)k=b[j],h=g[dr(k)],"0px"===h&&(h=0),h!=e[k]&&(d.push(k),f.node.style[dr(k)]=h);return d.length?void Br(f,e,c,d,a):void a()});return d&&(pi.warn({debug:!0,message:"usePromise",args:{method:"t.animateStyle"}}),g.then(d).then(null,function(a){pi.consoleError({debug:!0,err:a})})),g}):Cr=null;var Gr=Cr,Hr=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),d({},a,b)},Ir=rf,Jr=function(a,b,c){this.init(a,b,c)};Jr.prototype={init:_q,start:Ir,getStyle:er,setStyle:fr,animateStyle:Gr,processParams:Hr};var Kr,Lr,Mr=Jr;Kr=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},Lr=function(){this.node.type&&"text/javascript"!==this.node.type||di("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var Nr=tf,Or=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(zf).join("")+this.conditionalAttributes.map(zf).join(""),"option"===this.name&&xf(this)&&(a+=" selected"),"input"===this.name&&yf(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=cc(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),om.test(this.template.e)||(a+="</"+this.template.e+">"),a)},Pr=Af,Qr=Bf,Rr=function(a){this.init(a)};Rr.prototype={bubble:lp,detach:mp,find:np,findAll:op,findAllComponents:pp,findComponent:qp,findNextNode:rp,firstNode:sp,getAttribute:tp,init:Yq,rebind:Zq,render:Nr,toString:Or,unbind:Pr,unrender:Qr};var Sr=Rr,Tr=/^\s*$/,Ur=/^\s*/,Vr=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&Tr.test(c)&&b.shift(),d=b[b.length-1],void 0!==d&&Tr.test(d)&&b.pop(),e=b.reduce(Df,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},Wr=Ef,Xr=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},Yr=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=Mk,this.index=a.index,this.name=a.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,yo.init(this,a),!this.keypath&&(c=Wr(this.root,this.name))&&(ao.call(this),this.isNamed=!0,this.setTemplate(c))};Yr.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||xo.call(this,a,b),this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:yo.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=Wr(this.root,""+a)),!b&&this.name&&(b=Wr(this.root,this.name))&&(ao.call(this),this.isNamed=!0),b||pi.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}}),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&Gi.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new Dt({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Fk?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?Xr(b,e[0]):b):b},unbind:function(){this.isNamed||ao.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var Zr=Yr,$r=If,_r=new si("detach"),as=Jf,bs=Kf,cs=Lf,ds=Mf,es=Nf,fs=Of,gs=Pf,hs={},is=Qf,js=Tf,ks={},ls=Uf,ms=/[^\.]+$/,ns=Wf,os=Zf,ps=cg,qs=dg,rs=/\$\{([^\}]+)\}/g,ss=function(a){return"function"==typeof a?{get:a}:"string"==typeof a?{get:eg(a)}:("object"==typeof a&&"string"==typeof a.get&&(a={get:eg(a.get),set:a.set}),a)},ts=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};ts.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a]=null,this.viewmodel.register(a,this.computation,"computed")}};var us=ts,vs=function(a,b,c){var d=this;this.ractive=a,this.viewmodel=a.viewmodel,this.key=b,this.getter=c.get,this.setter=c.set,this.hardDeps=c.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(b){return a.viewmodel.register(b,d,"computed")}),this._dirty=this._firstRun=!0};vs.prototype={constructor:vs,init:function(){var a;this.bypass=!0,a=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key),this.bypass=!1,this.setter&&void 0!==a&&this.set(a)},invalidate:function(){this._dirty=!0},get:function(){var a,b,c,d=this,e=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(a=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?e=!0:[this.hardDeps,this.softDeps].forEach(function(b){var c,f,g;if(!e)for(g=b.length;g--;)if(c=b[g],f=a.viewmodel.get(c),!h(f,d.depValues[c]))return d.depValues[c]=f,void(e=!0)}),e){a.viewmodel.capture();try{this.value=this.getter.call(a)}catch(f){pi.warn({debug:a.debug,message:"failedComputation",args:{key:this.key,err:f.message||f}}),this.value=void 0}b=a.viewmodel.release(),c=this.updateDependencies(b),c&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){d.depValues[b]=a.viewmodel.get(b)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,fg(this.viewmodel,d)&&!this.unresolvedDeps[d]?(f=new us(this,d),a.splice(b,1),this.unresolvedDeps[d]=f,Gi.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var ws=vs,xs=gg,ys={FAILED_LOOKUP:!0},zs={},As=hg,Bs=jg,Cs=lg;lg.prototype.setValue=function(a){this.viewmodel.set(this.keypath,a,{noMapping:!0})};var Ds=mg;mg.prototype={get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.deps=[],this.local.mappings[this.localKey]=this,this.setup()},map:function(a){return a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){if(!this.resolved)throw new Error("Something very odd happened. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new Cs(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);a.origin.register(c,b.dep,b.group),b.dep.setValue(a.origin.get(c))}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(a,b,c){for(var d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}};var Es=ng,Fs=og,Gs=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},Hs={},Is=pg,Js=sg,Ks=ug,Ls=vg,Ms={implicit:!0},Ns={noCascade:!0},Os=xg,Ps=zg,Qs=Ag,Rs=function(a,b){var c=this;return void 0===b&&(b=Sh(null)),function(){var d,e;c.ractive=a,c.mappings=b;for(d in b)b[d].initViewmodel(c);if(a.data&&a.parameters!==!0)for(d in a.data)(e=c.mappings[d])&&void 0===e.getValue()&&e.setValue(a.data[d]);c.cache={},c.cacheMap=Sh(null),c.deps={computed:Sh(null),"default":Sh(null)},c.depsMap={computed:Sh(null),"default":Sh(null)},c.patternObservers=[],c.specials=Sh(null),c.wrapped=Sh(null),c.computations=Sh(null),c.captureGroups=[],c.unresolvedImplicitDependencies=[],c.changes=[],c.implicitChanges={},c.noCascade={}}()};Rs.prototype={adapt:is,applyChanges:os,capture:ps,clearCache:qs,compute:xs,get:As,init:Bs,map:Es,mark:Fs,merge:Is,register:Js,release:Ks,set:Ls,smartUpdate:Os,teardown:Ps,unregister:Qs};var Ss=Rs;Cg.prototype={constructor:Cg,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?Dg(this.queue,b).push(a):Eg(this,a),delete this.inProcess[a._guid]}};var Ts=Cg,Us=new si("construct"),Vs=new si("config"),Ws=new Ts("init"),Xs=0,Ys=Fg,Zs=function(a,b,d,e,f){var g,h,i,j,k,l={};for(h=a.parentFragment,i=a.root,f=f||{},c(l,f||{}),f.content=e||[],l[""]=f.content,b.defaults.el&&pi.warn({debug:i.debug,message:"defaultElSpecified",args:{name:a.name}}),j=h;j;){if(j.owner.type===Sk){k=j.owner.container;break}j=j.parent}return g=Sh(b.prototype),Ys(g,{el:null,append:!0,data:d.data,partials:f,magic:i.magic||b.defaults.magic,modifyArrays:i.modifyArrays,adapt:i.adapt},{parent:i,component:a,container:k,mappings:d.mappings,inlinePartials:l}),g},$s=Hg;Hg.prototype={bubble:function(){this.dirty||(this.dirty=!0,Gi.addView(this))},update:function(){var a=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key,this.fragment.getValue()),a.mark(this.key),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var _s=Ig,at=Ng;Ng.prototype={resolve:function(a){this.resolved=!0,this.specialRef="@"===a[0],this.ready?this.readyResolve(a):this.notReadyResolve(a)
},notReadyResolve:function(a){if(this.specialRef)this.parameters.addData(this.key,C(a));else{var b=this.parameters.addMapping(this.key,a);void 0===b.getValue()&&(b.updatable=!0)}},readyResolve:function(a){var b=this.parameters.component.instance.viewmodel;this.specialRef?(this.parameters.addData(this.key,C(a)),b.mark(this.key)):b.reversedMappings&&b.reversedMappings[this.key]?b.reversedMappings[this.key].rebind(a):b.mappings[this.key].resolve(a)}};var bt=Og;Qg.prototype={add:function(a,b){if("string"==typeof b){var c=Wm(b);this.addData(a,c?c.value:b)}else if(0===b)this.addData(a);else{var d;d=Rg(b)?new at(this,a,b[0]).resolver:new $s(this,a,b),this.component.resolvers.push(d)}},addData:function(a,b){this.data[a]=b},addMapping:function(a,b){var c=this.parentViewmodel.mappings[b];return this.mappings[a]=new Ds(a,{origin:c?c.origin:this.parentViewmodel,keypath:c?c.keypath:b})}};var ct=Sg,dt=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},et=Ug,ft=Vg,gt=Wg,ht=Xg,it=new si("teardown"),jt=Yg,kt=$g,lt=function(a,b){this.init(a,b)};lt.prototype={detach:as,find:bs,findAll:cs,findAllComponents:ds,findComponent:es,findNextNode:fs,firstNode:gs,init:et,rebind:ft,render:gt,toString:ht,unbind:jt,unrender:kt};var mt=lt,nt=function(a){this.type=Nk,this.value=a.template.c};nt.prototype={detach:Zn,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var ot=nt,pt=function(a){var b,c;this.type=Sk,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.yn||"";this.fragment=new Dt({owner:this,root:b.parent,template:b._inlinePartials[d]||[],pElement:this.containerFragment.pElement}),e(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],Gi.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};pt.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),w(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var qt=pt,rt=function(a){this.declaration=a.template.a};rt.prototype={init:ai,render:ai,unrender:ai,teardown:ai,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var st=rt,tt=_g,ut=ah,vt=bh,wt=ch,xt=dh,yt=eh,zt=gh,At=function(a){this.init(a)};At.prototype={bubble:On,detach:Pn,find:Qn,findAll:Rn,findAllComponents:Sn,findComponent:Tn,findNextNode:Un,firstNode:Vn,getNode:Wn,getValue:Yn,init:ut,rebind:vt,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:wt,toString:xt,unbind:yt,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:zt};var Bt,Ct,Dt=At,Et=["template","partials","components","decorators","events"],Ft=new si("reset"),Gt=hh,Ht=function(a,b,c){function d(b,c,f){f&&f.partials[a]||b.forEach(function(b){b.type===Mk&&b.getPartialName()===a&&c.push(b),b.fragment&&d(b.fragment.items,c,f),e(b.fragments)?d(b.fragments,c,f):e(b.items)?d(b.items,c,f):b.type===Rk&&b.instance&&d(b.instance.fragment.items,c,b.instance),b.type===Lk&&(e(b.attributes)&&d(b.attributes,c,f),e(b.conditionalAttributes)&&d(b.conditionalAttributes,c,f))})}var f,g=this,h=[];return d(this.fragment.items,h),this.partials[a]=b,f=Gi.start(this,!0),h.forEach(function(b){b.value=void 0,b.setValue(a)}),Gi.end(),c&&(pi.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.resetPartial"}}),f.then(c.bind(this)).then(null,function(a){pi.consoleError({debug:g.debug,err:a})})),f},It=ih,Jt=Nj("reverse"),Kt=/\*/,Lt=jh,Mt=Nj("shift"),Nt=Nj("sort"),Ot=Nj("splice"),Pt=kh,Qt=new si("teardown"),Rt=lh,St=nh,Tt=oh,Ut=new si("unrender"),Vt=ph,Wt=Nj("unshift"),Xt=new si("update"),Yt=qh,Zt=rh,$t={add:ji,animate:Ni,detach:Pi,find:Qi,findAll:Zi,findAllComponents:$i,findComponent:_i,findContainer:aj,findParent:bj,fire:hj,get:jj,insert:lj,merge:mj,observe:Dj,observeOnce:Ej,off:Hj,on:Ij,once:Jj,pop:Oj,push:Pj,render:Zj,reset:Gt,resetPartial:Ht,resetTemplate:It,reverse:Jt,set:Lt,shift:Mt,sort:Nt,splice:Ot,subtract:Pt,teardown:Rt,toggle:St,toHTML:Tt,toHtml:Tt,unrender:Vt,unshift:Wt,update:Yt,updateModel:Zt},_t=th,au=1,bu=vh,cu=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath,d.index={},(c=ko(b.proxy.parentFragment))&&(d.index=ko.resolve(c)),d):d};Bt=function(a){Ys(this,a)},Ct={extend:{value:bu},getNodeInfo:{value:cu},parse:{value:yn},Promise:{value:wi},svg:{value:Ah},magic:{value:yh},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:Eh},events:{writable:!0,value:{}},interpolators:{writable:!0,value:hi},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},Uh(Bt,Ct),Bt.prototype=c($t,Dh),Bt.prototype.constructor=Bt,Bt.defaults=Bt.prototype;var du="function";if(typeof Date.now!==du||typeof String.prototype.trim!==du||typeof Object.keys!==du||typeof Array.prototype.indexOf!==du||typeof Array.prototype.forEach!==du||typeof Array.prototype.map!==du||typeof Array.prototype.filter!==du||"undefined"!=typeof window&&typeof window.addEventListener!==du)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var eu=Bt;return eu});