/*
	ractive.min.js v0.6.1
	2014-12-11 - commit 209b5456 

	http://ractivejs.org
	http://twitter.com/RactiveJS

	Released under the MIT License.
*/

!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports&&"function"==typeof require?module.exports=b():a.Ractive=b()}("undefined"!=typeof window?window:this,function(){"use strict";function a(a,d){var e,f,g;return f='[data-ractive-css="'+d+'"]',g=function(a){var b,d,e,g,h,i,j,k=[];for(b=[];d=Lh.exec(a);)b.push({str:d[0],base:d[1],modifiers:d[2]});for(g=b.map(c),j=b.length;j--;)i=g.slice(),e=b[j],i[j]=e.base+f+e.modifiers||"",h=g.slice(),h[j]=f+" "+h[j],k.push(i.join(" "),h.join(" "));return k.join(", ")},e=Nh.test(a)?a.replace(Nh,f):a.replace(Kh,"").replace(Jh,function(a,c){var d,e;return Mh.test(c)?a:(d=c.split(",").map(b),e=d.map(g).join(", ")+" ",a.replace(c,e))})}function b(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function c(a){return a.str}function d(a,b,c){var d,f=b.constructor._guid;(d=e(c.css,c,f)||e(a.css,a,f))&&(b.constructor.css=d)}function e(a,b,c){return a?b.noCssTransform?a:Oh(a,c):void 0}function f(a,b){return"function"==typeof b&&/_super/.test(a)}function g(a,b,c){var d=c.data||{},e=k(a.prototype.data);if("object"!=typeof d&&"function"!=typeof d)throw new TypeError('data option must be an object or a function, "'+d+'" is not valid');return l(e,d)}function h(a,b,c){b.data=g(a,b,c)}function i(a,b,c){var d=c.data,e=g(a,b,c);return"function"==typeof e&&(e=e.call(b,d)||d),b.data=e||{}}function j(a){var b=this.init(a.constructor,a,a);return b?(a.data=b,!0):void 0}function k(a){if("function"!=typeof a||!Object.keys(a).length)return a;var b={};return m(a,b),l(a,b)}function l(a,b){return"function"==typeof b?p(b,a):"function"==typeof a?o(b,a):n(b,a)}function m(a,b,c){for(var d in a)!(b._mappings&&b._mappings[d]&&b._mappings[d].updatable)&&c&&d in b||(b[d]=a[d])}function n(a,b){return a=a||{},b?(m(b,a,!0),a):a}function o(a,b){return function(c){var d;if(a){d=[];for(var e in a)c&&e in c||d.push(e)}return c=b.call(this,c)||c,d&&d.length&&(c=c||{},d.forEach(function(b){c[b]=a[b]})),c}}function p(a,b){var c;return c="function"!=typeof b?function(a){n(a,b)}:function(a){return b=Rh(b,function(){},!0),b.call(this,a)||a},Rh(a,c)}function q(a){var b,c,d,e;return b=a.pos,d=ri(a),null===d?null:(c=[d],a.matchString(",")?(e=q(a),e?c.concat(e):(a.pos=b,null)):c)}function r(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=a.readExpression(),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=r(a),null===f&&a.error(bi.expectedExpression),f.forEach(b)),d)}function s(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(oi.name))return{t:Xh.REFINEMENT,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(bi.expectedExpression),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:Xh.REFINEMENT,x:d}):null}function t(a){return JSON.stringify(String(a))}function u(a,b){var c,d;if(a.t===Xh.REFERENCE&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(Eh(d))u(d,b);else for(c=d.length;c--;)u(d[c],b);a.x&&u(a.x,b),a.r&&u(a.r,b),a.v&&u(a.v,b)}function v(a,b,c){var d=function(b){return v(a,b,c)};switch(b.t){case Xh.BOOLEAN_LITERAL:case Xh.GLOBAL:case Xh.NUMBER_LITERAL:return b.v;case Xh.STRING_LITERAL:return t(b.v);case Xh.ARRAY_LITERAL:return"["+(b.m?b.m.map(d).join(","):"")+"]";case Xh.OBJECT_LITERAL:return"{"+(b.m?b.m.map(d).join(","):"")+"}";case Xh.KEY_VALUE_PAIR:return b.k+":"+v(a,b.v,c);case Xh.PREFIX_OPERATOR:return("typeof"===b.s?"typeof ":b.s)+v(a,b.o,c);case Xh.INFIX_OPERATOR:return v(a,b.o[0],c)+("in"===b.s.substr(0,2)?" "+b.s+" ":b.s)+v(a,b.o[1],c);case Xh.INVOCATION:return v(a,b.x,c)+"("+(b.o?b.o.map(d).join(","):"")+")";case Xh.BRACKETED:return"("+v(a,b.x,c)+")";case Xh.MEMBER:return v(a,b.x,c)+v(a,b.r,c);case Xh.REFINEMENT:return b.n?"."+b.n:"["+v(a,b.x,c)+"]";case Xh.CONDITIONAL:return v(a,b.o[0],c)+"?"+v(a,b.o[1],c)+":"+v(a,b.o[2],c);case Xh.REFERENCE:return"_"+c.indexOf(b.n);default:a.error("Expected legal JavaScript")}}function w(a,b,c){var d;if(b){for(;b.t===Xh.BRACKETED&&b.x;)b=b.x;return b.t===Xh.REFERENCE?c.r=b.n:b.t===Xh.NUMBER_LITERAL&&Yi.test(b.v)?c.r=b.v:(d=x(a,b))?c.rx=d:c.x=a.flattenExpression(b),c}}function x(a,b){for(var c,d=[];b.t===Xh.MEMBER&&b.r.t===Xh.REFINEMENT;)c=b.r,d.unshift(c.x?c.x.t===Xh.REFERENCE?c.x:a.flattenExpression(c.x):c.n),b=b.x;return b.t!==Xh.REFERENCE?null:{r:b.n,m:d}}function y(a){var b;return a.interpolate[a.inside]===!1?null:(b=Si.slice().sort(function(b,c){return a[c.delimiters][0].length-a[b.delimiters][0].length}),function c(d){return d?z(a,d)||c(b.shift()):null}(b.shift()))}function z(a,b){var c,d,e,f,g,h,i,j;if(c=a.pos,e=a[b.delimiters],!a.matchString(e[0]))return null;if(d=Ri(a))return a.matchString(e[1])?(a[b.delimiters]=d,cj):null;if(a.allowWhitespace(),d=bj(a,b),null===d)return a.pos=c,null;if(a.allowWhitespace(),a.matchString(e[1])||a.error("Expected closing delimiter '"+e[1]+"' after reference"),d.t===Xh.COMMENT&&(d.exclude=!0),d.t===Xh.CLOSING&&(a.sectionDepth-=1,a.sectionDepth<0&&(a.pos=c,a.error("Attempted to close a section that wasn't open"))),d.contextPartialExpression)d.f=d.contextPartialExpression,d.t=Xh.SECTION,d.n="with",delete d.contextPartialExpression;else if(A(d)){for(a.sectionDepth+=1,f=[],i=f,g=d.n;j=a.read();){if(j.t===Xh.CLOSING){g&&j.r!==g&&a.error("Expected {{/"+g+"}}");break}if(j.t===Xh.INTERPOLATOR&&"else"===j.r){if("unless"!==d.n){i=h=[];continue}a.error("{{else}} not allowed in {{#unless}}")}i.push(j)}f.length&&(d.f=f),h&&h.length&&(d.l=h,"with"===d.n&&(d.n="if-with"))}return a.includeLinePositions&&(d.p=a.getLinePos(c)),d.n?d.n=Vi[d.n]:d.t===Xh.INVERTED&&(d.t=Xh.SECTION,d.n=Xh.SECTION_UNLESS),d.n===Xh.SECTION_PARTIAL?(d.r&&-1===d.r.indexOf(".")||a.error("Invalid partial name "+d.r+"."),{n:d.r,f:d.f,t:Xh.INLINE_PARTIAL}):d}function A(a){return a.t===Xh.SECTION||a.t===Xh.INVERTED}function B(a){return a.replace(jj,"\\$&")}function C(a){var b=a.remaining(),c=a.pos,d=a.matchPattern(mj),e=a.options.delimiters[0],f=a.options.delimiters[1];if(d&&a.matchString(e)){var g=a.matchPattern(nj);if(!a.matchString(f)||!a.matchPattern(oj))return a.pos=c,null;var h=new RegExp("<!--\\s*"+kj(e)+"\\s*\\/\\s*"+g+"\\s*"+kj(f)+"\\s*-->");b=a.remaining();var i=h.exec(b);if(!i)throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+g+'", but '+(i?'instead found "'+i[1]+'"':" no closing found"));var j={t:Xh.INLINE_PARTIAL,f:new a.StandardParser(b.substr(0,i.index),a.options).result,n:g};return a.pos+=i.index+i[0].length,j}return a.pos=c,null}function D(a){return a.replace(aj,function(a,b){var c;return c="#"!==b[0]?$i[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(E(c)):a})}function E(a){return a?10===a?32:128>a?a:159>=a?_i[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function F(a){var b,c,d;return a.allowWhitespace(),(c=a.matchPattern(Bj))?(b={name:c},d=G(a),d&&(b.value=d),b):null}function G(a){var b,c,d,e;return b=a.pos,a.allowWhitespace(),a.matchString("=")?(a.allowWhitespace(),c=a.pos,d=a.sectionDepth,e=J(a,"'")||J(a,'"')||I(a),a.sectionDepth!==d&&(a.pos=c,a.error("An attribute value must contain as many opening section tags as closing section tags")),null===e?(a.pos=b,null):e.length?1===e.length&&"string"==typeof e[0]?xj(e[0]):e:null):(a.pos=b,null)}function H(a){var b,c,d,e,f;return b=a.pos,(c=a.matchPattern(Cj))?(d=c,e=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],-1!==(f=pj(d,e))&&(c=c.substr(0,f),a.pos=b+c.length),c):null}function I(a){var b,c;for(a.inAttribute=!0,b=[],c=dj(a)||H(a);null!==c;)b.push(c),c=dj(a)||H(a);return b.length?(a.inAttribute=!1,b):null}function J(a,b){var c,d,e;if(c=a.pos,!a.matchString(b))return null;for(a.inAttribute=b,d=[],e=dj(a)||K(a,b);null!==e;)d.push(e),e=dj(a)||K(a,b);return a.matchString(b)?(a.inAttribute=!1,d):(a.pos=c,null)}function K(a,b){var c,d,e,f;return c=a.pos,e=a.remaining(),f=[b,a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],d=pj(e,f),-1===d&&a.error("Quoted attribute value must have a closing quote"),d?(a.pos+=d,e.substr(0,d)):null}function L(a){var b,c,d;return a.allowWhitespace(),(b=qi(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function M(a){var b,c,d,e,f,g,h,i,j,k,l;if(b=a.pos,a.inside||a.inAttribute)return null;if(!a.matchString("<"))return null;if("/"===a.nextChar())return null;if(c={},a.includeLinePositions&&(c.p=a.getLinePos(b)),a.matchString("!"))return c.t=Xh.DOCTYPE,a.matchPattern(/^doctype/i)||a.error("Expected DOCTYPE declaration"),c.a=a.matchPattern(/^(.+?)>/),c;if(c.t=Xh.ELEMENT,c.e=a.matchPattern(Kj),!c.e)return null;for(Lj.test(a.nextChar())||a.error("Illegal tag name"),g=function(b,d){var e=d.n||d;Oj.test(e)&&(a.pos-=e.length,a.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),c.v[b]=d},a.allowWhitespace();h=dj(a)||Dj(a);)h.name?(e=Pj[h.name])?c[e]=Jj(h.value):(f=Nj.exec(h.name))?(c.v||(c.v={}),i=Jj(h.value),g(f[1],i)):a.sanitizeEventAttributes&&Mj.test(h.name)||(c.a||(c.a={}),c.a[h.name]=h.value||0):(c.m||(c.m=[]),c.m.push(h)),a.allowWhitespace();if(a.allowWhitespace(),a.matchString("/")&&(j=!0),!a.matchString(">"))return null;if(d=c.e.toLowerCase(),!j&&!ij.test(c.e)){for(("script"===d||"style"===d)&&(a.inside=d),k=[];N(d,a.remaining())&&(l=a.read(Hj))&&l.t!==Xh.CLOSING&&l.t!==Xh.CLOSING_TAG;)k.push(l);k.length&&(c.f=k)}return a.inside=null,a.sanitizeElements&&-1!==a.sanitizeElements.indexOf(d)?Qj:c}function N(a,b){var c,d;return c=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(b),d=Ij[a],c&&d?!~d.indexOf(c[1].toLowerCase()):!0}function O(a){return"string"==typeof a}function P(a){return a.t===Xh.COMMENT||a.t===Xh.DELIMCHANGE}function Q(a){return(a.t===Xh.SECTION||a.t===Xh.INVERTED)&&a.f}function R(a,b,c){for(var d,e,f=c.length;f--;)d=c[f],S(d)?(b[d.n]=d.f,c.splice(f,1)):Ch(d.f)&&((e=T(a,d))?(a.push(e),R(a,d.p={},d.f),a.pop()):Ch(d.f)&&R(a,b,d.f))}function S(a){return a.t===Xh.INLINE_PARTIAL}function T(a,b){var c,d,e=b.e;if(b.e)for(c=0;c<a.length;c++)if(d=(a[c].components||{})[e])return d}function U(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(Zj(a),g=a.length;g--;)h=a[g],h.exclude?a.splice(g,1):b&&h.t===Xh.COMMENT&&a.splice(g,1);for(Wj(a,d,e),g=a.length;g--;)if(h=a[g],h.f&&(k=c||h.t===Xh.ELEMENT&&bk.test(h.e),k||(i=a[g-1],j=a[g+1],(!i||"string"==typeof i&&dk.test(i))&&(l=!0),(!j||"string"==typeof j&&ck.test(j))&&(m=!0)),U(h.f,b,k,l,m,f)),h.l&&(U(h.l,b,c,l,m,f),f&&(n={t:4,n:Xh.SECTION_UNLESS,f:h.l},h.r&&(n.r=h.r),h.x&&(n.x=h.x),h.rx&&(n.rx=h.rx),a.splice(g+1,0,n),delete h.l)),h.a)for(o in h.a)h.a.hasOwnProperty(o)&&"string"!=typeof h.a[o]&&U(h.a[o],b,c,l,m,f);for(g=a.length;g--;)"string"==typeof a[g]&&("string"==typeof a[g+1]&&(a[g]=a[g]+a[g+1],a.splice(g+1,1)),c||(a[g]=a[g].replace(ak," ")),""===a[g]&&a.splice(g,1))}function V(a,b){return void 0===b&&(b=a),function(){b.delimiters=a.delimiters||["{{","}}"],b.tripleDelimiters=a.tripleDelimiters||["{{{","}}}"],b.staticDelimiters=a.staticDelimiters||["[[","]]"],b.staticTripleDelimiters=a.staticTripleDelimiters||["[[[","]]]"]}()}function W(a,b){var c=a.map(b);return a.forEach(function(a,b){c[a]=c[b]}),c}function X(a){var b=ai(jk);return b.parse=function(b,c){return Y(b,c||a)},b}function Y(a,b){if(!gk)throw new Error(Uh.missingParser);return gk(a,b||this.options)}function Z(a,b){var c;if(!Wh){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if($(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return c.innerHTML}function $(a){return a&&"#"===a.charAt(0)}function _(a){return!("string"==typeof a)}function ab(a){return a.defaults&&(a=a.defaults),ik.reduce(function(b,c){return b[c]=a[c],b},{ractive:a})}function bb(a){var b,c=a._config.template;if(c&&c.fn)return b=cb(a,c.fn),b!==c.result?(c.result=b,b=db(b,a)):void 0}function cb(a,b){var c=kk.createHelper(kk.getParseOptions(a));return b.call(a,a.data,c)}function db(a,b){if("string"==typeof a)"#"===a[0]&&(a=kk.fromId(a)),a=gk(a,kk.getParseOptions(b));else if(2!==a.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return a}function eb(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function fb(a,b){this.name=a,this.useDefaults=b}function gb(a,b){var c;return b.test(a)?b.getValue(a):!a.isolated&&(c=a.parent)?gb(c,b):void 0}function hb(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=ib(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function ib(a,b){var c;return b in a?!function(){var d=a[b];c="function"==typeof d?d:function(){return d}}():c=vk,c}function jb(a,b,c){if(b in a){if(c in a)throw new Error(kb(b,c,!0));Ih(kb(b,c)),a[c]=a[b]}}function kb(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function lb(a){jb(a,"eventDefinitions","events")}function mb(a){Ch(a.adaptors)&&jb(a,"adaptors","adapt")}function nb(a){jb(a,"beforeInit","onconstruct"),jb(a,"init","onrender"),jb(a,"complete","oncomplete"),lb(a),mb(a)}function ob(a,b,c,d,e){nk[b][a](c,d,e)}function pb(a){return a in yh&&!(a in pk.parseOptions)&&!(a in nk)}function qb(a,b,c,d){xk(d),ob(a,"data",b,c,d),pk.parseOptions.forEach(function(a){a in d&&(c[a]=d[a])});for(var e in d)if(pb(e)){var f=d[e];c[e]="function"==typeof f?wk(b.prototype,e,f):f}pk.registries.forEach(function(e){e[a](b,c,d)}),ob(a,"template",b,c,d),ob(a,"css",b,c,d),rb(b.prototype,c,d)}function rb(a,b,c){for(var d in c)if(!(d in qk)&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=wk(a,d,e)),b[d]=e}}function sb(a){return function(){return a}}function tb(a){var b=Uh[a.message]||a.message||"";return ub(b,a.args)}function ub(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function vb(a){this.event=a,this.method="on"+a,this.deprecate=Jk[a]}function wb(a){setTimeout(a,0)}function xb(a,b){return function(){for(var c;c=a.shift();)c(b)}}function yb(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof Kk)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,yb(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function zb(a){return(a||"").replace(Rk,".$1")}function Ab(a,b){var c;if("."===b)return a;if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),c.join(".")}return a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,"")}function Bb(a,b,c){return b=Sk(b),"~/"===b.substr(0,2)?(b=b.substring(2),Db(a,Fb(b),c),b):"."===b[0]?(b=Uk(Tk(c),b),b&&Db(a,Fb(b),c),b):Cb(a,b,c)}function Cb(a,b,c,d){var e,f,g,h,i;for(f=Fb(b);c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e+"."+b;return Eb(a,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,i=Cb(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function Db(a,b){var c;!a.parent||a.isolated||Eb(a,b)||(c=Cb(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c})}function Eb(a,b){return b in a.data||b in a.viewmodel.computations||b in a.viewmodel.mappings}function Fb(a){var b=a.indexOf(".");return~b?a.slice(0,b):a}function Gb(a){a.teardown()}function Hb(a){a.detach()}function Ib(a){a.detachNodes()}function Jb(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function Kb(){for(var a,b,c;Xk.viewmodels.length;)b=Xk.viewmodels.pop(),c=b.applyChanges(),c&&_k.fire(b.ractive,c);for(Lb(),a=0;a<Xk.views.length;a+=1)Xk.views[a].update();for(Xk.views.length=0,a=0;a<Xk.tasks.length;a+=1)Xk.tasks[a]();return Xk.tasks.length=0,Xk.viewmodels.length?Kb():void 0}function Lb(){var a,b,c,d;for(a=$k.length;a--;)b=$k[a],b.keypath&&$k.splice(a,1),(c=Vk(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),$k.splice(a,1));d&&d.forEach(Mb)}function Mb(a){a.item.resolve(a.keypath)}function Nb(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,cl.start(d),d.viewmodel.mark(c),cl.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function Ob(a,b,c){var d;if("string"!=typeof b||!Fh(c))throw new Error("Bad arguments");if(d=+a.get(b)||0,!Fh(d))throw new Error("Cannot add to a non-numeric value");return a.set(b,d+c)}function Pb(a,b){return pl(this,a,void 0===b?1:+b)}function Qb(a){return Sk(a).replace(Jl,"")}function Rb(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;if(d=new Qk(function(a){e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(n={},c.step=null,c.complete=null,m=function(a){return function(b,c){n[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(o=m(f),c={easing:i,duration:j},k&&(c.step=o)),c.complete=l?o:Ll,h.push(Sb(this,f,a[f],c)));return q={easing:i,duration:j},k&&(q.step=function(a){k(a,n)}),l&&d.then(function(a){l(a,n)}).then(null,function(a){Ik.consoleError({debug:r.debug,err:a})}),q.complete=e,p=Sb(this,null,null,q),h.push(p),d.stop=function(){for(var a;a=h.pop();)a.stop();p&&p.stop()},d}return c=c||{},c.complete&&d.then(c.complete).then(null,function(a){Ik.consoleError({debug:r.debug,err:a})}),c.complete=e,g=Sb(this,a,b,c),d.stop=function(){g.stop()},d}function Sb(a,b,c,d){var e,f,g,h;return b&&(b=Kl(b)),null!==b&&(h=a.viewmodel.get(b)),xl.abort(b,a),Il(h,c)?(d.complete&&d.complete(d.to),Ml):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new Hl({keypath:b,from:h,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),xl.add(g),a._animations.push(g),g)}function Tb(){return this.detached?this.detached:(this.el&&Mk(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Ol.fire(this),this.detached)}function Ub(a){return this.el?this.fragment.find(a):null}function Vb(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function Wb(a){var b,c;for(b=[a],c=Vb(a);c;)b.push(c),c=Vb(c);return b}function Xb(a,b,c,d){var e=[];return ol(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:Sl}}),c?(ol(e,{cancel:{value:Tl},_root:{value:a},_sort:{value:Wl},_makeDirty:{value:Xl},_remove:{value:Yl},_dirty:{value:!1,writable:!0}}),e):e}function Yb(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=Zl(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function Zb(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=Zl(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function $b(a){return this.fragment.findComponent(a)}function _b(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function ac(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function bc(a){var b,c,d,e,f,g;for(b=a.split("."),(c=fm[b.length])||(c=cc(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function cc(a){var b,c,d,e,f,g="";if(!fm[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}fm[a]=d}return fm[a]}function dc(a,b,c){if(void 0===c&&(c={}),b){c.event?c.event.name=b:c.event={name:b,context:a.data,keypath:"",_noArg:!0};var d=gm(b);ec(a,d,c.event,c.args,!0)}}function ec(a,b,c,d,e){void 0===e&&(e=!1);var f,g,h=!0;for(em.enqueue(a,c),g=b.length;g>=0;g--)f=a._subs[b[g]],f&&(h=fc(a,f,c,d)&&h);if(em.dequeue(a),a.parent&&h){if(e&&a.component){var i=a.component.name+"."+b[b.length-1];b=gm(i),c&&(c.component=a)}ec(a.parent,b,c,d)}}function fc(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function gc(a){var b={args:Array.prototype.slice.call(arguments,1)};hm(this,a,b)}function hc(a){var b;return a=Kl(a),b=this.viewmodel.get(a,jm),void 0===b&&this.parent&&!this.isolated&&Vk(this,a,this.fragment)&&(b=this.viewmodel.get(a)),b}function ic(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function jc(a,b){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(a=lm(a),b=lm(b)||null,!a)throw new Error("You must specify a valid target to insert into");a.insertBefore(this.detach(),b),this.el=a,(a.__ractive_instances__||(a.__ractive_instances__=[])).push(this),this.detached=null,kc(this)}function kc(a){mm.fire(a),a.findAllComponents("*").forEach(function(a){kc(a.instance)})}function lc(a,b,c){var d,e,f=this;return a=Kl(a),d=this.viewmodel.get(a),Ch(d)&&Ch(b)?(e=cl.start(this,!0),this.viewmodel.merge(a,d,b,c),cl.end(),c&&c.complete&&(Ik.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.merge"}}),e.then(c.complete).then(null,function(a){Ik.consoleError({debug:f.debug,err:a})})),e):this.set(a,b,c&&c.complete)}function mc(a,b){function c(b,c){var d,e,f;d=a.viewmodel.wrapped[c]?a.viewmodel.wrapped[c].get():a.get(c);for(e in d)!d.hasOwnProperty(e)||"_ractive"===e&&Ch(d)||(f=c?c+"."+e:e,b.push(f));return b}function d(a){return function(b){return b?b+"."+a:a}}var e,f,g;for(e=b.split("."),g=[""];f=e.shift();)"*"===f?g=g.reduce(c,[]):""===g[0]?g[0]=f:g=g.map(d(f));return g}function nc(a,b){var c,d;return c=sm(a,b),d={},c.forEach(function(b){d[b]=a.get(b)}),d}function oc(a,b,c,d){var e,f,g;return b=Kl(b),d=d||Em,Dm.test(b)?(e=new Cm(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new rm(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0,{cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}}}function pc(a,b,c){var d,e,f,g;if(Eh(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",Fm(this,a,b,c);if(f=a.split(" "),1===f.length)return Fm(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(Fm(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function qc(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function rc(a,b){var c,d=this;if(a)c=a.split(" ").map(Im).filter(Jm),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function sc(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(Im).filter(Jm),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function tc(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function uc(a,b,c){var d,e,f,g,h,i,j=[];if(d=vc(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return j}function vc(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:null;case"push":return[a.length,0].concat(c);case"shift":return[0,1];case"unshift":return[0,0].concat(c)}}function wc(a,b){var c,d,e,f=this;if(e=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),c=cl.start(this,!0),cl.scheduleTask(function(){return Xm.fire(f)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(a=lm(a)||this.el,b=lm(b)||this.anchor,this.el=a,this.anchor=b,!this.append&&a){var g=a.__ractive_instances__;g&&g.length&&xc(g),a.innerHTML=""}return this.constructor.css&&Wm.add(this.constructor),a&&((d=a.__ractive_instances__)?d.push(this):a.__ractive_instances__=[this],b?a.insertBefore(this.fragment.render(),b):a.appendChild(this.fragment.render())),cl.end(),this.transitionsEnabled=e,c.then(function(){return Ym.fire(f)}).then(null,function(a){Ik.consoleError({debug:f.debug,err:a})}),c}function xc(a){try{a.splice(0,a.length).forEach(function(a){return a.teardown()})}catch(b){}}function yc(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function zc(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function Ac(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function Bc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function Cc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function Dc(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function Ec(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function Fc(){return this.items&&this.items[0]?this.items[0].firstNode():null}function Gc(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function Hc(a){var b=this;return void 0===a&&(a=hn),function(){var c,d,e,f,g,h,i;return c=a.args,g=c?"argsList":"value",h=c?"dirtyArgs":"dirtyValue",b[h]&&(e=Ic(b.items,d={},b.root._guid),f=Fj(c?"["+e+"]":e,d),i=f?f.value:c?[b.toString()]:b.toString(),b[g]=i,b[h]=!1),b[g]}()}function Ic(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return Ic(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=(f=a.root.viewmodel.wrapped[a.keypath])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function Jc(a){return a.replace(mn,"&amp;").replace(kn,"&lt;").replace(ln,"&gt;")}function Kc(a){return a&&a.parentNode&&a.parentNode.removeChild(a),a}function Lc(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Mc(){return this.value}function Nc(a,b){return a&&b&&a.substr(0,b.length+1)===b+"."}function Oc(a,b,c){return a===b?void 0!==c?c:null:un(a,b)?null===c?c:a.replace(b+".",c+"."):void 0}function Pc(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function Qc(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function Rc(a,b,c){var d;return"@"===b.charAt(0)?new An(a,b,c):(d=Dn(a.parentFragment,b))?new Cn(a,d,c):new xn(a,b,c)}function Sc(a){var b=a.slice(2);return"i"===a[1]&&Fh(b)?+b:b}function Tc(a,b){var c,d;if(Hn[a])return Hn[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),Hn[a]=c,c}function Uc(a){return a.call()}function Vc(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return d=b[c],void 0===d?"undefined":"@"===d[0]?(e=d.slice(1),Fh(e)?e:'"'+e+'"'):d})}function Wc(a){return"${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}"}function Xc(a){return void 0!==a&&"@"!==a[0]}function Yc(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){ml(a,d,{value:Jn.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return ml(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function Zc(a){return a.value}function $c(a){return void 0!=a}function _c(a){a.unbind()}function ad(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!==c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.key=b.key,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=Fn(a,e,c)),b.template.x&&(a.resolver=new Kn(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new On(a,b.template.rx,d)),a.template.n!==Xh.SECTION_UNLESS||a.hasOwnProperty("value")||a.setValue(void 0)}function bd(a){var b,c,d;return a&&"@"===a[0]?(this.keypath=a,void this.setValue(Gn(a))):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function cd(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function dd(){this.parentFragment.bubble()}function ed(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)}function fd(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function gd(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function hd(a,b){var c,d;
for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function id(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function jd(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function kd(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function ld(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Xh.SECTION_EACH){if(this.shuffling=!0,cl.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath+"."+b,h=i.keypath+"."+a,d.index=a,(j=d.registeredIndexRefs)&&j.forEach(md),d.rebind(g,h),void(f[a]=d)))}),e=this.root.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&cl.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function md(a){a.rebind("","")}function nd(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function od(a){return fo.test(go.call(a))}function pd(a){var b,c,d=this;this.updating||(this.updating=!0,(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=Ad(d.keypath,a),c.index=a,b=new St(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):rd(this,a)&&(this.bubble(),this.rendered&&cl.addView(this)),this.value=a,this.updating=!1)}function qd(a,b,c){if(b===Xh.SECTION_EACH&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function rd(a,b){var c={template:a.template.f,root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.subtype)switch(a.subtype){case Xh.SECTION_IF:return wd(a,b,!1,c);case Xh.SECTION_UNLESS:return wd(a,b,!0,c);case Xh.SECTION_WITH:return vd(a,c);case Xh.SECTION_IF_WITH:return ud(a,b,c);case Xh.SECTION_EACH:if(Eh(b))return qd(a,a.subtype,!0),td(a,b,c)}return a.ordered=!!ho(b),a.ordered?(qd(a,Xh.SECTION_EACH,!1),sd(a,b,c)):Eh(b)||"function"==typeof b?a.template.i?(qd(a,Xh.SECTION_EACH,!0),td(a,b,c)):(qd(a,Xh.SECTION_WITH,!1),vd(a,c)):(qd(a,Xh.SECTION_IF,!1),wd(a,b,!1,c))}function sd(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(yd);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=Ad(a.keypath,d),c.index=d,f=new St(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function td(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(Bd));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=Ad(a.keypath,d),c.key=d,c.index=e++,g=new St(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function ud(a,b,c){return b?vd(a,c):xd(a)}function vd(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new St(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function wd(a,b,c,d){var e,f,g,h,i;if(f=ho(b)&&0===b.length,g=!1,!ho(b)&&Eh(b)){g=!0;for(i in b){g=!1;break}}return e=c?f||g||!b:b&&!f&&!g,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(yd),!0):void 0:(d.index=0,h=new St(d),a.fragmentsToRender.push(a.fragments[0]=h),a.length=1,!0):xd(a)}function xd(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(zd),a.fragmentsToUnrender.forEach(yd),a.length=a.fragmentsToRender.length=0,!0):void 0}function yd(a){a.unbind()}function zd(a){return a.rendered}function Ad(a,b){return(a?a+".":"")+b}function Bd(a){a.rebind("","")}function Cd(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function Dd(){var a=this;this.fragments.forEach(Ed),this.fragmentsToRender.forEach(function(b){return Mk(a.fragments,b)}),this.fragmentsToRender=[],sn.call(this),this.length=0,this.unbound=!0}function Ed(a){a.unbind()}function Fd(a){this.fragments.forEach(a?Gd:Hd),this.renderedFragments=[],this.rendered=!1}function Gd(a){a.unrender(!0)}function Hd(a){a.unrender(!1)}function Id(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function Jd(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function Kd(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(Rl(d,a))return d;if(e=d.querySelector(a))return e}return null}function Ld(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(Rl(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function Md(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function Nd(a){return vo[a]||(vo[a]=kl(a))}function Od(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function Pd(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=xo(a.node.options).filter(Qd),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function Qd(a){return a.selected}function Rd(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=wo(this.value,this.parentFragment.getNode(),this.docFrag),yo(this.pElement),this.rendered=!0,this.docFrag}function Sd(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&cl.addView(this))}function Td(){return void 0!=this.value?xj(""+this.value):""}function Ud(a){this.rendered&&a&&(this.nodes.forEach(on),this.rendered=!1)}function Vd(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=wo(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),yo(this.pElement)}}function Wd(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function Xd(){return null}function Yd(){return this.node}function Zd(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function $d(){var a=this.fragment.getValue();Il(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&cl.addView(this))}function _d(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Xh.INTERPOLATOR?b[0]:void 0}function ae(a){return this.type=Xh.ATTRIBUTE,this.element=a.element,this.root=a.root,$o(this,a.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new St({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=_o(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,bp(this,a),void(this.ready=!0)):void(this.value=Zo.test(this.name)?!0:a.value||"")}function be(a,b){this.fragment&&this.fragment.rebind(a,b)}function ce(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==il.html||(b=ep[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(Zo.test(b)||"value"===b)&&(this.useProperty=!0),"value"===b&&(this.useProperty=!0,a._ractive.value=this.value)),this.rendered=!0,this.update()}function de(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;return"value"===b&&("select"===this.element.name||"textarea"===this.element.name)||"value"===b&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===b&&"input"===this.element.name&&e?"name={{"+(e.keypath||e.ref)+"}}":Zo.test(b)?d?b:"":(f&&(d=f.toString()),c&&(b=c+":"+b),d?b+'="'+ee(d)+'"':b)}function ee(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function fe(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function ge(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function he(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function ie(){var a,b,c,d,e=this.value;for(Ch(e)||(e=[e]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=jp(e,d)}function je(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function ke(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return cl.addViewmodel(b.root.viewmodel),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function le(){var a,b,c=this,d=c.element,e=c.node,f=c.value;if(a=d.getAttribute("value"),Ch(f)){for(b=f.length;b--;)if(a==f[b])return void(e.checked=!0);e.checked=!1}else e.checked=f==a}function me(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.className=b}function ne(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function oe(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function pe(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function qe(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function re(){this.locked||(this.node[this.propertyName]=this.value)}function se(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):Zo.test(d)?e?b.setAttribute(d,""):b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function te(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=pp:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?kp:ip:"textarea"===e.name?b=sp:null!=e.getAttribute("contenteditable")?b=rp:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?vk:"radio"===a&&e.binding&&"name"===e.binding.name?mp:sp):this.twoway&&"name"===d?"radio"===f.type?b=lp:"checkbox"===f.type&&(b=np):"style"===d&&f.style.setAttribute?b=qp:"class"!==d||f.namespaceURI&&f.namespaceURI!==il.html?this.useProperty&&(b=tp):b=op,b||(b=up),this.update=b,this.update()}function ue(a,b){var c=b?"svg":"div";return xp.innerHTML="<"+c+" "+a+"></"+c+">",xo(xp.childNodes[0].attributes)}function ve(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function we(a){for(;a=a.parent;)if("form"===a.name)return a}function xe(){this._ractive.binding.handleChange()}function ye(a,b,c){var d=a+b+c;return Lp[d]||(Lp[d]=[])}function ze(a){return a.isChecked}function Ae(a){return a.element.getAttribute("value")}function Be(){var a;Ip.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function Ce(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&Ip.call(b),a._timeout=void 0},a.element.lazy)}function De(a){var b,c,d,e,f=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||f.contenteditable&&Ee(f.contenteditable))&&Ee(f.value)?c=Kp:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=Ee(f.name),e=Ee(f.checked),d&&e&&Ik.error({message:"badRadioInputBinding"}),d?c="radio"===b?Qp:Sp:e&&(c="radio"===b?Op:Up)):"file"===b&&Ee(f.value)?c=_p:Ee(f.value)&&(c="number"===b||"range"===b?dq:cq)):"select"===a.name&&Ee(f.value)?c=a.getAttribute("multiple")?Zp:Wp:"textarea"===a.name&&Ee(f.value)&&(c=cq),c?new c(a):void 0}function Ee(a){return a&&a.isBindable}function Fe(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function Ge(a){hm(this.root,this.getAction(),{event:a})}function He(){return this.action.toString().trim()}function Ie(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&(Ik.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:a.tagName,event:b}}),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=In(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c;(c=jq.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(Fn(g,a,function(a){return g.resolve(b,a)}))}),this.fire=Je):(d=c.n||c,"string"!=typeof d&&(d=new St({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new St({template:c.d,root:this.root,owner:this.element}),this.fire=Le):c.a&&(this.params=c.a,this.fire=Ke))}function Je(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0===c)return void 0;if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}),em.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),em.dequeue(b)}function Ke(a){hm(this.root,this.getAction(),{event:a,args:this.params})}function Le(a){var b=this.dynamicParams.getValue(iq);"string"==typeof b&&(b=b.substr(1,b.length-2)),hm(this.root,this.getAction(),{event:a,args:b})}function Me(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=Dn(c.element.parentFragment))&&(e=Dn.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath,context:b.root.get(b.keypath)})}function Ne(){var a,b=this.name;if(!this.invalid){if(a=Ak.registries.events.find(this.root,b))this.custom=a(this.node,Oe(b));else{if(!("on"+b in this.node||window&&"on"+b in window))return void(nq[b]||Ik.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:b}}));this.node.addEventListener(b,lq,!1)}this.hasListener=!0}}function Oe(a){return mq[a]||(mq[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath,b.context=c.root.get(c.keypath),c.events[a].fire(b)}),mq[a]}function Pe(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function Qe(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Re(a,b){this.keypaths[a]=b}function Se(){return this.method?void this.refResolvers.forEach(Te):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Te(a){a.unbind()}function Ue(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,lq,!1),this.hasListener=!1}function Ve(a){var b,c,d,e,f;b=a.node,b&&(e=xo(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?We(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function We(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function Xe(){var a=this;this.dirty||(this.dirty=!0,cl.scheduleTask(function(){Dq(a),a.dirty=!1})),this.parentFragment.bubble()}function Ye(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function Ze(a,b){a.select=Fq(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function $e(a){var b,c,d,e,f,g;this.type=Xh.ELEMENT,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=To(c.e),"option"===this.name&&Gq(this,c),"select"===this.name&&(this.options=[],this.bubble=Eq),"form"===this.name&&(this.formBindings=[]),Wo(this,c.a||{}),this.attributes=zp(this,c.a),this.conditionalAttributes=Cp(this,c.m),c.f&&(this.fragment=new St({template:c.f,root:d,owner:this,pElement:this})),g=d.twoway,this.twoway===!1?g=!1:this.twoway===!0&&(g=!0),g&&(e=eq(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath]||(this.root._twowayBindings[e.keypath]=[]),f.push(e)),c.v&&(this.eventHandlers=yq(this,c.v)),c.o&&(this.decorator=new Cq(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function _e(a,b){return a===b||un(a,b)}function af(a,b,c,d){var e=a[b];if(e&&!Iq(e,d)&&Iq(e,c))return a[b]=vn(e,c,d),!0}function bf(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&Jq(e,"keypath",a,b)}function cf(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function df(){var a=this._ractive.proxy;cl.start(),a.formBindings.forEach(ef),cl.end()}function ef(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function ff(a){a.node.addEventListener("reset",Mq,!1)}function gf(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new St({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new St({template:b.d,root:d,owner:a}),this.params=f.getValue(Oq),f.unbind()),this._fn=Ak.registries.transitions.find(d,e),this._fn||Ik.error({debug:d.debug,message:"missingPlugin",args:{plugin:"transition",name:e}}))}function hf(a){return a}function jf(){or.hidden=document[kr]}function kf(){or.hidden=!0}function lf(){or.hidden=!1}function mf(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&nf(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function nf(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function of(){var a,b,c=this,d=this.root;return a=pf(this),b=this.node=kl(this.name,a),d.constructor.css&&this.parentFragment.getNode()===d.el&&this.node.setAttribute("data-ractive-css",d.constructor._guid),ml(this.node,"_ractive",{value:{proxy:this,keypath:Tk(this.parentFragment),events:ai(null),root:d}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=Br,this.node.text=this.fragment.toString(!1),this.fragment.unrender=vk):"style"===this.name?(this.bubble=Ar,this.bubble(),this.fragment.unrender=vk):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=vk:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&qf(this),"img"===this.name?Lq(this):"form"===this.name?Nq(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&cl.scheduleTask(function(){c.decorator.torndown||c.decorator.init()},!0),d.transitionsEnabled&&this.intro&&!function(){var a=new Cr(c,c.intro,!0);cl.registerTransition(a),cl.scheduleTask(function(){return a.start()},!0),c.transition=a}(),this.node.autofocus&&cl.scheduleTask(function(){return c.node.focus()},!0),rf(this),this.node}function pf(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?il.svg:(d=a.parent)?"foreignObject"===d.name?il.html:d.node.namespaceURI:a.root.el.namespaceURI}function qf(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&Ch(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function rf(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function sf(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&Ch(c))for(d=c.length;d--;)if(c[d]==b)return!0}function tf(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function uf(a){var b=a.toString();return b?" "+b:""}function vf(a){a.select&&Mk(a.select.options,a)}function wf(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(xf),"option"===this.name&&Fr(this),this.attributes.forEach(xf),this.conditionalAttributes.forEach(xf)}function xf(a){a.unbind()}function yf(a){a.node.removeEventListener("reset",Mq,!1)}function zf(a){var b,c,d=this;this.transition&&this.transition.complete(),"option"===this.name?this.detach():a&&cl.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.unrender()}),this.decorator&&cl.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&!function(){var a=new Cr(d,d.outro,!1);cl.registerTransition(a),cl.scheduleTask(function(){return a.start()})}(),this.liveQueries&&Af(this),"form"===this.name&&Hr(this)}function Af(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function Bf(a,b){var c=Mr.exec(b)[0];return null===a||c.length<a.length?c:a}function Cf(a,b){var c;if(c=Df(a,b))return c;if(c=kk.fromId(b,{noThrow:!0})){c=Nr(c);var d=kk.parse(c,kk.getParseOptions(a));return a.partials[b]=d.t}}function Df(a,b){var c=Ak.registries.partials,d=c.findInstance(a,b);if(d){var e,f=d.partials[b];if("function"==typeof f&&(e=f.bind(d),e.isOwner=d.partials.hasOwnProperty(b),f=e(d.data,kk)),!f&&""!==f)return void Ik.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:b}});if(!kk.isParsed(f)){var g=kk.parse(f,kk.getParseOptions(d));g.p&&Ik.warn({debug:a.debug,message:"noNestedPartials",args:{rname:b}});var h=e?d:c.findOwner(d,b);h.partials[b]=f=g.t}return e&&(f._fn=e),f.v?f.t:f}}function Ef(a,b){var c,d=Ak.registries.components.findInstance(a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(d.data),!c)return void Ik.warn({debug:a.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:b}});"string"==typeof c&&(c=Ef(a,c)),c._fn=e,d.components[b]=c}return c}function Ff(){var a=this.instance.fragment.detach();return Tr.fire(this.instance),a}function Gf(a){return this.instance.fragment.find(a)}function Hf(a,b){return this.instance.fragment.findAll(a,b)}function If(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function Jf(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function Kf(){return this.parentFragment.findNextNode(this)}function Lf(){return this.rendered?this.instance.fragment.firstNode():null}function Mf(a){this.hook=new Lk(a),this.inProcess={},this.queue={}}function Nf(a,b){return a[b._guid]||(a[b._guid]=[])}function Of(a,b){var c=Nf(a.queue,b);for(a.hook.fire(b);c.length;)Of(a,c.shift());delete a.queue[b._guid]}function Pf(a,b){var c,d,e,f,g=this.ractive;for(c=g.adapt.length,d=0;c>d;d+=1){if(e=g.adapt[d],"string"==typeof e){var h=Ak.registries.adaptors.find(g,e);if(!h)return Ik.critical({debug:g.debug,message:"missingPlugin",args:{plugin:"adaptor",name:e}});e=g.adapt[d]=h}if(e.filter(b,a,g))return f=this.wrapped[a]=e.wrap(g,b,a,Rf(a)),f.value=b,b}return g.magic?qs.filter(b,a,g)?this.wrapped[a]=qs.wrap(g,b,a):gl.filter(b,a,g)&&(this.wrapped[a]=gl.wrap(g,b,a)):g.modifyArrays&&ps.filter(b,a,g)&&(this.wrapped[a]=ps.wrap(g,b,a)),b}function Qf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function Rf(a){var b;return rs[a]||(b=a?a+".":"",rs[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?Qf(c,a):c:void 0}),rs[a]}function Sf(a){var b,c,d,e,f=[""];for(b=a.length;b--;)for(c=a[b],d=c.split(".");d.length>1;)d.pop(),e=d.join("."),-1===f.indexOf(e)&&f.push(e);return f}function Tf(a){var b,c,d,e;return b=a.split("."),c=Uf(b.length),d=function(a,c){return a?"*":b[c]},e=c.map(function(a){return a.map(d).join(".")})}function Uf(a){var b,c,d,e,f,g="";if(!us[a]){for(d=[];g.length<a;)g+=1;for(b=parseInt(g,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;d[f]=Array.prototype.map.call(c,e)}us[a]=d}return us[a]}function Vf(a,b,c){var d;Xf(a,b),c||(d=vs(b),d.forEach(function(c){Wf(a,c,b)}))}function Wf(a,b,c){var d,e,f;d=a.depsMap.patternObservers,d&&(e=d[b])&&e.forEach(function(b){var d=ws.exec(b)[0];f=c?c+"."+d:d,Xf(a,f),Wf(a,b,f)})}function Xf(a,b){a.patternObservers.forEach(function(a){a.regex.test(b)&&a.update(b)})}function Yf(){function a(c){var d,f;e.noCascade.hasOwnProperty(c)||((f=e.deps.computed[c])&&f.forEach(function(c){c.viewmodel===e?(e.clearCache(c.key),c.invalidate(),b.push(c.key),a(c.key)):c.viewmodel.mark(c.key)}),(d=e.depsMap.computed[c])&&d.forEach(a))}var b,c,d=this,e=this,f={};return b=this.changes,b.length?(b.slice().forEach(a),c=ts(b),c.forEach(function(a){var c;-1===b.indexOf(a)&&(c=e.deps.computed[a])&&(d.changes.push(a),c.forEach(function(a){a.viewmodel.mark(a.key)}))}),this.changes=[],this.patternObservers.length&&(c.forEach(function(a){return xs(d,a,!0)}),b.forEach(function(a){return xs(d,a)})),this.deps.observers&&(c.forEach(function(a){return Zf(d,null,a,"observers")}),_f(this,b,"observers")),this.deps["default"]&&!function(){var a=[];c.forEach(function(b){return Zf(d,a,b,"default")}),a.length&&$f(d,a,b),_f(d,b,"default")}(),b.forEach(function(a){f[a]=d.get(a)}),this.implicitChanges={},this.noCascade={},f):void 0}function Zf(a,b,c,d){var e,f;(e=ag(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function $f(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function _f(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=ag(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function ag(a,b,c){var d=a.deps[c];return d?d[b]:null}function bg(){this.captureGroups.push([])}function cg(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function dg(a){var b="var __ractive=this;return("+a.replace(Bs,function(a,b){return'__ractive.get("'+b+'")'})+")";return new Function(b)}function eg(a,b){var c=b.split(".")[0];return!(c in a.ractive.data||c in a.computations||c in a.mappings)}function fg(a,b){return b=Cs(b),this.computations[a]=new Hs(this.ractive,a,b)}function gg(a,b){var c=this;return void 0===b&&(b=Ks),function(){var d,e,f,g,h,i=c.ractive,j=c.cache;return b.capture&&(h=c.captureGroups[c.captureGroups.length-1])&&(~h.indexOf(a)||h.push(a)),(d=c.mappings[a.split(".")[0]])?d.get(a,b):"@"===a[0]?Gn(a):(void 0===j[a]?((f=c.computations[a])&&!f.bypass?(e=f.get(),c.adapt(a,e)):(g=c.wrapped[a])?e=g.value:a?e=hg(c,a):(c.adapt("",i.data),e=i.data),j[a]=e):e=j[a],!b.noUnwrap&&(g=c.wrapped[a])&&(e=g.get()),e===Js?void 0:e)}()}function hg(a,b){var c,d,e,f,g,h,i;return c=b.split("."),d=c.pop(),e=c.join("."),f=a.get(e),(i=a.wrapped[e])&&(f=i.get()),null!==f&&void 0!==f?((g=a.cacheMap[e])?-1===g.indexOf(b)&&g.push(b):a.cacheMap[e]=[b],"object"!=typeof f||d in f?(h=f[d],a.adapt(b,h,!1),a.cache[b]=h,h):a.cache[b]=Js):void 0}function ig(a){var b=Uh[a.message]||a.message||"";return jg(b,a.args)}function jg(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){return b[c]})}function kg(){var a,b,c=[];for(a in this.ractive.computed)b=this.compute(a,this.ractive.computed[a]),c.push(b),a in this.mappings&&Ps.critical({message:"Cannot map to a computed property ('"+a+"')"});c.forEach(lg)}function lg(a){a.init()}function mg(a,b){this.keypath=a,this.viewmodel=b}function ng(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.trackData=b.trackData,this.resolved=!1}function og(a,b){var c=new Ss(a,b);return c.initViewmodel(this),c}function pg(a,b){var c;cl.addViewmodel(this),b&&(b.implicit&&(this.implicitChanges[a]=!0),b.noCascade&&(this.noCascade[a]=!0)),(c=this.computations[a])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var d=b?b.dontTeardownWrapper:!1;this.clearCache(a,d)}function qg(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=sg(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){if(this.debug)throw i;Ih("Merge operation: comparison failed. Falling back to identity checking"),e=b,f=c}}else e=b,f=c;h=Vs(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function rg(a){return JSON.stringify(a)}function sg(a){if(a===!0)return rg;if("string"==typeof a)return Ws[a]||(Ws[a]=function(b){return b[a]}),Ws[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function tg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.register(a,b,c);e=this.deps[c]||(this.deps[c]={}),f=e[a]||(e[a]=[]),f.push(b),a&&ug(this,a,c)}}function ug(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c]||(a.depsMap[c]={}),g=f[e]||(f[e]=[]),void 0===g[b]&&(g[b]=0,g.push(b)),g[b]+=1,b=e
}function vg(){return this.captureGroups.pop()}function wg(a,b,c){void 0===c&&(c={});var d,e,f,g;if(!c.noMapping&&(d=this.mappings[a.split(".")[0]]))return d.set(a,b);if(e=this.computations[a]){if(e.setting)return;e.set(b),b=e.get()}Il(this.cache[a],b)||(f=this.wrapped[a],f&&f.reset&&(g=f.reset(b)!==!1,g&&(b=f.get())),e||g||xg(this,a,b),c.silent?this.clearCache(a):this.mark(a))}function xg(a,b,c){var d,e,f,g,h,i,j;i=function(){g.set?g.set(e,c):(h=g.get(),j())},j=function(){h||(h=el(e),a.set(f,h,{silent:!0})),h[e]=c},d=b.split("."),e=d.pop(),f=d.join("."),g=a.wrapped[f],g?i():(h=a.get(f),(g=a.wrapped[f])?i():j())}function yg(a,b,c){var d,e,f=this;if(e=c.length,c.forEach(function(b,c){-1===b&&f.mark(a+"."+c,at)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a])&&d.filter(zg).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){this.mark(a+".length",_s);for(var g=e;g<b.length;g+=1)this.mark(a+"."+g);for(var g=b.length;e>g;g+=1)this.mark(a+"."+g,at)}}function zg(a){return"function"==typeof a.shuffle}function Ag(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function Bg(a,b,c){void 0===c&&(c="default");var d,e,f;if(!b.isStatic){if(d=this.mappings[a.split(".")[0]])return d.unregister(a,b,c);if(e=this.deps[c][a],f=e.indexOf(b),-1===f)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");e.splice(f,1),a&&Cg(this,a,c)}}function Cg(a,b,c){var d,e,f,g;for(d=b.split(".");d.length;)d.pop(),e=d.join("."),f=a.depsMap[c],g=f[e],g[b]-=1,g[b]||(Mk(g,b),g[b]=void 0),b=e}function Dg(a){return"string"==typeof a&&(a=[a]),a}function Eg(a,b,c){void 0===b&&(b={}),void 0===c&&(c={});var d;Fg(a,c),it.fire(Ak.getConstructTarget(a,b),b),Ak.init(a.constructor,a,b),jt.fire(a),kt.begin(a),a.viewmodel=new ht(a,c.mappings),a.viewmodel.init(),a.template&&(a.fragment=new St({template:a.template,root:a,owner:a})),kt.end(a),(d=lm(a.el))&&a.render(d,a.append)}function Fg(a,b){a._guid=as(),a._subs=ai(null),a._config={},a._twowayBindings=ai(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function Gg(a,b,c){this.parameters=a,this.parentFragment=a.component.parentFragment,this.key=b,this.fragment=new St({template:c,root:a.component.root,owner:this}),this.parameters.addData(this.key,this.fragment.getValue())}function Hg(a,b){return b.parameters?hl&&"legacy"!==b.parameters?Jg(a,b):Ig(a):a.data}function Ig(a){var b,c=a.mappings;for(b in c){var d=c[b];d.trackData=!0,d.updatable||a.addData(b,d.getValue())}return a.data}function Jg(a,b){var c=Kg(a,b);return new c(a)}function Kg(a,b){var c=b._parameters;return(!c.Constructor||a.newKeys.length)&&(c.Constructor=Lg(a,c.defined)),c.Constructor}function Lg(a,b){function c(a){this._mappings=a.mappings,this._data=a.data||{}}var d,e;return d=a.keys.reduce(function(a,b){return a[b]={get:function(){var a=this._mappings[b];return a?a.getValue():this._data[b]},set:function(a){var c=this._mappings[b];c?(cl.start(),c.setValue(a),cl.end()):this._data[b]=a},enumerable:!0},a},b),ol(e={},d),e.constructor=c,c.prototype=e,c}function Mg(a,b,c){var d,e;this.parameters=a,this.key=b,this.resolved=this.ready=!1,d=a.component,e=this.resolve.bind(this),c.r?this.resolver=Fn(d,c.r,e):c.x?this.resolver=new Kn(d,d.parentFragment,c.x,e):c.rx&&(this.resolver=new On(d,c.rx,e)),this.resolved||a.addMapping(b),this.ready=!0}function Ng(a,b,c){var d,e,f;return c?(b.parameters&&(f=Og(b)),d=new Pg(a,c,f),e=ot(d,b),{data:e,mappings:d.mappings}):{data:{}}}function Og(a){return a._parameters?a._parameters.defined||(a._parameters.defined={}):a._parameters={defined:{}},a._parameters.defined}function Pg(a,b,c){var d=this;this.component=a,this.parentViewmodel=a.root.viewmodel,this.data={},this.mappings=ai(null),this.newKeys=[],this.keys=Object.keys(b),this.keys.forEach(function(a){c&&!c[a]&&d.newKeys.push(a),d.add(a,b[a])})}function Qg(a){return 1===a.length&&a[0].t===Xh.INTERPOLATOR}function Rg(a,b){var c;for(c in b)b.hasOwnProperty(c)&&Sg(a.instance,a.root,c,b[c])}function Sg(a,b,c,d){"string"!=typeof d&&Ik.error({debug:b.debug,message:"noComponentEventArguments"}),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),hm(b,d,{event:a,args:c}),!1})}function Tg(a,b){var c,d,e;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=Xh.COMPONENT,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],e=qt(this,b.prototype,a.template.a),mt(this,b,e,a.template.f,a.template.p),rt(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&Ns('The "intro", "outro" and "decorator" directives have no effect on components'),st(this)}function Ug(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function Vg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function Wg(){return this.instance.fragment.toString()}function Xg(){var a=this.instance;this.resolvers.forEach(Yg),Zg(this),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&Mk(a.el.__ractive_instances__,a),xt.fire(a)}function Yg(a){a.unbind()}function Zg(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function $g(a){this.shouldDestroy=a,this.instance.unrender()}function _g(a){if("string"==typeof a.template)return new rn(a);switch(a.template.t){case Xh.INTERPOLATOR:return"yield"===a.template.r?new Ft(a):new Un(a);case Xh.SECTION:return new qo(a);case Xh.TRIPLE:return new Jo(a);case Xh.ELEMENT:var b;return(b=Sr(a.parentFragment.root,a.template.e))?new Bt(a,b):new Kr(a);case Xh.PARTIAL:return new Rr(a);case Xh.COMMENT:return new Dt(a);case Xh.DOCTYPE:return new Ht(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function ah(a){var b,c=this;this.owner=a.owner,b=this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],"string"==typeof a.template?a.template=[a.template]:a.template||(a.template=[]),this.items=a.template.map(function(b,d){return It({parentFragment:c,pElement:a.pElement,template:b,index:d})}).filter(function(a){return null!==a}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function bh(a,b){Jq(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function ch(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function dh(a){return this.items?this.items.map(function(b){return b.toString(a)}).join(""):""}function eh(){this.bound&&(this.items.forEach(fh),this.bound=!1)}function fh(a){a.unbind&&a.unbind()}function gh(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function hh(a,b){var c,d,e,f,g,h=this;if("function"!=typeof a||b?a=a||{}:(b=a,a={}),"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((d=this.viewmodel.wrapped[""])&&d.reset?d.reset(a)===!1&&(this.data=a):this.data=a,e=Ak.reset(this),f=e.length;f--;)if(Tt.indexOf(e[f])>-1){g=!0;break}if(g){var i;this.viewmodel.mark(""),(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new St({template:this.template,root:this,owner:this})),c=this.render(this.el,this.anchor)}else c=cl.start(this,!0),this.viewmodel.mark(""),cl.end();return Ut.fire(this,a),b&&(Ik.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.reset"}}),c.then(b).then(null,function(a){Ik.consoleError({debug:h.debug,err:a})})),c}function ih(a){var b,c;Ak.template.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new St({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function jh(a,b,c){var d,e,f=this;if(e=cl.start(this,!0),Eh(a)){d=a,c=b;for(a in d)d.hasOwnProperty(a)&&(b=d[a],a=Kl(a),this.viewmodel.set(a,b))}else a=Kl(a),Zt.test(a)?sm(this,a).forEach(function(a){f.viewmodel.set(a,b)}):this.viewmodel.set(a,b);return cl.end(),c&&(Ik.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.set"}}),e.then(c.bind(this)).then(null,function(a){Ik.consoleError({debug:f.debug,err:a})})),e}function kh(a,b){return pl(this,a,void 0===b?-1:-b)}function lh(a){var b,c=this;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&Mk(this.el.__ractive_instances__,this),this.shouldDestroy=!0,b=this.fragment.rendered?this.unrender():Qk.resolve(),du.fire(this),a&&(Ik.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),b.then(a.bind(this)).then(null,function(a){Ik.consoleError({debug:c.debug,err:a})})),this._boundFunctions.forEach(mh),b}function mh(a){delete a.fn[a.prop]}function nh(a,b){var c;return"string"!=typeof a&&Ik.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:a}}),c=this.get(a),this.set(a,!c,b)}function oh(){return this.fragment.toString(!0)}function ph(){var a,b,c=this;if(!this.fragment.rendered)return Ik.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"}),Qk.resolve();for(a=cl.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&a.then(function(){Wm.remove(c.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),Mk(this.el.__ractive_instances__,this),hu.fire(this),cl.end(),a}function qh(a,b){var c,d=this;return"function"==typeof a?(b=a,a=""):a=a||"",c=cl.start(this,!0),this.viewmodel.mark(a),cl.end(),ku.fire(this,a),b&&(Ik.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.teardown"}}),c.then(b.bind(this)).then(null,function(a){Ik.consoleError({debug:d.debug,err:a})})),c}function rh(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||Iq(d,a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=sh(this,e),this.set(c)}function sh(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath]||a.changed()||(d.push(a.keypath),d[a.keypath]=a));b=a.attribute.value,e=a.getValue(),Xp(b,e)||Il(b,e)||(c[a.keypath]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a],e=b.attribute.value,f=b.getValue(),Xp(e,f)||(c[a]=f)}),c}function th(a){if(!(a.prototype instanceof tu))return a;for(var b={};a;)Ak.registries.forEach(function(c){uh(c.useDefaults?a.prototype:a,b,c.name)}),Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e,f=d._method;f&&(d=d._method),e=Rh(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}}),a=a._Parent!==tu?a._Parent:!1;return b}function uh(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function vh(a){void 0===a&&(a={});var b,c,d,e=this;return a=ou(a),b=function(a,b){lt(this,a,b)},c=ai(e.prototype),c.constructor=b,d={_guid:{value:pu++},defaults:{value:c},extend:{value:vh,writable:!0,configurable:!0},_Parent:{value:e}},ol(b,d),Ak.extend(e,c,a),ht.extend(e,c),b.prototype=c,b}var wh,xh={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,noCssTransform:!1,debug:!1},yh=xh,zh={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}},Ah=Object.prototype.hasOwnProperty,Bh=Object.prototype.toString,Ch=function(a){return"[object Array]"===Bh.call(a)},Dh=Object.prototype.toString,Eh=function(a){return a&&"[object Object]"===Dh.call(a)},Fh=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},Gh={};wh="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(a,b){if(!b){if(Gh[a])return;Gh[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:function(){};var Hh,Ih=wh,Jh=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Kh=/\/\*.*?\*\//g,Lh=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Mh=/^@media/,Nh=/\[data-ractive-css="[a-z0-9-]+"]/g,Oh=a,Ph={name:"css",extend:d,init:function(){}},Qh=Ph,Rh=function(a,b,c){return c||f(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},Sh={name:"data",extend:h,init:i,reset:j},Th=Sh,Uh={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',usePromise:"{method} now returns a Promise, use {method}(...).then(callback) instead.",noTwowayExpressions:"Two-way binding does not work with expressions. Encountered ( {expression} ) on element {element}.",computedCannotMapTo:'Computed property "{key}" cannot be mapped to "{other}" because {reason}.',notUsed:'prevents forgetting trailing "," in cut and paste of previous line :)'},Vh="object"==typeof document,Wh=Vh,Xh={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,YIELDER:16,INLINE_PARTIAL:17,DOCTYPE:18,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53,SECTION_IF_WITH:54,SECTION_PARTIAL:55};try{Object.create(null),Hh=Object.create}catch(Yh){Hh=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var Zh,$h,_h,ai=Hh,bi={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},ci=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,di=function(a){var b;return(b=a.matchPattern(ci))?{t:Xh.NUMBER_LITERAL,v:b}:null},ei=function(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:Xh.BOOLEAN_LITERAL,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:Xh.BOOLEAN_LITERAL,v:"false"}):null};Zh=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,$h=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,_h=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var fi,gi,hi,ii,ji,ki=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(Zh)||b.matchPattern($h)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(_h),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},li=ki('"'),mi=ki("'"),ni=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=mi(a),a.matchString('"')?{t:Xh.STRING_LITERAL,v:c}:(a.pos=b,null)):a.matchString("'")?(c=li(a),a.matchString("'")?{t:Xh.STRING_LITERAL,v:c}:(a.pos=b,null)):null},oi={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/,relaxedName:/^[a-zA-Z_$][-a-zA-Z_$0-9]*/},pi=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,qi=function(a){var b;return(b=ni(a))?pi.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=di(a))?b.v:(b=a.matchPattern(oi.name))?b:void 0},ri=function(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=qi(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=a.readExpression(),null===d?(a.pos=b,null):{t:Xh.KEY_VALUE_PAIR,k:c,v:d}):(a.pos=b,null))},si=q,ti=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=si(a),a.allowWhitespace(),a.matchString("}")?{t:Xh.OBJECT_LITERAL,m:c}:(a.pos=b,null)):(a.pos=b,null)},ui=r,vi=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=ui(a),a.matchString("]")?{t:Xh.ARRAY_LITERAL,m:c}:(a.pos=b,null)):(a.pos=b,null)},wi=function(a){var b=di(a)||ei(a)||ni(a)||ti(a)||vi(a);return b};fi=/^\.[a-zA-Z_$0-9]+/,hi=function(a){var b=a.matchPattern(gi);return b?"."+b:null},gi=/^\[(0|[1-9][0-9]*)\]/,ii=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,ji=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var xi,yi,zi=function(a){var b,c,d,e,f,g,h,i;if(b=a.pos,a.matchString("~/"))c="~/";else for(c="";a.matchString("../");)c+="../";if(c||(e=a.matchString("./")||a.matchString(".")||""),i=a.relaxedNames?oi.relaxedName:oi.name,d=a.matchPattern(/^@(?:keypath|index|key)/)||a.matchPattern(i)||"",!a.relaxedNames&&!e&&!c&&ji.test(d))return a.pos=b,null;if(!c&&!e&&!a.relaxedNames&&ii.test(d))return{t:Xh.GLOBAL,v:d};if(f=(c||e)+d,!f)return null;for(;g=a.matchPattern(fi)||hi(a);)f+=g;return a.matchString("(")&&(h=f.lastIndexOf("."),-1!==h?(f=f.substr(0,h),a.pos=b+f.length):a.pos-=1),{t:Xh.REFERENCE,n:f.replace(/^this\./,"./").replace(/^this$/,".")}},Ai=function(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=a.readExpression(),c||a.error(bi.expectedExpression),a.allowWhitespace(),a.matchString(")")||a.error(bi.expectedParen),{t:Xh.BRACKETED,x:c}):null},Bi=function(a){return wi(a)||zi(a)||Ai(a)},Ci=s,Di=function(a){var b,c,d,e;if(c=Bi(a),!c)return null;for(;c;)if(b=a.pos,d=Ci(a))c={t:Xh.MEMBER,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=ui(a),a.allowWhitespace(),a.matchString(")")||a.error(bi.expectedParen),c={t:Xh.INVOCATION,x:c},e&&(c.o=e)}return c};yi=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=c.readExpression(),d||c.error(bi.expectedExpression),{s:a,o:d,t:Xh.PREFIX_OPERATOR}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=Di,a=0,b=d.length;b>a;a+=1)c=yi(d[a],e),e=c;xi=e}();var Ei,Fi,Gi=xi;Fi=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:Xh.INFIX_OPERATOR,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=Gi,a=0,b=d.length;b>a;a+=1)c=Fi(d[a],e),e=c;Ei=e}();var Hi,Ii,Ji=Ei,Ki=function(a){var b,c,d,e;return(c=Ji(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=a.readExpression(),d||a.error(bi.expectedExpression),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=a.readExpression(),e||a.error(bi.expectedExpression),{t:Xh.CONDITIONAL,o:[c,d,e]}):(a.pos=b,c)):null},Li=function(a){var b,c=[];return u(a,c),b={r:c,s:v(this,a,c)}},Mi=/^\s+/;Ii=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},Ii.prototype=Error.prototype,Hi=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},Hi.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},readExpression:function(){return Ki(this)},flattenExpression:Li,getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b,c,d,e,f,g;throw b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=e+"\n"+new Array(b[1]).join(" ")+"^----",g=new Ii(a+" at line "+c+" character "+d+":\n"+f),g.line=b[0],g.character=b[1],g.shortMessage=a,g},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(Mi)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Hi.extend=function(a){var b,c,d=this;b=function(a,b){Hi.call(this,a,b)},b.prototype=ai(d.prototype);for(c in a)Ah.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=Hi.extend,b};var Ni,Oi=Hi,Pi=/^[^\s=]+/,Qi=/^\s+/,Ri=function(a){var b,c,d;return a.matchString("=")?(b=a.pos,a.allowWhitespace(),(c=a.matchPattern(Pi))?a.matchPattern(Qi)?(d=a.matchPattern(Pi))?(a.allowWhitespace(),a.matchString("=")?[c,d]:(a.pos=b,null)):(a.pos=b,null):null:(a.pos=b,null)):null},Si=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],Ti={"#":Xh.SECTION,"^":Xh.INVERTED,"/":Xh.CLOSING,">":Xh.PARTIAL,"!":Xh.COMMENT,"&":Xh.TRIPLE},Ui=function(a){var b=Ti[a.str.charAt(a.pos)];return b?(a.pos+=1,b):null},Vi={each:Xh.SECTION_EACH,"if":Xh.SECTION_IF,"if-with":Xh.SECTION_IF_WITH,"with":Xh.SECTION_WITH,unless:Xh.SECTION_UNLESS,partial:Xh.SECTION_PARTIAL},Wi=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Xi=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Yi=/^[0-9][1-9]*$/,Zi=new RegExp("^("+Object.keys(Vi).join("|")+")\\b");Ni=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;var $i,_i,aj,bj=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(c=a.pos,e={},l=a[b.delimiters],b.isStatic&&(e.s=!0),b.isTriple)e.t=Xh.TRIPLE;else{if("!"===a.remaining()[0]){try{h=a.readExpression(),a.allowWhitespace(),a.remaining().indexOf(l[1])?h=null:e.t=Xh.INTERPOLATOR}catch(n){}if(!h)return k=a.remaining().indexOf(l[1]),~k?a.pos+=k:a.error("Expected closing delimiter ('"+l[1]+"')"),{t:Xh.COMMENT}}if(!h)if(f=Ui(a),e.t=f||Xh.INTERPOLATOR,f===Xh.SECTION)(g=a.matchPattern(Zi))&&(e.n=g),a.allowWhitespace();else if((f===Xh.COMMENT||f===Xh.CLOSING)&&(j=a.remaining(),k=j.indexOf(l[1]),-1!==k))return e.r=j.substr(0,k).split(" ")[0],a.pos+=k,e}if(!h){a.allowWhitespace(),f===Xh.PARTIAL?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=m):e.t===Xh.INTERPOLATOR&&a.matchString("yield ")?(a.allowWhitespace(),e.r="yield",m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1,h&&h.t===Xh.REFERENCE?(e.yn=h.n,h=null):h&&a.error("Only names are supported with yield.")):e.t===Xh.SECTION&&"partial"===e.n?(m=a.relaxedNames,a.relaxedNames=!0,h=a.readExpression(),a.relaxedNames=!1):h=a.readExpression();var o;if(e.t===Xh.PARTIAL&&h&&(o=a.readExpression())&&(e={contextPartialExpression:h},h=o),j=a.remaining(),j.substr(0,l[1].length)!==l[1]&&":"!==j.charAt(0)){if(d=a.pos,a.pos=c,j=a.remaining(),k=j.indexOf(l[1]),-1!==k)return e.r=j.substr(0,k).trim(),Ni.test(e.r)||a.error("Expected a legal Mustache reference"),a.pos+=k,e;a.pos=d}}if(w(a,h,e),e.contextPartialExpression&&(e.contextPartialExpression=[w(a,e.contextPartialExpression,{t:Xh.PARTIAL})]),i=a.matchPattern(Wi)){var p;e.i=(p=a.matchPattern(Xi))?i+","+p:i}return e},cj={t:Xh.DELIMCHANGE,exclude:!0},dj=y,ej="<!--",fj="-->",gj=function(a){var b,c,d,e,f;return b=a.pos,a.matchString(ej)?(d=a.remaining(),e=d.indexOf(fj),-1===e&&a.error("Illegal HTML - expected closing comment sequence ('-->')"),c=d.substr(0,e),a.pos+=e+3,f={t:Xh.COMMENT,c:c},a.includeLinePositions&&(f.p=a.getLinePos(b)),f):null},hj=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,ij=hj,jj=/[-/\\^$*+?.()|[\]{}]/g,kj=B,lj=C,mj=/^<!--\s*/,nj=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,oj=/\s*-->/,pj=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1};$i={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},_i=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],aj=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys($i).join("|")+"));?","g");var qj,rj,sj,tj,uj,vj,wj,xj=D,yj=function(a){var b,c,d,e;return c=a.remaining(),e=a.inside?"</"+a.inside:"<",a.inside&&!a.interpolate[a.inside]?b=c.indexOf(e):(d=[a.delimiters[0],a.tripleDelimiters[0],a.staticDelimiters[0],a.staticTripleDelimiters[0]],a.inAttribute===!0?d.push('"',"'","=","<",">","`"):d.push(a.inAttribute?a.inAttribute:e),b=pj(c,d)),b?(-1===b&&(b=c.length),a.pos+=b,a.inside?c.substr(0,b):xj(c.substr(0,b))):null},zj=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Aj=function(a){var b;return a.matchString("</")?(b=a.matchPattern(zj))?{t:Xh.CLOSING_TAG,e:b}:(a.pos-=2,void a.error("Illegal closing tag")):null},Bj=/^[^\s"'>\/=]+/,Cj=/^[^\s"'=<>`]+/,Dj=F;rj={"true":!0,"false":!1,undefined:void 0,"null":null},sj=new RegExp("^(?:"+Object.keys(rj).join("|")+")"),tj=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,uj=/\$\{([^\}]+)\}/g,vj=/^\$\{([^\}]+)\}/,wj=/^\s*$/,qj=Oi.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&wj.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(vj),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(sj))?{v:rj[b]}:void 0},function(a){var b;return(b=a.matchPattern(tj))?{v:+b}:void 0},function(a){var b,c=ni(a);return c&&(b=a.values)?{v:c.v.replace(uj,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=L(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var Ej,Fj=function(a,b){var c=new qj(a,{values:b});return c.result},Gj=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/;Ej=Oi.extend({converters:[Ki]});var Hj,Ij,Jj=function(a){var b,c,d,e,f,g,h,i,j;if("string"==typeof a){if(c=Gj.exec(a))return b={m:c[1]},e="["+a.slice(b.m.length+1,-1)+"]",d=new Ej(e),b.a=Li(d.result[0]),b;if(-1===a.indexOf(":"))return a.trim();a=[a]}if(b={},h=[],i=[],a){for(;a.length;)if(f=a.shift(),"string"==typeof f){if(g=f.indexOf(":"),-1!==g){g&&h.push(f.substr(0,g)),f.length>g+1&&(i[0]=f.substring(g+1));break}h.push(f)}else h.push(f);i=i.concat(a)}return h.length?i.length||"string"!=typeof h?(b={n:1===h.length&&"string"==typeof h[0]?h[0]:h},1===i.length&&"string"==typeof i[0]?(j=Fj("["+i[0]+"]"),b.a=j?j.value:i[0].trim()):b.d=i):b=h:b="",b
},Kj=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Lj=/^[\s\n\/>]/,Mj=/^on/,Nj=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Oj=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Pj={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Qj={exclude:!0};Hj=[lj,dj,gj,M,yj,Aj],Ij={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Rj,Sj,Tj=M,Uj=/^[ \t\f\r\n]+/,Vj=/[ \t\f\r\n]+$/,Wj=function(a,b,c){var d;b&&(d=a[0],"string"==typeof d&&(d=d.replace(Uj,""),d?a[0]=d:a.shift())),c&&(d=a[a.length-1],"string"==typeof d&&(d=d.replace(Vj,""),d?a[a.length-1]=d:a.pop()))},Xj=/^\s*\r?\n/,Yj=/\r?\n\s*$/,Zj=function(a){var b,c,d,e,f;for(b=1;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b-2],O(c)&&P(d)&&O(e)&&Yj.test(e)&&Xj.test(c)&&(a[b-2]=e.replace(Yj,"\n"),a[b]=c.replace(Xj,"")),Q(c)&&O(d)&&Yj.test(d)&&O(c.f[0])&&Xj.test(c.f[0])&&(a[b-1]=d.replace(Yj,"\n"),c.f[0]=c.f[0].replace(Xj,"")),O(c)&&Q(d)&&(f=d.f[d.f.length-1],O(f)&&Yj.test(f)&&Xj.test(c)&&(d.f[d.f.length-1]=f.replace(Yj,"\n"),a[b]=c.replace(Xj,"")));return a},$j=R,_j=function(a){if(!Eh(a))return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},ak=/[ \t\f\r\n]+/g,bk=/^(?:pre|script|style|textarea)$/i,ck=/^\s+/,dk=/\s+$/;Rj=Oi.extend({init:function(a,b){V(b,this),this.sectionDepth=0,this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1},b.sanitize===!0&&(b.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=b.sanitize&&b.sanitize.elements,this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes,this.includeLinePositions=b.includeLinePositions,this.StandardParser=Rj},postProcess:function(a,b){return this.sectionDepth>0&&this.error("A section was left open"),U(a,b.stripComments!==!1,b.preserveWhitespace,!b.preserveWhitespace,!b.preserveWhitespace,b.rewriteElse!==!1),a},converters:[lj,dj,gj,Tj,yj]}),Sj=function(a,b){void 0===b&&(b={});var c;V(b),c={v:2},c.t=new Rj(a,b).result;var d={};return $j(b.ractive?[b.ractive]:[],d,c.t),_j(d)||(c.p=d),c};var ek,fk,gk=Sj,hk=W;ek=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],fk=hk(ek,function(a){return a});var ik=fk,jk={parse:Y,fromId:Z,isHashedId:$,isParsed:_,getParseOptions:ab,createHelper:X},kk=jk,lk={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,b.template="function"==typeof d?d:db(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=cb(b,e),b._config.template={fn:e,result:d}),d=db(d,b),b.template=d.t,d.p&&eb(b.partials,d.p)},reset:function(a){var b,c=bb(a);return c?(b=db(c,a),a.template=b.t,eb(a.partials,b.p,!0),!0):void 0}},mk=lk;fb.prototype={constructor:fb,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,b,c)},configure:function(a,b,c){var d,e=this.name,f=c[e];d=ai(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c},findOwner:function(a,b){return a[this.name].hasOwnProperty(b)?a:this.findConstructor(a.constructor,b)},findConstructor:function(a,b){return a?a[this.name].hasOwnProperty(b)?a:this.findConstructor(a._Parent,b):void 0},find:function(a,b){var c=this;return gb(a,{test:function(a){return b in a[c.name]},getValue:function(a){return a[c.name][b]}})},findInstance:function(a,b){var c=this;return gb(a,{test:function(a){return b in a[c.name]},getValue:function(a){return a}})}};var nk,ok,pk,qk,rk=fb,sk=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],tk=hk(sk,function(a){return new rk(a,"computed"===a)}),uk=tk,vk=function(){},wk=hb,xk=nb;nk={data:Th,template:mk,css:Qh},ok=Object.keys(yh).filter(function(a){return!uk[a]&&!nk[a]&&!ik[a]}),pk=[].concat(nk.data,ik,ok,uk,nk.template,nk.css);for(var yk in nk)pk[yk]=nk[yk];pk.keys=Object.keys(yh).concat(uk.map(function(a){return a.name})).concat(["css"]),qk=pk.keys.reduce(function(a,b){return a[b]=!0,a},{}),pk.parseOptions=ik,pk.registries=uk,pk.extend=function(a,b,c){qb("extend",a,b,c)},pk.init=function(a,b,c){qb("init",a,b,c)},pk.reset=function(a){return pk.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},pk.getConstructTarget=function(a,b){return b.onconstruct?{onconstruct:wk(a,"onconstruct",b.onconstruct).bind(a),fire:a.fire.bind(a)}:a};var zk,Ak=pk,Bk=function(a,b,c,d){if(a===b)return sb(b);if(d){var e=Ak.registries.interpolators.find(c,d);if(e)return e(a,b)||sb(b);Ih('Missing "'+d+'" interpolator. You may need to download a plugin from [TODO]')}return Ek.number(a,b)||Ek.array(a,b)||Ek.object(a,b)||sb(b)},Ck=Bk,Dk={number:function(a,b){var c;return Fh(a)&&Fh(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,e,f;if(!Ch(a)||!Ch(b))return null;for(c=[],d=[],f=e=Math.min(a.length,b.length);f--;)d[f]=Ck(a[f],b[f]);for(f=e;f<a.length;f+=1)c[f]=a[f];for(f=e;f<b.length;f+=1)c[f]=b[f];return function(a){for(var b=e;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!Eh(a)||!Eh(b))return null;c=[],f={},e={};for(g in a)Ah.call(a,g)&&(Ah.call(b,g)?(c.push(g),e[g]=Ck(a[g],b[g])):f[g]=a[g]);for(g in b)Ah.call(b,g)&&!Ah.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},Ek=Dk;zk="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");var Fk=zk,Gk="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply,Hk={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(tb(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(tb(a));this.thrower(b)},logger:Ih,thrower:function(a){throw a},consoleError:function(a){Gk?console.error(a.err):this.thrower(a.err)}},Ik=Hk,Jk={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};vb.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&Ik.warnAlways({debug:a.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate}),b?a.fire(this.event,b):a.fire(this.event)};var Kk,Lk=vb,Mk=function(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)},Nk={},Ok={},Pk={};"function"==typeof Promise?Kk=Promise:(Kk=function(a){var b,c,d,e,f,g,h=[],i=[],j=Nk;d=function(a){return function(d){j===Nk&&(b=d,j=a,c=xb(j===Ok?h:i,b),wb(c))}},e=d(Ok),f=d(Pk);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new Kk(function(e,f){var g=function(a,b,c){b.push("function"==typeof a?function(b){var c;try{c=a(b),yb(d,c,e,f)}catch(g){f(g)}}:c)};g(a,h,e),g(b,i,f),j!==Nk&&wb(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},Kk.all=function(a){return new Kk(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(e){a[e].then(function(a){g[e]=a,--d||b(g)},c)},d=e=a.length;e--;)f(e)})},Kk.resolve=function(a){return new Kk(function(b){b(a)})},Kk.reject=function(a){return new Kk(function(b,c){c(a)})});var Qk=Kk,Rk=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Sk=zb,Tk=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return""},Uk=Ab,Vk=Bb,Wk=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};Wk.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Jb(this)},decrementTotal:function(){this.totalChildren-=1,Jb(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;Mk(b,a),Jb(this)},init:function(){this.ready=!0,Jb(this)},detachNodes:function(){this.decoratorQueue.forEach(Gb),this.detachQueue.forEach(Hb),this.children.forEach(Ib)}};var Xk,Yk,Zk=Wk,$k=[],_k=new Lk("change");Yk={start:function(a,b){var c,d;return b&&(c=new Qk(function(a){return d=a})),Xk={previousBatch:Xk,transitionManager:new Zk(d,Xk&&Xk.transitionManager),views:[],tasks:[],viewmodels:[],instance:a},a&&Xk.viewmodels.push(a.viewmodel),c},end:function(){Kb(),Xk.transitionManager.init(),!Xk.previousBatch&&Xk.instance&&(Xk.instance.viewmodel.changes=[]),Xk=Xk.previousBatch},addViewmodel:function(a){return Xk?-1===Xk.viewmodels.indexOf(a)?(Xk.viewmodels.push(a),!0):!1:(a.applyChanges(),!1)},registerTransition:function(a){a._manager=Xk.transitionManager,Xk.transitionManager.add(a)},registerDecorator:function(a){Xk.transitionManager.addDecorator(a)},addView:function(a){Xk.views.push(a)},addUnresolved:function(a){$k.push(a)},removeUnresolved:function(a){Mk($k,a)},detachWhenReady:function(a){Xk.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(Xk){for(c=Xk;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var al,bl,cl=Yk,dl=/^\s*[0-9]+\s*$/,el=function(a){return dl.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),al={filter:function(a,b,c){var d,e,f,g,h;return b?(d=b.split("."),e=d.pop(),f=d.join("."),(g=c.viewmodel.wrapped[f])&&!g.magic?!1:(h=c.get(f),Ch(h)&&/^[0-9]+$/.test(e)?!1:h&&("object"==typeof h||"function"==typeof h))):!1},wrap:function(a,b,c){return new bl(a,b,c)}},bl=function(a,b,c){var d,e,f,g;return this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,d=c.split("."),this.prop=d.pop(),e=d.join("."),this.obj=e?a.get(e):a.data,f=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),f&&f.set&&(g=f.set._ractiveWrappers)?void(-1===g.indexOf(this)&&g.push(this)):void Nb(this,b,f)},bl.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,cl.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{dontTeardownWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=el(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(Yh){al=!1}var fl,gl=al,hl=!!gl,il={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};fl=Fk?function(a,b){return b&&b!==il.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==il.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)};var jl,kl=fl;try{Object.defineProperty({},"test",{value:0}),Wh&&Object.defineProperty(document.createElement("div"),"test",{value:0}),jl=Object.defineProperty}catch(Yh){jl=function(a,b,c){a[b]=c.value}}var ll,ml=jl;try{try{Object.defineProperties({},{test:{value:0}})}catch(Yh){throw Yh}Wh&&Object.defineProperties(kl("div"),{test:{value:0}}),ll=Object.defineProperties}catch(Yh){ll=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&ml(a,c,b[c])}}var nl,ol=ll,pl=Ob,ql=Pb,rl=["o","ms","moz","webkit"];"undefined"==typeof window?nl=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(rl,0,window),nl=window.requestAnimationFrame);var sl,tl=nl;sl="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var ul=sl,vl=[],wl={tick:function(){var a,b,c;for(c=ul(),cl.start(),a=0;a<vl.length;a+=1)b=vl[a],b.tick(c)||vl.splice(a--,1);cl.end(),vl.length?tl(wl.tick):wl.running=!1},add:function(a){vl.push(a),wl.running||(wl.running=!0,tl(wl.tick))},abort:function(a,b){for(var c,d=vl.length;d--;)c=vl[d],c.root===b&&c.keypath===a&&c.stop()}},xl=wl,yl=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=Ck(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};yl.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(cl.start(this.root),this.root.viewmodel.set(f,this.to),cl.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&Ih("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),cl.start(this.root),this.root.viewmodel.set(f,c),cl.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&Ih("Animation was not found"),this.root._animations.splice(a,1)}};var zl,Al,Bl,Cl,Dl,El,Fl,Gl,Hl=yl,Il=function(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b},Jl=/^\.+/,Kl=Qb,Ll=function(){},Ml={stop:Ll},Nl=Rb,Ol=new Lk("detach"),Pl=Tb,Ql=Ub;if(Wh){for(Al=kl("div"),Bl=["matches","matchesSelector"],Gl=function(a){return function(b,c){return b[a](c)}},El=Bl.length;El--&&!zl;)if(Cl=Bl[El],Al[Cl])zl=Gl(Cl);else for(Fl=rl.length;Fl--;)if(Dl=rl[El]+Cl.substr(0,1).toUpperCase()+Cl.substring(1),Al[Dl]){zl=Gl(Dl);break}zl||(zl=function(a,b){var c,d,e;for(d=a.parentNode,d||(Al.innerHTML="",d=Al,a=a.cloneNode(),Al.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else zl=null;var Rl=zl,Sl=function(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?Rl(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0},Tl=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},Ul=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=Wb(a.component||a._ractive.proxy),d=Wb(b.component||b._ractive.proxy),e=c[c.length-1],f=d[d.length-1];e&&e===f;)c.pop(),d.pop(),g=e,e=c[c.length-1],f=d[d.length-1];if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Vl=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):Ul(a,b)},Wl=function(){this.sort(this._isComponentQuery?Ul:Vl),this._dirty=!1},Xl=function(){var a=this;this._dirty||(this._dirty=!0,cl.scheduleTask(function(){a._sort()}))},Yl=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},Zl=Xb,$l=Yb,_l=Zb,am=$b,bm=_b,cm=ac,dm={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},em=dm,fm={},gm=bc,hm=dc,im=gc,jm={capture:!0,noUnwrap:!0},km=hc,lm=ic,mm=new Lk("insert"),nm=jc,om=lc,pm=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};pm.prototype={init:function(a){this.value=this.root.get(this.keypath),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;Il(a,this.value)||(this.value=a,this.defer&&this.ready?cl.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}};var qm,rm=pm,sm=mc,tm=nc,um=/\*/,vm=Array.prototype.slice;qm=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},qm.prototype={init:function(a){var b,c;if(b=tm(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(c);else this.values=b},update:function(a){var b,c=this;if(um.test(a)){b=tm(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(a)}else if(!this.root.viewmodel.implicitChanges[a])return this.defer&&this.ready?void cl.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d;return b=this.root.viewmodel.get(a),this.updating?void(this.values[a]=b):(this.updating=!0,Il(b,this.values[a])&&this.ready||(c=vm.call(this.regex.exec(a),1),d=[b,this.values[a],a].concat(c),this.values[a]=b,this.callback.apply(this.context,d)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a]||(this.proxies[a]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a]}};var wm,xm,ym,zm,Am,Bm,Cm=qm,Dm=/\*/,Em={},Fm=oc,Gm=pc,Hm=qc,Im=function(a){return a.trim()},Jm=function(a){return""!==a},Km=rc,Lm=sc,Mm=tc,Nm=uc,Om=Array.prototype.slice,Pm=Array.prototype,Qm=function(a){return function(b){var c,d,e,f,g=Om.call(arguments,1),h=[];if(c=this.get(b),d=c.length,!Ch(c))throw new Error("Called ractive."+a+"('"+b+"'), but '"+b+"' does not refer to an array");return h=Nm(c,a,g),f=Pm[a].apply(c,g),e=cl.start(this,!0).then(function(){return f}),h?this.viewmodel.smartUpdate(b,c,h):this.viewmodel.mark(b),cl.end(),e}},Rm=Qm("pop"),Sm=Qm("push"),Tm="/* Ractive.js component styles */\n",Um={},Vm=[];Wh?(ym=document.createElement("style"),ym.type="text/css",zm=document.getElementsByTagName("head")[0],Bm=!1,Am=ym.styleSheet,xm=function(){var a;Vm.length?(a=Tm+Vm.join(" "),Am?Am.cssText=a:ym.innerHTML=a,Bm||(zm.appendChild(ym),Bm=!0)):Bm&&(zm.removeChild(ym),Bm=!1)},wm={add:function(a){a.css&&(Um[a._guid]||(Um[a._guid]=0,Vm.push(a.css),xm()),Um[a._guid]+=1)},remove:function(a){a.css&&(Um[a._guid]-=1,Um[a._guid]||(Mk(Vm,a.css),cl.scheduleTask(xm)))}}):wm=null;var Wm=wm,Xm=new Lk("render"),Ym=new Lk("complete"),Zm=wc,$m=yc,_m=zc,an=Ac,bn=Bc,cn=Cc,dn=Dc,en=Ec,fn=Fc,gn=Gc,hn={},jn=Hc,kn=/</g,ln=/>/g,mn=/&/g,nn=Jc,on=Kc,pn=function(){return on(this.node)},qn=function(a){this.type=Xh.TEXT,this.text=a.template};qn.prototype={detach:pn,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?nn(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var rn=qn,sn=Lc,tn=Mc,un=Nc,vn=Oc,wn=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=Vk(a.root,b,a.parentFragment),void 0!==d?this.resolve(d):cl.addUnresolved(this)};wn.prototype={resolve:function(a){this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(this.ref)},rebind:function(a,b){var c;void 0!==this.keypath&&(c=vn(this.keypath,a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||cl.removeUnresolved(this)}};var xn=wn,yn=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},zn={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};yn.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=zn[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback("@"+d.prefix+Pc(this.cached,d));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===Xh.SECTION_EACH&&void 0!==(a=Pc(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback("@"+d.prefix+a);c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=Pc(c,d)))return this.callback("@"+d.prefix+a);c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var An=yn,Bn=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};Bn.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback("@"+a)},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Cn=Bn,Dn=Qc;Qc.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var En,Fn=Rc,Gn=Sc,Hn={},In=Tc,Jn=Function.prototype.bind;En=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return Fn(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},En.prototype={bubble:function(){this.ready&&(this.uniqueString=Vc(this.str,this.keypaths),this.keypath=Wc(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e=this;a=this.root.viewmodel.computations[this.keypath],a?this.root.viewmodel.mark(this.keypath):(d=In(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){return void 0}:"@"===a[0]?(b=Gn(a),function(){return b}):function(){var b=e.root.viewmodel.get(a,{noUnwrap:!0});return"function"==typeof b&&(b=Yc(b,e.root)),b}}),c={deps:this.keypaths.filter(Xc),get:function(){var a=b.map(Uc);return d.apply(null,a)}},a=this.root.viewmodel.compute(this.keypath,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var Kn=En,Ln=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===Xh.REFERENCE?this.refResolver=Fn(this,a.n,function(a){d.resolve(a)}):new Kn(b,c,a,function(a){d.resolve(a)})};Ln.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Mn=Ln,Nn=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=Vk(d,e,g))?this.base=f:this.baseResolver=new xn(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new Mn(a,h,g)}),this.ready=!0,this.bubble()};Nn.prototype={getKeypath:function(){var a=this.members.map(Zc);return!a.every($c)||this.baseResolver?null:this.base+"."+a.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(_c)},rebind:function(a,b){var c;this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(function(a){return a.forceResolution()}),this.bubble()}};var On=Nn,Pn=ad,Qn=bd,Rn=cd,Sn={getValue:tn,init:Pn,resolve:Qn,rebind:Rn},Tn=function(a){this.type=Xh.INTERPOLATOR,Sn.init(this,a)};Tn.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:Sn.resolve,rebind:Sn.rebind,detach:pn,unbind:sn,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(a){a&&on(this.node)},getValue:Sn.getValue,setValue:function(a){var b;(b=this.root.viewmodel.wrapped[this.keypath])&&(a=b.get()),Il(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&cl.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=void 0!=this.value?""+this.value:"";return a?nn(b):b}};var Un=Tn,Vn=dd,Wn=ed,Xn=fd,Yn=gd,Zn=hd,$n=id,_n=jd,ao=kd,bo=ld,co=function(a,b){Sn.rebind.call(this,a,b)},eo=nd,fo=/^\[object (?:Array|FileList)\]$/,go=Object.prototype.toString,ho=od,io=pd,jo=Cd,ko=Dd,lo=Fd,mo=Id,no=function(a){this.type=Xh.SECTION,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===Xh.SECTION_UNLESS,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}})),this.renderedFragments=[],this.length=0,Sn.init(this,a)};no.prototype={bubble:Vn,detach:Wn,find:Xn,findAll:Yn,findAllComponents:Zn,findComponent:$n,findNextNode:_n,firstNode:ao,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:Sn.getValue,shuffle:bo,rebind:co,render:eo,resolve:Sn.resolve,setValue:io,toString:jo,unbind:ko,unrender:lo,update:mo};var oo,po,qo=no,ro=Jd,so=Kd,to=Ld,uo=Md,vo={};try{kl("table").innerHTML="foo"}catch(Yh){oo=!0,po={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var wo=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(oo&&(e=po[b.tagName])?(d=Nd("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===il.svg?(d=Nd("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=Nd(b.tagName),d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},xo=Od,yo=Pd,zo=Rd,Ao=Sd,Bo=Td,Co=Ud,Do=Vd,Eo=function(a){this.type=Xh.TRIPLE,Sn.init(this,a)};Eo.prototype={detach:ro,find:so,findAll:to,firstNode:uo,getValue:Sn.getValue,rebind:Sn.rebind,render:zo,resolve:Sn.resolve,setValue:Ao,toString:Bo,unbind:sn,unrender:Co,update:Do};var Fo,Go,Ho,Io,Jo=Eo,Ko=function(){this.parentFragment.bubble()},Lo=Wd,Mo=function(a){return this.node?Rl(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},No=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},Oo=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},Po=function(a){return this.fragment?this.fragment.findComponent(a):void 0},Qo=Xd,Ro=Yd,So=Zd;Fo="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Go="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Ho=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},Io=Ho(Fo.concat(Go));var To=function(a){var b=a.toLowerCase();return Io[b]||b},Uo=/^true|on|yes|1$/i,Vo=/^[0-9]+$/,Wo=function(a,b){var c;c=b.twoway,void 0!==c&&(a.twoway=0===c||Uo.test(c),delete b.twoway),c=b.lazy,void 0!==c&&(a.lazy=0!==c&&Vo.test(c)?parseInt(c):0===c||Uo.test(c),delete b.lazy)},Xo=$d,Yo=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,Zo=Yo,$o=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==il.html?To(b):b;else if(b=b.substring(c+1),a.name=To(b),a.namespace=il[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},_o=_d,ap={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},bp=function(a,b){var c;!a.pNode||a.namespace||b.pNode.namespaceURI&&b.pNode.namespaceURI!==il.html||(c=ap[a.name]||a.name,void 0!==b.pNode[c]&&(a.propertyName=c),(Zo.test(c)||"value"===c)&&(a.useProperty=!0))},cp=ae,dp=be,ep={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},fp=ce,gp=de,hp=fe,ip=ge,jp=he,kp=ie,lp=je,mp=ke,np=le,op=me,pp=ne,qp=oe,rp=pe,sp=qe,tp=re,up=se,vp=te,wp=function(a){this.init(a)
};wp.prototype={bubble:Xo,init:cp,rebind:dp,render:fp,toString:gp,unbind:hp,update:vp};var xp,yp=wp,zp=function(a,b){var c,d,e=[];for(c in b)b.hasOwnProperty(c)&&(d=new yp({element:a,name:c,value:b[c],root:a.root}),e.push(e[c]=d));return e};"undefined"!=typeof document&&(xp=kl("div"));var Ap=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new St({root:a.root,owner:this,template:[b]})};Ap.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===il.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=ue(a,this.isSvg),this.attributes.filter(function(a){return ve(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var Bp=Ap,Cp=function(a,b){return b?b.map(function(b){return new Bp(a,b)}):[]},Dp=Array.prototype.slice,Ep=function(a){for(var b,c,d=Dp.call(arguments,1);c=d.shift();)for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a},Fp=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c[c.length-1])return Ik.error({debug:this.root.debug,message:"noTwowayExpressions",args:{expression:c.slice(2,-1).replace("-","."),element:a.tagName}}),!1}else b.resolver.forceResolution(),c=b.keypath;this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=we(a))&&(this.resetValue=d,e.formBindings.push(this))};Fp.prototype={handleChange:function(){var a=this;cl.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),cl.scheduleTask(function(){return a.attribute.locked=!1}),cl.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(Mk(this.root._twowayBindings[b],this),this.keypath=c,a=this.root._twowayBindings[c]||(this.root._twowayBindings[c]=[]),a.push(this))},unbind:function(){}},Fp.extend=function(a){var b,c=this;return b=function(a){Fp.call(this,a),this.init&&this.init()},b.prototype=ai(c.prototype),Ep(b.prototype,a),b.extend=Fp.extend,b};var Gp,Hp=Fp,Ip=xe,Jp=Hp.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var a=this.element.node;a.addEventListener("change",Ip,!1),this.root.lazy||(a.addEventListener("input",Ip,!1),a.attachEvent&&a.addEventListener("keyup",Ip,!1))},unrender:function(){var a=this.element.node;a.removeEventListener("change",Ip,!1),a.removeEventListener("input",Ip,!1),a.removeEventListener("keyup",Ip,!1)},getValue:function(){return this.element.node.innerHTML}}),Kp=Jp,Lp={},Mp=ye,Np=Hp.extend({name:"checked",init:function(){this.siblings=Mp(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",Ip,!1),a.attachEvent&&a.addEventListener("click",Ip,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Ip,!1),a.removeEventListener("click",Ip,!1)},handleChange:function(){cl.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),cl.end()},getValue:function(){return this.element.node.checked},unbind:function(){Mk(this.siblings,this)}}),Op=Np,Pp=Hp.extend({name:"name",init:function(){this.siblings=Mp(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",Ip,!1),a.attachEvent&&a.addEventListener("click",Ip,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Ip,!1),a.removeEventListener("click",Ip,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&Hp.prototype.handleChange.call(this)},rebound:function(a,b){var c;Hp.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath+"}}")},unbind:function(){Mk(this.siblings,this)}}),Qp=Pp,Rp=Hp.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.attribute.twoway=!0,this.siblings=Mp(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){Mk(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),this.isChecked=Ch(a)?jp(a,b):a==b,c.name="{{"+this.keypath+"}}",c.checked=this.isChecked,c.addEventListener("change",Ip,!1),c.attachEvent&&c.addEventListener("click",Ip,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Ip,!1),a.removeEventListener("click",Ip,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,Hp.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ze).map(Ae)}}),Sp=Rp,Tp=Hp.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",Ip,!1),a.attachEvent&&a.addEventListener("click",Ip,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Ip,!1),a.removeEventListener("click",Ip,!1)},getValue:function(){return this.element.node.checked}}),Up=Tp,Vp=Hp.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",Ip,!1)},unrender:function(){this.element.node.removeEventListener("change",Ip,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,cl.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),Wp=Vp,Xp=function(a,b){var c;if(!Ch(a)||!Ch(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0},Yp=Wp.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",Ip,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Ip,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&Xp(c,b)||Wp.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,cl.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Zp=Yp,$p=Hp.extend({render:function(){this.element.node.addEventListener("change",Ip,!1)},unrender:function(){this.element.node.removeEventListener("change",Ip,!1)},getValue:function(){return this.element.node.files}}),_p=$p,aq=Object.prototype.toString,bq=function(a){return"number"==typeof a||"object"==typeof a&&"[object Number]"===aq.call(a)};Gp=Hp.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:bq(this.element.lazy)&&(a=!1,c=this.element.lazy),b.addEventListener("change",Ip,!1),a||(b.addEventListener("input",c?Ce:Ip,!1),b.attachEvent&&b.addEventListener("keyup",c?Ce:Ip,!1)),b.addEventListener("blur",Be,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",Ip,!1),a.removeEventListener("input",Ip,!1),a.removeEventListener("keyup",Ip,!1),a.removeEventListener("blur",Be,!1)}});var cq=Gp,dq=cq.extend({getInitialValue:function(){return void 0},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),eq=De,fq=Fe,gq=Ge,hq=He,iq={args:!0},jq=/^event(?:\.(.+))?/,kq=Ie,lq=Me,mq={},nq={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},oq=Ne,pq=Pe,qq=Qe,rq=Re,sq=Se,tq=Ue,uq=function(a,b,c){this.init(a,b,c)};uq.prototype={bubble:fq,fire:gq,getAction:hq,init:kq,listen:oq,rebind:pq,render:qq,resolve:rq,unbind:sq,unrender:tq};var vq,wq,xq=uq,yq=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new xq(a,e[c],b[d]),g.push(f);return g};vq={args:!0},wq=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new St({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new St({template:b.d,root:c,owner:a}),this.params=this.fragment.getValue(vq),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getValue(vq),f.ready&&f.update()}),this.fn=Ak.registries.decorators.find(c,d),this.fn||Ik.error({debug:c.debug,message:"missingPlugin",args:{plugin:"decorator",name:d}}))},wq.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var zq,Aq,Bq,Cq=wq,Dq=Ve,Eq=Xe,Fq=Ye,Gq=Ze,Hq=$e,Iq=_e,Jq=af,Kq=bf,Lq=cf,Mq=df,Nq=ff,Oq={},Pq=gf,Qq=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};Wh?(Aq={},Bq=kl("div").style,zq=function(a){var b,c,d;if(a=Qq(a),!Aq[a])if(void 0!==Bq[a])Aq[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=rl.length;b--;)if(c=rl[b],void 0!==Bq[c+d]){Aq[a]=c+d;break}return Aq[a]}):zq=null;var Rq,Sq,Tq=zq;Wh?(Sq=window.getComputedStyle||legacy__default.getComputedStyle,Rq=function(a){var b,c,d,e,f;if(b=Sq(this.node),"string"==typeof a)return f=b[Tq(a)],"0px"===f&&(f=0),f;if(!Ch(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)e=a[d],f=b[Tq(e)],"0px"===f&&(f=0),c[e]=f;return c}):Rq=null;var Uq=Rq,Vq=function(a,b){var c;if("string"==typeof a)this.node.style[Tq(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[Tq(c)]=a[c]);return this},Wq=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(Ih('Missing easing function ("'+a.easing+'"). You may need to download a plugin from [TODO]'),b=hf)):b="function"==typeof a.easing?a.easing:hf,this.easing=b,this.start=ul(),this.end=this.start+this.duration,this.running=!0,xl.add(this)};Wq.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Xq,Yq,Zq,$q,_q,ar,br,cr,dr=Wq,er=new RegExp("^-(?:"+rl.join("|")+")-"),fr=function(a){return a.replace(er,"")},gr=new RegExp("^(?:"+rl.join("|")+")([A-Z])"),hr=function(a){var b;return a?(gr.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},ir={},jr={};Wh?(Yq=kl("div").style,function(){void 0!==Yq.transition?(Zq="transition",$q="transitionend",_q=!0):void 0!==Yq.webkitTransition?(Zq="webkitTransition",$q="webkitTransitionEnd",_q=!0):_q=!1}(),Zq&&(ar=Zq+"Duration",br=Zq+"Property",cr=Zq+"TimingFunction"),Xq=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[br]=d.map(Tq).map(hr).join(","),a.node.style[cr]=hr(c.easing||"linear"),a.node.style[ar]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(Qq(fr(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener($q,j,!1),h=!0,i())},a.node.addEventListener($q,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,p=[];o--;)m=d[o],e=f+m,_q&&!jr[e]&&(a.node.style[Tq(m)]=b[m],ir[e]||(k=a.getStyle(m),ir[e]=a.getStyle(m)!=b[m],jr[e]=!ir[e],jr[e]&&(a.node.style[Tq(m)]=k))),(!_q||jr[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?Ih("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],p.push({name:Tq(m),interpolator:Ck(parseFloat(k),parseFloat(b[m])),suffix:n}));p.length?new dr({root:a.root,duration:c.duration,easing:Qq(c.easing||""),step:function(b){var c,d;for(d=p.length;d--;)c=p[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener($q,j,!1),h=!0,i())},0)},c.delay||0)}):Xq=null;var kr,lr,mr,nr,or,pr=Xq;if("undefined"!=typeof document){if(kr="hidden",or={},kr in document)mr="";else for(nr=rl.length;nr--;)lr=rl[nr],kr=lr+"Hidden",kr in document&&(mr=lr);void 0!==mr?(document.addEventListener(mr+"visibilitychange",jf),jf()):("onfocusout"in document?(document.addEventListener("focusout",kf),document.addEventListener("focusin",lf)):(window.addEventListener("pagehide",kf),window.addEventListener("blur",kf),window.addEventListener("pageshow",lf),window.addEventListener("focus",lf)),or.hidden=!1)}var qr,rr,sr,tr=or;Wh?(rr=window.getComputedStyle||legacy__default.getComputedStyle,qr=function(a,b,c,d){var e,f=this;if(tr.hidden)return this.setStyle(a,b),sr||(sr=Qk.resolve());"string"==typeof a?(e={},e[a]=b):(e=a,d=c,c=b),c||(Ih('The "'+this.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),c=this,d=this.complete);var g=new Qk(function(a){var b,d,g,h,i,j,k;if(!c.duration)return f.setStyle(e),void a();for(b=Object.keys(e),d=[],g=rr(f.node),i={},j=b.length;j--;)k=b[j],h=g[Tq(k)],"0px"===h&&(h=0),h!=e[k]&&(d.push(k),f.node.style[Tq(k)]=h);return d.length?void pr(f,e,c,d,a):void a()});return d&&(Ik.warn({debug:!0,message:"usePromise",args:{method:"t.animateStyle"}}),g.then(d).then(null,function(a){Ik.consoleError({debug:!0,err:a})})),g}):qr=null;var ur=qr,vr=Array.prototype.slice,wr=function(a){var b=vr.call(arguments,1);return b.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a},xr=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),wr({},a,b)},yr=mf,zr=function(a,b,c){this.init(a,b,c)};zr.prototype={init:Pq,start:yr,getStyle:Uq,setStyle:Vq,animateStyle:ur,processParams:xr};var Ar,Br,Cr=zr;Ar=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},Br=function(){this.node.type&&"text/javascript"!==this.node.type||Ih("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var Dr=of,Er=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(uf).join("")+this.conditionalAttributes.map(uf).join(""),"option"===this.name&&sf(this)&&(a+=" selected"),"input"===this.name&&tf(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=nn(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),ij.test(this.template.e)||(a+="</"+this.template.e+">"),a)},Fr=vf,Gr=wf,Hr=yf,Ir=zf,Jr=function(a){this.init(a)};Jr.prototype={bubble:Ko,detach:Lo,find:Mo,findAll:No,findAllComponents:Oo,findComponent:Po,findNextNode:Qo,firstNode:Ro,getAttribute:So,init:Hq,rebind:Kq,render:Dr,toString:Er,unbind:Gr,unrender:Ir};var Kr=Jr,Lr=/^\s*$/,Mr=/^\s*/,Nr=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&Lr.test(c)&&b.shift(),d=b[b.length-1],void 0!==d&&Lr.test(d)&&b.pop(),e=b.reduce(Bf,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},Or=Cf,Pr=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},Qr=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=Xh.PARTIAL,this.index=a.index,this.name=a.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Sn.init(this,a),!this.keypath&&(c=Or(this.root,this.name))&&(sn.call(this),this.isNamed=!0,this.setTemplate(c))};Qr.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||Rn.call(this,a,b),this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Sn.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=Or(this.root,""+a)),!b&&this.name&&(b=Or(this.root,this.name))&&(sn.call(this),this.isNamed=!0),b||Ik.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}}),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&cl.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new St({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Xh.TEXT?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?Pr(b,e[0]):b):b},unbind:function(){this.isNamed||sn.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var Rr=Qr,Sr=Ef,Tr=new Lk("detach"),Ur=Ff,Vr=Gf,Wr=Hf,Xr=If,Yr=Jf,Zr=Kf,$r=Lf,_r=0,as=function(){return"r-"+_r++};Mf.prototype={constructor:Mf,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?Nf(this.queue,b).push(a):Of(this,a),delete this.inProcess[a._guid]}};var bs,cs,ds,es=Mf,fs=function(a,b,c,d){var e=a.root,f=a.keypath;return"sort"===c||"reverse"===c?void e.viewmodel.set(f,b):void e.viewmodel.smartUpdate(f,b,d)},gs=Array.prototype.slice,hs=[],is=["pop","push","reverse","shift","sort","splice","unshift"];is.forEach(function(a){var b=function(){var b,c,d,e,f=gs.call(arguments);for(b=Nm(this,a,f),c=Array.prototype[a].apply(this,arguments),cl.start(),this._ractive.setting=!0,e=this._ractive.wrappers.length;e--;)d=this._ractive.wrappers[e],cl.addViewmodel(d.root.viewmodel),fs(d,this,a,b);return cl.end(),this._ractive.setting=!1,c};ml(hs,a,{value:b})}),bs={},bs.__proto__?(cs=function(a){a.__proto__=hs},ds=function(a){a.__proto__=Array.prototype}):(cs=function(a){var b,c;for(b=is.length;b--;)c=is[b],ml(a,c,{value:hs[c],configurable:!0})},ds=function(a){var b;for(b=is.length;b--;)delete a[is[b]]}),cs.unpatch=ds;var js,ks,ls,ms=cs;js={filter:function(a){return Ch(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new ks(a,b,c)}},ks=function(a,b,c){this.root=a,this.value=b,this.keypath=c,b._ractive||(ml(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),ms(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},ks.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(ls);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(ls);d.splice(e,1)}}else delete a._ractive,ms.unpatch(this.value)}},ls="Something went wrong in a rather interesting way";var ns,os,ps=js;gl&&(ns={filter:function(a,b,c){return gl.filter(a,b,c)&&ps.filter(a)},wrap:function(a,b,c){return new os(a,b,c)}},os=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=gl.wrap(a,b,c),this.arrayWrapper=ps.wrap(a,b,c)},os.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var qs=ns,rs={},ss=Pf,ts=Sf,us={},vs=Tf,ws=/[^\.]+$/,xs=Vf,ys=Yf,zs=bg,As=cg,Bs=/\$\{([^\}]+)\}/g,Cs=function(a){return"function"==typeof a?{get:a}:"string"==typeof a?{get:dg(a)}:("object"==typeof a&&"string"==typeof a.get&&(a={get:dg(a.get),set:a.set}),a)},Ds=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};Ds.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a]=null,this.viewmodel.register(a,this.computation,"computed")}};var Es=Ds,Fs=function(a,b,c){var d=this;this.ractive=a,this.viewmodel=a.viewmodel,this.key=b,this.getter=c.get,this.setter=c.set,this.hardDeps=c.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(b){return a.viewmodel.register(b,d,"computed")}),this._dirty=this._firstRun=!0};Fs.prototype={constructor:Fs,init:function(){var a;this.bypass=!0,a=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key),this.bypass=!1,this.setter&&void 0!==a&&this.set(a)},invalidate:function(){this._dirty=!0},get:function(){var a,b,c,d=this,e=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(a=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?e=!0:[this.hardDeps,this.softDeps].forEach(function(b){var c,f,g;if(!e)for(g=b.length;g--;)if(c=b[g],f=a.viewmodel.get(c),!Il(f,d.depValues[c]))return d.depValues[c]=f,void(e=!0)}),e){a.viewmodel.capture();try{this.value=this.getter.call(a)}catch(f){Ik.warn({debug:a.debug,message:"failedComputation",args:{key:this.key,err:f.message||f}}),this.value=void 0}b=a.viewmodel.release(),c=this.updateDependencies(b),c&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){d.depValues[b]=a.viewmodel.get(b)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,eg(this.viewmodel,d)&&!this.unresolvedDeps[d]?(f=new Es(this,d),a.splice(b,1),this.unresolvedDeps[d]=f,cl.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var Gs,Hs=Fs,Is=fg,Js={FAILED_LOOKUP:!0},Ks={},Ls=gg,Ms={};Gs=Gk?function(a,b){if(!b){if(Ms[a])return;Ms[a]=!0}console.warn("%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:function(){};var Ns=Gs,Os={warn:function(a,b){(a.debug||b)&&this.warnAlways(a)},warnAlways:function(a){this.logger(ig(a),a.allowDuplicates)},error:function(a){this.errorOnly(a),a.debug||this.warn(a,!0)},errorOnly:function(a){a.debug&&this.critical(a)},critical:function(a){var b=a.err||new Error(ig(a));this.thrower(b)},logger:Ns,thrower:function(a){throw a}},Ps=Os,Qs=kg,Rs=mg;mg.prototype.setValue=function(a){this.viewmodel.set(this.keypath,a,{noMapping:!0})};var Ss=ng;ng.prototype={get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.deps=[],this.local.mappings[this.localKey]=this,this.setup()},map:function(a){return a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){if(!this.resolved)throw new Error("Something very odd happened. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new Rs(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);a.origin.register(c,b.dep,b.group),b.dep.setValue(a.origin.get(c))}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(a,b,c){for(var d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}};var Ts=og,Us=pg,Vs=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),c[g]=!0,g})},Ws={},Xs=qg,Ys=tg,Zs=vg,$s=wg,_s={implicit:!0},at={noCascade:!0},bt=yg,ct=Ag,dt=Bg,et={lookup:function(a,b){var c,d=a.adapt;if(!d||!d.length)return d;if(b&&Object.keys(b).length&&(c=d.length))for(;c--;){var e=d[c];"string"==typeof e&&(d[c]=b[e]||e)}return d},combine:function(a,b){return a=Dg(a),b=Dg(b),a&&a.length?b&&b.length?(a.forEach(function(a){-1===b.indexOf(a)&&b.push(a)}),b):a.slice():b}},ft=et,gt=function(a,b){var c=this;return void 0===b&&(b=ai(null)),function(){var d,e;c.ractive=a,gt.extend(a.constructor,a),c.mappings=b;for(d in b)b[d].initViewmodel(c);if(a.data&&a.parameters!==!0)for(d in a.data)(e=c.mappings[d])&&void 0===e.getValue()&&e.setValue(a.data[d]);c.cache={},c.cacheMap=ai(null),c.deps={computed:ai(null),"default":ai(null)},c.depsMap={computed:ai(null),"default":ai(null)},c.patternObservers=[],c.specials=ai(null),c.wrapped=ai(null),c.computations=ai(null),c.captureGroups=[],c.unresolvedImplicitDependencies=[],c.changes=[],c.implicitChanges={},c.noCascade={}}()};gt.extend=function(a,b){if(b.magic&&!hl)throw new Error("Getters and setters (magic mode) are not supported in this browser");b.adapt=ft.combine(a.prototype.adapt,b.adapt)||[],b.adapt=ft.lookup(b,b.adaptors)},gt.prototype={adapt:ss,applyChanges:ys,capture:zs,clearCache:As,compute:Is,get:Ls,init:Qs,map:Ts,mark:Us,merge:Xs,register:Ys,release:Zs,set:$s,smartUpdate:bt,teardown:ct,unregister:dt};var ht=gt,it=new Lk("construct"),jt=new Lk("config"),kt=new es("init"),lt=Eg,mt=function(a,b,c,d,e){var f,g,h,i,j,k={};for(g=a.parentFragment,h=a.root,e=e||{},Ep(k,e||{}),e.content=d||[],k[""]=e.content,b.defaults.el&&Ik.warn({debug:h.debug,message:"defaultElSpecified",args:{name:a.name}}),i=g;i;){if(i.owner.type===Xh.YIELDER){j=i.owner.container;break}i=i.parent}return f=ai(b.prototype),lt(f,{el:null,append:!0,data:c.data,partials:e,magic:h.magic||b.defaults.magic,modifyArrays:h.modifyArrays,adapt:h.adapt},{parent:h,component:a,container:j,mappings:c.mappings,inlinePartials:k}),f},nt=Gg;Gg.prototype={bubble:function(){this.dirty||(this.dirty=!0,cl.addView(this))},update:function(){var a=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key,this.fragment.getValue()),a.mark(this.key),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var ot=Hg,pt=Mg;Mg.prototype={resolve:function(a){this.resolved=!0,this.specialRef="@"===a[0],this.ready?this.readyResolve(a):this.notReadyResolve(a)},notReadyResolve:function(a){if(this.specialRef)this.parameters.addData(this.key,Gn(a));else{var b=this.parameters.addMapping(this.key,a);void 0===b.getValue()&&(b.updatable=!0)}},readyResolve:function(a){var b=this.parameters.component.instance.viewmodel;this.specialRef?(this.parameters.addData(this.key,Gn(a)),b.mark(this.key)):b.reversedMappings&&b.reversedMappings[this.key]?b.reversedMappings[this.key].rebind(a):b.mappings[this.key].resolve(a)}};var qt=Ng;Pg.prototype={add:function(a,b){if("string"==typeof b){var c=Fj(b);this.addData(a,c?c.value:b)}else if(0===b)this.addData(a);else{var d;d=Qg(b)?new pt(this,a,b[0]).resolver:new nt(this,a,b),this.component.resolvers.push(d)}},addData:function(a,b){this.data[a]=b},addMapping:function(a,b){var c=this.parentViewmodel.mappings[b];return this.mappings[a]=new Ss(a,{origin:c?c.origin:this.parentViewmodel,keypath:c?c.keypath:b})}};var rt=Rg,st=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},tt=Tg,ut=Ug,vt=Vg,wt=Wg,xt=new Lk("teardown"),yt=Xg,zt=$g,At=function(a,b){this.init(a,b)};At.prototype={detach:Ur,find:Vr,findAll:Wr,findAllComponents:Xr,findComponent:Yr,findNextNode:Zr,firstNode:$r,init:tt,rebind:ut,render:vt,toString:wt,unbind:yt,unrender:zt};
var Bt=At,Ct=function(a){this.type=Xh.COMMENT,this.value=a.template.c};Ct.prototype={detach:pn,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var Dt=Ct,Et=function(a){var b,c;this.type=Xh.YIELDER,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.yn||"";this.fragment=new St({owner:this,root:b.parent,template:b._inlinePartials[d]||[],pElement:this.containerFragment.pElement}),Ch(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],cl.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};Et.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),Mk(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var Ft=Et,Gt=function(a){this.declaration=a.template.a};Gt.prototype={init:vk,render:vk,unrender:vk,teardown:vk,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var Ht=Gt,It=_g,Jt=ah,Kt=bh,Lt=ch,Mt=dh,Nt=eh,Ot=gh,Pt=function(a){this.init(a)};Pt.prototype={bubble:$m,detach:_m,find:an,findAll:bn,findAllComponents:cn,findComponent:dn,findNextNode:en,firstNode:fn,getNode:gn,getValue:jn,init:Jt,rebind:Kt,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:Lt,toString:Mt,unbind:Nt,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:Ot};var Qt,Rt,St=Pt,Tt=["template","partials","components","decorators","events"],Ut=new Lk("reset"),Vt=hh,Wt=function(a,b,c){function d(b,c,e){e&&e.partials[a]||b.forEach(function(b){b.type===Xh.PARTIAL&&b.getPartialName()===a&&c.push(b),b.fragment&&d(b.fragment.items,c,e),Ch(b.fragments)?d(b.fragments,c,e):Ch(b.items)?d(b.items,c,e):b.type===Xh.COMPONENT&&b.instance&&d(b.instance.fragment.items,c,b.instance),b.type===Xh.ELEMENT&&(Ch(b.attributes)&&d(b.attributes,c,e),Ch(b.conditionalAttributes)&&d(b.conditionalAttributes,c,e))})}var e,f=this,g=[];return d(this.fragment.items,g),this.partials[a]=b,e=cl.start(this,!0),g.forEach(function(b){b.value=void 0,b.setValue(a)}),cl.end(),c&&(Ik.warn({debug:this.debug,message:"usePromise",args:{method:"ractive.resetPartial"}}),e.then(c.bind(this)).then(null,function(a){Ik.consoleError({debug:f.debug,err:a})})),e},Xt=ih,Yt=Qm("reverse"),Zt=/\*/,$t=jh,_t=Qm("shift"),au=Qm("sort"),bu=Qm("splice"),cu=kh,du=new Lk("teardown"),eu=lh,fu=nh,gu=oh,hu=new Lk("unrender"),iu=ph,ju=Qm("unshift"),ku=new Lk("update"),lu=qh,mu=rh,nu={add:ql,animate:Nl,detach:Pl,find:Ql,findAll:$l,findAllComponents:_l,findComponent:am,findContainer:bm,findParent:cm,fire:im,get:km,insert:nm,merge:om,observe:Gm,observeOnce:Hm,off:Km,on:Lm,once:Mm,pop:Rm,push:Sm,render:Zm,reset:Vt,resetPartial:Wt,resetTemplate:Xt,reverse:Yt,set:$t,shift:_t,sort:au,splice:bu,subtract:cu,teardown:eu,toggle:fu,toHTML:gu,toHtml:gu,unrender:iu,unshift:ju,update:lu,updateModel:mu},ou=th,pu=1,qu=vh,ru=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath,d.index={},(c=Dn(b.proxy.parentFragment))&&(d.index=Dn.resolve(c)),d):d};Qt=function(a){lt(this,a)},Rt={extend:{value:qu},getNodeInfo:{value:ru},parse:{value:gk},Promise:{value:Qk},svg:{value:Fk},magic:{value:hl},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:zh},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Ek},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},ol(Qt,Rt),Qt.prototype=Ep(nu,yh),Qt.prototype.constructor=Qt,Qt.defaults=Qt.prototype;var su="function";if(typeof Date.now!==su||typeof String.prototype.trim!==su||typeof Object.keys!==su||typeof Array.prototype.indexOf!==su||typeof Array.prototype.forEach!==su||typeof Array.prototype.map!==su||typeof Array.prototype.filter!==su||"undefined"!=typeof window&&typeof window.addEventListener!==su)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var tu=Qt;return tu});